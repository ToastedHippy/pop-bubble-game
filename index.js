!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=12)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){n(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,r){var i,n,o;!function(r){var s=/iPhone/i,a=/iPod/i,u=/iPad/i,h=/\bAndroid(?:.+)Mobile\b/i,c=/Android/i,l=/\bAndroid(?:.+)SD4930UR\b/i,d=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,p=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,v=/BlackBerry/i,_=/BB10/i,m=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i;function b(t,e){return t.test(e)}function x(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),r=e.split("[FBAN");void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]);var i={apple:{phone:b(s,e)&&!b(p,e),ipod:b(a,e),tablet:!b(s,e)&&b(u,e)&&!b(p,e),device:(b(s,e)||b(a,e)||b(u,e))&&!b(p,e)},amazon:{phone:b(l,e),tablet:!b(l,e)&&b(d,e),device:b(l,e)||b(d,e)},android:{phone:!b(p,e)&&b(l,e)||!b(p,e)&&b(h,e),tablet:!b(p,e)&&!b(l,e)&&!b(h,e)&&(b(d,e)||b(c,e)),device:!b(p,e)&&(b(l,e)||b(d,e)||b(h,e)||b(c,e))||b(/\bokhttp\b/i,e)},windows:{phone:b(p,e),tablet:b(f,e),device:b(p,e)||b(f,e)},other:{blackberry:b(v,e),blackberry10:b(_,e),opera:b(m,e),firefox:b(g,e),chrome:b(y,e),device:b(v,e)||b(_,e)||b(m,e)||b(g,e)||b(y,e)}};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}t.exports&&"undefined"==typeof window?t.exports=x:t.exports&&"undefined"!=typeof window?(t.exports=x(),t.exports.isMobile=x):(n=[],i=r.isMobile=x(),void 0===(o="function"==typeof i?i.apply(e,n):i)||(t.exports=o))}(this)},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";r.r(e);var i={};r.r(i),r.d(i,"isMobile",(function(){return h.a})),r.d(i,"EventEmitter",(function(){return A.a})),r.d(i,"earcut",(function(){return P.a})),r.d(i,"url",(function(){return C.a})),r.d(i,"BaseTextureCache",(function(){return et})),r.d(i,"CanvasRenderTarget",(function(){return ot})),r.d(i,"DATA_URI",(function(){return ut})),r.d(i,"ProgramCache",(function(){return J})),r.d(i,"TextureCache",(function(){return tt})),r.d(i,"clearTextureCache",(function(){return it})),r.d(i,"correctBlendMode",(function(){return X})),r.d(i,"createIndicesForQuads",(function(){return Y})),r.d(i,"decomposeDataUri",(function(){return ht})),r.d(i,"deprecation",(function(){return pt})),r.d(i,"destroyTextureCache",(function(){return rt})),r.d(i,"determineCrossOrigin",(function(){return ct})),r.d(i,"getResolutionOfUrl",(function(){return lt})),r.d(i,"hex2rgb",(function(){return N})),r.d(i,"hex2string",(function(){return B})),r.d(i,"isPow2",(function(){return $})),r.d(i,"isWebGLSupported",(function(){return L})),r.d(i,"log2",(function(){return Q})),r.d(i,"nextPow2",(function(){return K})),r.d(i,"premultiplyBlendMode",(function(){return j})),r.d(i,"premultiplyRgba",(function(){return H})),r.d(i,"premultiplyTint",(function(){return G})),r.d(i,"premultiplyTintToRgba",(function(){return V})),r.d(i,"removeItems",(function(){return z})),r.d(i,"rgb2hex",(function(){return U})),r.d(i,"sayHello",(function(){return F})),r.d(i,"sign",(function(){return Z})),r.d(i,"skipHello",(function(){return R})),r.d(i,"string2hex",(function(){return k})),r.d(i,"trimCanvas",(function(){return nt})),r.d(i,"uid",(function(){return q}));var n={};r.r(n),r.d(n,"AccessibilityManager",(function(){return jt})),r.d(n,"accessibleTarget",(function(){return Ut}));var o={};r.r(o),r.d(o,"Extract",(function(){return ii}));var s={};r.r(s),r.d(s,"InteractionData",(function(){return ni})),r.d(s,"InteractionEvent",(function(){return si})),r.d(s,"InteractionManager",(function(){return di})),r.d(s,"InteractionTrackingData",(function(){return ai})),r.d(s,"interactiveTarget",(function(){return ci}));var a={};r.r(a),r.d(a,"BasePrepare",(function(){return en})),r.d(a,"CountLimiter",(function(){return tn})),r.d(a,"Prepare",(function(){return cn})),r.d(a,"TimeLimiter",(function(){return fn}));r(14);var u=r(1),h=r.n(u);var c,l,d,p,f,v,_,m,y,g,b,x,w,T,E={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:
/*!
 * @pixi/settings - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function(t){var e=!0;if(h.a.tablet||h.a.phone){if(e=!1,h.a.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r)parseInt(r[1],10)>=11&&(e=!0)}if(h.a.android.device){var i=navigator.userAgent.match(/Android\s([0-9.]*)/);if(i)parseInt(i[1],10)>=7&&(e=!0)}}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:h.a.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!h.a.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},S=r(6),A=r.n(S),I=r(7),P=r.n(I),O=r(4),C=r.n(O);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(c||(c={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(l||(l={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(d||(d={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(p||(p={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(f||(f={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(v||(v={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(_||(_={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(m||(m={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(y||(y={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(g||(g={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(b||(b={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(x||(x={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(w||(w={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(T||(T={})),
/*!
 * @pixi/utils - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
E.RETINA_PREFIX=/@([0-9\.]+)x/,E.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var M,D=!1;function R(){D=!0}function F(t){if(!D){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS 5.2.0 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS 5.2.0 - "+t+" - http://www.pixijs.com/");D=!0}}function L(){return void 0===M&&(M=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:E.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}}()),M}function N(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function B(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function k(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function U(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var j=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[d.NORMAL_NPM]=d.NORMAL,t[d.ADD_NPM]=d.ADD,t[d.SCREEN_NPM]=d.SCREEN,e[d.NORMAL]=d.NORMAL_NPM,e[d.ADD]=d.ADD_NPM,e[d.SCREEN]=d.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function X(t,e){return j[e?1:0][t]}function H(t,e,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function G(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n=n*e+.5|0)}function V(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Y(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function z(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}var W=0;function q(){return++W}function Z(t){return 0===t?0:t<0?-1:1}function K(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function $(t){return!(t&t-1||!t)}function Q(t){var e=(t>65535)<<4,r=((t>>>=e)>255)<<3;return e|=r,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1}var J={},tt=Object.create(null),et=Object.create(null);function rt(){var t;for(t in tt)tt[t].destroy();for(t in et)et[t].destroy()}function it(){var t;for(t in tt)delete tt[t];for(t in et)delete et[t]}function nt(t){var e,r,i,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,u=a.length,h={top:null,left:null,right:null,bottom:null},c=null;for(e=0;e<u;e+=4)0!==a[e+3]&&(r=e/4%n,i=~~(e/4/n),null===h.top&&(h.top=i),null===h.left?h.left=r:r<h.left&&(h.left=r),null===h.right?h.right=r+1:h.right<r&&(h.right=r+1),null===h.bottom?h.bottom=i:h.bottom<i&&(h.bottom=i));return null!==h.top&&(n=h.right-h.left,o=h.bottom-h.top+1,c=s.getImageData(h.left,h.top,n,o)),{height:o,width:n,data:c}}var ot=function(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||E.RESOLUTION,this.resize(t,e)},st={width:{configurable:!0},height:{configurable:!0}};ot.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},ot.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},ot.prototype.destroy=function(){this.context=null,this.canvas=null},st.width.get=function(){return this.canvas.width},st.width.set=function(t){this.canvas.width=t},st.height.get=function(){return this.canvas.height},st.height.set=function(t){this.canvas.height=t},Object.defineProperties(ot.prototype,st);var at,ut=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ht(t){var e=ut.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function ct(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,at||(at=document.createElement("a")),at.href=t;var r=!(t=C.a.parse(at.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"}function lt(t,e){var r=E.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var dt={};function pt(t,e,r){if(void 0===r&&(r=3),!dt[e]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),dt[e]=!0}}
/*!
 * @pixi/math - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ft,vt=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e},t}(),_t=function(){function t(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope))},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),t}(),mt=2*Math.PI,yt=180/Math.PI,gt=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(ft||(ft={}));var bt=function(){function t(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new vt;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new vt;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},t.prototype.setTransform=function(t,e,r,i,n,o,s,a,u){return this.a=Math.cos(s+u)*n,this.b=Math.sin(s+u)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5||Math.abs(mt-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!0,configurable:!0}),t}(),xt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],wt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Tt=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Et=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],St=[],At=[],It=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];St.push(e);for(var r=0;r<16;r++)for(var i=It(xt[t]*xt[r]+Tt[t]*wt[r]),n=It(wt[t]*xt[r]+Et[t]*wt[r]),o=It(xt[t]*Tt[r]+Tt[t]*Et[r]),s=It(wt[t]*Tt[r]+Et[t]*Et[r]),a=0;a<16;a++)if(xt[a]===i&&wt[a]===n&&Tt[a]===o&&Et[a]===s){e.push(a);break}}for(t=0;t<16;t++){var u=new bt;u.set(xt[t],wt[t],Tt[t],Et[t],0,0),At.push(u)}}();var Pt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return xt[t]},uY:function(t){return wt[t]},vX:function(t){return Tt[t]},vY:function(t){return Et[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return St[t][e]},sub:function(t,e){return St[t][Pt.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Pt.S:Pt.N:2*Math.abs(e)<=Math.abs(t)?t>0?Pt.E:Pt.W:e>0?t>0?Pt.SE:Pt.SW:t>0?Pt.NE:Pt.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=At[Pt.inv(e)];n.tx=r,n.ty=i,t.append(n)}},Ot=function(){function t(){this.worldTransform=new bt,this.localTransform=new bt,this.position=new _t(this.onChange,this,0,0),this.scale=new _t(this.onChange,this,1,1),this.pivot=new _t(this.onChange,this,0,0),this.skew=new _t(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!0,configurable:!0}),t.IDENTITY=new t,t}(),Ct=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=ft.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=n-i,this},t}(),Mt=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=ft.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},t.prototype.getBounds=function(){return new Ct(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),Dt=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=ft.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},t.prototype.getBounds=function(){return new Ct(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),Rt=function(){function t(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(Array.isArray(e[0])&&(e=e[0]),e[0]instanceof vt){for(var i=[],n=0,o=(e=e).length;n<o;n++)i.push(e[n].x,e[n].y);e=i}this.points=e,this.type=ft.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],u=this.points[2*o],h=this.points[2*o+1];a>e!=h>e&&t<(e-a)/(h-a)*(u-s)+s&&(r=!r)}return r},t}(),Ft=function(){function t(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=ft.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},t}();
/*!
 * @pixi/display - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
E.SORTABLE_CHILDREN=!1;var Lt=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Lt.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Lt.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Lt.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Ct.EMPTY:((t=t||new Ct(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Lt.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Lt.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},Lt.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)},Lt.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a,s=t.b,a=t.c,u=t.d,h=t.tx,c=t.ty,l=this.minX,d=this.minY,p=this.maxX,f=this.maxY,v=o*e+a*r+h,_=s*e+u*r+c;l=v<l?v:l,d=_<d?_:d,p=v>p?v:p,f=_>f?_:f,l=(v=o*i+a*r+h)<l?v:l,d=(_=s*i+u*r+c)<d?_:d,p=v>p?v:p,f=_>f?_:f,l=(v=o*e+a*n+h)<l?v:l,d=(_=s*e+u*n+c)<d?_:d,p=v>p?v:p,f=_>f?_:f,l=(v=o*i+a*n+h)<l?v:l,d=(_=s*i+u*n+c)<d?_:d,p=v>p?v:p,f=_>f?_:f,this.minX=l,this.minY=d,this.maxX=p,this.maxY=f},Lt.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var u=t[a],h=t[a+1];i=u<i?u:i,n=h<n?h:n,o=u>o?u:o,s=h>s?h:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},Lt.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},Lt.prototype.addVerticesMatrix=function(t,e,r,i,n,o){var s=t.a,a=t.b,u=t.c,h=t.d,c=t.tx,l=t.ty;n=n||0,o=o||0;for(var d=this.minX,p=this.minY,f=this.maxX,v=this.maxY,_=r;_<i;_+=2){var m=e[_],y=e[_+1],g=s*m+u*y+c,b=h*y+a*m+l;d=Math.min(d,g-n),f=Math.max(f,g+n),p=Math.min(p,b-o),v=Math.max(v,b+o)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=v},Lt.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},Lt.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>u?n:u,this.maxY=o>h?o:h}},Lt.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},Lt.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>u?n:u,this.maxY=o>h?o:h}},Lt.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},Lt.prototype.addFramePad=function(t,e,r,i,n,o){t-=n,e-=o,r+=n,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i};var Nt=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new Ot,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Lt,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return e.mixin=function(t){for(var r=Object.keys(t),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},r._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Ct),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new Ct),t=this._localBoundsRect);var i=this.getBounds(!1,t);return this.parent=r,this.transform=e,i},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,o,s,a,u){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===u&&(u=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},r.x.get=function(){return this.position.x},r.x.set=function(t){this.transform.position.x=t},r.y.get=function(){return this.position.y},r.y.set=function(t){this.transform.position.y=t},r.worldTransform.get=function(){return this.transform.worldTransform},r.localTransform.get=function(){return this.transform.localTransform},r.position.get=function(){return this.transform.position},r.position.set=function(t){this.transform.position.copyFrom(t)},r.scale.get=function(){return this.transform.scale},r.scale.set=function(t){this.transform.scale.copyFrom(t)},r.pivot.get=function(){return this.transform.pivot},r.pivot.set=function(t){this.transform.pivot.copyFrom(t)},r.skew.get=function(){return this.transform.skew},r.skew.set=function(t){this.transform.skew.copyFrom(t)},r.rotation.get=function(){return this.transform.rotation},r.rotation.set=function(t){this.transform.rotation=t},r.angle.get=function(){return this.transform.rotation*yt},r.angle.set=function(t){this.transform.rotation=t*gt},r.zIndex.get=function(){return this._zIndex},r.zIndex.set=function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},r.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},r.mask.get=function(){return this._mask},r.mask.set=function(t){if(this._mask){var e=this._mask.maskObject||this._mask;e.renderable=!0,e.isMask=!1}if(this._mask=t,this._mask){var r=this._mask.maskObject||this._mask;r.renderable=!1,r.isMask=!0}},Object.defineProperties(e.prototype,r),e}(A.a);function Bt(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Nt.prototype.displayObjectUpdateTransform=Nt.prototype.updateTransform;var kt=function(t){function e(){t.call(this),this.children=[],this.sortableChildren=E.SORTABLE_CHILDREN,this.sortDirty=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0}};return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments,r=arguments.length;if(r>1)for(var i=0;i<r;i++)this.addChild(e[i]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);z(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments,r=arguments.length;if(r>1)for(var i=0;i<r;i++)this.removeChild(e[i]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,z(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,z(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0);var r,i=t,n="number"==typeof e?e:this.children.length,o=n-i;if(o>0&&o<=n){r=this.children.splice(i,o);for(var s=0;s<r.length;++s)r[s].parent=null,r[s].transform&&(r[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<r.length;++a)r[a].emit("removed",this),this.emit("childRemoved",r[a],this,a);return r}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Bt),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);for(var n=0,o=this.children.length;n<o;n++)this.children[n].render(t);t.batch.flush(),r&&t.mask.pop(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},r.width.get=function(){return this.scale.x*this.getLocalBounds().width},r.width.set=function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},r.height.get=function(){return this.scale.y*this.getLocalBounds().height},r.height.set=function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},Object.defineProperties(e.prototype,r),e}(Nt);kt.prototype.containerUpdateTransform=kt.prototype.updateTransform;
/*!
 * @pixi/accessibility - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Ut={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0};Nt.mixin(Ut);var jt=function(t){this._hookDiv=null,(h.a.tablet||h.a.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};jt.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",(function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},jt.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},jt.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},jt.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},jt.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},jt.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var o=this.children[n];if(o.renderId!==this.renderId)o._accessibleActive=!1,z(this.children,n,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{i=o._accessibleDiv;var s=o.hitArea,a=o.worldTransform;o.hitArea?(i.style.left=(a.tx+s.x*a.a)*e+"px",i.style.top=(a.ty+s.y*a.d)*r+"px",i.style.width=s.width*a.a*e+"px",i.style.height=s.height*a.d*r+"px"):(s=o.getBounds(),this.capHitArea(s),i.style.left=s.x*e+"px",i.style.top=s.y*r+"px",i.style.width=s.width*e+"px",i.style.height=s.height*r+"px",i.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(i.title=o.accessibleTitle),i.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&i.setAttribute("aria-label",o.accessibleHint)),o.accessibleTitle===i.title&&o.tabIndex===i.tabIndex||(i.title=o.accessibleTitle,i.tabIndex=o.tabIndex,this.debug&&this.updateDebugHTML(i))}}this.renderId++}},jt.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},jt.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},jt.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},jt.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},jt.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},jt.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},jt.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},jt.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},jt.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};
/*!
 * @pixi/runner - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Xt,Ht=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var u=this,h=u.name,c=u.items;this._aliasCount++;for(var l=0,d=c.length;l<d;l++)c[l][h](t,e,r,i,n,o,s,a);return c===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t}();Object.defineProperties(Ht.prototype,{dispatch:{value:Ht.prototype.emit},run:{value:Ht.prototype.emit}}),
/*!
 * @pixi/ticker - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
E.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Xt||(Xt={}));var Gt=function(){function t(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=t,this.context=e,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),Vt=function(){function t(){var t=this;this._head=new Gt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/E.TARGET_FPMS,this.elapsedMS=1/E.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,r){return void 0===r&&(r=Xt.NORMAL),this._addListener(new Gt(t,e,r))},t.prototype.addOnce=function(t,e,r){return void 0===r&&(r=Xt.NORMAL),this._addListener(new Gt(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*E.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,E.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!0,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!0,configurable:!0}),t}(),Yt=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Xt.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Vt.shared:new Vt,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),zt=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Ht("setRealSize",2),this.onUpdate=new Ht("update"),this.onError=new Ht("onError",1)},Wt={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};zt.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},zt.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},zt.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},Wt.valid.get=function(){return!!this._width&&!!this._height},zt.prototype.update=function(){this.destroyed||this.onUpdate.run()},zt.prototype.load=function(){return Promise.resolve()},Wt.width.get=function(){return this._width},Wt.height.get=function(){return this._height},zt.prototype.upload=function(t,e,r){return!1},zt.prototype.style=function(t,e,r){return!1},zt.prototype.dispose=function(){},zt.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Object.defineProperties(zt.prototype,Wt);var qt=function(t){function e(e){var r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;t.call(this,r,i),this.source=e,this.noSubImage=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=ct(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,i){var n=t.gl,o=e.realWidth,s=e.realHeight;return i=i||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===b.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source.naturalWidth||this.source.videoWidth||this.source.width,r=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(e,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(zt),Zt=function(t){function e(e,r){if(r=r||{},!(e instanceof HTMLImageElement)){var i=new Image;t.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}t.call(this,e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==r.createBitmap?r.createBitmap:E.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(this.premultiplyAlpha=r.premultiplyAlpha),this.bitmap=null,this._load=null,!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load?this._load:(this._load=new Promise((function(t){e.url=e.source.src;var r=e.source,i=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(t){return e.onError.run(t)})})),this._load)},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha===b.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0;for(var o in r._glTextures){var s=r._glTextures[o];if(s!==i&&s.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(qt),Kt=[];function $t(t,e){if(!t)return null;var r="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=Kt.length-1;n>=0;--n){var o=Kt[n];if(o.test&&o.test(t,r))return new o(t,e)}return new Zt(t,e)}var Qt=function(t){function e(e,r){var i=r||{},n=i.width,o=i.height;if(!n||!o)throw new Error("BufferResource width or height invalid");t.call(this,n,o),this.data=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===b.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(zt),Jt={scaleMode:m.NEAREST,format:f.RGBA,alphaMode:b.NPM},te=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null),t.call(this);var i=(r=r||{}).alphaMode,n=r.mipmap,o=r.anisotropicLevel,s=r.scaleMode,a=r.width,u=r.height,h=r.wrapMode,c=r.format,l=r.type,d=r.target,p=r.resolution,m=r.resourceOptions;!e||e instanceof zt||((e=$t(e,m)).internal=!0),this.width=a||0,this.height=u||0,this.resolution=p||E.RESOLUTION,this.mipmap=void 0!==n?n:E.MIPMAP_TEXTURES,this.anisotropicLevel=void 0!==o?o:E.ANISOTROPIC_LEVEL,this.wrapMode=h||E.WRAP_MODE,this.scaleMode=void 0!==s?s:E.SCALE_MODE,this.format=c||f.RGBA,this.type=l||_.UNSIGNED_BYTE,this.target=d||v.TEXTURE_2D,this.alphaMode=void 0!==i?i:b.UNPACK,void 0!==r.premultiplyAlpha&&(this.premultiplyAlpha=r.premultiplyAlpha),this.uid=q(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.setResource(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={realWidth:{configurable:!0},realHeight:{configurable:!0}};return r.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},r.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=$(this.realWidth)&&$(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete et[this.cacheId],delete tt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,r,i){void 0===i&&(i=E.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+q()),o=t._pixiId);var s=et[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||((s=new e(t,r)).cacheId=o,e.addToCache(s,o)),s},e.fromBuffer=function(t,r,i,n){t=t||new Float32Array(r*i*4);var o=new Qt(t,{width:r,height:i}),s=t instanceof Float32Array?_.FLOAT:_.UNSIGNED_BYTE;return new e(o,Object.assign(Jt,n||{width:r,height:i,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),et[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),et[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=et[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete et[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete et[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,r),e}(A.a);te._globalBatch=0;var ee=function(t){function e(e,r){var i;r=r||{};var n=e;Array.isArray(e)&&(i=e,n=e.length),t.call(this,r.width,r.height),this.items=[],this.itemDirtyIds=[];for(var o=0;o<n;o++){var s=new te;this.items.push(s),this.itemDirtyIds.push(-1)}if(this.length=n,this._load=null,i)for(var a=0;a<n;a++)this.addResourceAt($t(i[a],r),a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=v.TEXTURE_2D_ARRAY;for(var r=0;r<this.length;r++)this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})),r=e.map((function(t){return t.load()}));return this._load=Promise.all(r).then((function(){var r=e[0],i=r.width,n=r.height;return t.resize(i,n),Promise.resolve(t)})),this._load},e.prototype.upload=function(t,e,r){var i=this.length,n=this.itemDirtyIds,o=this.items,s=t.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,i,0,e.format,e.type,null);for(var a=0;a<i;a++){var u=o[a];n[a]<u.dirtyId&&(n[a]=u.dirtyId,u.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,u.resource.width,u.resource.height,1,e.format,e.type,u.resource.source))}return!0},e}(zt),re=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(qt),ie=function(t){function e(r,i){if(i=i||{},t.call(this,r,i),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var n=0;n<e.SIDES;n++)this.items[n].target=v.TEXTURE_CUBE_MAP_POSITIVE_X+n;!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=v.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,r,i){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(n[o]=s.dirtyId,s.valid&&s.resource.upload(t,s,i))}return!0},e}(ee);ie.SIDES=6;var ne=function(t){function e(e,r){r=r||{},t.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()})),this._load)},e.prototype._loadSvg=function(){var e=this,r=new Image;t.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(t){r.onerror=null,e.onError.run(t)},r.onload=function(){var t=r.width,i=r.height;if(!t||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=t*e.scale,o=i*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/i*t,o=e._overrideHeight||e._overrideWidth/t*i),n=Math.round(n),o=Math.round(o);var s=e.source;s.width=n,s.height=o,s._pixiId="canvas_"+q(),s.getContext("2d").drawImage(r,0,0,t,i,0,0,n,o),e._resolve(),e._resolve=null}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e}(qt);ne.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var oe=function(t){function e(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){var i=document.createElement("video");i.setAttribute("preload","auto"),i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),t.crossOrigin(i,e[0].src||e[0],r.crossorigin);for(var n=0;n<e.length;++n){var o=document.createElement("source"),s=e[n],a=s.src,u=s.mime,h=(a=a||e[n]).split("?").shift().toLowerCase(),c=h.substr(h.lastIndexOf(".")+1);u=u||"video/"+c,o.src=a,o.type=u,i.appendChild(o)}e=i}t.call(this,e),this.noSubImage=!0,this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==r.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==r.autoLoad&&this.load()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=Vt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this,e),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(Vt.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(Vt.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isAutoUpdating&&Vt.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},r.autoUpdate.get=function(){return this._autoUpdate},r.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(Vt.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(Vt.shared.add(this.update,this),this._isAutoUpdating=!0))},r.updateFPS.get=function(){return this._updateFPS},r.updateFPS.set=function(t){t!==this._updateFPS&&(this._updateFPS=t)},e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},Object.defineProperties(e.prototype,r),e}(qt);oe.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var se=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(qt);Kt.push(Zt,se,re,oe,ne,Qt,ie,ee);var ae={INSTALLED:Kt,autoDetectResource:$t,ArrayResource:ee,BufferResource:Qt,CanvasResource:re,CubeResource:ie,ImageResource:Zt,ImageBitmapResource:se,SVGResource:ne,VideoResource:oe,Resource:zt,BaseImageResource:qt},ue=function(t){this.renderer=t};ue.prototype.destroy=function(){this.renderer=null};var he=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===b.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(Qt),ce=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ht("disposeFramebuffer",2)},le={colorTexture:{configurable:!0}};le.colorTexture.get=function(){return this.colorTextures[0]},ce.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new te(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},ce.prototype.addDepthTexture=function(t){return this.depthTexture=t||new te(new he(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:f.DEPTH_COMPONENT,type:_.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},ce.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},ce.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},ce.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,e/o)}}},ce.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(ce.prototype,le);var de=function(t){function e(e){if("number"==typeof e){var r=arguments[0],i=arguments[1],n=arguments[2],o=arguments[3];e={width:r,height:i,scaleMode:n,resolution:o}}t.call(this,null,e);var s=e||{},a=s.width,u=s.height;this.mipmap=!1,this.width=Math.ceil(a)||100,this.height=Math.ceil(u)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new ce(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this),this.maskStack=[],this.filterStack=[{}]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.framebuffer=null},e}(te),pe=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};pe.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,s=t.height/2/n,a=t.x/i+o,u=t.y/n+s;r=Pt.add(r,Pt.NW),this.x0=a+o*Pt.uX(r),this.y0=u+s*Pt.uY(r),r=Pt.add(r,2),this.x1=a+o*Pt.uX(r),this.y1=u+s*Pt.uY(r),r=Pt.add(r,2),this.x2=a+o*Pt.uX(r),this.y2=u+s*Pt.uY(r),r=Pt.add(r,2),this.x3=a+o*Pt.uX(r),this.y3=u+s*Pt.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var fe=new pe,ve=function(t){function e(r,i,n,o,s,a){if(t.call(this),this.noFrame=!1,i||(this.noFrame=!0,i=new Ct(0,0,1,1)),r instanceof e&&(r=r.baseTexture),this.baseTexture=r,this._frame=i,this.trim=o,this.valid=!1,this.requiresUpdate=!1,this._uvs=fe,this.uvMatrix=null,this.orig=n||i,this._rotate=Number(s||0),!0===s)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new vt(a.x,a.y):new vt(0,0),this._updateID=0,this.textureCacheIds=[],r.valid?this.noFrame?r.valid&&this.onBaseTextureUpdated(r):this.frame=i:r.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&r.on("update",this.onBaseTextureUpdated,this)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture.resource;r&&tt[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===fe&&(this._uvs=new pe),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,i){void 0===r&&(r={}),void 0===i&&(i=E.STRICT_TEXTURE_CACHE);var n="string"==typeof t,o=null;n?o=t:(t._pixiId||(t._pixiId="pixiid_"+q()),o=t._pixiId);var s=tt[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(r.resolution||(r.resolution=lt(t)),(s=new e(new te(t,r))).baseTexture.cacheId=o,te.addToCache(s.baseTexture,o),e.addToCache(s,o)),s},e.fromBuffer=function(t,r,i,n){return new e(te.fromBuffer(t,r,i,n))},e.fromLoader=function(t,r,i){var n=new Zt(t);n.url=r;var o=new e(new te(n,{scaleMode:E.SCALE_MODE,resolution:lt(r)}));return i||(i=r),te.addToCache(o.baseTexture,i),e.addToCache(o,i),i!==r&&(te.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),tt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),tt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=tt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete tt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)tt[t.textureCacheIds[i]]===t&&delete tt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},r.resolution.get=function(){return this.baseTexture.resolution},r.frame.get=function(){return this._frame},r.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,h="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+h)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},r.rotate.get=function(){return this._rotate},r.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},r.width.get=function(){return this.orig.width},r.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,r),e}(A.a);function _e(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}ve.EMPTY=new ve(new te),_e(ve.EMPTY),_e(ve.EMPTY.baseTexture),ve.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new ve(new te(new re(t)))}(),_e(ve.WHITE),_e(ve.WHITE.baseTexture);var me=function(t){function e(e,r){var i=null;if(!(e instanceof de)){var n=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+o+") instead of the ctor directly."),i=arguments[0],r=null,e=new de({width:n,height:o,scaleMode:s,resolution:a})}t.call(this,e,r),this.legacyRenderer=i,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new de(t))},e}(ve),ye=function(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};ye.prototype.createTexture=function(t,e){var r=new de(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new me(r)},ye.prototype.getOptimalTexture=function(t,e,r){void 0===r&&(r=1);var i=ye.SCREEN_KEY;t*=r,e*=r,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(i=(65535&(t=K(t)))<<16|65535&(e=K(e))),this.texturePool[i]||(this.texturePool[i]=[]);var n=this.texturePool[i].pop();return n||(n=this.createTexture(t,e)),n.filterPoolKey=i,n.setResolution(r),n},ye.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},ye.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},ye.prototype.returnFilterTexture=function(t){this.returnTexture(t)},ye.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},ye.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=ye.SCREEN_KEY,r=this.texturePool[e];if(this.enableFullScreen=t.width>0&&t.height>0,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},ye.SCREEN_KEY="screen";var ge=function(t,e,r,i,n,o,s){void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s};ge.prototype.destroy=function(){this.buffer=null},ge.from=function(t,e,r,i,n){return new ge(t,e,r,i,n)};var be=0,xe=function(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=be++,this.disposeRunner=new Ht("disposeBuffer",2)};function we(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}xe.prototype.update=function(t){this.data=t||this.data,this._updateID++},xe.prototype.dispose=function(){this.disposeRunner.run(this,!1)},xe.prototype.destroy=function(){this.dispose(),this.data=null},xe.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new xe(t)};var Te={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Ee={5126:4,5123:2,5121:1},Se=0,Ae={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Ie=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Se++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ht("disposeGeometry",2),this.refCount=0};Ie.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new xe(e));var u=t.split("|");if(u.length>1){for(var h=0;h<u.length;h++)this.addAttribute(u[h],e,r,i,n);return this}var c=this.buffers.indexOf(e);return-1===c&&(this.buffers.push(e),c=this.buffers.length-1),this.attributes[t]=new ge(c,r,i,n,o,s,a),this.instanced=this.instanced||a,this},Ie.prototype.getAttribute=function(t){return this.attributes[t]},Ie.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Ie.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new xe(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},Ie.prototype.getIndex=function(){return this.indexBuffer},Ie.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new xe;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*Ee[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;for(var s=new ArrayBuffer(4*r),a=null,u=0,h=0;h<t.length;h++){var c=e[h],l=t[h],d=we(l);n[d]||(n[d]=new Te[d](s)),a=n[d];for(var p=0;p<l.length;p++){a[(p/c|0)*i+u+p%c]=l[p]}u+=c}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Ie.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},Ie.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Ie.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},Ie.prototype.clone=function(){for(var t=new Ie,e=0;e<this.buffers.length;e++)t.buffers[e]=new xe(this.buffers[e].data.slice());for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new ge(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},Ie.merge=function(t){for(var e,r=new Ie,i=[],n=[],o=[],s=0;s<t.length;s++){e=t[s];for(var a=0;a<e.buffers.length;a++)n[a]=n[a]||0,n[a]+=e.buffers[a].data.length,o[a]=0}for(var u=0;u<e.buffers.length;u++)i[u]=new(Ae[we(e.buffers[u].data)])(n[u]),r.buffers[u]=new xe(i[u]);for(var h=0;h<t.length;h++){e=t[h];for(var c=0;c<e.buffers.length;c++)i[c].set(e.buffers[c].data,o[c]),o[c]+=e.buffers[c].data.length}if(r.attributes=e.attributes,e.indexBuffer){r.indexBuffer=r.buffers[e.buffers.indexOf(e.indexBuffer)],r.indexBuffer.index=!0;for(var l=0,d=0,p=0,f=0,v=0;v<e.buffers.length;v++)if(e.buffers[v]!==e.indexBuffer){f=v;break}for(var _ in e.attributes){var m=e.attributes[_];(0|m.buffer)===f&&(d+=m.size*Ee[m.type]/4)}for(var y=0;y<t.length;y++){for(var g=t[y].indexBuffer.data,b=0;b<g.length;b++)r.indexBuffer.data[b+p]+=l;l+=e.buffers[f].data.length/d,p+=g.length}}return r};var Pe=function(t){function e(){t.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ie),Oe=function(t){function e(){t.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new xe(this.vertices),this.uvBuffer=new xe(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Ie),Ce=0,Me=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ce++,this.static=!!e};Me.prototype.update=function(){this.dirtyId++},Me.prototype.add=function(t,e,r){this.uniforms[t]=new Me(e,r)},Me.from=function(t,e){return new Me(t,e)};var De=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Ct,this.destinationFrame=new Ct,this.filters=[]};De.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var Re=function(t){function e(e){t.call(this,e),this.defaultFilterStack=[{}],this.texturePool=new ye,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Pe,this.quadUv=new Oe,this.tempRect=new Ct,this.activeState={},this.globalUniforms=new Me({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=e.view.width,this._pixelsHeight=e.view.height}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new De,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,u=e[0].legacy,h=1;h<e.length;h++){var c=e[h];o=Math.min(o,c.resolution),s=Math.max(s,c.padding),a=a||c.autoFit,u=u||c.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=u,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame),r.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=i.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var u=t[t.length-1];if(1===r.length)r[0].apply(this,e.renderTexture,u.renderTexture,!1,e),this.returnFilterTexture(e.renderTexture);else{var h=e.renderTexture,c=this.getOptimalFilterTexture(h.width,h.height,e.resolution);c.filterFrame=h.filterFrame;var l=0;for(l=0;l<r.length-1;++l){r[l].apply(this,h,c,!0,e);var d=h;h=c,c=d}r[l].apply(this,h,u.renderTexture,!1,e),this.returnFilterTexture(h),this.returnFilterTexture(c)}e.clear(),this.statePool.push(e)},e.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;n.renderTexture.bind(r,r?r.filterFrame:null),i&&n.renderTexture.clear(),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(p.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(p.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(bt.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(ue),Fe=function(t){this.renderer=t};Fe.prototype.flush=function(){},Fe.prototype.destroy=function(){this.renderer=null},Fe.prototype.start=function(){},Fe.prototype.stop=function(){this.flush()},Fe.prototype.render=function(t){};var Le=function(t){function e(e){t.call(this,e),this.emptyRenderer=new Fe(e),this.currentRenderer=this.emptyRenderer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,e,r,i){for(var n=t.elements,o=t.ids,s=t.count,a=0,u=0;u<s;u++){var h=n[u],c=h._batchLocation;if(c>=0&&c<i&&e[c]===h)o[u]=c;else for(;a<i;){var l=e[a];if(!l||l._batchEnabled!==r||l._batchLocation!==a){o[u]=a,h._batchLocation=a,e[a]=h;break}a++}}},e}(ue);E.PREFER_ENV=h.a.any?c.WEBGL:c.WEBGL2,E.STRICT_TEXTURE_CACHE=!1;var Ne=0,Be=function(t){function e(e){t.call(this,e),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={isLost:{configurable:!0}};return r.isLost.get=function(){return!this.gl||this.gl.isContextLost()},e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Ne++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Ne++,this.renderer.runners.contextChange.run(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(E.PREFER_ENV>=c.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),r},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBKIT_WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(e.prototype,r),e}(ue),ke=function(t){function e(e){t.call(this,e),this.managedFramebuffers=[],this.unknownFramebuffer=new ce(10,10)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={size:{configurable:!0}};return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ct,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;E.PREFER_ENV===c.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}},e.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++)t.colorTextures[n].texturePart?this.renderer.texture.unbind(t.colorTextures[n].texture):this.renderer.texture.unbind(t.colorTextures[n]);t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},r.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},e.prototype.clear=function(t,e,r,i){var n=this.gl;n.clearColor(t,e,r,i),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},e.prototype.initFramebuffer=function(t){var e={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},e.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1));for(var n=[],o=0;o<i;o++){var s=t.colorTextures[o];s.texturePart?(this.renderer.texture.bind(s.texture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_CUBE_MAP_NEGATIVE_X+s.side,s.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,0)),n.push(e.COLOR_ATTACHMENT0+o)}if((n.length>1&&e.drawBuffers(n),t.depthTexture)&&this.writeDepthTexture){var a=t.depthTexture;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,i=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ct},Object.defineProperties(e.prototype,r),e}(ue),Ue=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},je={5126:4,5123:2,5121:1},Xe=function(t){function e(e){t.call(this,e),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var r=this.renderer.context.extensions.vertexArrayObject;E.PREFER_ENV===c.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){},t.bindVertexArray=function(){},t.deleteVertexArray=function(){})}if(!t.vertexAttribDivisor){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(t,e){return i.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,o){return i.drawElementsInstancedANGLE(t,e,r,n,o)},t.drawArraysInstanced=function(t,e,r,n){return i.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID];i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={});var n=i[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?r.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i=t.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)e.bufferSubData(o,0,i.data);else{var s=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,e.bufferData(o,i.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var r=this.gl,i=this.CONTEXT_UID,n=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[e.id]=s,s;var a=t.buffers,u=t.attributes,h={},c={};for(var l in a)h[l]=0,c[l]=0;for(var d in u)!u[d].size&&e.attributeData[d]?u[d].size=e.attributeData[d].size:u[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),h[u[d].buffer]+=u[d].size*je[u[d].type];for(var p in u){var f=u[p],v=f.size;void 0===f.stride&&(h[f.buffer]===v*je[f.type]?f.stride=0:f.stride=h[f.buffer]),void 0===f.start&&(f.start=c[f.buffer],c[f.buffer]+=v*je[f.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var _=0;_<a.length;_++){var m=a[_];m._glBuffers[i]||(m._glBuffers[i]=new Ue(r.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),m._glBuffers[i].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[n]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in r)if("g"===a[0]){var u=r[a];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);e=Object.keys(this.managedBuffers);for(var i=0;i<e.length;i++)this.disposeBuffer(this.managedBuffers[e[i]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var u=o[a],h=n[u.buffer]._glBuffers[i];if(e.attributeData[a]){s!==h&&(r.bindBuffer(r.ARRAY_BUFFER,h.buffer),s=h);var c=e.attributeData[a].location;if(r.enableVertexAttribArray(c),r.vertexAttribPointer(c,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(c,1)}}}},e.prototype.draw=function(t,e,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,r,e||o.getSize(),i||1):n.drawArrays(t,r,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(ue),He=function(t){this.type=T.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null};function Ge(t,e,r,i){var n=Ve(t,t.VERTEX_SHADER,e),o=Ve(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function Ve(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(console.warn(r),console.error(t.getShaderInfoLog(i)),null)}function Ye(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return ze(2*e);case"bvec3":return ze(3*e);case"bvec4":return ze(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function ze(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}He.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=T.NONE,this.autoDetect=!0),this._target=null},He.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)};var We,qe={},Ze=qe;function Ke(){if(Ze===qe||Ze&&Ze.isContextLost()){var t,e=document.createElement("canvas");E.PREFER_ENV>=c.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Ze=t}return Ze}function $e(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===w.HIGH&&r!==w.HIGH&&(i=w.MEDIUM),"precision "+i+" float;\n"+t}return r!==w.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var Qe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Je(t){return Qe[t]}var tr=null,er={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function rr(t,e){if(!tr){var r=Object.keys(er);tr={};for(var i=0;i<r.length;++i){var n=r[i];tr[t[n]]=er[n]}}return tr[e]}var ir={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},nr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var or,sr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function ar(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=sr.replace(/%forloop%/gi,ur(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}function ur(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var hr=0,cr={},lr=function t(e,r,i){void 0===i&&(i="pixi-shader"),this.id=hr++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),cr[i]?(cr[i]++,i+="-"+cr[i]):cr[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=$e(this.vertexSrc,E.PRECISION_VERTEX,w.HIGH),this.fragmentSrc=$e(this.fragmentSrc,E.PRECISION_FRAGMENT,function(){if(!We){We=w.MEDIUM;var t=Ke();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);We=e.precision?w.HIGH:w.MEDIUM}}return We}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},dr={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};lr.prototype.extractData=function(t,e){var r=Ke();if(r){var i=Ge(r,t,e);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},lr.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=rr(e,s.type),u={type:a,name:s.name,size:Je(a),location:0};r[s.name]=u,i.push(u)}i.sort((function(t,e){return t.name>e.name?1:-1}));for(var h=0;h<i.length;h++)i[h].location=h;return r},lr.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]/,""),a=o.name.match(/\[.*?\]/,""),u=rr(e,o.type);r[s]={type:u,size:o.size,isArray:a,value:Ye(u,o.size)}}return r},dr.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},dr.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},lr.from=function(t,e,r){var i=t+e,n=J[i];return n||(J[i]=n=new lr(t,e,r)),n},Object.defineProperties(lr,dr);var pr=function(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof Me?e:new Me(e):new Me({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))},fr={uniforms:{configurable:!0}};pr.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},pr.prototype.destroy=function(){this.uniformGroup=null},fr.uniforms.get=function(){return this.uniformGroup.uniforms},pr.from=function(t,e,r){var i=lr.from(t,e);return new pr(i,r)},Object.defineProperties(pr.prototype,fr);var vr=function(){this.data=0,this.blendMode=d.NORMAL,this.polygonOffset=0,this.blend=!0},_r={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};_r.blend.get=function(){return!!(1&this.data)},_r.blend.set=function(t){!!(1&this.data)!==t&&(this.data^=1)},_r.offsets.get=function(){return!!(2&this.data)},_r.offsets.set=function(t){!!(2&this.data)!==t&&(this.data^=2)},_r.culling.get=function(){return!!(4&this.data)},_r.culling.set=function(t){!!(4&this.data)!==t&&(this.data^=4)},_r.depthTest.get=function(){return!!(8&this.data)},_r.depthTest.set=function(t){!!(8&this.data)!==t&&(this.data^=8)},_r.clockwiseFrontFace.get=function(){return!!(16&this.data)},_r.clockwiseFrontFace.set=function(t){!!(16&this.data)!==t&&(this.data^=16)},_r.blendMode.get=function(){return this._blendMode},_r.blendMode.set=function(t){this.blend=t!==d.NONE,this._blendMode=t},_r.polygonOffset.get=function(){return this._polygonOffset},_r.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},vr.for2d=function(){var t=new vr;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(vr.prototype,_r);var mr=function(t){function e(r,i,n){var o=lr.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);t.call(this,o,n),this.padding=0,this.resolution=E.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new vr}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blendMode:{configurable:!0}},i={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i,n)},r.blendMode.get=function(){return this.state.blendMode},r.blendMode.set=function(t){this.state.blendMode=t},i.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},i.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(e.prototype,r),Object.defineProperties(e,i),e}(pr);mr.SOURCE_KEY_MAP={};var yr=new bt,gr=function(t,e){this._texture=t,this.mapCoord=new bt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1},br={texture:{configurable:!0}};br.texture.get=function(){return this._texture},br.texture.set=function(t){this._texture=t,this._updateID=-1},gr.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},gr.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(yr.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(yr));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,u=this.clampOffset;return s[0]=(e._frame.x+a+u)/o.width,s[1]=(e._frame.y+a+u)/o.height,s[2]=(e._frame.x+e._frame.width-a+u)/o.width,s[3]=(e._frame.y+e._frame.height-a+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},Object.defineProperties(gr.prototype,br);var xr=function(t){function e(e){var r=new bt;t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n"),e.renderable=!1,this.maskSprite=e,this.maskMatrix=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new gr(o,0)),o.transform.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,e,r,i))},e}(mr),wr=function(t){function e(e){t.call(this,e),this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){if(!e.isMaskData){var r=this.maskDataPool.pop()||new He;r.pooled=!0,r.maskObject=e,e=r}switch(e.autoDetect&&this.detect(e),e.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),e._target=t,e.type){case T.SCISSOR:this.maskStack.push(e),this.renderer.scissor.push(e);break;case T.STENCIL:this.maskStack.push(e),this.renderer.stencil.push(e);break;case T.SPRITE:e.copyCountersOrReset(null),this.pushSpriteMask(e),this.maskStack.push(e)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case T.SCISSOR:this.renderer.scissor.pop();break;case T.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case T.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=T.SPRITE;else if(t.type=T.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a),n=Math.atan2(r.d,r.c);i=Math.round(i*(180/Math.PI)*100),n=((n=Math.round(n*(180/Math.PI)*100)-i)%18e3+18e3)%18e3,0===(i=(i%9e3+9e3)%9e3)&&9e3===n&&(t.type=T.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new xr(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var n=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(ue),Tr=function(t){function e(e){t.call(this,e),this.maskStack=[],this.glConst=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this,this),this.maskStack=null},e}(ue),Er=function(t){function e(e){t.call(this,e),this.glConst=WebGLRenderingContext.SCISSOR_TEST}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,i=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=i,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=(t.x-n.x)*s+o.x,u=(t.y-n.y)*s+o.y,h=t.width*s,c=t.height*s;i&&(a+=i.tx*s,u+=i.ty*s),e||(u=this.renderer.height-c-u),this.renderer.gl.scissor(a,u,h,c)},e}(Tr),Sr=function(t){function e(e){t.call(this,e),this.glConst=WebGLRenderingContext.STENCIL_TEST}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(Tr),Ar=function(t){function e(e){t.call(this,e),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new bt,this.transform=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix;i?(n.a=1/t.width*2*r,n.d=-1/t.height*2*r,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2*r,n.d=1/t.height*2*r,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},e.prototype.setTransform=function(){},e}(ue),Ir=new Ct,Pr=function(t){function e(e){t.call(this,e),this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ct,this.destinationFrame=new Ct}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,r){void 0===t&&(t=null),this.current=t;var i,n=this.renderer;if(t){var o=t.baseTexture;i=o.resolution,r||(Ir.width=o.realWidth,Ir.height=o.realHeight,r=Ir),e||(e=r),this.renderer.framebuffer.bind(o.framebuffer,r),this.renderer.projection.update(r,e,i,!1),this.renderer.mask.setMaskStack(o.maskStack)}else i=this.renderer.resolution,r||(Ir.width=n.width,Ir.height=n.height,r=Ir),e||(e=r),n.framebuffer.bind(null,r),this.renderer.projection.update(r,e,i,!0),this.renderer.mask.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e),this.destinationFrame.x=r.x/i,this.destinationFrame.y=r.y/i,this.destinationFrame.width=r.width/i,this.destinationFrame.height=r.height/i,e===r&&this.sourceFrame.copyFrom(this.destinationFrame)},e.prototype.clear=function(t){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(ue),Or=function(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}};Or.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Cr=0,Mr=function(t){function e(e){t.call(this,e),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Cr++}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof or)return or;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");or=!0===t({a:"b"},"a","b")}catch(t){or=!1}return or}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||this.syncUniformGroup(t.uniformGroup),i},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t){var e=this.getglProgram();t.static&&t.dirtyId===e.uniformGroups[t.id]||(e.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,e))},e.prototype.syncUniforms=function(t,e){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=0,i="var v = null;\n    var cv = null\n    var gl = renderer.gl";for(var n in t.uniforms){var o=e[n];if(o)if("float"===o.type&&1===o.size)i+="\n            if(uv."+n+" !== ud."+n+".value)\n            {\n                ud."+n+".value = uv."+n+"\n                gl.uniform1f(ud."+n+".location, uv."+n+")\n            }\n";else if("sampler2D"!==o.type&&"samplerCube"!==o.type&&"sampler2DArray"!==o.type||1!==o.size||o.isArray)if("mat3"===o.type&&1===o.size)void 0!==t.uniforms[n].a?i+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+".toArray(true));\n                \n":i+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+");\n                \n";else if("vec2"===o.type&&1===o.size)void 0!==t.uniforms[n].x?i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+n+".location, v.x, v.y);\n                }\n":i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+n+".location, v[0], v[1]);\n                }\n                \n";else if("vec4"===o.type&&1===o.size)void 0!==t.uniforms[n].width?i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+n+".location, v.x, v.y, v.width, v.height)\n                }\n":i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+n+".location, v[0], v[1], v[2], v[3])\n                }\n                \n";else{i+="\n            cv = ud."+n+".value;\n            v = uv."+n+";\n            "+(1===o.size?ir:nr)[o.type].replace("location","ud."+n+".location")+";\n"}else i+="\n            renderer.texture.bind(uv."+n+", "+r+");\n\n            if(ud."+n+".value !== "+r+")\n            {\n                ud."+n+".value = "+r+";\n                gl.uniform1i(ud."+n+".location, "+r+");\n; // eslint-disable-line max-len\n            }\n",r++;else t.uniforms[n].group&&(i+="\n                    renderer.shader.syncUniformGroup(uv."+n+");\n                ")}return new Function("ud","uv","renderer",i)}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=Ge(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var a in r.uniformData){var u=r.uniformData[a];s[a]={location:e.getUniformLocation(o,a),value:Ye(u.type,u.size)}}var h=new Or(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=h,h},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(ue);var Dr=function(t){function e(e){t.call(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=d.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.checks=[],this.defaultState=new vr,this.defaultState.blend=!0,this.defaultState.depth=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[d.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.ADD]=[t.ONE,t.ONE],e[d.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.NONE]=[0,0],e[d.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[d.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[d.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[d.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[d.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[d.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[d.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[d.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[d.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[d.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[d.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(var i=0;i<this.checks.length;i++)this.checks[i](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(e.polygonOffset,0)},e}(ue),Rr=function(t){function e(e){t.call(this,e),this.count=0,this.checkCount=0,this.maxIdle=E.GC_MAX_IDLE,this.checkCountMax=E.GC_MAX_CHECK_COUNT,this.mode=E.GC_MODE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==x.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.textureSystem;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},e}(ue),Fr=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Lr=function(t){function e(e){t.call(this,e),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new te}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Fr(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Fr(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var o=0;o<this.boundTextures.length;o++)this.bind(null,o)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.baseTexture||t).valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(var n=0;n<r.length;n++)r[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),r[n]=null)},e.prototype.initTexture=function(t){var e=new Fr(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===_.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var i=t.realWidth,n=t.realHeight,o=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,o.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.baseTexture||t)._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&z(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==g.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=0,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=y.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===m.LINEAR){var n=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode?r.LINEAR:r.NEAREST)},e}(ue),Nr={FilterSystem:Re,BatchSystem:Le,ContextSystem:Be,FramebufferSystem:ke,GeometrySystem:Xe,MaskSystem:wr,ScissorSystem:Er,StencilSystem:Sr,ProjectionSystem:Ar,RenderTextureSystem:Pr,ShaderSystem:Mr,StateSystem:Dr,TextureGCSystem:Rr,TextureSystem:Lr},Br=new bt,kr=function(t){function e(e,r){t.call(this),(r=Object.assign({},E.RENDER_OPTIONS,r)).roundPixels&&(E.ROUND_PIXELS=r.roundPixels,pt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=r,this.type=l.UNKNOWN,this.screen=new Ct(0,0,r.width,r.height),this.view=r.view||document.createElement("canvas"),this.resolution=r.resolution||E.RESOLUTION,this.transparent=r.transparent,this.autoDensity=r.autoDensity||r.autoResize||!1,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=r.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new kt,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},r.width.get=function(){return this.view.width},r.height.get=function(){return this.view.height},e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds()).width&&(i.width=1),0===i.height&&(i.height=1);var n=me.create(0|i.width,0|i.height,e,r);return Br.tx=-i.x,Br.ty=-i.y,this.render(t,n,!1,Br,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=l.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},r.backgroundColor.get=function(){return this._backgroundColor},r.backgroundColor.set=function(t){this._backgroundColor=t,this._backgroundColorString=B(t),N(t,this._backgroundColorRgba)},Object.defineProperties(e.prototype,r),e}(A.a),Ur=function(t){function e(r){void 0===r&&(r={}),t.call(this,"WebGL",r),r=this.options,this.type=l.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new Ht("destroy"),contextChange:new Ht("contextChange",1),reset:new Ht("reset"),update:new Ht("update"),postrender:new Ht("postrender"),prerender:new Ht("prerender"),resize:new Ht("resize",2)},this.globalUniforms=new Me({projectionMatrix:new bt},!0),this.addSystem(wr,"mask").addSystem(Be,"context").addSystem(Dr,"state").addSystem(Mr,"shader").addSystem(Lr,"texture").addSystem(Xe,"geometry").addSystem(ke,"framebuffer").addSystem(Er,"scissor").addSystem(Sr,"stencil").addSystem(Ar,"projection").addSystem(Rr,"textureGC").addSystem(Re,"filter").addSystem(Pr,"renderTexture").addSystem(Le,"batch"),this.initPlugins(e.__plugins),r.context?this.context.initFromContext(r.context):this.context.initFromOptions({alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,F(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(L())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},e.prototype.render=function(t,e,r,i,n){if(this.renderingToScreen=!e,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.run(e,r)},e.prototype.reset=function(){return this.runners.reset.run(),this},e.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.run(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(kr);function jr(t){return Ur.create(t)}var Xr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Hr="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Gr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.from=function(t,r){return new e(new ie(t,r))},e}(te),Vr=function(){this.texArray=null,this.blend=0,this.type=p.TRIANGLES,this.start=0,this.size=0,this.data=null},Yr=function(){this.elements=[],this.ids=[],this.count=0};Yr.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0};var zr=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},Wr={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};Wr.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},Wr.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},Wr.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},Wr.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},Wr.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},zr.prototype.view=function(t){return this[t+"View"]},zr.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},zr.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Object.defineProperties(zr.prototype,Wr);var qr=function(t){function e(e){t.call(this,e),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=vr.for2d(),this.size=4*E.SPRITE_BATCH_SIZE,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;E.PREFER_ENV===c.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),E.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=ar(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,i=this.size/4,n=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new Vr);for(;r.length<n;)r.push(new Yr);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,r=this.MAX_TEXTURES,i=e._textureArrayPool,n=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++te._globalBatch,u=0,h=i[0],c=0;n.copyBoundTextures(o,r);for(var l=0;l<this._bufferSize;++l){var d=t[l];t[l]=null,d._batchEnabled!==a&&(h.count>=r&&(n.boundArray(h,o,a,r),this.buildDrawCalls(h,c,l),c=l,h=i[++u],++a),d._batchEnabled=a,d.touched=s,h.elements[h.count++]=d)}h.count>0&&(n.boundArray(h,o,a,r),this.buildDrawCalls(h,c,this._bufferSize),++u,++a);for(var p=0;p<o.length;p++)o[p]=null;te._globalBatch=a},e.prototype.buildDrawCalls=function(t,r,i){var n=this._bufferedElements,o=this._attributeBuffer,s=this._indexBuffer,a=this.vertexSize,u=e._drawCallPool,h=this._dcIndex,c=this._aIndex,l=this._iIndex,d=u[h];d.start=this._iIndex,d.texArray=t;for(var p=r;p<i;++p){var f=n[p],v=f._texture.baseTexture,_=j[v.alphaMode?1:0][f.blendMode];n[p]=null,r<p&&d.blend!==_&&(d.size=l-d.start,r=p,(d=u[++h]).texArray=t,d.start=l),this.packInterleavedGeometry(f,o,s,c,l),c+=f.vertexData.length/2*a,l+=f.indices.length,d.blend=_}r<i&&(d.size=l-d.start,++h),this._dcIndex=h,this._aIndex=c,this._iIndex=l},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,r=this._indexBuffer;E.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,i=r.gl,n=r.state,o=e._drawCallPool,s=null,a=0;a<t;a++){var u=o[a],h=u.texArray,c=u.type,l=u.size,d=u.start,p=u.blend;s!==h&&(s=h,this.bindAndClearTexArray(h)),n.setBlendMode(p),i.drawElements(c,l,i.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),E.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=K(Math.ceil(t/8)),r=Q(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new zr(i*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=K(Math.ceil(t/12)),r=Q(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var o=e.uint32View,s=e.float32View,a=i/this.vertexSize,u=t.uvs,h=t.indices,c=t.vertexData,l=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.alphaMode?G(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<c.length;f+=2)s[i++]=c[f],s[i++]=c[f+1],s[i++]=u[f],s[i++]=u[f+1],o[i++]=p,s[i++]=l;for(var v=0;v<h.length;v++)r[n++]=a+h[v]},e}(Fe);qr._drawCallPool=[],qr._textureArrayPool=[];var Zr=function(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};Zr.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Me.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new lr(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new bt,default:this.defaultGroupCache[t]};return new pr(this.programCache[t],n)},Zr.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"};var Kr=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._buffer=new xe(null,e,!1),this._indexBuffer=new xe(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,_.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,_.FLOAT).addAttribute("aColor",this._buffer,4,!0,_.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,_.FLOAT).addIndex(this._indexBuffer)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ie),$r="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Qr="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Jr=function(){},ti={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};Jr.create=function(t){var e=Object.assign({vertex:$r,fragment:Qr,geometryClass:Kr,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){t.call(this,e),this.shaderGenerator=new Zr(r,i),this.geometryClass=o,this.vertexSize=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(qr)},ti.defaultVertexSrc.get=function(){return $r},ti.defaultFragmentTemplate.get=function(){return Qr},Object.defineProperties(Jr,ti);var ei=Jr.create(),ri=new Ct,ii=function(t){this.renderer=t,t.extract=this};
/*!
 * @pixi/extract - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ii.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},ii.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},ii.prototype.canvas=function(t){var e,r,i,n=this.renderer,o=!1,s=!1;t&&(t instanceof me?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(e=i.baseTexture.resolution,r=i.frame,o=!1,n.renderTexture.bind(i)):(e=this.renderer.resolution,o=!0,(r=ri).width=this.renderer.width,r.height=this.renderer.height,n.renderTexture.bind(null));var a=Math.floor(r.width*e+1e-4),u=Math.floor(r.height*e+1e-4),h=new ot(a,u,1),c=new Uint8Array(4*a*u),l=n.gl;l.readPixels(r.x*e,r.y*e,a,u,l.RGBA,l.UNSIGNED_BYTE,c);var d=h.context.getImageData(0,0,a,u);return ii.arrayPostDivide(c,d.data),h.context.putImageData(d,0,0),o&&(h.context.scale(1,-1),h.context.drawImage(h.canvas,0,-u)),s&&i.destroy(!0),h.canvas},ii.prototype.pixels=function(t){var e,r,i,n=this.renderer,o=!1;t&&(t instanceof me?i=t:(i=this.renderer.generateTexture(t),o=!0)),i?(e=i.baseTexture.resolution,r=i.frame,n.renderTexture.bind(i)):(e=n.resolution,(r=ri).width=n.width,r.height=n.height,n.renderTexture.bind(null));var s=r.width*e,a=r.height*e,u=new Uint8Array(4*s*a),h=n.gl;return h.readPixels(r.x*e,r.y*e,s,a,h.RGBA,h.UNSIGNED_BYTE,u),o&&i.destroy(!0),ii.arrayPostDivide(u,u),u},ii.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},ii.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}};
/*!
 * @pixi/interaction - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ni=function(){this.global=new vt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},oi={pointerId:{configurable:!0}};oi.pointerId.get=function(){return this.identifier},ni.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},ni.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},ni.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(ni.prototype,oi);var si=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};si.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},si.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null};var ai=function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE},ui={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};ai.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},ui.pointerId.get=function(){return this._pointerId},ui.flags.get=function(){return this._flags},ui.flags.set=function(t){this._flags=t},ui.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},ui.over.get=function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},ui.over.set=function(t){this._doSet(this.constructor.FLAGS.OVER,t)},ui.rightDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},ui.rightDown.set=function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)},ui.leftDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},ui.leftDown.set=function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)},Object.defineProperties(ai.prototype,ui),ai.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var hi=function(){this._tempPoint=new vt};hi.prototype.recursiveFindHit=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,u=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,u=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),u&&e.interactiveChildren&&e.children)for(var h=e.children,c=h.length-1;c>=0;c--){var l=h[c],d=this.recursiveFindHit(t,l,r,i,a);if(d){if(!l.parent)continue;a=!1,d&&(t.target&&(i=!1),s=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},hi.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)};var ci={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Nt.mixin(ci);var li={target:null,data:{global:null}},di=function(t){function e(e,r){t.call(this),r=r||{},this.renderer=e,this.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,this.interactionFrequency=r.interactionFrequency||10,this.mouse=new ni,this.mouse.identifier=1,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[1]=this.mouse,this.interactionDataPool=[],this.eventData=new si,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this.resolution=1,this.delayedEvents=[],this.search=new hi,this.setTargetElement(this.renderer.view,this.renderer.resolution)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hitTest=function(t,e){return li.target=null,li.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(li,e,null,!0),li.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(Vt.system.add(this.update,this,Xt.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(Vt.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i){var n=this.search.findHit(t,e,r,i),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var u=o[a],h=u.displayObject,c=u.eventString,l=u.eventData;l.stopsPropagatingAt===h&&(l.stopPropagationHint=!0),this.dispatchEvent(h,c,l)}return n},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new ai(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],u=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(h.data.originalEvent=t,this.processInteractive(h,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType){var c=2===a.button;this.emit(c?"rightup"+o:"mouseup"+o,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,u=!1;if(a){var h=2===i.button,c=ai.FLAGS,l=h?c.RIGHT_DOWN:c.LEFT_DOWN,d=void 0!==o&&o.flags&l;r?(this.dispatchEvent(e,h?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,h?"rightclick":"click",t),u=!0)):d&&this.dispatchEvent(e,h?"rightupoutside":"mouseupoutside",t),o&&(h?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!u||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new ai(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new ni).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=1),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(A.a),pi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},fi=function(){this.reset()};fi.prototype.clone=function(){var t=new fi;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},fi.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=ve.WHITE,this.matrix=null,this.visible=!1},fi.prototype.destroy=function(){this.texture=null,this.matrix=null};var vi={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(r.length>=6){for(var s=[],a=0;a<i.length;a++){var u=i[a];s.push(r.length/2),r=r.concat(u.points)}var h=P()(r,s,2);if(!h)return;for(var c=n.length/2,l=0;l<h.length;l+=3)o.push(h[l]+c),o.push(h[l+1]+c),o.push(h[l+2]+c);for(var d=0;d<r.length;d++)n.push(r[d])}}},_i={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,s=i.y;if(n.length=0,t.type===ft.CIRC?(e=i.radius,r=i.radius):(e=i.width,r=i.height),0!==e&&0!==r){var a=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(i.width+i.height));a/=2.3;for(var u=2*Math.PI/a,h=0;h<a;h++)n.push(o+Math.sin(-u*h)*e,s+Math.cos(-u*h)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o;i.push(t.shape.x,t.shape.y);for(var a=0;a<r.length;a+=2)i.push(r[a],r[a+1]),n.push(o++,s,o)}},mi={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},yi={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=e.radius;r.length=0,bi(i,n+a,i,n,i+a,n,r),bi(i+o-a,n,i+o,n,i+o,n+a,r),bi(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),bi(i+a,n+s,i,n+s,i,n+s-a,r)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=P()(r,null,2),a=0,u=s.length;a<u;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(var h=0,c=r.length;h<c;h++)i.push(r[h],r[++h])}};function gi(t,e,r){return t+(e-t)*r}function bi(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,u=0,h=0,c=0,l=0,d=0,p=0,f=0,v=0;f<=20;++f)u=gi(t,r,v=f/20),h=gi(e,i,v),c=gi(r,n,v),l=gi(i,o,v),d=gi(u,c,v),p=gi(h,l,v),a.push(d,p);return a}function xi(t,e){t.lineStyle.native?function(t,e){var r=0,i=t.shape,n=t.points||i.points,o=i.type!==ft.POLY||i.closeStroke;if(0===n.length)return;var s=e.points,a=e.indices,u=n.length/2,h=s.length/2,c=h;for(s.push(n[0],n[1]),r=1;r<u;r++)s.push(n[2*r],n[2*r+1]),a.push(c,c+1),c++;o&&a.push(c,h)}(t,e):function(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0===i.length)return;var o=t.lineStyle,s=new vt(i[0],i[1]),a=new vt(i[i.length-2],i[i.length-1]),u=r.type!==ft.POLY||r.closeStroke,h=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(u){i=i.slice(),h&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var c=a.x+.5*(s.x-a.x),l=a.y+.5*(s.y-a.y);i.unshift(c,l),i.push(c,l)}var d=e.points,p=i.length/2,f=i.length,v=d.length/2,_=o.width/2,m=i[0],y=i[1],g=i[2],b=i[3],x=0,w=0,T=-(y-b),E=m-g,S=0,A=0,I=0,P=0,O=Math.sqrt(T*T+E*E);T/=O,E/=O,T*=_,E*=_;var C=o.alignment,M=2*(1-C),D=2*C;d.push(m-T*M,y-E*M),d.push(m+T*D,y+E*D);for(var R=1;R<p-1;++R){m=i[2*(R-1)],y=i[2*(R-1)+1],g=i[2*R],b=i[2*R+1],x=i[2*(R+1)],w=i[2*(R+1)+1],T=-(y-b),E=m-g,O=Math.sqrt(T*T+E*E),T/=O,E/=O,T*=_,E*=_,S=-(b-w),A=g-x,O=Math.sqrt(S*S+A*A),S/=O,A/=O;var F=-E+y-(-E+b),L=-T+g-(-T+m),N=(-T+m)*(-E+b)-(-T+g)*(-E+y),B=-(A*=_)+w-(-A+b),k=-(S*=_)+g-(-S+x),U=(-S+x)*(-A+b)-(-S+g)*(-A+w),j=F*k-B*L;if(Math.abs(j)<.1)j+=10.1,d.push(g-T*M,b-E*M),d.push(g+T*D,b+E*D);else{var X=(L*U-k*N)/j,H=(B*N-F*U)/j;(X-g)*(X-g)+(H-b)*(H-b)>196*_*_?(I=T-S,P=E-A,O=Math.sqrt(I*I+P*P),I/=O,P/=O,I*=_,P*=_,d.push(g-I*M,b-P*M),d.push(g+I*D,b+P*D),d.push(g-I*D*M,b-P*M),f++):(d.push(g+(X-g)*M,b+(H-b)*M),d.push(g-(X-g)*D,b-(H-b)*D))}}m=i[2*(p-2)],y=i[2*(p-2)+1],g=i[2*(p-1)],b=i[2*(p-1)+1],T=-(y-b),E=m-g,O=Math.sqrt(T*T+E*E),T/=O,E/=O,T*=_,E*=_,d.push(g-T*M,b-E*M),d.push(g+T*D,b+E*D);for(var G=e.indices,V=0;V<f-2;++V)G.push(v,v+1,v+2),v++}(t,e)}var wi=function(t){function e(e,r,i,n,o,s){o=o||n/2;for(var a=-1*Math.PI/2+s,u=2*i,h=mt/u,c=[],l=0;l<u;l++){var d=l%2?o:n,p=l*h+a;c.push(e+d*Math.cos(p),r+d*Math.sin(p))}t.call(this,c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rt),Ti=function(){};Ti.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,u=s-t,h=i-e,c=r-t,l=Math.abs(a*c-u*h);if(l<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+u*u,p=h*h+c*c,f=a*h+u*c,v=n*Math.sqrt(d)/l,_=n*Math.sqrt(p)/l,m=v*f/d,y=_*f/p,g=v*c+_*u,b=v*h+_*a,x=u*(_+m),w=a*(_+m),T=c*(v+y),E=h*(v+y);return{cx:g+t,cy:b+e,radius:n,startAngle:Math.atan2(w-b,x-g),endAngle:Math.atan2(E-b,T-g),anticlockwise:u*h>c*a}},Ti.arc=function(t,e,r,i,n,o,s,a,u){for(var h=s-o,c=pi._segmentsCount(Math.abs(h)*n,40*Math.ceil(Math.abs(h)/mt)),l=h/(2*c),d=2*l,p=Math.cos(l),f=Math.sin(l),v=c-1,_=v%1/v,m=0;m<=v;++m){var y=l+o+d*(m+_*m),g=Math.cos(y),b=-Math.sin(y);u.push((p*g+f*b)*n+r,(p*-b+f*g)*n+i)}};var Ei=function(){};Ei.curveLength=function(t,e,r,i,n,o,s,a){for(var u=0,h=0,c=0,l=0,d=0,p=0,f=0,v=0,_=0,m=0,y=0,g=t,b=e,x=1;x<=10;++x)m=g-(v=(f=(p=(d=1-(h=x/10))*d)*d)*t+3*p*h*r+3*d*(c=h*h)*n+(l=c*h)*s),y=b-(_=f*e+3*p*h*i+3*d*c*o+l*a),g=v,b=_,u+=Math.sqrt(m*m+y*y);return u},Ei.curveTo=function(t,e,r,i,n,o,s){var a=s[s.length-2],u=s[s.length-1];s.length-=2;var h=pi._segmentsCount(Ei.curveLength(a,u,t,e,r,i,n,o)),c=0,l=0,d=0,p=0,f=0;s.push(a,u);for(var v=1,_=0;v<=h;++v)d=(l=(c=1-(_=v/h))*c)*c,f=(p=_*_)*_,s.push(d*a+3*l*_*t+3*c*p*r+f*n,d*u+3*l*_*e+3*c*p*i+f*o)};var Si=function(){};Si.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,u=2*r-2*t,h=2*i-2*e,c=4*(s*s+a*a),l=4*(s*u+a*h),d=u*u+h*h,p=2*Math.sqrt(c+l+d),f=Math.sqrt(c),v=2*c*f,_=2*Math.sqrt(d),m=l/f;return(v*p+f*l*(p-_)+(4*d*c-l*l)*Math.log((2*f+m+p)/(m+_)))/(4*v)},Si.curveTo=function(t,e,r,i,n){for(var o=n[n.length-2],s=n[n.length-1],a=pi._segmentsCount(Si.curveLength(o,s,t,e,r,i)),u=0,h=0,c=1;c<=a;++c){var l=c/a;u=o+(t-o)*l,h=s+(e-s)*l,n.push(u+(t+(r-t)*l-u)*l,h+(e+(i-e)*l-h)*l)}};var Ai=function(){this.reset()};Ai.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},Ai.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},Ai.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0};var Ii={};Ii[ft.POLY]=vi,Ii[ft.CIRC]=_i,Ii[ft.ELIP]=_i,Ii[ft.RECT]=mi,Ii[ft.RREC]=yi;var Pi=[],Oi=[],Ci={buildPoly:vi,buildCircle:_i,buildRectangle:mi,buildRoundedRectangle:yi,FILL_COMMANDS:Ii,BATCH_POOL:Pi,DRAW_CALL_POOL:Oi,buildLine:xi,buildComplexPoly:function(t,e){var r=t.points.slice();if(!(r.length<6)){var i=e.indices;e.points=r,e.alpha=t.fillAlpha,e.color=N(t.fillColor);for(var n=1/0,o=-1/0,s=1/0,a=-1/0,u=0,h=0,c=0;c<r.length;c+=2)n=(u=r[c])<n?u:n,o=u>o?u:o,s=(h=r[c+1])<s?h:s,a=h>a?h:a;r.push(n,s,o,s,o,a,n,a);for(var l=r.length/2,d=0;d<l;d++)i.push(d)}},bezierCurveTo:function(t,e,r,i,n,o,s,a,u,h){void 0===h&&(h=[]);var c=0,l=0,d=0,p=0,f=0;h.push(t,e);for(var v=1,_=0;v<=u;++v)d=(l=(c=1-(_=v/u))*c)*c,f=(p=_*_)*_,h.push(d*t+3*l*_*r+3*c*p*n+f*s,d*e+3*l*_*i+3*c*p*o+f*a);return h},Star:wi,ArcUtils:Ti,BezierUtils:Ei,QuadraticUtils:Si,BatchPart:Ai},Mi=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]};Mi.prototype.clone=function(){return new Mi(this.shape,this.fillStyle,this.lineStyle,this.matrix)},Mi.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var Di=new vt,Ri=new Lt,Fi=function(t){function e(){t.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new Lt,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null,this.closePointEps=1e-4}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={bounds:{configurable:!0}};return r.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].textures.length=0,Oi.push(this.drawCalls[t]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var r=this.batches[e];r.start=0,r.attribStart=0,r.style=null,Pi.push(r)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,i){var n=new Mi(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;var r=new Mi(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&(i.shape&&(i.matrix?i.matrix.applyInverse(t,Di):Di.copyFrom(t),i.shape.contains(Di.x,Di.y)))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++){if(i.holes[o].shape.contains(Di.x,Di.y)){n=!0;break}}if(!n)return!0}}return!1},e.prototype.updateBatches=function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,e=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(var n=this.shapeIndex;n<e.length;n++){this.shapeIndex++;var o=e[n],s=o.fillStyle,a=o.lineStyle;Ii[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var u=0;u<2;u++){var h=0===u?s:a;if(h.visible){var c=h.texture.baseTexture,l=this.indices.length,d=this.points.length/2;c.wrapMode=y.REPEAT,r&&!this._compareStyles(i,h)&&(r.end(l,d),r.size>0&&(r=null)),r||((r=Pi.pop()||new Ai).begin(h,l,d),this.batches.push(r),i=h);var p=this.points.length/2;0===u?this.processFill(o):this.processLine(o);var f=this.points.length/2-p;this.addUvs(this.points,t,h.texture,p,f,h.matrix)}}}if(r){var v=this.indices.length,_=this.points.length/2;r.end(v,_),this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var i=t[e],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},e.prototype.isBatchable=function(){for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++te._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].textures.length=0,Oi.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,n=Oi.pop();n||((n=new Vr).textures=new Yr),n.textures.count=0,n.start=0,n.size=0,n.type=p.TRIANGLES;var o=0,s=null,a=0,u=!1,h=p.TRIANGLES,c=0;this.drawCalls.push(n);for(var l=0;l<this.batches.length;l++){var d=this.batches[l],f=d.style,v=f.texture.baseTexture;u!==!!f.native&&(h=(u=!!f.native)?p.LINES:p.TRIANGLES,s=null,o=8,t++),s!==v&&(s=v,v._batchEnabled!==t&&(8===o&&(t++,o=0,n.size>0&&((n=Oi.pop())||((n=new Vr).textures=new Yr),this.drawCalls.push(n)),n.start=c,n.size=0,n.textures.count=0,n.type=h),v.touched=1,v._batchEnabled=t,v._batchLocation=o,v.wrapMode=10497,n.textures.elements[n.textures.count++]=v,o++)),n.size+=d.size,c+=d.size,a=v._batchLocation,this.addColors(r,f.color,f.alpha,d.attribSize),this.addTextureIds(i,a,d.attribSize)}te._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,u=0;u<t.length/2;u++)o[a++]=t[2*u],o[a++]=t[2*u+1],o[a++]=e[2*u],o[a++]=e[2*u+1],s[a++]=r[u],o[a++]=i[u];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),vi.triangulate(t,this)):Ii[t.type].triangulate(t,this)},e.prototype.processLine=function(t){xi(t,this);for(var e=0;e<t.holes.length;e++)xi(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];Ii[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=Ri,r=bt.IDENTITY;this._bounds.clear(),e.clear();for(var i=0;i<this.graphicsData.length;i++){var n=this.graphicsData[i],o=n.shape,s=n.type,a=n.lineStyle,u=n.matrix||bt.IDENTITY,h=0;if(a&&a.visible){var c=a.alignment;h=a.width,s===ft.POLY?h*=.5+Math.abs(.5-c):h*=Math.max(0,c)}r!==u&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=u),s===ft.RECT||s===ft.RREC?e.addFramePad(o.x,o.y,o.x+o.width,o.y+o.height,h,h):s===ft.CIRC?e.addFramePad(o.x,o.y,o.x,o.y,o.radius+h,o.radius+h):s===ft.ELIP?e.addFramePad(o.x,o.y,o.x,o.y,o.width+h,o.height+h):t.addVerticesMatrix(r,o.points,0,o.points.length,h,h)}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype.addColors=function(t,e,r,i){for(var n=G((e>>16)+(65280&e)+((255&e)<<16),r);i-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,r,i,n,o){for(var s=0,a=e.length,u=r.frame;s<n;){var h=t[2*(i+s)],c=t[2*(i+s)+1];if(o){var l=o.a*h+o.c*c+o.tx;c=o.b*h+o.d*c+o.ty,h=l}s++,e.push(h/u.width,c/u.height)}var d=r.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(e,r,a,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=r+2*i,s=e.frame,a=s.width/n.width,u=s.height/n.height,h=s.x/s.width,c=s.y/s.height,l=Math.floor(t[r]+1e-6),d=Math.floor(t[r+1]+1e-6),p=r+2;p<o;p+=2)l=Math.min(l,Math.floor(t[p]+1e-6)),d=Math.min(d,Math.floor(t[p+1]+1e-6));h-=l,c-=d;for(var f=r;f<o;f+=2)t[f]=(t[f]+h)*a,t[f+1]=(t[f+1]+c)*u},Object.defineProperties(e.prototype,r),e}(Kr);Fi.BATCHABLE_SIZE=100;var Li=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(fi),Ni=new Float32Array(3),Bi={},ki=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.geometry=e||new Fi,this.geometry.refCount++,this.shader=null,this.state=vr.for2d(),this._fillStyle=new fi,this._lineStyle=new Li,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.pluginName="batch",this.tint=16777215,this.blendMode=d.NORMAL}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return e.prototype.clone=function(){return this.finishPoly(),new e(this.geometry)},r.blendMode.set=function(t){this.state.blendMode=t},r.blendMode.get=function(){return this.state.blendMode},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t},r.fill.get=function(){return this._fillStyle},r.line.get=function(){return this._lineStyle},e.prototype.lineStyle=function(t){if("number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){pt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments[0],r=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],s=arguments[5],a=arguments[6];t={width:e,texture:r,color:i,alpha:n,matrix:o,alignment:s,native:a},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:ve.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1},t),this.currentPath&&this.startPoly();var u=t.width>0&&t.alpha>0;return u?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:u},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Rt,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Rt,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),Si.curveTo(t,e,r,i,n),this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),Ei.curveTo(t,e,r,i,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,s=Ti.curveTo(t,e,r,i,n,o);if(s){var a=s.cx,u=s.cy,h=s.radius,c=s.startAngle,l=s.endAngle,d=s.anticlockwise;this.arc(a,u,h,c,l,d)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=mt:o&&i<=n&&(i+=mt),0===n-i)return this;var s=t+Math.cos(i)*r,a=e+Math.sin(i)*r,u=this.geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var c=Math.abs(h[h.length-2]-s),l=Math.abs(h[h.length-1]-a);c<u&&l<u||h.push(s,a)}else this.moveTo(s,a),h=this.currentPath.points;return Ti.arc(s,a,t,e,r,i,n,o,h),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:ve.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof ve){pt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments[0],r=arguments[1],i=arguments[2],n=arguments[3];t={texture:e,color:r,alpha:i,matrix:n},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:ve.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var o=t.alpha>0;return o?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:o},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new Ct(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new Ft(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new Mt(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new Dt(t,e,r,i))},e.prototype.drawPolygon=function(t){var e=arguments,r=t,i=!0;if(r.points&&(i=r.closeStroke,r=r.points),!Array.isArray(r)){r=new Array(arguments.length);for(var n=0;n<r.length;++n)r[n]=e[n]}var o=new Rt(r);return o.closeStroke=i,this.drawShape(o),this},e.prototype.drawShape=function(t){return this._holeMode?this.geometry.drawHole(t,this._matrix):this.geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,r,i,n,o){return void 0===o&&(o=0),this.drawPolygon(new wi(t,e,r,i,n,o))},e.prototype.clear=function(){return this.geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){return 1===this.geometry.graphicsData.length&&this.geometry.graphicsData[0].shape.type===ft.RECT&&!this.geometry.graphicsData[0].lineWidth},e.prototype._render=function(t){this.finishPoly();var e=this.geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this.geometry,e=this.blendMode;this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.vertexData=new Float32Array(t.points);for(var r=0,i=t.batches.length;r<i;r++){var n=t.batches[r],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),u={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:N(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=u}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this.geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,u=s.length;a<u;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.textures,i=e.type,n=e.size,o=e.start,s=r.count,a=0;a<s;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!Bi[r]){for(var i=new Int32Array(16),n=0;n<16;n++)i[n]=n;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new bt,default:Me.from({uSamplers:i},!0)},s=t.plugins[r]._shader.program;Bi[r]=new pr(s,o)}e=Bi[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this.geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,i=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,i,n,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this.geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=N(this.tint,Ni),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldTransform,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,s=t.ty,a=this.geometry.points,u=this.vertexData,h=0,c=0;c<a.length;c+=2){var l=a[c],d=a[c+1];u[h++]=e*l+i*d+o,u[h++]=n*d+r*l+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Object.defineProperties(e.prototype,r),e}(kt);ki._TEMP_POINT=new vt;
/*!
 * @pixi/sprite - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Ui=new vt,ji=new Uint16Array([0,1,2,0,2,3]),Xi=function(t){function e(e){t.call(this),this._anchor=new _t(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=d.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=e||ve.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=ji,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=E.ROUND_PIXELS}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Z(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Z(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,h=t.trim,c=t.orig,l=this._anchor,d=0,p=0,f=0,v=0;if(h?(d=(p=h.x-l._x*c.width)+h.width,f=(v=h.y-l._y*c.height)+h.height):(d=(p=-l._x*c.width)+c.width,f=(v=-l._y*c.height)+c.height),u[0]=r*p+n*v+s,u[1]=o*v+i*p+a,u[2]=r*d+n*v+s,u[3]=o*v+i*d+a,u[4]=r*d+n*f+s,u[5]=o*f+i*d+a,u[6]=r*p+n*f+s,u[7]=o*f+i*p+a,this._roundPixels)for(var _=0;_<8;_++)u[_]=Math.round(u[_])}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,u=n.d,h=n.tx,c=n.ty,l=-i._x*r.width,d=l+r.width,p=-i._y*r.height,f=p+r.height;e[0]=o*l+a*p+h,e[1]=u*p+s*l+c,e[2]=o*d+a*p+h,e[3]=u*p+s*d+c,e[4]=o*d+a*f+h,e[5]=u*f+s*d+c,e[6]=o*l+a*f+h,e[7]=u*f+s*l+c},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ct),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Ui);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return Ui.x>=i&&Ui.x<i+e&&(n=-r*this.anchor.y,Ui.y>=n&&Ui.y<n+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t,r){return new e(t instanceof ve?t:ve.from(t,r))},r.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},r.roundPixels.get=function(){return this._roundPixels},r.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},r.width.set=function(t){var e=Z(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},r.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},r.height.set=function(t){var e=Z(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},r.anchor.get=function(){return this._anchor},r.anchor.set=function(t){this._anchor.copyFrom(t)},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},r.texture.get=function(){return this._texture},r.texture.set=function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||ve.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},Object.defineProperties(e.prototype,r),e}(kt),Hi={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},Gi={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Hi.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Vi=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Yi=function(t){this.styleID=0,this.reset(),Zi(this,t,t)},zi={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function Wi(t){return"number"==typeof t?B(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function qi(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Wi(t[e]);return t}return Wi(t)}function Zi(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}Yi.prototype.clone=function(){var t={};return Zi(t,this,Gi),new Yi(t)},Yi.prototype.reset=function(){Zi(this,Gi,Gi)},zi.align.get=function(){return this._align},zi.align.set=function(t){this._align!==t&&(this._align=t,this.styleID++)},zi.breakWords.get=function(){return this._breakWords},zi.breakWords.set=function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},zi.dropShadow.get=function(){return this._dropShadow},zi.dropShadow.set=function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},zi.dropShadowAlpha.get=function(){return this._dropShadowAlpha},zi.dropShadowAlpha.set=function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},zi.dropShadowAngle.get=function(){return this._dropShadowAngle},zi.dropShadowAngle.set=function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},zi.dropShadowBlur.get=function(){return this._dropShadowBlur},zi.dropShadowBlur.set=function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},zi.dropShadowColor.get=function(){return this._dropShadowColor},zi.dropShadowColor.set=function(t){var e=qi(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},zi.dropShadowDistance.get=function(){return this._dropShadowDistance},zi.dropShadowDistance.set=function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},zi.fill.get=function(){return this._fill},zi.fill.set=function(t){var e=qi(t);this._fill!==e&&(this._fill=e,this.styleID++)},zi.fillGradientType.get=function(){return this._fillGradientType},zi.fillGradientType.set=function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},zi.fillGradientStops.get=function(){return this._fillGradientStops},zi.fillGradientStops.set=function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},zi.fontFamily.get=function(){return this._fontFamily},zi.fontFamily.set=function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},zi.fontSize.get=function(){return this._fontSize},zi.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},zi.fontStyle.get=function(){return this._fontStyle},zi.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},zi.fontVariant.get=function(){return this._fontVariant},zi.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},zi.fontWeight.get=function(){return this._fontWeight},zi.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},zi.letterSpacing.get=function(){return this._letterSpacing},zi.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},zi.lineHeight.get=function(){return this._lineHeight},zi.lineHeight.set=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},zi.leading.get=function(){return this._leading},zi.leading.set=function(t){this._leading!==t&&(this._leading=t,this.styleID++)},zi.lineJoin.get=function(){return this._lineJoin},zi.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},zi.miterLimit.get=function(){return this._miterLimit},zi.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},zi.padding.get=function(){return this._padding},zi.padding.set=function(t){this._padding!==t&&(this._padding=t,this.styleID++)},zi.stroke.get=function(){return this._stroke},zi.stroke.set=function(t){var e=qi(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},zi.strokeThickness.get=function(){return this._strokeThickness},zi.strokeThickness.set=function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},zi.textBaseline.get=function(){return this._textBaseline},zi.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},zi.trim.get=function(){return this._trim},zi.trim.set=function(t){this._trim!==t&&(this._trim=t,this.styleID++)},zi.whiteSpace.get=function(){return this._whiteSpace},zi.whiteSpace.set=function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},zi.wordWrap.get=function(){return this._wordWrap},zi.wordWrap.set=function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},zi.wordWrapWidth.get=function(){return this._wordWrapWidth},zi.wordWrapWidth.set=function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},Yi.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Vi.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Object.defineProperties(Yi.prototype,zi);var Ki=function(t,e,r,i,n,o,s,a,u){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=u};Ki.measureText=function(t,e,r,i){void 0===i&&(i=Ki._canvas),r=null==r?e.wordWrap:r;var n=e.toFontString(),o=Ki.measureFont(n);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=i.getContext("2d");s.font=n;for(var a=(r?Ki.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),u=new Array(a.length),h=0,c=0;c<a.length;c++){var l=s.measureText(a[c]).width+(a[c].length-1)*e.letterSpacing;u[c]=l,h=Math.max(h,l)}var d=h+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||o.fontSize+e.strokeThickness,f=Math.max(p,o.fontSize+e.strokeThickness)+(a.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new Ki(t,e,d,f,a,u,p+e.leading,h,o)},Ki.wordWrap=function(t,e,r){void 0===r&&(r=Ki._canvas);for(var i=r.getContext("2d"),n=0,o="",s="",a={},u=e.letterSpacing,h=e.whiteSpace,c=Ki.collapseSpaces(h),l=Ki.collapseNewlines(h),d=!c,p=e.wordWrapWidth+u,f=Ki.tokenize(t),v=0;v<f.length;v++){var _=f[v];if(Ki.isNewline(_)){if(!l){s+=Ki.addLine(o),d=!c,o="",n=0;continue}_=" "}if(c){var m=Ki.isBreakingSpace(_),y=Ki.isBreakingSpace(o[o.length-1]);if(m&&y)continue}var g=Ki.getFromCache(_,u,a,i);if(g>p)if(""!==o&&(s+=Ki.addLine(o),o="",n=0),Ki.canBreakWords(_,e.breakWords))for(var b=_.split(""),x=0;x<b.length;x++){for(var w=b[x],T=1;b[x+T];){var E=b[x+T],S=w[w.length-1];if(Ki.canBreakChars(S,E,_,x,e.breakWords))break;w+=E,T++}x+=w.length-1;var A=Ki.getFromCache(w,u,a,i);A+n>p&&(s+=Ki.addLine(o),d=!1,o="",n=0),o+=w,n+=A}else{o.length>0&&(s+=Ki.addLine(o),o="",n=0);var I=v===f.length-1;s+=Ki.addLine(_,!I),d=!1,o="",n=0}else g+n>p&&(d=!1,s+=Ki.addLine(o),o="",n=0),(o.length>0||!Ki.isBreakingSpace(_)||d)&&(o+=_,n+=g)}return s+=Ki.addLine(o,!1)},Ki.addLine=function(t,e){return void 0===e&&(e=!0),t=Ki.trimRight(t),t=e?t+"\n":t},Ki.getFromCache=function(t,e,r,i){var n=r[t];if(void 0===n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},Ki.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},Ki.collapseNewlines=function(t){return"normal"===t},Ki.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var r=t[e];if(!Ki.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},Ki.isNewline=function(t){return"string"==typeof t&&Ki._newlines.indexOf(t.charCodeAt(0))>=0},Ki.isBreakingSpace=function(t){return"string"==typeof t&&Ki._breakingSpaces.indexOf(t.charCodeAt(0))>=0},Ki.tokenize=function(t){var e=[],r="";if("string"!=typeof t)return e;for(var i=0;i<t.length;i++){var n=t[i];Ki.isBreakingSpace(n)||Ki.isNewline(n)?(""!==r&&(e.push(r),r=""),e.push(n)):r+=n}return""!==r&&e.push(r),e},Ki.canBreakWords=function(t,e){return e},Ki.canBreakChars=function(t,e,r,i,n){return!0},Ki.measureFont=function(t){if(Ki._fonts[t])return Ki._fonts[t];var e={},r=Ki._canvas,i=Ki._context;i.font=t;var n=Ki.METRICS_STRING+Ki.BASELINE_SYMBOL,o=Math.ceil(i.measureText(n).width),s=Math.ceil(i.measureText(Ki.BASELINE_SYMBOL).width),a=2*s;s=s*Ki.BASELINE_MULTIPLIER|0,r.width=o,r.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,s);var u=i.getImageData(0,0,o,a).data,h=u.length,c=4*o,l=0,d=0,p=!1;for(l=0;l<s;++l){for(var f=0;f<c;f+=4)if(255!==u[d+f]){p=!0;break}if(p)break;d+=c}for(e.ascent=s-l,d=h-c,p=!1,l=a;l>s;--l){for(var v=0;v<c;v+=4)if(255!==u[d+v]){p=!0;break}if(p)break;d-=c}return e.descent=l-s,e.fontSize=e.ascent+e.descent,Ki._fonts[t]=e,e},Ki.clearMetrics=function(t){void 0===t&&(t=""),t?delete Ki._fonts[t]:Ki._fonts={}};var $i=function(){try{var t=new OffscreenCanvas(0,0);return t.getContext("2d")?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();$i.width=$i.height=10,Ki._canvas=$i,Ki._context=$i.getContext("2d"),Ki._fonts={},Ki.METRICS_STRING="|ÉqÅ",Ki.BASELINE_SYMBOL="M",Ki.BASELINE_MULTIPLIER=1.4,Ki._newlines=[10,13],Ki._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Qi={texture:!0,children:!1,baseTexture:!0},Ji=function(t){function e(e,r,i){(i=i||document.createElement("canvas")).width=3,i.height=3;var n=ve.from(i);n.orig=new Ct,n.trim=new Ct,t.call(this,n),this.canvas=i,this.context=this.canvas.getContext("2d"),this._resolution=E.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=Ki.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,u=o.lines,h=o.lineHeight,c=o.lineWidths,l=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var v=e.dropShadow&&0===f,_=v?2*a:0,m=_*this.resolution;if(v){n.fillStyle="black",n.strokeStyle="black";var y=e.dropShadowColor,g=N("number"==typeof y?y:k(y));n.shadowColor="rgba("+255*g[0]+","+255*g[1]+","+255*g[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+m}else n.fillStyle=this._generateFillStyle(e,u),n.strokeStyle=e.stroke,n.shadowColor=0,n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var b=0;b<u.length;b++)r=e.strokeThickness/2,i=e.strokeThickness/2+b*h+d.ascent,"right"===e.align?r+=l-c[b]:"center"===e.align&&(r+=(l-c[b])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(u[b],r+e.padding,i+e.padding-_,!0),e.fill&&this.drawLetterSpacing(u[b],r+e.padding,i+e.padding-_)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,u=0,h=0;h<s.length;++h){var c=s[h];i?this.context.strokeText(c,o,r):this.context.fillText(c,o,r),o+=a-(u=this.context.measureText(t.substring(h+1)).width)+n,a=u}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=nt(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(1===t.fill.length)return t.fill[0];var r,i,n,o,s=Math.ceil(this.canvas.width/this._resolution),a=Math.ceil(this.canvas.height/this._resolution),u=t.fill.slice(),h=t.fillGradientStops.slice();if(!h.length)for(var c=u.length+1,l=1;l<c;++l)h.push(l/c);if(u.unshift(t.fill[0]),h.unshift(0),u.push(t.fill[t.fill.length-1]),h.push(1),t.fillGradientType===Hi.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),i=(u.length+1)*e.length,n=0;for(var d=0;d<e.length;d++){n+=1;for(var p=0;p<u.length;p++)o="number"==typeof h[p]?h[p]/e.length+d/e.length:n/i,r.addColorStop(o,u[p]),n++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),i=u.length+1,n=1;for(var f=0;f<u.length;f++)o="number"==typeof h[f]?h[f]:n/i,r.addColorStop(o,u[f]),n++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Qi,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},r.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},r.width.set=function(t){this.updateText(!0);var e=Z(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},r.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},r.height.set=function(t){this.updateText(!0);var e=Z(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},r.style.get=function(){return this._style},r.style.set=function(t){t=t||{},this._style=t instanceof Yi?t:new Yi(t),this.localStyleID=-1,this.dirty=!0},r.text.get=function(){return this._text},r.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},r.resolution.get=function(){return this._resolution},r.resolution.set=function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},Object.defineProperties(e.prototype,r),e}(Xi);
/*!
 * @pixi/prepare - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
E.UPLOADS_PER_FRAME=4;var tn=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};tn.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},tn.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var en=function(t){var e=this;this.limiter=new tn(E.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(un),this.registerFindHook(hn),this.registerFindHook(rn),this.registerFindHook(nn),this.registerFindHook(on),this.registerUploadHook(sn),this.registerUploadHook(an)};function rn(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ve){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function nn(t,e){if(t.baseTexture instanceof te){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function on(t,e){if(t._texture&&t._texture instanceof ve){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function sn(t,e){return e instanceof Ji&&(e.updateText(!0),!0)}function an(t,e){if(e instanceof Yi){var r=e.toFontString();return Ki.measureFont(r),!0}return!1}function un(t,e){if(t instanceof Ji){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function hn(t,e){return t instanceof Yi&&(-1===e.indexOf(t)&&e.push(t),!0)}en.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Vt.system.addOnce(this.tick,this,Xt.UTILITY))):e&&e()},en.prototype.tick=function(){setTimeout(this.delayedTick,0)},en.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Vt.system.addOnce(this.tick,this,Xt.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var o=0,s=n.length;o<s;o++)n[o]()}},en.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},en.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},en.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof kt)for(var i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this},en.prototype.destroy=function(){this.ticking&&Vt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var cn=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this.renderer,this.registerFindHook(pn),this.registerUploadHook(ln),this.registerUploadHook(dn)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(en);function ln(t,e){return e instanceof te&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function dn(t,e){if(!(e instanceof ki))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&ln(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader()),!0}function pn(t,e){return t instanceof ki&&(e.push(t),!0)}var fn=function(t){this.maxMilliseconds=t,this.frameStart=0};fn.prototype.beginFrame=function(){this.frameStart=Date.now()},fn.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};
/*!
 * @pixi/app - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var vn=function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=jr(e),this.stage=new kt,t._plugins.forEach((function(t){t.init.call(r,e)}))},_n={view:{configurable:!0},screen:{configurable:!0}};vn.registerPlugin=function(t){vn._plugins.push(t)},vn.prototype.render=function(){this.renderer.render(this.stage)},_n.view.get=function(){return this.renderer.view},_n.screen.get=function(){return this.renderer.screen},vn.prototype.destroy=function(t,e){var r=this,i=vn._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},Object.defineProperties(vn.prototype,_n),vn._plugins=[];var mn=function(){};mn.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.resize),this._resizeTo=t,t&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){e._resizeTo&&(e._resizeTo===window?e.renderer.resize(window.innerWidth,window.innerHeight):e.renderer.resize(e._resizeTo.clientWidth,e._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null},mn.destroy=function(){this.resizeTo=null,this.resize=null},vn.registerPlugin(mn);var yn=r(5),gn=r.n(yn),bn=r(0),xn=r.n(bn);
/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */
function wn(){}function Tn(t,e,r,i){var n=0,o=t.length;!function s(a){a||n===o?r&&r(a):i?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)}()}function En(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function Sn(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:wn,unsaturated:wn,buffer:e/4,empty:wn,drain:wn,error:wn,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){r=0,i.drain=wn,i.started=!1,i._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),t(e.data,En(o(e)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function n(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var n={data:t,callback:"function"==typeof r?r:wn};e?i._tasks.unshift(n):i._tasks.push(n),setTimeout((function(){return i.process()}),1)}}function o(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}var An={};function In(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Pn(t,e,r){return e&&In(t.prototype,e),r&&In(t,r),t}var On=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Cn=null;function Mn(){}var Dn=function(){function t(e,r,i){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Mn,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new xn.a,this.onProgress=new xn.a,this.onComplete=new xn.a,this.onAfterMiddleware=new xn.a}t.setExtensionLoadType=function(e,r){Rn(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){Rn(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:On&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(Fn(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(Fn(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(Fn(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,Cn||(Cn=document.createElement("a")),Cn.href=t;var r=!(t=gn()(Cn.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Pn(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function Rn(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function Fn(t){return t.toString().replace("object ","")}Dn.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Dn.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Dn.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Dn.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Dn._loadTypeMap={gif:Dn.LOAD_TYPE.IMAGE,png:Dn.LOAD_TYPE.IMAGE,bmp:Dn.LOAD_TYPE.IMAGE,jpg:Dn.LOAD_TYPE.IMAGE,jpeg:Dn.LOAD_TYPE.IMAGE,tif:Dn.LOAD_TYPE.IMAGE,tiff:Dn.LOAD_TYPE.IMAGE,webp:Dn.LOAD_TYPE.IMAGE,tga:Dn.LOAD_TYPE.IMAGE,svg:Dn.LOAD_TYPE.IMAGE,"svg+xml":Dn.LOAD_TYPE.IMAGE,mp3:Dn.LOAD_TYPE.AUDIO,ogg:Dn.LOAD_TYPE.AUDIO,wav:Dn.LOAD_TYPE.AUDIO,mp4:Dn.LOAD_TYPE.VIDEO,webm:Dn.LOAD_TYPE.VIDEO},Dn._xhrTypeMap={xhtml:Dn.XHR_RESPONSE_TYPE.DOCUMENT,html:Dn.XHR_RESPONSE_TYPE.DOCUMENT,htm:Dn.XHR_RESPONSE_TYPE.DOCUMENT,xml:Dn.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Dn.XHR_RESPONSE_TYPE.DOCUMENT,svg:Dn.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Dn.XHR_RESPONSE_TYPE.DOCUMENT,gif:Dn.XHR_RESPONSE_TYPE.BLOB,png:Dn.XHR_RESPONSE_TYPE.BLOB,bmp:Dn.XHR_RESPONSE_TYPE.BLOB,jpg:Dn.XHR_RESPONSE_TYPE.BLOB,jpeg:Dn.XHR_RESPONSE_TYPE.BLOB,tif:Dn.XHR_RESPONSE_TYPE.BLOB,tiff:Dn.XHR_RESPONSE_TYPE.BLOB,webp:Dn.XHR_RESPONSE_TYPE.BLOB,tga:Dn.XHR_RESPONSE_TYPE.BLOB,json:Dn.XHR_RESPONSE_TYPE.JSON,text:Dn.XHR_RESPONSE_TYPE.TEXT,txt:Dn.XHR_RESPONSE_TYPE.TEXT,ttf:Dn.XHR_RESPONSE_TYPE.BUFFER,otf:Dn.XHR_RESPONSE_TYPE.BUFFER},Dn.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Ln=window.URL||window.webkitURL;var Nn={caching:function(t,e){var r=this;An[t.url]?(t.data=An[t.url],t.complete()):t.onComplete.once((function(){return An[r.url]=r.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Dn.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=Ln.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=Dn.TYPE.IMAGE,void(t.data.onload=function(){Ln.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[s])}return e}(t.xhr.responseText),t.type=Dn.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Bn=/(#[\w-]+)?$/,kn=function(){function t(e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=Sn(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new xn.a,this.onError=new xn.a,this.onLoad=new xn.a,this.onStart=new xn.a,this.onComplete=new xn.a;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Dn(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var u=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=u;for(var h=0;h<s.length;++h)s[h].progressChunk=u;this.resources[t].progressChunk=u}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=gn()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=Bn.exec(e)[0];-1!==(e=e.substr(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,Tn(this._beforeMiddleware,(function(e,i){e.call(r,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Tn(this._afterMiddleware,(function(r,i){r.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},Pn(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();kn._defaultBeforeMiddleware=[],kn._defaultAfterMiddleware=[],kn.pre=function(t){return kn._defaultBeforeMiddleware.push(t),kn},kn.use=function(t){return kn._defaultAfterMiddleware.push(t),kn};
/*!
 * @pixi/loaders - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Un=function(){};Un.use=function(t,e){t.data&&t.type===Dn.TYPE.IMAGE&&(t.texture=ve.fromLoader(t.data,t.url,t.name)),e()};var jn=function(t){function e(r,i){var n=this;t.call(this,r,i),A.a.call(this);for(var o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,u=s.use;a&&this.pre(a),u&&this.use(u)}this.onStart.add((function(t){return n.emit("start",t)})),this.onProgress.add((function(t,e){return n.emit("progress",t,e)})),this.onError.add((function(t,e,r){return n.emit("error",t,e,r)})),this.onLoad.add((function(t,e){return n.emit("load",t,e)})),this.onComplete.add((function(t,e){return n.emit("complete",t,e)})),this._protected=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={shared:{configurable:!0}};return e.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},r.shared.get=function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},Object.defineProperties(e,r),e}(kn);Object.assign(jn.prototype,A.a.prototype),jn._plugins=[],jn.registerPlugin=function(t){return jn._plugins.push(t),t.add&&t.add(),jn},jn.registerPlugin({use:Nn.parsing}),jn.registerPlugin(Un);var Xn=function(){};Xn.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?jn.shared:new jn},Xn.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var Hn=Dn,Gn=function(t){function e(e,r,i,n){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===n&&(n=!1),t.call(this);i>16384&&(i=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=d.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={tint:{configurable:!0}};return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t,N(t,this.tintRgb)},e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},Object.defineProperties(e.prototype,r),e}(kt),Vn=function(t,e,r){this.geometry=new Ie,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||_.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};
/*!
 * @pixi/particles - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Vn.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new xe(Y(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=e,e+=i.size,this.dynamicStride+=i.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new xe(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var a=this.staticProperties[s];a.offset=o,o+=a.size,this.staticStride+=a.size}var u=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=new xe(this.staticData,!0,!1);for(var h=0;h<this.dynamicProperties.length;++h){var c=this.dynamicProperties[h];t.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===_.UNSIGNED_BYTE,c.type,4*this.dynamicStride,4*c.offset)}for(var l=0;l<this.staticProperties.length;++l){var d=this.staticProperties[l];t.addAttribute(d.attributeName,this.staticBuffer,0,d.type===_.UNSIGNED_BYTE,d.type,4*this.staticStride,4*d.offset)}},Vn.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===_.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},Vn.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===_.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},Vn.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var Yn=function(t){function e(e){t.call(this,e),this.shader=null,this.properties=null,this.tempMatrix=new bt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:_.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=pr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.state.setBlendMode(X(t.blendMode,a.alphaMode));var u=n.gl,h=t.worldTransform.copyTo(this.tempMatrix);h.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=H(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var c=!1,l=0,d=0;l<o;l+=i,d+=1){var p=o-l;p>i&&(p=i),d>=s.length&&s.push(this._generateOneMoreBuffer(t));var f=s[d];f.uploadDynamic(e,l,p);var v=t._bufferUpdateIDs[d]||0;(c=c||f._updateID<v)&&(f._updateID=t._updateID,f.uploadStatic(e,l,p)),n.geometry.bind(f.geometry),u.drawElements(u.TRIANGLES,6*p,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new Vn(this.properties,n,i));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new Vn(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,u=0,h=0,c=0;c<r;++c){var l=t[e+c],d=l._texture,p=l.scale.x,f=l.scale.y,v=d.trim,_=d.orig;v?(s=(a=v.x-l.anchor.x*_.width)+v.width,u=(h=v.y-l.anchor.y*_.height)+v.height):(s=_.width*(1-l.anchor.x),a=_.width*-l.anchor.x,u=_.height*(1-l.anchor.y),h=_.height*-l.anchor.y),i[o]=a*p,i[o+1]=h*f,i[o+n]=s*p,i[o+n+1]=h*f,i[o+2*n]=s*p,i[o+2*n+1]=u*f,i[o+3*n]=a*p,i[o+3*n+1]=u*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],u=a._texture.baseTexture.alphaMode>0,h=a.alpha,c=h<1&&u?G(a._tintRGB,h):a._tintRGB+(255*h<<24);i[o]=c,i[o+n]=c,i[o+2*n]=c,i[o+3*n]=c,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Fe),zn=function(t,e,r){void 0===r&&(r=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(r||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},Wn={BATCH_SIZE:{configurable:!0}};Wn.BATCH_SIZE.get=function(){return 1e3},zn.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=lt(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},zn.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=zn.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},zn.prototype._processFrames=function(t){for(var e=t,r=zn.BATCH_SIZE;e-t<r&&e<this._frameKeys.length;){var i=this._frameKeys[e],n=this._frames[i],o=n.frame;if(o){var s=null,a=null,u=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,h=new Ct(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s=n.rotated?new Ct(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new Ct(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(a=new Ct(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new ve(this.baseTexture,s,h,a,n.rotated?2:0,n.anchor),ve.addToCache(this.textures[i],i)}e++}},zn.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},zn.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},zn.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*zn.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*zn.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},zn.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(zn,Wn);var qn=function(){};qn.use=function(t,e){var r=t.name+"_image";if(t.data&&t.type===Hn.TYPE.JSON&&t.data.frames&&!this.resources[r]){var i={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},n=qn.getResourcePath(t,this.baseUrl);this.add(r,n,i,(function(r){if(r.error)e(r.error);else{var i=new zn(r.texture.baseTexture,t.data,t.url);i.parse((function(){t.spritesheet=i,t.textures=i.textures,e()}))}}))}else e()},qn.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:C.a.resolve(t.url.replace(e,""),t.data.meta.image)};
/*!
 * @pixi/sprite-tiling - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Zn=new vt,Kn=function(t){function e(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100),t.call(this,e),this.tileTransform=new Ot,this._width=r,this._height=i,this._canvasPattern=null,this.uvMatrix=e.uvMatrix||new gr(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={clampMargin:{configurable:!0},tileScale:{configurable:!0},tilePosition:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return r.clampMargin.get=function(){return this.uvMatrix.clampMargin},r.clampMargin.set=function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},r.tileScale.get=function(){return this.tileTransform.scale},r.tileScale.set=function(t){this.tileTransform.scale.copyFrom(t)},r.tilePosition.get=function(){return this.tileTransform.position},r.tilePosition.set=function(t){this.tileTransform.position.copyFrom(t)},e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ct),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Zn);var e=this._width,r=this._height,i=-e*this.anchor._x;if(Zn.x>=i&&Zn.x<i+e){var n=-r*this.anchor._y;if(Zn.y>=n&&Zn.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r,i){return new e(ve.from(t),r,i)},e.fromFrame=function(t,r,i){var n=tt[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(n,r,i)},e.fromImage=function(t,r,i,n){return n&&"object"!=typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),new e(ve.from(t,n),r,i)},r.width.get=function(){return this._width},r.width.set=function(t){this._width=t},r.height.get=function(){return this._height},r.height.set=function(t){this._height=t},Object.defineProperties(e.prototype,r),e}(Xi),$n="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Qn=new bt,Jn=function(t){function e(e){t.call(this,e);var r={globals:this.renderer.globalUniforms};this.shader=pr.from($n,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",r),this.simpleShader=pr.from($n,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",r),this.quad=new Oe}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((i=r.uvs)[0]=i[6]=-t.anchor.x,i[1]=i[3]=-t.anchor.y,i[2]=i[4]=1-t.anchor.x,i[5]=i[7]=1-t.anchor.y),r.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,u=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;u&&(o._glTextures[e.CONTEXT_UID]?u=o.wrapMode!==y.CLAMP:o.wrapMode===y.CLAMP&&(o.wrapMode=y.REPEAT));var h=u?this.simpleShader:this.shader,c=n.width,l=n.height,d=t._width,p=t._height;Qn.set(s.a*c/d,s.b*c/p,s.c*l/d,s.d*l/p,s.tx/d,s.ty/p),Qn.invert(),u?Qn.prepend(a.mapCoord):(h.uniforms.uMapCoord=a.mapCoord.toArray(!0),h.uniforms.uClampFrame=a.uClampFrame,h.uniforms.uClampOffset=a.uClampOffset),h.uniforms.uTransform=Qn.toArray(!0),h.uniforms.uColor=V(t.tint,t.worldAlpha,h.uniforms.uColor,o.alphaMode),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.uSampler=n,e.shader.bind(h),e.geometry.bind(r),e.state.setBlendMode(X(t.blendMode,o.alphaMode)),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Fe),to=function(t){function e(e,r){var i=this;void 0===r&&(r={}),t.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==r.tint?r.tint:16777215,align:r.align||"left",name:null,size:0},this.font=r.font,this._text=e,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new _t((function(){i.dirty=!0}),this,0,0),this.dirty=!1,this.roundPixels=E.ROUND_PIXELS,this.updateText()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,i=new vt,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,u=this._maxWidth*t.size/this._font.size,h=null,c=0,l=0,d=0,p=-1,f=0,v=0,_=0,m=0;m<a;m++){var y=s.charCodeAt(m),g=s.charAt(m);if(/(?:\s)/.test(g)&&(p=m,f=c),"\r"!==g&&"\n"!==g){var b=t.chars[y];b&&(h&&b.kerning[h]&&(i.x+=b.kerning[h]),n.push({texture:b.texture,line:d,charCode:y,position:new vt(i.x+b.xOffset+this._letterSpacing/2,i.y+b.yOffset)}),i.x+=b.xAdvance+this._letterSpacing,c=i.x,_=Math.max(_,b.yOffset+b.texture.height),h=y,-1!==p&&u>0&&i.x>u&&(z(n,1+p-++v,1+m-p),m=p,p=-1,o.push(f),l=Math.max(l,f),d++,i.x=0,i.y+=t.lineHeight,h=null))}else o.push(c),l=Math.max(l,c),++d,++v,i.x=0,i.y+=t.lineHeight,h=null}var x=s.charAt(s.length-1);"\r"!==x&&"\n"!==x&&(/(?:\s)/.test(x)&&(c=f),o.push(c),l=Math.max(l,c));for(var w=[],T=0;T<=d;T++){var E=0;"right"===this._font.align?E=l-o[T]:"center"===this._font.align&&(E=(l-o[T])/2),w.push(E)}for(var S=n.length,A=this.tint,I=0;I<S;I++){var P=this._glyphs[I];P?P.texture=n[I].texture:((P=new Xi(n[I].texture)).roundPixels=this.roundPixels,this._glyphs.push(P)),P.position.x=(n[I].position.x+w[n[I].line])*r,P.position.y=n[I].position.y*r,P.scale.x=P.scale.y=r,P.tint=A,P.parent||this.addChild(P)}for(var O=S;O<this._glyphs.length;++O)this.removeChild(this._glyphs[O]);if(this._textWidth=l*r,this._textHeight=(i.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var C=0;C<S;C++)this._glyphs[C].x-=this._textWidth*this.anchor.x,this._glyphs[C].y-=this._textHeight*this.anchor.y;this._maxLineHeight=_*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},r.tint.get=function(){return this._font.tint},r.tint.set=function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0},r.align.get=function(){return this._font.align},r.align.set=function(t){this._font.align=t||"left",this.dirty=!0},r.anchor.get=function(){return this._anchor},r.anchor.set=function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},r.font.get=function(){return this._font},r.font.set=function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)},r.text.get=function(){return this._text},r.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},r.maxWidth.get=function(){return this._maxWidth},r.maxWidth.set=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},r.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},r.textWidth.get=function(){return this.validate(),this._textWidth},r.letterSpacing.get=function(){return this._letterSpacing},r.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},r.textHeight.get=function(){return this.validate(),this._textHeight},e.registerFont=function(t,r){var i={},n=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("page"),a=lt(s[0].getAttribute("file"),E.RESOLUTION),u={};i.font=n.getAttribute("face"),i.size=parseInt(n.getAttribute("size"),10),i.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/a,i.chars={},r instanceof ve&&(r=[r]);for(var h=0;h<s.length;h++){var c=s[h].getAttribute("id"),l=s[h].getAttribute("file");u[c]=r instanceof Array?r[h]:r[l]}for(var d=t.getElementsByTagName("char"),p=0;p<d.length;p++){var f=d[p],v=parseInt(f.getAttribute("id"),10),_=f.getAttribute("page")||0,m=new Ct(parseInt(f.getAttribute("x"),10)/a+u[_].frame.x/a,parseInt(f.getAttribute("y"),10)/a+u[_].frame.y/a,parseInt(f.getAttribute("width"),10)/a,parseInt(f.getAttribute("height"),10)/a);i.chars[v]={xOffset:parseInt(f.getAttribute("xoffset"),10)/a,yOffset:parseInt(f.getAttribute("yoffset"),10)/a,xAdvance:parseInt(f.getAttribute("xadvance"),10)/a,kerning:{},texture:new ve(u[_].baseTexture,m),page:_}}for(var y=t.getElementsByTagName("kerning"),g=0;g<y.length;g++){var b=y[g],x=parseInt(b.getAttribute("first"),10)/a,w=parseInt(b.getAttribute("second"),10)/a,T=parseInt(b.getAttribute("amount"),10)/a;i.chars[w]&&(i.chars[w].kerning[x]=T)}return e.fonts[i.font]=i,i},Object.defineProperties(e.prototype,r),e}(kt);to.fonts={};var eo=function(){};eo.parse=function(t,e){t.bitmapFont=to.registerFont(t.data,e)},eo.add=function(){Hn.setExtensionXhrType("fnt",Hn.XHR_RESPONSE_TYPE.DOCUMENT)},eo.dirname=function(t){var e=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},eo.use=function(t,e){if(t.data&&t.type===Hn.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":eo.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");for(var i=t.data.getElementsByTagName("page"),n={},o=function(r){n[r.metadata.pageFile]=r.texture,Object.keys(n).length===i.length&&(eo.parse(t,n),e())},s=0;s<i.length;++s){var a=i[s].getAttribute("file"),u=r+a,h=!1;for(var c in this.resources){var l=this.resources[c];if(l.url===u){l.metadata.pageFile=a,l.texture?o(l):l.onAfterMiddleware.add(o),h=!0;break}}if(!h){var d={crossOrigin:t.crossOrigin,loadType:Hn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},t.metadata.imageMetadata),parentResource:t};this.add(u,d,o)}}}else e();else e()};
/*!
 * @pixi/filter-alpha - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ro=function(t){function e(e){void 0===e&&(e=1),t.call(this,Xr,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={alpha:{configurable:!0}};return r.alpha.get=function(){return this.uniforms.uAlpha},r.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,r),e}(mr);var io={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},no=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var oo=function(t){function e(e,r,i,n,o){var s=function(t,e){var r,i=Math.ceil(t/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s);o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o=o||5,e),a=function(t){for(var e,r=io[t],i=r.length,n=no,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s);e=s,s>=i&&(e=t-s-1),o+=a=a.replace("%value%",r[e]),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o);t.call(this,s,a),this.horizontal=e,this.resolution=n||E.RESOLUTION,this._quality=0,this.quality=i||4,this.blur=r||8}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blur:{configurable:!0},quality:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,!1);for(var u=1;u<this.passes-1;u++){o.renderTexture.bind(s,s.filterFrame),this.uniforms.uSampler=a;var h=a;a=s,s=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},r.blur.get=function(){return this.strength},r.blur.set=function(t){this.padding=1+2*Math.abs(t),this.strength=t},r.quality.get=function(){return this._quality},r.quality.set=function(t){this._quality=t,this.passes=t},Object.defineProperties(e.prototype,r),e}(mr),so=function(t){function e(e,r,i,n){t.call(this),this.blurXFilter=new oo(!0,e,r,i,n),this.blurYFilter=new oo(!1,e,r,i,n),this.resolution=i||E.RESOLUTION,this.quality=r||4,this.blur=e||8,this.repeatEdgePixels=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blur:{configurable:!0},quality:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0},blendMode:{configurable:!0},repeatEdgePixels:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,!0),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},r.blur.get=function(){return this.blurXFilter.blur},r.blur.set=function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},r.quality.get=function(){return this.blurXFilter.quality},r.quality.set=function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},r.blurX.get=function(){return this.blurXFilter.blur},r.blurX.set=function(t){this.blurXFilter.blur=t,this.updatePadding()},r.blurY.get=function(){return this.blurYFilter.blur},r.blurY.set=function(t){this.blurYFilter.blur=t,this.updatePadding()},r.blendMode.get=function(){return this.blurYFilter.blendMode},r.blendMode.set=function(t){this.blurYFilter.blendMode=t},r.repeatEdgePixels.get=function(){return this._repeatEdgePixels},r.repeatEdgePixels.set=function(t){this._repeatEdgePixels=t,this.updatePadding()},Object.defineProperties(e.prototype,r),e}(mr),ao=function(t){function e(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};t.call(this,Hr,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e),this.alpha=1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={matrix:{configurable:!0},alpha:{configurable:!0}};return e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((i=i||3375104)>>16&255)/255,h=(i>>8&255)/255,c=(255&i)/255,l=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,u,h,c,e=e||.15,0,o-u,s-h,a-c,0,0];this._loadMatrix(l,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},r.matrix.get=function(){return this.uniforms.m},r.matrix.set=function(t){this.uniforms.m=t},r.alpha.get=function(){return this.uniforms.uAlpha},r.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,r),e}(mr);ao.prototype.grayscale=ao.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var uo=function(t){function e(e,r){var i=new bt;e.renderable=!1,t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,null==r&&(r=20),this.scale=new vt(r,r)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={map:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.transform.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},r.map.get=function(){return this.uniforms.mapSampler},r.map.set=function(t){this.uniforms.mapSampler=t},Object.defineProperties(e.prototype,r),e}(mr),ho=function(t){function e(){t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mr),co=function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random()),t.call(this,Hr,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={noise:{configurable:!0},seed:{configurable:!0}};return r.noise.get=function(){return this.uniforms.uNoise},r.noise.set=function(t){this.uniforms.uNoise=t},r.seed.get=function(){return this.uniforms.uSeed},r.seed.set=function(t){this.uniforms.uSeed=t},Object.defineProperties(e.prototype,r),e}(mr),lo=new bt;Nt.prototype._cacheAsBitmap=!1,Nt.prototype._cacheData=!1;var po=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(Nt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new po),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Nt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Nt.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds().clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(E.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame,s=t.projection.transform,a=me.create(r.width,r.height),u="cacheAsBitmap_"+q();this._cacheData.textureCacheId=u,te.addToCache(a.baseTexture,u),ve.addToCache(a,u);var h=lo;h.tx=-r.x,h.ty=-r.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,a,!0,h,!0),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var c=new Xi(a);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-r.x/r.width,c.anchor.y=-r.y/r.height,c.alpha=e,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}},Nt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Nt.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var i=t.context;e.ceil(E.RESOLUTION);var n=me.create(e.width,e.height),o="cacheAsBitmap_"+q();this._cacheData.textureCacheId=o,te.addToCache(n.baseTexture,o),ve.addToCache(n,o);var s=lo;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,n,!0,s,!1),t.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var a=new Xi(n);a.transform.worldTransform=this.transform.worldTransform,a.anchor.x=-e.x/e.width,a.anchor.y=-e.y/e.height,a.alpha=r,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=a.containsPoint.bind(a)}},Nt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},Nt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},Nt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,te.removeFromCache(this._cacheData.textureCacheId),ve.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Nt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},
/*!
 * @pixi/mixin-get-child-by-name - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Nt.prototype.name=null,kt.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},
/*!
 * @pixi/mixin-get-global-position - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Nt.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new vt),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};
/*!
 * @pixi/mesh - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var fo=function(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};fo.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}};var vo=new vt,_o=new Rt,mo=function(t){function e(e,r,i,n){void 0===n&&(n=p.TRIANGLES),t.call(this),this.geometry=e,e.refCount++,this.shader=r,this.state=i||vr.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=d.NORMAL,this._roundPixels=E.ROUND_PIXELS,this.batchUvs=null}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return r.uvBuffer.get=function(){return this.geometry.buffers[1]},r.verticesBuffer.get=function(){return this.geometry.buffers[0]},r.material.set=function(t){this.shader=t},r.material.get=function(){return this.shader},r.blendMode.set=function(t){this.state.blendMode=t},r.blendMode.get=function(){return this.state.blendMode},r.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},r.roundPixels.get=function(){return this._roundPixels},r.tint.get=function(){return this.shader.tint},r.tint.set=function(t){this.shader.tint=t},r.texture.get=function(){return this.shader.texture},r.texture.set=function(t){this.shader.texture=t},e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===p.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,u=r.ty,h=this.vertexData,c=0;c<h.length/2;c++){var l=e[2*c],d=e[2*c+1];h[2*c]=i*l+o*d+a,h[2*c+1]=n*l+s*d+u}if(this._roundPixels)for(var p=0;p<h.length;p++)h[p]=Math.round(h[p]);this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new fo(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,vo);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=_o.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],u=2*i[s+1],h=2*i[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[u],r[3]=e[u+1],r[4]=e[h],r[5]=e[h+1],_o.contains(vo.x,vo.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(e.prototype,r),e}(kt);mo.BATCHABLE_SIZE=100;var yo=function(t){function e(e,r){var i={uSampler:e,alpha:1,uTextureMatrix:bt.IDENTITY,uColor:new Float32Array([1,1,1,1])};(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(i,r.uniforms),t.call(this,r.program||lr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i),this._colorDirty=!1,this.uvMatrix=new gr(e),this.batchable=void 0===r.program,this.pluginName=r.pluginName,this.tint=r.tint,this.alpha=r.alpha}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={texture:{configurable:!0},alpha:{configurable:!0},tint:{configurable:!0}};return r.texture.get=function(){return this.uniforms.uSampler},r.texture.set=function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},r.alpha.set=function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},r.alpha.get=function(){return this._alpha},r.tint.set=function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},r.tint.get=function(){return this._tint},e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;V(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},Object.defineProperties(e.prototype,r),e}(pr),go=function(t){function e(e,r,i){t.call(this);var n=new xe(e),o=new xe(r,!0),s=new xe(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,_.FLOAT).addAttribute("aTextureCoord",o,2,!1,_.FLOAT).addIndex(s),this._updateId=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertexDirtyId:{configurable:!0}};return r.vertexDirtyId.get=function(){return this.buffers[0]._updateID},Object.defineProperties(e.prototype,r),e}(Ie),bo=function(t){function e(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10),t.call(this),this.segWidth=i,this.segHeight=n,this.width=e,this.height=r,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,u=0;u<t;u++){var h=u%this.segWidth,c=u/this.segWidth|0;e.push(h*s,c*a),r.push(h/n,c/o)}for(var l=n*o,d=0;d<l;d++){var p=d%n,f=d/n|0,v=f*this.segWidth+p,_=f*this.segWidth+p+1,m=(f+1)*this.segWidth+p,y=(f+1)*this.segWidth+p+1;i.push(v,_,m,_,y,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(go),xo=function(t){function e(e,r,i){void 0===e&&(e=200),void 0===i&&(i=0),t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1))),this.points=r,this.width=e,this.textureScale=i,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],u=this.width*this.textureScale,h=t.length,c=0;c<h;c++){var l=4*c;if(this.textureScale>0){var d=a.x-t[c].x,p=a.y-t[c].y,f=Math.sqrt(d*d+p*p);a=t[c],s+=f/u}else s=c/(h-1);n[l]=s,n[l+1]=0,n[l+2]=s,n[l+3]=1}for(var v=0,_=0;_<h-1;_++){var m=2*_;o[v++]=m,o[v++]=m+1,o[v++]=m+2,o[v++]=m+2,o[v++]=m+1,o[v++]=m+3}r.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var u=t[a],h=4*a;n=-((e=a<t.length-1?t[a+1]:u).x-r.x),i=e.y-r.y;var c=Math.sqrt(i*i+n*n),l=this.textureScale>0?this.textureScale*this.width/2:this.width/2;i/=c,n/=c,i*=l,n*=l,o[h]=u.x+i,o[h+1]=u.y+n,o[h+2]=u.x-i,o[h+3]=u.y-n,r=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(go),wo=function(t){function e(e,r,i){void 0===i&&(i=0);var n=new xo(e.height,r,i),o=new yo(e);i>0&&(e.baseTexture.wrapMode=y.REPEAT),t.call(this,n,o),this.autoUpdate=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._render=function(e){(this.autoUpdate||this.geometry.width!==this.shader.texture.height)&&(this.geometry.width=this.shader.texture.height,this.geometry.update()),t.prototype._render.call(this,e)},e}(mo),To=function(t){function e(e,r,i){var n=new bo(e.width,e.height,r,i),o=new yo(ve.WHITE);t.call(this,n,o),this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={texture:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this.geometry.width=this.shader.texture.width,this.geometry.height=this.shader.texture.height,this.geometry.build()},r.texture.set=function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},r.texture.get=function(){return this.shader.texture},e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,r),e}(mo),Eo=function(t){function e(e,r,i,n,o){void 0===e&&(e=ve.EMPTY);var s=new go(r,i,n);s.getBuffer("aVertexPosition").static=!1;var a=new yo(e);t.call(this,s,a,null,o),this.autoUpdate=!0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertices:{configurable:!0}};return r.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},r.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,r),e}(mo),So=function(t){function e(e,r,i,n,o){t.call(this,ve.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=void 0!==r?r:10,this._rightWidth=void 0!==n?n:10,this._topHeight=void 0!==i?i:10,this._bottomHeight=void 0!==o?o:10,this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertices:{configurable:!0},width:{configurable:!0},height:{configurable:!0},leftWidth:{configurable:!0},rightWidth:{configurable:!0},topHeight:{configurable:!0},bottomHeight:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},r.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},r.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},r.width.get=function(){return this._width},r.width.set=function(t){this._width=t,this._refresh()},r.height.get=function(){return this._height},r.height.set=function(t){this._height=t,this._refresh()},r.leftWidth.get=function(){return this._leftWidth},r.leftWidth.set=function(t){this._leftWidth=t,this._refresh()},r.rightWidth.get=function(){return this._rightWidth},r.rightWidth.set=function(t){this._rightWidth=t,this._refresh()},r.topHeight.get=function(){return this._topHeight},r.topHeight.set=function(t){this._topHeight=t,this._refresh()},r.bottomHeight.get=function(){return this._bottomHeight},r.bottomHeight.set=function(t){this._bottomHeight=t,this._refresh()},e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Object.defineProperties(e.prototype,r),e}(To),Ao=function(t){function e(e,r){t.call(this,e[0]instanceof ve?e[0]:e[0].texture),this._textures=null,this._durations=null,this.textures=e,this._autoUpdate=!1!==r,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={totalFrames:{configurable:!0},textures:{configurable:!0},currentFrame:{configurable:!0}};return e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&Vt.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&Vt.shared.add(this.update,this,Xt.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(ve.from(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(ve.from(t[i]));return new e(r)},r.totalFrames.get=function(){return this._textures.length},r.textures.get=function(){return this._textures},r.textures.set=function(t){if(t[0]instanceof ve)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()},r.currentFrame.get=function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},Object.defineProperties(e.prototype,r),e}(Xi);r.d(e,"VERSION",(function(){return Oo})),r.d(e,"filters",(function(){return Co})),r.d(e,"useDeprecated",(function(){return Po})),r.d(e,"accessibility",(function(){return n})),r.d(e,"extract",(function(){return o})),r.d(e,"interaction",(function(){return s})),r.d(e,"prepare",(function(){return a})),r.d(e,"utils",(function(){return i})),r.d(e,"Application",(function(){return vn})),r.d(e,"AbstractBatchRenderer",(function(){return qr})),r.d(e,"AbstractRenderer",(function(){return kr})),r.d(e,"Attribute",(function(){return ge})),r.d(e,"BaseRenderTexture",(function(){return de})),r.d(e,"BaseTexture",(function(){return te})),r.d(e,"BatchDrawCall",(function(){return Vr})),r.d(e,"BatchGeometry",(function(){return Kr})),r.d(e,"BatchPluginFactory",(function(){return Jr})),r.d(e,"BatchRenderer",(function(){return ei})),r.d(e,"BatchShaderGenerator",(function(){return Zr})),r.d(e,"BatchTextureArray",(function(){return Yr})),r.d(e,"Buffer",(function(){return xe})),r.d(e,"CubeTexture",(function(){return Gr})),r.d(e,"Filter",(function(){return mr})),r.d(e,"Framebuffer",(function(){return ce})),r.d(e,"GLProgram",(function(){return Or})),r.d(e,"GLTexture",(function(){return Fr})),r.d(e,"Geometry",(function(){return Ie})),r.d(e,"MaskData",(function(){return He})),r.d(e,"ObjectRenderer",(function(){return Fe})),r.d(e,"Program",(function(){return lr})),r.d(e,"Quad",(function(){return Pe})),r.d(e,"QuadUv",(function(){return Oe})),r.d(e,"RenderTexture",(function(){return me})),r.d(e,"RenderTexturePool",(function(){return ye})),r.d(e,"Renderer",(function(){return Ur})),r.d(e,"Shader",(function(){return pr})),r.d(e,"SpriteMaskFilter",(function(){return xr})),r.d(e,"State",(function(){return vr})),r.d(e,"System",(function(){return ue})),r.d(e,"Texture",(function(){return ve})),r.d(e,"TextureMatrix",(function(){return gr})),r.d(e,"TextureUvs",(function(){return pe})),r.d(e,"UniformGroup",(function(){return Me})),r.d(e,"ViewableBuffer",(function(){return zr})),r.d(e,"autoDetectRenderer",(function(){return jr})),r.d(e,"checkMaxIfStatementsInShader",(function(){return ar})),r.d(e,"defaultFilterVertex",(function(){return Hr})),r.d(e,"defaultVertex",(function(){return Xr})),r.d(e,"resources",(function(){return ae})),r.d(e,"systems",(function(){return Nr})),r.d(e,"AppLoaderPlugin",(function(){return Xn})),r.d(e,"Loader",(function(){return jn})),r.d(e,"LoaderResource",(function(){return Hn})),r.d(e,"TextureLoader",(function(){return Un})),r.d(e,"ParticleContainer",(function(){return Gn})),r.d(e,"ParticleRenderer",(function(){return Yn})),r.d(e,"Spritesheet",(function(){return zn})),r.d(e,"SpritesheetLoader",(function(){return qn})),r.d(e,"TilingSprite",(function(){return Kn})),r.d(e,"TilingSpriteRenderer",(function(){return Jn})),r.d(e,"BitmapFontLoader",(function(){return eo})),r.d(e,"BitmapText",(function(){return to})),r.d(e,"Ticker",(function(){return Vt})),r.d(e,"TickerPlugin",(function(){return Yt})),r.d(e,"UPDATE_PRIORITY",(function(){return Xt})),r.d(e,"ALPHA_MODES",(function(){return b})),r.d(e,"BLEND_MODES",(function(){return d})),r.d(e,"DRAW_MODES",(function(){return p})),r.d(e,"ENV",(function(){return c})),r.d(e,"FORMATS",(function(){return f})),r.d(e,"GC_MODES",(function(){return x})),r.d(e,"MASK_TYPES",(function(){return T})),r.d(e,"MIPMAP_MODES",(function(){return g})),r.d(e,"PRECISION",(function(){return w})),r.d(e,"RENDERER_TYPE",(function(){return l})),r.d(e,"SCALE_MODES",(function(){return m})),r.d(e,"TARGETS",(function(){return v})),r.d(e,"TYPES",(function(){return _})),r.d(e,"WRAP_MODES",(function(){return y})),r.d(e,"Bounds",(function(){return Lt})),r.d(e,"Container",(function(){return kt})),r.d(e,"DisplayObject",(function(){return Nt})),r.d(e,"FillStyle",(function(){return fi})),r.d(e,"GRAPHICS_CURVES",(function(){return pi})),r.d(e,"Graphics",(function(){return ki})),r.d(e,"GraphicsData",(function(){return Mi})),r.d(e,"GraphicsGeometry",(function(){return Fi})),r.d(e,"LineStyle",(function(){return Li})),r.d(e,"graphicsUtils",(function(){return Ci})),r.d(e,"Circle",(function(){return Mt})),r.d(e,"DEG_TO_RAD",(function(){return gt})),r.d(e,"Ellipse",(function(){return Dt})),r.d(e,"Matrix",(function(){return bt})),r.d(e,"ObservablePoint",(function(){return _t})),r.d(e,"PI_2",(function(){return mt})),r.d(e,"Point",(function(){return vt})),r.d(e,"Polygon",(function(){return Rt})),r.d(e,"RAD_TO_DEG",(function(){return yt})),r.d(e,"Rectangle",(function(){return Ct})),r.d(e,"RoundedRectangle",(function(){return Ft})),r.d(e,"SHAPES",(function(){return ft})),r.d(e,"Transform",(function(){return Ot})),r.d(e,"groupD8",(function(){return Pt})),r.d(e,"Mesh",(function(){return mo})),r.d(e,"MeshBatchUvs",(function(){return fo})),r.d(e,"MeshGeometry",(function(){return go})),r.d(e,"MeshMaterial",(function(){return yo})),r.d(e,"NineSlicePlane",(function(){return So})),r.d(e,"PlaneGeometry",(function(){return bo})),r.d(e,"RopeGeometry",(function(){return xo})),r.d(e,"SimpleMesh",(function(){return Eo})),r.d(e,"SimplePlane",(function(){return To})),r.d(e,"SimpleRope",(function(){return wo})),r.d(e,"Runner",(function(){return Ht})),r.d(e,"Sprite",(function(){return Xi})),r.d(e,"AnimatedSprite",(function(){return Ao})),r.d(e,"TEXT_GRADIENT",(function(){return Hi})),r.d(e,"Text",(function(){return Ji})),r.d(e,"TextMetrics",(function(){return Ki})),r.d(e,"TextStyle",(function(){return Yi})),r.d(e,"isMobile",(function(){return h.a})),r.d(e,"settings",(function(){return E}));
/*!
 * pixi.js - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Io="5.0.0";function Po(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return pt(Io,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return pt(Io,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return pt(Io,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return pt(Io,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return pt(Io,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return pt(Io,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return pt(Io,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return pt(Io,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}},CanvasTinter:{get:function(){return pt("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),t.canvasUtils}},GroupD8:{get:function(){return pt("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),t.groupD8}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return pt(Io,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return pt(Io,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return pt(Io,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return pt(Io,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),Object.defineProperties(t.utils,{getSvgSize:{get:function(){return pt(Io,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return pt(Io,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return pt(Io,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return pt(Io,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return pt(Io,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return pt(Io,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return pt(Io,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return pt(Io,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return pt(Io,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return pt(Io,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return pt(Io,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return pt(Io,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return pt(Io,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return pt(Io,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return pt(Io,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){return pt(Io,"PIXI.loaders.parseBitmapFontData function has moved to PIXI.BitmapFontLoader.parse"),t.BitmapFontLoader.parse}},spritesheetParser:{get:function(){return pt(Io,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return pt(Io,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return pt(Io,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})},Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return pt(Io,"PIXI.extract.WebGLExtract method has moved to PIXI.extract.Extract"),t.extract.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return pt(Io,"PIXI.prepare.WebGLPrepare class has moved to PIXI.prepare.Prepare"),t.prepare.Prepare}}),t.Container.prototype._renderWebGL=function(t){pt(Io,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){pt(Io,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){pt(Io,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){pt(Io,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return pt(Io,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){pt(Io,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=t.BaseTexture;e.prototype.loadSource=function(e){pt(Io,"PIXI.BaseTexture.loadSource method has been deprecated");var r=t.resources.autoDetectResource(e);r.internal=!0,this.setResource(r),this.update()};var r=!1;Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return pt(Io,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){return pt(Io,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&this.resource.url},set:function(t){pt(Io,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return pt(Io,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource&&this.resource.source},set:function(t){pt(Io,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}},premultiplyAlpha:{get:function(){return pt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){pt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}},_id:{get:function(){return r||(pt("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),r=!0),this._batchLocation},set:function(t){this._batchLocation=t}}}),e.fromImage=function(t,r,i,n){pt(Io,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:r};return e.from(t,{scaleMode:i,resourceOptions:o})},e.fromCanvas=function(t,r){return pt(Io,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(t,{scaleMode:r})},e.fromSVG=function(t,r,i,n){pt(Io,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:r};return e.from(t,{scaleMode:i,resourceOptions:o})},Object.defineProperties(t.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return pt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){pt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}}}),t.Point.prototype.copy=function(t){return pt(Io,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return pt(Io,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return pt(Io,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return pt(Io,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},t.systems.StateSystem.prototype.setState=function(t){return pt("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return pt(Io,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(e)},returnRenderTarget:function(t){pt(Io,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){pt(Io,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),r=this.activeState,i=r.sourceFrame,n=r.destinationFrame;return e.translate(i.x/n.width,i.y/n.height),e.scale(n.width,n.height),e},calculateNormalizedScreenSpaceMatrix:function(t){pt(Io,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,r=e.sourceFrame,i=e.destinationFrame,n=t.identity();n.translate(r.x/i.width,r.y/i.height);var o=i.width/r.width,s=i.height/r.height;return n.scale(o,s),n}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return pt(Io,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return pt(Io,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(t){function e(e,r,i,n){pt(Io,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,r,i,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass),n=function(t){function e(e,r,i,n){pt(Io,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,r,i,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:i,BlurYFilter:n});var o=t.Sprite,s=t.Texture,a=t.Graphics;function u(t,e,r,i){return pt(Io,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),o.from(e,{resourceOptions:{scale:i,crossorigin:r}})}function h(t,e,r,i){return pt(Io,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),s.from(e,{resourceOptions:{scale:i,crossorigin:r}})}a.prototype.generateCanvasTexture||(a.prototype.generateCanvasTexture=function(){pt(Io,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(t.Graphics.prototype,"graphicsData",{get:function(){return pt(Io,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),o.fromImage=u.bind(null,"fromImage"),o.fromSVG=u.bind(null,"fromSVG"),o.fromCanvas=u.bind(null,"fromCanvas"),o.fromVideo=u.bind(null,"fromVideo"),o.fromFrame=u.bind(null,"fromFrame"),s.fromImage=h.bind(null,"fromImage"),s.fromSVG=h.bind(null,"fromSVG"),s.fromCanvas=h.bind(null,"fromCanvas"),s.fromVideo=h.bind(null,"fromVideo"),s.fromFrame=h.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return pt(Io,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){pt(Io,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){return pt(Io,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),t.utils.mixins={mixin:function(){pt(Io,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){pt(Io,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){pt(Io,"PIXI.utils.mixins.performMixins function is no longer available")}}}Ur.registerPlugin("accessibility",jt),Ur.registerPlugin("extract",ii),Ur.registerPlugin("interaction",di),Ur.registerPlugin("particle",Yn),Ur.registerPlugin("prepare",cn),Ur.registerPlugin("batch",ei),Ur.registerPlugin("tilingSprite",Jn),jn.registerPlugin(eo),jn.registerPlugin(qn),vn.registerPlugin(Yt),vn.registerPlugin(Xn);var Oo="5.2.0",Co={AlphaFilter:ro,BlurFilter:so,BlurFilterPass:oo,ColorMatrixFilter:ao,DisplacementFilter:uo,FXAAFilter:ho,NoiseFilter:co}},function(t,e,r){"use strict";var i=r(18),n=r(20);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=g,e.resolve=function(t,e){return g(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?g(t,!1,!0).resolveObject(e):e},e.format=function(t){n.isString(t)&&(t=g(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(h),l=["%","/","?",";","#"].concat(c),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(21);function g(t,e,r){if(t&&n.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,r),i}o.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",h=t.split(a);h[0]=h[0].replace(/\\/g,"/");var g=t=h.join(a);if(g=g.trim(),!r&&1===t.split("#").length){var b=u.exec(g);if(b)return this.path=g,this.href=g,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(g);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,g=g.substr(x.length)}if(r||x||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===g.substr(0,2);!T||x&&_[x]||(g=g.substr(2),this.slashes=!0)}if(!_[x]&&(T||x&&!m[x])){for(var E,S,A=-1,I=0;I<d.length;I++){-1!==(P=g.indexOf(d[I]))&&(-1===A||P<A)&&(A=P)}-1!==(S=-1===A?g.lastIndexOf("@"):g.lastIndexOf("@",A))&&(E=g.slice(0,S),g=g.slice(S+1),this.auth=decodeURIComponent(E)),A=-1;for(I=0;I<l.length;I++){var P;-1!==(P=g.indexOf(l[I]))&&(-1===A||P<A)&&(A=P)}-1===A&&(A=g.length),this.host=g.slice(0,A),g=g.slice(A),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var C=this.hostname.split(/\./),M=(I=0,C.length);I<M;I++){var D=C[I];if(D&&!D.match(p)){for(var R="",F=0,L=D.length;F<L;F++)D.charCodeAt(F)>127?R+="x":R+=D[F];if(!R.match(p)){var N=C.slice(0,I),B=C.slice(I+1),k=D.match(f);k&&(N.push(k[1]),B.unshift(k[2])),B.length&&(g="/"+B.join(".")+g),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=i.toASCII(this.hostname));var U=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+U,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!v[w])for(I=0,M=c.length;I<M;I++){var X=c[I];if(-1!==g.indexOf(X)){var H=encodeURIComponent(X);H===X&&(H=escape(X)),g=g.split(X).join(H)}}var G=g.indexOf("#");-1!==G&&(this.hash=g.substr(G),g=g.slice(0,G));var V=g.indexOf("?");if(-1!==V?(this.search=g.substr(V),this.query=g.substr(V+1),e&&(this.query=y.parse(this.query)),g=g.slice(0,V)):e&&(this.search="",this.query={}),g&&(this.pathname=g),m[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var Y=this.search||"";this.path=U+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),h=0;h<u.length;h++){var c=u[h];"protocol"!==c&&(r[c]=t[c])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var l=Object.keys(t),d=0;d<l.length;d++){var p=l[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||_[t.protocol])r.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",y=r.search||"";r.path=v+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||g||r.host&&t.pathname,w=x,T=r.pathname&&r.pathname.split("/")||[],E=(f=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===T[0]?T[0]=r.host:T.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),x=x&&(""===f[0]||""===T[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,T=f;else if(f.length)T||(T=[]),T.pop(),T=T.concat(f),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(E)r.hostname=r.host=T.shift(),(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift());return r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=T.slice(-1)[0],A=(r.host||t.host||T.length>1)&&("."===S||".."===S)||""===S,I=0,P=T.length;P>=0;P--)"."===(S=T[P])?T.splice(P,1):".."===S?(T.splice(P,1),I++):I&&(T.splice(P,1),I--);if(!x&&!w)for(;I--;I)T.unshift("..");!x||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),A&&"/"!==T.join("/").substr(-1)&&T.push("");var O,C=""===T[0]||T[0]&&"/"===T[0].charAt(0);E&&(r.hostname=r.host=C?"":T.length?T.shift():"",(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift()));return(x=x||r.host&&T.length)&&!C&&T.unshift(""),T.length?r.pathname=T.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,(function(t,e,i){e&&(n[r.q.name][e]=i)})),n}},function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(t,e,r,i,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new s(r,i||t,o),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function h(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),h.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)i.call(t,e)&&r.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},h.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},h.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},h.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var u,h,c=this._events[a],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,i),!0;case 5:return c.fn.call(c.context,e,r,i,o),!0;case 6:return c.fn.call(c.context,e,r,i,o,s),!0}for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];c.fn.apply(c.context,u)}else{var d,p=c.length;for(h=0;h<p;h++)switch(c[h].once&&this.removeListener(t,c[h].fn,void 0,!0),l){case 1:c[h].fn.call(c[h].context);break;case 2:c[h].fn.call(c[h].context,e);break;case 3:c[h].fn.call(c[h].context,e,r);break;case 4:c[h].fn.call(c[h].context,e,r,i);break;default:if(!u)for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];c[h].fn.apply(c[h].context,u)}}return!0},h.prototype.on=function(t,e,r){return a(this,t,e,r,!1)},h.prototype.once=function(t,e,r){return a(this,t,e,r,!0)},h.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return u(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||u(this,o);else{for(var a=0,h=[],c=s.length;a<c;a++)(s[a].fn!==e||i&&!s[a].once||r&&s[a].context!==r)&&h.push(s[a]);h.length?this._events[o]=1===h.length?h[0]:h:u(this,o)}return this},h.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&u(this,e)):(this._events=new o,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,t.exports=h},function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i,a,u,h,c,p,f,_=e&&e.length,m=_?e[0]*r:t.length,y=n(t,0,m,r,!0),g=[];if(!y||y.next===y.prev)return g;if(_&&(y=function(t,e,r,i){var s,a,u,h,c,p=[];for(s=0,a=e.length;s<a;s++)u=e[s]*i,h=s<a-1?e[s+1]*i:t.length,(c=n(t,u,h,i,!1))===c.next&&(c.steiner=!0),p.push(v(c));for(p.sort(l),s=0;s<p.length;s++)d(p[s],r),r=o(r,r.next);return r}(t,e,y,r)),t.length>80*r){i=u=t[0],a=h=t[1];for(var b=r;b<m;b+=r)(c=t[b])<i&&(i=c),(p=t[b+1])<a&&(a=p),c>u&&(u=c),p>h&&(h=p);f=0!==(f=Math.max(u-i,h-a))?1/f:0}return s(y,g,r,i,a,f),g}function n(t,e,r,i,n){var o,s;if(n===P(t,e,r,i)>0)for(o=e;o<r;o+=i)s=S(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=S(o,t[o],t[o+1],s);return s&&g(s,s.next)&&(A(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!g(i,i.next)&&0!==y(i.prev,i,i.next))i=i.next;else{if(A(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function s(t,e,r,i,n,l,d){if(t){!d&&l&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=f(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,u,h=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<h&&(a++,i=i.nextZ);e++);for(u=h;a>0||u>0&&i;)0!==a&&(0===u||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,u--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,h*=2}while(s>1)}(n)}(t,i,n,l);for(var p,v,_=t;t.prev!==t.next;)if(p=t.prev,v=t.next,l?u(t,i,n,l):a(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),A(t),t=v.next,_=v.next;else if((t=v)===_){d?1===d?s(t=h(o(t),e,r),e,r,i,n,l,2):2===d&&c(t,e,r,i,n,l):s(o(t),e,r,i,n,l,1);break}}}function a(t){var e=t.prev,r=t,i=t.next;if(y(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(_(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&y(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function u(t,e,r,i){var n=t.prev,o=t,s=t.next;if(y(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,u=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,h=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,c=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,l=f(a,u,e,r,i),d=f(h,c,e,r,i),p=t.prevZ,v=t.nextZ;p&&p.z>=l&&v&&v.z<=d;){if(p!==t.prev&&p!==t.next&&_(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&_(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=l;){if(p!==t.prev&&p!==t.next&&_(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=d;){if(v!==t.prev&&v!==t.next&&_(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function h(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;!g(n,s)&&b(n,i,i.next,s)&&T(n,s)&&T(s,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(s.i/r),A(i),A(i.next),i=t=s),i=i.next}while(i!==t);return o(i)}function c(t,e,r,i,n,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&m(u,h)){var c=E(u,h);return u=o(u,u.next),c=o(c,c.next),s(u,e,r,i,n,a),void s(c,e,r,i,n,a)}h=h.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function d(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r;var u,h=r,c=r.x,l=r.y,d=1/0;i=r;do{n>=i.x&&i.x>=c&&n!==i.x&&_(o<l?n:s,o,c,l,o<l?s:n,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(n-i.x),T(i,t)&&(u<d||u===d&&(i.x>r.x||i.x===r.x&&p(r,i)))&&(r=i,d=u)),i=i.next}while(i!==h);return r}(t,e)){var r=E(e,t);o(e,e.next),o(r,r.next)}}function p(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function f(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function v(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function _(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&b(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(T(t,e)&&T(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||g(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,r,i){var n=w(y(t,e,r)),o=w(y(t,e,i)),s=w(y(r,i,t)),a=w(y(r,i,e));return n!==o&&s!==a||(!(0!==n||!x(t,r,e))||(!(0!==o||!x(t,i,e))||(!(0!==s||!x(r,t,i))||!(0!==a||!x(r,e,i)))))}function x(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function w(t){return t>0?1:t<0?-1:0}function T(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function E(t,e){var r=new I(t.i,t.x,t.y),i=new I(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function S(t,e,r,i){var n=new I(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function I(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=i,t.exports.default=i,i.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(P(t,0,o,r));if(n)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,c=a<u-1?e[a+1]*r:t.length;s-=Math.abs(P(t,h,c,r))}var l=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;l+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===l?0:Math.abs((l-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(33),n=function(){function t(){this._paused$=new i.BehaviorSubject(!1),this._score$=new i.BehaviorSubject(0)}return Object.defineProperty(t.prototype,"paused$",{get:function(){return this._paused$},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this._paused$.value},set:function(t){this._paused$.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"score$",{get:function(){return this._score$},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"score",{get:function(){return this._score$.value},set:function(t){this._score$.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t}();e.GameState=n},function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(28),s=function(){function t(){this.key=Math.random().toString(36).substr(2,9)}return t.loadResources=function(){return i(this,void 0,void 0,(function(){var t=this;return n(this,(function(e){return[2,new Promise((function(e,r){if(t.soundsUrls)for(var i in t.sounds={},t.soundsUrls)t.sounds[i]=new o.Howl({src:t.soundsUrls[i]}),t.sounds[i].once("load",(function(){Object.values(t.sounds).every((function(t){return"loaded"===t.state()}))&&e()}));else e()}))]}))}))},t.prototype.playSound=function(t){this.constructor.sounds&&this.constructor.sounds[t]&&this.constructor.sounds[t].play()},t.prototype.configure=function(t){this.throwIfSpriteMissed(),this.sprite.anchor.set(.5),this.sprite.pivot.set(.5),t&&t.interactive&&(this.sprite.interactive=!0,this.sprite.buttonMode=!0)},t.prototype.move=function(t,e){this.throwIfSpriteMissed(),this.sprite.position.set(t,e)},t.prototype.throwIfSpriteMissed=function(){if(!this.sprite)throw new Error("sprite does not exists on "+this.constructor.name)},t}();e.Actor=s},function(t,e,r){(function(i,n){var o;!function(i){var s=i.Promise,a=s&&"resolve"in s&&"reject"in s&&"all"in s&&"race"in s&&function(){var t;return new s((function(e){t=e})),"function"==typeof t}();e?(e.Promise=a?s:T,e.Polyfill=T):void 0===(o=function(){return a?s:T}.call(e,r,e,t))||(t.exports=o);var u=function(){};function h(t){return"[object Array]"===Object.prototype.toString.call(t)}var c,l=void 0!==n?n:setTimeout,d=[];function p(){for(var t=0;t<d.length;t++)d[t][0](d[t][1]);d=[],c=!1}function f(t,e){d.push([t,e]),c||(c=!0,l(p,0))}function v(t){var e=t.owner,r=e.state_,i=e.data_,n=t[r],o=t.then;if("function"==typeof n){r="fulfilled";try{i=n(i)}catch(t){g(o,t)}}_(o,i)||("fulfilled"===r&&m(o,i),"rejected"===r&&g(o,i))}function _(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,(function(i){r||(r=!0,e!==i?m(t,i):y(t,i))}),(function(e){r||(r=!0,g(t,e))})),!0}}catch(e){return r||g(t,e),!0}return!1}function m(t,e){t!==e&&_(t,e)||y(t,e)}function y(t,e){"pending"===t.state_&&(t.state_="sealed",t.data_=e,f(x,t))}function g(t,e){"pending"===t.state_&&(t.state_="sealed",t.data_=e,f(w,t))}function b(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)v(e[r])}function x(t){t.state_="fulfilled",b(t)}function w(t){t.state_="rejected",b(t)}function T(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof T==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function r(t){g(e,t)}try{t((function(t){m(e,t)}),r)}catch(t){r(t)}}(t,this)}T.prototype={constructor:T,state_:"pending",then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(u),fulfilled:t,rejected:e};return"fulfilled"===this.state_||"rejected"===this.state_?f(v,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},T.all=function(t){if(!h(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,r){var i=[],n=0;function o(t){return n++,function(r){i[t]=r,--n||e(i)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),r):i[a]=s;n||e(i)}))},T.race=function(t){if(!h(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,r){for(var i,n=0;n<t.length;n++)(i=t[n])&&"function"==typeof i.then?i.then(e,r):e(i)}))},T.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},T.reject=function(t){return new this((function(e,r){r(t)}))}}("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this)}).call(this,r(2),r(15).setImmediate)},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,a,u=s(t),h=1;h<arguments.length;h++){for(var c in r=Object(arguments[h]))n.call(r,c)&&(u[c]=r[c]);if(i){a=i(r);for(var l=0;l<a.length;l++)o.call(r,a[l])&&(u[a[l]]=r[a[l]])}}return u}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(13);"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(t){console.log("Service worker registered.",t)}))}));var n=document.getElementById("pixiApp");new i.Game(n).run()},function(t,e,r){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(3)).Application,o=r(24),s=r(31),a=function(){function t(t){var e=t.clientHeight,r=t.clientWidth;this.pixiApp=new n({width:r,height:e,antialias:!0,backgroundColor:8900331}),this.stage=this.pixiApp.stage,this.uiLayer=new s.UiLayer(t),t.appendChild(this.pixiApp.view)}return t.prototype.run=function(){this.startLevel(new o.FirstLevel)},t.prototype.startLevel=function(t){this.activeLevel=t,this.activeLevel.attachToApp(this.pixiApp);try{this.activeLevel.run()}catch(t){console.log(t)}},t}();e.Game=a},function(t,e,r){"use strict";(function(t){var e=r(10),i=r(11),n=r.n(i);
/*!
 * @pixi/polyfill - v5.2.0
 * Compiled Wed, 06 Nov 2019 02:32:43 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
window.Promise||(window.Promise=e.Polyfill),Object.assign||(Object.assign=n.a);var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!o.performance||!o.performance.now){var s=Date.now();o.performance||(o.performance={}),o.performance.now=function(){return Date.now()-s}}for(var a=Date.now(),u=["ms","moz","webkit","o"],h=0;h<u.length&&!o.requestAnimationFrame;++h){var c=u[h];o.requestAnimationFrame=o[c+"RequestAnimationFrame"],o.cancelAnimationFrame=o[c+"CancelAnimationFrame"]||o[c+"CancelRequestAnimationFrame"]}o.requestAnimationFrame||(o.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+a-e;return r<0&&(r=0),a=e,setTimeout((function(){a=Date.now(),t(performance.now())}),r)}),o.cancelAnimationFrame||(o.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array)}).call(this,r(2))},function(t,e,r){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(n.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(n.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(16),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(2))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var i,n,o,s,a,u=1,h={},c=!1,l=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){f(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){f(t.data)},i=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(n=l.documentElement,i=function(t){var e=l.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):i=function(t){setTimeout(f,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&f(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return h[u]=n,i(u),u++},d.clearImmediate=p}function p(t){delete h[t]}function f(t){if(c)setTimeout(f,0,t);else{var e=h[t];if(e){c=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{p(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(2),r(17))},function(t,e){var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,h=[],c=!1,l=-1;function d(){c&&u&&(c=!1,u.length?h=u.concat(h):l=-1,h.length&&p())}function p(){if(!c){var t=a(d);c=!0;for(var e=h.length;e;){for(u=h,h=[];++l<e;)u&&u[l].run();l=-1,e=h.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function v(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new f(t,e)),1!==h.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){(function(t,i){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof i&&i;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,h=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function v(t){throw new RangeError(d[t])}function _(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function m(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+_((t=t.replace(l,".")).split("."),e).join(".")}function y(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function g(t){return _(t,(function(t){var e="";return t>65535&&(e+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=f(t)})).join("")}function b(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function x(t,e,r){var i=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;i+=36)t=p(t/35);return p(i+36*t/(t+38))}function w(t){var e,r,i,n,o,s,a,h,c,l,d,f=[],_=t.length,m=0,y=128,b=72;for((r=t.lastIndexOf("-"))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&v("not-basic"),f.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<_;){for(o=m,s=1,a=36;n>=_&&v("invalid-input"),((h=(d=t.charCodeAt(n++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||h>p((u-m)/s))&&v("overflow"),m+=h*s,!(h<(c=a<=b?1:a>=b+26?26:a-b));a+=36)s>p(u/(l=36-c))&&v("overflow"),s*=l;b=x(m-o,e=f.length+1,0==o),p(m/e)>u-y&&v("overflow"),y+=p(m/e),m%=e,f.splice(m++,0,y)}return g(f)}function T(t){var e,r,i,n,o,s,a,h,c,l,d,_,m,g,w,T=[];for(_=(t=y(t)).length,e=128,r=0,o=72,s=0;s<_;++s)(d=t[s])<128&&T.push(f(d));for(i=n=T.length,n&&T.push("-");i<_;){for(a=u,s=0;s<_;++s)(d=t[s])>=e&&d<a&&(a=d);for(a-e>p((u-r)/(m=i+1))&&v("overflow"),r+=(a-e)*m,e=a,s=0;s<_;++s)if((d=t[s])<e&&++r>u&&v("overflow"),d==e){for(h=r,c=36;!(h<(l=c<=o?1:c>=o+26?26:c-o));c+=36)w=h-l,g=36-l,T.push(f(b(l+w%g,0))),h=p(w/g);T.push(f(b(h,0))),o=x(r,m,i==n),r=0,++i}++r,++e}return T.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:g},decode:w,encode:T,toASCII:function(t){return m(t,(function(t){return c.test(t)?"xn--"+T(t):t}))},toUnicode:function(t){return m(t,(function(t){return h.test(t)?w(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(19)(t),r(2))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(22),e.encode=e.stringify=r(23)},function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var c=0;c<h;++c){var l,d,p,f,v=t[c].replace(a,"%20"),_=v.indexOf(r);_>=0?(l=v.substr(0,_),d=v.substr(_+1)):(l=v,d=""),p=decodeURIComponent(l),f=decodeURIComponent(d),i(s,p)?n(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(i(s))+r;return n(t[s])?o(t[s],(function(t){return a+encodeURIComponent(i(t))})).join(e):a+encodeURIComponent(i(t[s]))})).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(25),u=r(26),h=r(29),c=function(t){function e(){var e=t.call(this)||this;return e.balloonSpeed=2,e.balloonLaunchInterval=1500,e.cloudSpawnTopBorder=.01,e.cloudSpawnBottomBorder=.35,e.cloudLaunchInterval=1e4,e.cloudSpeed=.3,e}return n(e,t),e.prototype.init=function(){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,u.RedBalloon.loadResources()];case 1:return t.sent(),[4,h.Cloud.loadResources()];case 2:return t.sent(),this.startLaunchingClouds(),this.startLaunchingBalloons(),[2]}}))}))},e.prototype.render=function(t){for(var e in this.actors){var r=this.actors[e];r instanceof u.Balloon?this.updateBalloon(r,t):r instanceof h.Cloud&&this.updateCloud(r,t)}},e.prototype.startLaunchingClouds=function(){for(var t=this,e=0;e<5;e++){var r=this.createCloud();r.move.apply(r,this.getCloudSpawnPoint(r,!0))}setInterval((function(){if(!t.gameState.paused){var e=t.createCloud();e.move.apply(e,t.getCloudSpawnPoint(e))}}),this.cloudLaunchInterval)},e.prototype.updateBalloon=function(t,e){t.sprite.y>0-t.sprite.height?t.sprite.y=t.sprite.y-this.balloonSpeed*e:this.removeActor(t)},e.prototype.updateCloud=function(t,e){t.sprite.x>0-t.sprite.width?t.sprite.x=t.sprite.x-this.cloudSpeed*e:this.removeActor(t)},e.prototype.startLaunchingBalloons=function(){var t=this;setInterval((function(){if(!t.gameState.paused){var e=t.createBalloon();e.move.apply(e,t.getBalloonSpawnPoint(e))}}),this.balloonLaunchInterval)},e.prototype.createBalloon=function(){var t=this,e=new u.RedBalloon;return e.sprite.on("pointerdown",(function(){t.gameState.score++,e.playSound("pop"),e.playAnimation({onComplete:function(){return t.removeActor(e)}})})),this.attachActor(e),e},e.prototype.createCloud=function(){var t=h.Cloud.shapes[this.getRandomNumber(0,h.Cloud.shapes.length-1)],e=new h.Cloud(t);return this.attachActor(e),e},e.prototype.getBalloonSpawnPoint=function(t){var e=t.sprite.width/2,r=t.sprite.height,i=this.app.screen.width,n=this.getRandomNumber(e,i-e);return[Math.floor(n),this.app.screen.height+r]},e.prototype.getCloudSpawnPoint=function(t,e){void 0===e&&(e=!1);var r=t.sprite.width,i=t.sprite.height/2,n=this.app.screen.height*this.cloudSpawnTopBorder,o=this.app.screen.height*this.cloudSpawnBottomBorder,s=this.app.screen.width+r+50;return[e?this.getRandomNumber(0,s):s,this.getRandomNumber(n+i,o-i)]},e.prototype.getRandomNumber=function(t,e){return Math.floor(t+Math.random()*(e+1-t))},e}(a.Level);e.FirstLevel=c},function(t,e,r){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(3)).Container,o=r(8),s=function(){function t(){var t=this;this.levelContainer=new n,this.actors={},this.gameState=o.GameState.instance,this.renderF=function(e){t.gameState.paused||t.render(e)}}return t.prototype.attachToApp=function(t){this.app=t,this.app.stage.addChild(this.levelContainer)},t.prototype.attachRenderF=function(){this.app.ticker.add(this.renderF)},t.prototype.detachRenderF=function(){this.app.ticker.remove(this.renderF)},t.prototype.attachActor=function(t){this.actors[t.key]=t,this.levelContainer.addChild(t.sprite)},t.prototype.removeActor=function(t){t.key in this.actors&&(this.levelContainer.removeChild(t.sprite),delete this.actors[t.key])},t.prototype.run=function(){var t=this;this.init().then((function(){return t.attachRenderF()}))},t}();e.Level=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(27);!function(t){t.red="red",t.green="green",t.blue="blue",t.yellow="yellow"}(e.EBalloonColor||(e.EBalloonColor={}));var s=function(t){function e(){return t.call(this,{interactive:!0})||this}return n(e,t),e.soundsUrls={pop:"assets/sounds/balloon-pop.mp3"},e}(o.AnimatedActor);e.Balloon=s;var a=function(t){function e(){return t.call(this)||this}return n(e,t),e.animationsUrls={"balloon-pop":"assets/images/balloon-red/sprites.json"},e}(s);e.RedBalloon=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var u=a(r(3)),h=r(9),c=u.AnimatedSprite,l=u.Loader,d=function(t){function e(e){var r=this,i=e.interactive;if(!(r=t.call(this)||this).constructor.animations||!Object.keys(r.constructor.animations).length)throw new Error("define some animation on "+r.constructor.name);var n=e.initialAnimKey?e.initialAnimKey:Object.keys(r.constructor.animations)[0],o=r.constructor.animations[n];if(!o)throw new Error("could not get initial animation on "+r.constructor.name);return r.currentAnimationKey=n,r.sprite=new c(o),r.configure({interactive:i}),r.sprite.animationSpeed=.6,r}return n(e,t),e.loadResources=function(){return o(this,void 0,void 0,(function(){var t=this;return s(this,(function(e){switch(e.label){case 0:if(!this.animationsUrls||!Object.keys(this.animationsUrls).length)throw new Error("animationsUrls does not set on class "+this.name);return[4,h.Actor.loadResources.call(this)];case 1:return e.sent(),this.animations={},[2,new Promise((function(e,r){var i=new l;for(var n in t.animationsUrls)i.add(n,t.animationsUrls[n]);i.load((function(r,i){for(var n in i)i[n].textures&&(t.animations[n]=Object.values(i[n].textures));e()})),i.on("error",(function(t){return r(t)}))}))]}}))}))},e.prototype.playAnimation=function(t){t&&(this.sprite.loop=t.loop,t.animationKey&&(this.currentAnimationKey,t.animationKey),t.onComplete&&(this.sprite.onComplete=t.onComplete)),this.sprite.play()},e}(h.Actor);e.AnimatedActor=d},function(t,e,r){(function(r){var i;
/*!
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var t=this||o;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||o;if(t=parseFloat(t),e.ctx||p(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,o.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var i=e._howls[r]._getSoundIds(),n=0;n<i.length;n++){var s=e._howls[r]._soundById(i[n]);s&&s._node&&(s._node.volume=s._volume*t)}return e}return e._volume},mute:function(t){var e=this||o;e.ctx||p(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,o.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var i=e._howls[r]._getSoundIds(),n=0;n<i.length;n++){var s=e._howls[r]._soundById(i[n]);s&&s._node&&(s._node.muted=!!t||s._muted)}return e},unload:function(){for(var t=this||o,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||o)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||o;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||o,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var r=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),n=i&&parseInt(i[0].split("/")[1],10)<33;return t._codecs={mp3:!(n||!r&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||o;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(r){for(var i=0;i<t.html5PoolSize;i++)try{var n=new Audio;n._unlocked=!0,t._releaseHtml5Audio(n)}catch(r){t.noAudio=!0}for(i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var o=t._howls[i]._getSoundIds(),s=0;s<o.length;s++){var a=t._howls[i]._soundById(o[s]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}t._autoResume();var u=t.ctx.createBufferSource();u.buffer=t._scratchBuffer,u.connect(t.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),u.onended=function(){u.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0);for(var r=0;r<t._howls.length;r++)t._howls[r]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),t}},_obtainHtml5Audio:function(){var t=this||o;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||o;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&o.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var r=0;r<t._howls[e]._sounds.length;r++)if(!t._howls[e]._sounds[r]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then((function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())})))}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&o.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var o=new n,s=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(t){var e=this;return o.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhrWithCredentials=t.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=o.usingWebAudio&&!e._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var r,i;if(this._format&&this._format[e])r=this._format[e];else{if("string"!=typeof(i=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(i))||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&o.codecs(r)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new a(this),this._webAudio&&h(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var r=this,i=null;if("number"==typeof t)i=t,t=null;else{if("string"==typeof t&&"loaded"===r._state&&!r._sprite[t])return null;if(void 0===t&&(t="__default",!r._playLock)){for(var n=0,s=0;s<r._sounds.length;s++)r._sounds[s]._paused&&!r._sounds[s]._ended&&(n++,i=r._sounds[s]._id);1===n?t=null:i=null}}var a=i?r._soundById(i):r._inactiveSound();if(!a)return null;if(i&&!t&&(t=a._sprite||"__default"),"loaded"!==r._state){a._sprite=t,a._ended=!1;var u=a._id;return r._queue.push({event:"play",action:function(){r.play(u)}}),u}if(i&&!a._paused)return e||r._loadQueue("play"),a._id;r._webAudio&&o._autoResume();var h=Math.max(0,a._seek>0?a._seek:r._sprite[t][0]/1e3),c=Math.max(0,(r._sprite[t][0]+r._sprite[t][1])/1e3-h),l=1e3*c/Math.abs(a._rate),d=r._sprite[t][0]/1e3,p=(r._sprite[t][0]+r._sprite[t][1])/1e3;a._sprite=t,a._ended=!1;var f=function(){a._paused=!1,a._seek=h,a._start=d,a._stop=p,a._loop=!(!a._loop&&!r._sprite[t][2])};if(!(h>=p)){var v=a._node;if(r._webAudio){var _=function(){r._playLock=!1,f(),r._refreshBuffer(a);var t=a._muted||r._muted?0:a._volume;v.gain.setValueAtTime(t,o.ctx.currentTime),a._playStart=o.ctx.currentTime,void 0===v.bufferSource.start?a._loop?v.bufferSource.noteGrainOn(0,h,86400):v.bufferSource.noteGrainOn(0,h,c):a._loop?v.bufferSource.start(0,h,86400):v.bufferSource.start(0,h,c),l!==1/0&&(r._endTimers[a._id]=setTimeout(r._ended.bind(r,a),l)),e||setTimeout((function(){r._emit("play",a._id),r._loadQueue()}),0)};"running"===o.state?_():(r._playLock=!0,r.once("resume",_),r._clearTimer(a._id))}else{var m=function(){v.currentTime=h,v.muted=a._muted||r._muted||o._muted||v.muted,v.volume=a._volume*o.volume(),v.playbackRate=a._rate;try{var i=v.play();if(i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)?(r._playLock=!0,f(),i.then((function(){r._playLock=!1,v._unlocked=!0,e||(r._emit("play",a._id),r._loadQueue())})).catch((function(){r._playLock=!1,r._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0}))):e||(r._playLock=!1,f(),r._emit("play",a._id),r._loadQueue()),v.playbackRate=a._rate,v.paused)return void r._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||a._loop?r._endTimers[a._id]=setTimeout(r._ended.bind(r,a),l):(r._endTimers[a._id]=function(){r._ended(a),v.removeEventListener("ended",r._endTimers[a._id],!1)},v.addEventListener("ended",r._endTimers[a._id],!1))}catch(t){r._emit("playerror",a._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===v.src&&(v.src=r._src,v.load());var y=window&&window.ejecta||!v.readyState&&o._navigator.isCocoonJS;if(v.readyState>=3||y)m();else{r._playLock=!0;var g=function(){m(),v.removeEventListener(o._canPlayEvent,g,!1)};v.addEventListener(o._canPlayEvent,g,!1),r._clearTimer(a._id)}}return a._id}r._ended(a)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var r=e._getSoundIds(t),i=0;i<r.length;i++){e._clearTimer(r[i]);var n=e._soundById(r[i]);if(n&&!n._paused&&(n._seek=e.seek(r[i]),n._rateSeek=0,n._paused=!0,e._stopFade(r[i]),n._node))if(e._webAudio){if(!n._node.bufferSource)continue;void 0===n._node.bufferSource.stop?n._node.bufferSource.noteOff(0):n._node.bufferSource.stop(0),e._cleanBuffer(n._node)}else isNaN(n._node.duration)&&n._node.duration!==1/0||n._node.pause();arguments[1]||e._emit("pause",n?n._id:null)}return e},stop:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(t)}}),r;for(var i=r._getSoundIds(t),n=0;n<i.length;n++){r._clearTimer(i[n]);var o=r._soundById(i[n]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,r._stopFade(i[n]),o._node&&(r._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),r._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&r._clearSound(o._node))),e||r._emit("stop",o._id))}return r},mute:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(t,e)}}),r;if(void 0===e){if("boolean"!=typeof t)return r._muted;r._muted=t}for(var i=r._getSoundIds(e),n=0;n<i.length;n++){var s=r._soundById(i[n]);s&&(s._muted=t,s._interval&&r._stopFade(s._id),r._webAudio&&s._node?s._node.gain.setValueAtTime(t?0:s._volume,o.ctx.currentTime):s._node&&(s._node.muted=!!o._muted||t),r._emit("mute",s._id))}return r},volume:function(){var t,e,r,i=this,n=arguments;if(0===n.length)return i._volume;if(1===n.length||2===n.length&&void 0===n[1]){var s=i._getSoundIds(),a=s.indexOf(n[0]);a>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else n.length>=2&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(r=e?i._soundById(e):i._sounds[0])?r._volume:0;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,n)}}),i;void 0===e&&(i._volume=t),e=i._getSoundIds(e);for(var u=0;u<e.length;u++)(r=i._soundById(e[u]))&&(r._volume=t,n[2]||i._stopFade(e[u]),i._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(t,o.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=t*o.volume()),i._emit("volume",r._id));return i},fade:function(t,e,r,i){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"fade",action:function(){n.fade(t,e,r,i)}}),n;t=parseFloat(t),e=parseFloat(e),r=parseFloat(r),n.volume(t,i);for(var s=n._getSoundIds(i),a=0;a<s.length;a++){var u=n._soundById(s[a]);if(u){if(i||n._stopFade(s[a]),n._webAudio&&!u._muted){var h=o.ctx.currentTime,c=h+r/1e3;u._volume=t,u._node.gain.setValueAtTime(t,h),u._node.gain.linearRampToValueAtTime(e,c)}n._startFadeInterval(u,t,e,r,s[a],void 0===i)}}return n},_startFadeInterval:function(t,e,r,i,n,o){var s=this,a=e,u=r-e,h=Math.abs(u/.01),c=Math.max(4,h>0?i/h:i),l=Date.now();t._fadeTo=r,t._interval=setInterval((function(){var n=(Date.now()-l)/i;l=Date.now(),a+=u*n,a=Math.max(0,a),a=Math.min(1,a),a=Math.round(100*a)/100,s._webAudio?t._volume=a:s.volume(a,t._id,!0),o&&(s._volume=a),(r<e&&a<=r||r>e&&a>=r)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,s.volume(r,t._id),s._emit("fade",t._id))}),c)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,r,i=this,n=arguments;if(0===n.length)return i._loop;if(1===n.length){if("boolean"!=typeof n[0])return!!(r=i._soundById(parseInt(n[0],10)))&&r._loop;t=n[0],i._loop=t}else 2===n.length&&(t=n[0],e=parseInt(n[1],10));for(var o=i._getSoundIds(e),s=0;s<o.length;s++)(r=i._soundById(o[s]))&&(r._loop=t,i._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=t,t&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop)));return i},rate:function(){var t,e,r,i=this,n=arguments;if(0===n.length)e=i._sounds[0]._id;else if(1===n.length){var s=i._getSoundIds(),a=s.indexOf(n[0]);a>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if("number"!=typeof t)return(r=i._soundById(e))?r._rate:i._rate;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,n)}}),i;void 0===e&&(i._rate=t),e=i._getSoundIds(e);for(var u=0;u<e.length;u++)if(r=i._soundById(e[u])){i.playing(e[u])&&(r._rateSeek=i.seek(e[u]),r._playStart=i._webAudio?o.ctx.currentTime:r._playStart),r._rate=t,i._webAudio&&r._node&&r._node.bufferSource?r._node.bufferSource.playbackRate.setValueAtTime(t,o.ctx.currentTime):r._node&&(r._node.playbackRate=t);var h=i.seek(e[u]),c=(i._sprite[r._sprite][0]+i._sprite[r._sprite][1])/1e3-h,l=1e3*c/Math.abs(r._rate);!i._endTimers[e[u]]&&r._paused||(i._clearTimer(e[u]),i._endTimers[e[u]]=setTimeout(i._ended.bind(i,r),l)),i._emit("rate",r._id)}return i},seek:function(){var t,e,r=this,i=arguments;if(0===i.length)e=r._sounds[0]._id;else if(1===i.length){var n=r._getSoundIds(),s=n.indexOf(i[0]);s>=0?e=parseInt(i[0],10):r._sounds.length&&(e=r._sounds[0]._id,t=parseFloat(i[0]))}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if(void 0===e)return r;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"seek",action:function(){r.seek.apply(r,i)}}),r;var a=r._soundById(e);if(a){if(!("number"==typeof t&&t>=0)){if(r._webAudio){var u=r.playing(e)?o.ctx.currentTime-a._playStart:0,h=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(h+u*Math.abs(a._rate))}return a._node.currentTime}var c=r.playing(e);c&&r.pause(e,!0),a._seek=t,a._ended=!1,r._clearTimer(e),r._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=t);var l=function(){r._emit("seek",e),c&&r.play(e,!0)};if(c&&!r._webAudio){var d=function(){r._playLock?setTimeout(d,0):l()};setTimeout(d,0)}else l()}return r},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var r=0;r<this._sounds.length;r++)if(!this._sounds[r]._paused)return!0;return!1},duration:function(t){var e=this._duration,r=this._soundById(t);return r&&(e=this._sprite[r._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,r=0;r<e.length;r++)e[r]._paused||t.stop(e[r]._id),t._webAudio||(t._clearSound(e[r]._node),e[r]._node.removeEventListener("error",e[r]._errorFn,!1),e[r]._node.removeEventListener(o._canPlayEvent,e[r]._loadFn,!1),o._releaseHtml5Audio(e[r]._node)),delete e[r]._node,t._clearTimer(e[r]._id);var i=o._howls.indexOf(t);i>=0&&o._howls.splice(i,1);var n=!0;for(r=0;r<o._howls.length;r++)if(o._howls[r]._src===t._src||t._src.indexOf(o._howls[r]._src)>=0){n=!1;break}return u&&n&&delete u[t._src],o.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,r,i){var n=this["_on"+t];return"function"==typeof e&&n.push(i?{id:r,fn:e,once:i}:{id:r,fn:e}),this},off:function(t,e,r){var i=this["_on"+t],n=0;if("number"==typeof e&&(r=e,e=null),e||r)for(n=0;n<i.length;n++){var o=r===i[n].id;if(e===i[n].fn&&o||!e&&o){i.splice(n,1);break}}else if(t)this["_on"+t]=[];else{var s=Object.keys(this);for(n=0;n<s.length;n++)0===s[n].indexOf("_on")&&Array.isArray(this[s[n]])&&(this[s[n]]=[])}return this},once:function(t,e,r){return this.on(t,e,r,1),this},_emit:function(t,e,r){for(var i=this["_on"+t],n=i.length-1;n>=0;n--)i[n].id&&i[n].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,r)}.bind(this,i[n].fn),0),i[n].once&&this.off(t,i[n].fn,i[n].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var r=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&r&&this.stop(t._id,!0).play(t._id),this._webAudio&&r){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=o.ctx.currentTime;var i=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),i)}return this._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),o._autoSuspend()),this._webAudio||r||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new a(this)},_drain:function(){var t=this._pool,e=0,r=0;if(!(this._sounds.length<t)){for(r=0;r<this._sounds.length;r++)this._sounds[r]._ended&&e++;for(r=this._sounds.length-1;r>=0;r--){if(e<=t)return;this._sounds[r]._ended&&(this._webAudio&&this._sounds[r]._node&&this._sounds[r]._node.disconnect(0),this._sounds.splice(r,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],r=0;r<this._sounds.length;r++)e.push(this._sounds[r]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=o.ctx.createBufferSource(),t._node.bufferSource.buffer=u[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,o.ctx.currentTime),this},_cleanBuffer:function(t){var e=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=o._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(t){this._parent=t,this.init()};a.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=o._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(e,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):o.noAudio||(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._node.src=t._src,this._node.preload="auto",this._node.volume=e*o.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)}};var u={},h=function(t){var e=t._src;if(u[e])return t._duration=u[e].duration,void d(t);if(/^data:[^;]+;base64,/.test(e)){for(var r=atob(e.split(",")[1]),i=new Uint8Array(r.length),n=0;n<r.length;++n)i[n]=r.charCodeAt(n);l(i.buffer,t)}else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.withCredentials=t._xhrWithCredentials,o.responseType="arraybuffer",o.onload=function(){var e=(o.status+"")[0];"0"===e||"2"===e||"3"===e?l(o.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete u[e],t.load())},c(o)}},c=function(t){try{t.send()}catch(e){t.onerror()}},l=function(t,e){var r=function(){e._emit("loaderror",null,"Decoding audio data failed.")},i=function(t){t&&e._sounds.length>0?(u[e._src]=t,d(e,t)):r()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(t).then(i).catch(r):o.ctx.decodeAudioData(t,i,r)},d=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(t){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),e=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=e?parseInt(e[1],10):null;if(t&&r&&r<9){var i=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());(o._navigator&&o._navigator.standalone&&!i||o._navigator&&!o._navigator.standalone&&!i)&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(i=function(){return{Howler:o,Howl:s}}.apply(e,[]))||(t.exports=i),e.Howler=o,e.Howl=s,"undefined"!=typeof window?(window.HowlerGlobal=n,window.Howler=o,window.Howl=s,window.Sound=a):void 0!==r&&(r.HowlerGlobal=n,r.Howler=o,r.Howl=s,r.Sound=a)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,r){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,r="number"!=typeof r?this._pos[2]:r,"number"!=typeof t?this._pos:(this._pos=[t,e,r],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,r,i,n,o){if(!this.ctx||!this.ctx.listener)return this;var s=this._orientation;return e="number"!=typeof e?s[1]:e,r="number"!=typeof r?s[2]:r,i="number"!=typeof i?s[3]:i,n="number"!=typeof n?s[4]:n,o="number"!=typeof o?s[5]:o,"number"!=typeof t?s:(this._orientation=[t,e,r,i,n,o],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,r,i,n,o),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(t,r)}}),i;var n=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===r){if("number"!=typeof t)return i._stereo;i._stereo=t,i._pos=[t,0,0]}for(var o=i._getSoundIds(r),s=0;s<o.length;s++){var a=i._soundById(o[s]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||e(a,n),"spatial"===n?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(t,0,0):a._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",a._id)}}return i},Howl.prototype.pos=function(t,r,i,n){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,r,i,n)}}),o;if(r="number"!=typeof r?0:r,i="number"!=typeof i?-.5:i,void 0===n){if("number"!=typeof t)return o._pos;o._pos=[t,r,i]}for(var s=o._getSoundIds(n),a=0;a<s.length;a++){var u=o._soundById(s[a]);if(u){if("number"!=typeof t)return u._pos;u._pos=[t,r,i],u._node&&(u._panner&&!u._panner.pan||e(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):u._panner.setPosition(t,r,i)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(t,r,i,n){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,r,i,n)}}),o;if(r="number"!=typeof r?o._orientation[1]:r,i="number"!=typeof i?o._orientation[2]:i,void 0===n){if("number"!=typeof t)return o._orientation;o._orientation=[t,r,i]}for(var s=o._getSoundIds(n),a=0;a<s.length;a++){var u=o._soundById(s[a]);if(u){if("number"!=typeof t)return u._orientation;u._orientation=[t,r,i],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),e(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):u._panner.setOrientation(t,r,i)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var t,r,i,n=this,o=arguments;if(!n._webAudio)return n;if(0===o.length)return n._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return(i=n._soundById(parseInt(o[0],10)))?i._pannerAttr:n._pannerAttr;t=o[0],void 0===r&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),n._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:n._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:n._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:n._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:n._panningModel})}else 2===o.length&&(t=o[0],r=parseInt(o[1],10));for(var s=n._getSoundIds(r),a=0;a<s.length;a++)if(i=n._soundById(s[a])){var u=i._pannerAttr;u={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:u.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:u.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:u.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:u.panningModel};var h=i._panner;h?(h.coneInnerAngle=u.coneInnerAngle,h.coneOuterAngle=u.coneOuterAngle,h.coneOuterGain=u.coneOuterGain,h.distanceModel=u.distanceModel,h.maxDistance=u.maxDistance,h.refDistance=u.refDistance,h.rolloffFactor=u.rolloffFactor,h.panningModel=u.panningModel):(i._pos||(i._pos=n._pos||[0,0,-.5]),e(i,"spatial"))}return n},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(this,r(2))},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){return t.call(this,e)||this}return n(e,t),Object.defineProperty(e,"shapes",{get:function(){return Object.keys(this.texturesUrls)},enumerable:!0,configurable:!0}),e.texturesUrls={shape1:"assets/images/cloud1.png",shape2:"assets/images/cloud2.png",shape3:"assets/images/cloud3.png",shape4:"assets/images/cloud4.png",shape5:"assets/images/cloud5.png"},e}(r(30).MultiTextureActor);e.Cloud=o},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var u=a(r(3)),h=r(9),c=u.Sprite,l=u.Loader,d=function(t){function e(e,r){var i=t.call(this)||this;return i.textureKey=e,i.sprite=new c(i.constructor.textures[i.textureKey]),i.configure(r),i}return n(e,t),e.loadResources=function(){return o(this,void 0,void 0,(function(){var t=this;return s(this,(function(e){switch(e.label){case 0:if(!this.texturesUrls||!Object.keys(this.texturesUrls).length)throw new Error("texturesUrls does not set on class "+this.name);return[4,h.Actor.loadResources.call(this)];case 1:return e.sent(),this.textures={},[2,new Promise((function(e,r){var i=new l;for(var n in t.texturesUrls)i.add(n,t.texturesUrls[n]);i.load((function(r,i){for(var n in i)i[n].texture&&(t.textures[n]=i[n].texture);e()})),i.on("error",(function(t){return r(t)}))}))]}}))}))},e}(h.Actor);e.MultiTextureActor=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),n=function(){function t(t){this.container=t,this.gameState=i.GameState.instance,this.pauseBtn=document.createElement("button"),this.scoreIndicator=document.createElement("span"),this.init()}return t.prototype.init=function(){var t=this;this.pauseBtn.className="pauseBtn",this.pauseBtn.style.cssText="position: fixed; top: 20px; right: 20px",this.pauseBtn.addEventListener("click",(function(e){return t.togglePause()})),this.scoreIndicator.style.cssText="position: fixed; top: 20px; left: 20px",this.gameState.paused$.subscribe((function(e){t.pauseBtn.innerText=e?"resume":"pause"})),this.gameState.score$.subscribe((function(e){t.scoreIndicator.innerText=e.toString()})),this.container.appendChild(this.pauseBtn),this.container.appendChild(this.scoreIndicator)},t.prototype.togglePause=function(){this.gameState.paused?this.resume():this.paused()},t.prototype.paused=function(){this.gameState.paused=!0},t.prototype.resume=function(){this.gameState.paused=!1},t}();e.UiLayer=n},,function(t,e,r){"use strict";r.r(e);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function n(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function o(t){return"function"==typeof t}var s=!1,a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function u(t){setTimeout((function(){throw t}),0)}var h={closed:!0,next:function(t){},error:function(t){if(a.useDeprecatedSynchronousErrorHandling)throw t;u(t)},complete:function(){}},c=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function l(t){return null!==t&&"object"==typeof t}var d=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),p=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this._parentOrParents,i=this._unsubscribe,n=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var s=0;s<r.length;++s){r[s].remove(this)}if(o(i))try{i.call(this)}catch(t){e=t instanceof d?f(t.errors):[t]}if(c(n)){s=-1;for(var a=n.length;++s<a;){var u=n[s];if(l(u))try{u.unsubscribe()}catch(t){e=e||[],t instanceof d?e=e.concat(f(t.errors)):e.push(t)}}}if(e)throw new d(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var i=r;(r=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var n=r._parentOrParents;if(null===n)r._parentOrParents=this;else if(n instanceof t){if(n===this)return r;r._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return r;n.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function f(t){return t.reduce((function(t,e){return t.concat(e instanceof d?e.errors:e)}),[])}var v=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),_=function(t){function e(r,i,n){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=h;break;case 1:if(!r){o.destination=h;break}if("object"==typeof r){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new m(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new m(o,r,i,n)}return o}return n(e,t),e.prototype[v]=function(){return this},e.create=function(t,r,i){var n=new e(t,r,i);return n.syncErrorThrowable=!1,n},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(p),m=function(t){function e(e,r,i,n){var s,a=t.call(this)||this;a._parentSubscriber=e;var u=a;return o(r)?s=r:r&&(s=r.next,i=r.error,n=r.complete,r!==h&&(o((u=Object.create(r)).unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(a))),a._context=u,a._next=s,a._error=i,a._complete=n,a}return n(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=a.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):u(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;u(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),a.useDeprecatedSynchronousErrorHandling)throw t;u(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(u(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(_);function y(t){for(;t;){var e=t,r=e.closed,i=e.destination,n=e.isStopped;if(r||n)return!1;t=i&&i instanceof _?i:null}return!0}var g=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function b(){}function x(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return w(t)}function w(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:b}var T=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var i=this.operator,n=function(t,e,r){if(t){if(t instanceof _)return t;if(t[v])return t[v]()}return t||e||r?new _(t,e,r):new _(h)}(t,e,r);if(i?n.add(i.call(n,this.source)):n.add(this.source||a.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),a.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),y(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=E(e))((function(e,i){var n;n=r.subscribe((function(e){try{t(e)}catch(t){i(t),n&&n.unsubscribe()}}),i,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[g]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:w(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=E(t))((function(t,r){var i;e.subscribe((function(t){return i=t}),(function(t){return r(t)}),(function(){return t(i)}))}))},t.create=function(e){return new t(e)},t}();function E(t){if(t||(t=a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var S=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),A=function(t){function e(e,r){var i=t.call(this)||this;return i.subject=e,i.subscriber=r,i.closed=!1,i}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(p),I=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return n(e,t),e}(_),P=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return n(e,t),e.prototype[v]=function(){return new I(this)},e.prototype.lift=function(t){var e=new O(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new S;if(!this.isStopped)for(var e=this.observers,r=e.length,i=e.slice(),n=0;n<r;n++)i[n].next(t)},e.prototype.error=function(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,i=e.slice(),n=0;n<r;n++)i[n].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new S;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),i=0;i<e;i++)r[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new S;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),p.EMPTY):this.isStopped?(t.complete(),p.EMPTY):(this.observers.push(t),new A(this,t))},e.prototype.asObservable=function(){var t=new T;return t.source=this,t},e.create=function(t,e){return new O(t,e)},e}(T),O=function(t){function e(e,r){var i=t.call(this)||this;return i.destination=e,i.source=r,i}return n(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):p.EMPTY},e}(P);var C=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var i=new M(t,r),n=e.subscribe(i);return i.closed||(i.connection=r.connect()),n},t}(),M=function(t){function e(e,r){var i=t.call(this,e)||this;return i.connectable=r,i}return n(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,i=t._connection;this.connection=null,!i||r&&i!==r||i.unsubscribe()}}else this.connection=null},e}(_),D=function(t){function e(e,r){var i=t.call(this)||this;return i.source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return n(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new p).add(this.source.subscribe(new R(this.getSubject(),this))),t.closed&&(this._connection=null,t=p.EMPTY)),t},e.prototype.refCount=function(){return(t=this).lift(new C(t));var t},e}(T),R=function(t){function e(e,r){var i=t.call(this,e)||this;return i.connectable=r,i}return n(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(I);var F=function(t){function e(e,r,i){var n=t.call(this)||this;return n.key=e,n.groupSubject=r,n.refCountSubscription=i,n}return n(e,t),e.prototype._subscribe=function(t){var e=new p,r=this.refCountSubscription,i=this.groupSubject;return r&&!r.closed&&e.add(new L(r)),e.add(i.subscribe(t)),e},e}(T),L=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return n(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(p),N=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(P),B=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.pending=!1,i}return n(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,i=void 0;try{this.work(t)}catch(t){r=!0,i=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),i},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,r){return t.call(this)||this}return n(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(p)),k=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i}return n(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,i):e.flush(this)},e}(B),U=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}(),j=function(t){function e(r,i){void 0===i&&(i=U.now);var n=t.call(this,r,(function(){return e.delegate&&e.delegate!==n?e.delegate.now():i()}))||this;return n.actions=[],n.active=!1,n.scheduled=void 0,n}return n(e,t),e.prototype.schedule=function(r,i,n){return void 0===i&&(i=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,i,n):t.prototype.schedule.call(this,r,i,n)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(U),X=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(j))(k),H=new T((function(t){return t.complete()}));function G(t){return t?function(t){return new T((function(e){return t.schedule((function(){return e.complete()}))}))}(t):H}function V(t){return t&&"function"==typeof t.schedule}var Y,z=function(t){return function(e){for(var r=0,i=t.length;r<i&&!e.closed;r++)e.next(t[r]);e.complete()}};function W(t,e){return new T((function(r){var i=new p,n=0;return i.add(e.schedule((function(){n!==t.length?(r.next(t[n++]),r.closed||i.add(this.schedule())):r.complete()}))),i}))}function q(t,e){return e?W(t,e):new T(z(t))}function Z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return V(r)?(t.pop(),W(t,r)):q(t)}function K(t,e){return new T(e?function(r){return e.schedule($,0,{error:t,subscriber:r})}:function(e){return e.error(t)})}function $(t){var e=t.error;t.subscriber.error(e)}Y||(Y={});var Q=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Z(this.value);case"E":return K(this.error);case"C":return G()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var J=function(t){function e(e,r,i){void 0===i&&(i=0);var n=t.call(this,e)||this;return n.scheduler=r,n.delay=i,n}return n(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new tt(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Q.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Q.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Q.createComplete()),this.unsubscribe()},e}(_),tt=function(){return function(t,e){this.notification=t,this.destination=e}}(),et=function(t){function e(e,r,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=t.call(this)||this;return n.scheduler=i,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=e<1?1:e,n._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}return n(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new rt(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,o=i.length;if(this.closed)throw new S;if(this.isStopped||this.hasError?e=p.EMPTY:(this.observers.push(t),e=new A(this,t)),n&&t.add(t=new J(t,n)),r)for(var s=0;s<o&&!t.closed;s++)t.next(i[s]);else for(s=0;s<o&&!t.closed;s++)t.next(i[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||X).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,i=this._events,n=i.length,o=0;o<n&&!(t-i[o].time<r);)o++;return n>e&&(o=Math.max(o,n-e)),o>0&&i.splice(0,o),i},e}(P),rt=function(){return function(t,e){this.time=t,this.value=e}}(),it=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return n(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),p.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),p.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(P),nt=1,ot=function(){return Promise.resolve()}(),st={};function at(t){return t in st&&(delete st[t],!0)}var ut=function(t){var e=nt++;return st[e]=!0,ot.then((function(){return at(e)&&t()})),e},ht=function(t){at(t)},ct=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i}return n(e,t),e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,r,i):(e.actions.push(this),e.scheduled||(e.scheduled=ut(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,i);0===e.actions.length&&(ht(r),e.scheduled=void 0)},e}(B),lt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,i=-1,n=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<n&&(t=r.shift()));if(this.active=!1,e){for(;++i<n&&(t=r.shift());)t.unsubscribe();throw e}},e}(j))(ct),dt=new j(B),pt=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i}return n(e,t),e.prototype.requestAsyncId=function(e,r,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,r,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,r,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,i);0===e.actions.length&&(cancelAnimationFrame(r),e.scheduled=void 0)},e}(B),ft=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,i=-1,n=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<n&&(t=r.shift()));if(this.active=!1,e){for(;++i<n&&(t=r.shift());)t.unsubscribe();throw e}},e}(j))(pt),vt=function(t){function e(e,r){void 0===e&&(e=_t),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e,(function(){return i.frame}))||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return n(e,t),e.prototype.flush=function(){for(var t,e,r=this.actions,i=this.maxFrames;(e=r[0])&&e.delay<=i&&(r.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(j),_t=function(t){function e(e,r,i){void 0===i&&(i=e.index+=1);var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.index=i,n.active=!0,n.index=e.index=i,n}return n(e,t),e.prototype.schedule=function(r,i){if(void 0===i&&(i=0),!this.id)return t.prototype.schedule.call(this,r,i);this.active=!1;var n=new e(this.scheduler,this.work);return this.add(n),n.schedule(r,i)},e.prototype.requestAsyncId=function(t,r,i){void 0===i&&(i=0),this.delay=t.frame+i;var n=t.actions;return n.push(this),n.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(B);function mt(t){return t}function yt(t){return!!t&&(t instanceof T||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var gt=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),bt=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),xt=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}();function wt(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Tt(t,e))}}var Tt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Et(t,this.project,this.thisArg))},t}(),Et=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.project=r,n.count=0,n.thisArg=i||n,n}return n(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(_);function St(t,e,r){if(e){if(!V(e))return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return St(t,r).apply(void 0,i).pipe(wt((function(t){return c(t)?e.apply(void 0,t):e(t)})))};r=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n,o=this,s={context:o,subject:n,callbackFunc:t,scheduler:r};return new T((function(i){if(r){var a={args:e,subscriber:i,params:s};return r.schedule(At,0,a)}if(!n){n=new it;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.next(t.length<=1?t[0]:t),n.complete()}]))}catch(t){y(n)?n.error(t):console.warn(t)}}return n.subscribe(i)}))}}function At(t){var e=this,r=t.args,i=t.subscriber,n=t.params,o=n.callbackFunc,s=n.context,a=n.scheduler,u=n.subject;if(!u){u=n.subject=new it;try{o.apply(s,r.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t.length<=1?t[0]:t;e.add(a.schedule(It,0,{value:i,subject:u}))}]))}catch(t){u.error(t)}}this.add(u.subscribe(i))}function It(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Pt(t,e,r){if(e){if(!V(e))return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return Pt(t,r).apply(void 0,i).pipe(wt((function(t){return c(t)?e.apply(void 0,t):e(t)})))};r=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n={subject:void 0,args:e,callbackFunc:t,scheduler:r,context:this};return new T((function(i){var o=n.context,s=n.subject;if(r)return r.schedule(Ot,0,{params:n,subscriber:i,context:o});if(!s){s=n.subject=new it;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.shift();r?s.error(r):(s.next(t.length<=1?t[0]:t),s.complete())}]))}catch(t){y(s)?s.error(t):console.warn(t)}}return s.subscribe(i)}))}}function Ot(t){var e=this,r=t.params,i=t.subscriber,n=t.context,o=r.callbackFunc,s=r.args,a=r.scheduler,u=r.subject;if(!u){u=r.subject=new it;try{o.apply(n,s.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t.shift();if(i)e.add(a.schedule(Mt,0,{err:i,subject:u}));else{var n=t.length<=1?t[0]:t;e.add(a.schedule(Ct,0,{value:n,subject:u}))}}]))}catch(t){this.add(a.schedule(Mt,0,{err:t,subject:u}))}}this.add(u.subscribe(i))}function Ct(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Mt(t){var e=t.err;t.subject.error(e)}var Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(_),Rt=function(t){function e(e,r,i){var n=t.call(this)||this;return n.parent=e,n.outerValue=r,n.outerIndex=i,n.index=0,n}return n(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(_);function Ft(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Lt=Ft(),Nt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Bt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var kt=function(t){if(t&&"function"==typeof t[g])return i=t,function(t){var e=i[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Nt(t))return z(t);if(Bt(t))return r=t,function(t){return r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,u),t};if(t&&"function"==typeof t[Lt])return e=t,function(t){for(var r=e[Lt]();;){var i=r.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof r.return&&t.add((function(){r.return&&r.return()})),t};var e,r,i,n=l(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+n+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Ut(t,e,r,i,n){if(void 0===n&&(n=new Rt(t,r,i)),!n.closed)return e instanceof T?e.subscribe(n):kt(e)(n)}var jt={};function Xt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null,i=null;return V(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),q(t,i).lift(new Ht(r))}var Ht=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Gt(t,this.resultSelector))},t}(),Gt=function(t){function e(e,r){var i=t.call(this,e)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return n(e,t),e.prototype._next=function(t){this.values.push(jt),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var i=t[r];this.add(Ut(this,i,i,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){var o=this.values,s=o[r],a=this.toRespond?s===jt?--this.toRespond:this.toRespond:0;o[r]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Dt);function Vt(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new T((function(r){var i=new p;return i.add(e.schedule((function(){var n=t[g]();i.add(n.subscribe({next:function(t){i.add(e.schedule((function(){return r.next(t)})))},error:function(t){i.add(e.schedule((function(){return r.error(t)})))},complete:function(){i.add(e.schedule((function(){return r.complete()})))}}))}))),i}))}(t,e);if(Bt(t))return function(t,e){return new T((function(r){var i=new p;return i.add(e.schedule((function(){return t.then((function(t){i.add(e.schedule((function(){r.next(t),i.add(e.schedule((function(){return r.complete()})))})))}),(function(t){i.add(e.schedule((function(){return r.error(t)})))}))}))),i}))}(t,e);if(Nt(t))return W(t,e);if(function(t){return t&&"function"==typeof t[Lt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new T((function(r){var i,n=new p;return n.add((function(){i&&"function"==typeof i.return&&i.return()})),n.add(e.schedule((function(){i=t[Lt](),n.add(e.schedule((function(){if(!r.closed){var t,e;try{var n=i.next();t=n.value,e=n.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}})))}))),n}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Yt(t,e){return e?Vt(t,e):t instanceof T?t:new T(kt(t))}var zt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Wt(t,this.project,this.concurrent))},t}(),Wt=function(t){function e(e,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var n=t.call(this,e)||this;return n.project=r,n.concurrent=i,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return n(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var i=new Rt(this,e,r),n=this.destination;n.add(i);var o=Ut(this,t,void 0,void 0,i);o!==i&&n.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,i,n){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Dt);function qt(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function t(e,r,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"function"==typeof r?function(n){return n.pipe(t((function(t,i){return Yt(e(t,i)).pipe(wt((function(e,n){return r(t,e,i,n)})))}),i))}:("number"==typeof r&&(i=r),function(t){return t.lift(new zt(e,i))})}(mt,t)}function Zt(){return qt(1)}function Kt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Zt()(Z.apply(void 0,t))}function $t(t){return new T((function(e){var r;try{r=t()}catch(t){return void e.error(t)}return(r?Yt(r):G()).subscribe(e)}))}function Qt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var r=t[0];if(c(r))return Jt(r,null);if(l(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Jt(i.map((function(t){return r[t]})),i)}}if("function"==typeof t[t.length-1]){var n=t.pop();return Jt(t=1===t.length&&c(t[0])?t[0]:t,null).pipe(wt((function(t){return n.apply(void 0,t)})))}return Jt(t,null)}function Jt(t,e){return new T((function(r){var i=t.length;if(0!==i)for(var n=new Array(i),o=0,s=0,a=function(a){var u=Yt(t[a]),h=!1;r.add(u.subscribe({next:function(t){h||(h=!0,s++),n[a]=t},error:function(t){return r.error(t)},complete:function(){++o!==i&&h||(s===i&&r.next(e?e.reduce((function(t,e,r){return t[e]=n[r],t}),{}):n),r.complete())}}))},u=0;u<i;u++)a(u);else r.complete()}))}function te(t,e,r,i){return o(r)&&(i=r,r=void 0),i?te(t,e,r).pipe(wt((function(t){return c(t)?i.apply(void 0,t):i(t)}))):new T((function(i){!function t(e,r,i,n,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(r,i,o),s=function(){return a.removeEventListener(r,i,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(r,i),s=function(){return u.off(r,i)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var h=e;e.addListener(r,i),s=function(){return h.removeListener(r,i)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,l=e.length;c<l;c++)t(e[c],r,i,n,o)}n.add(s)}(t,e,(function(t){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(t)}),i,r)}))}function ee(t,e,r){return r?ee(t,e).pipe(wt((function(t){return c(t)?r.apply(void 0,t):r(t)}))):new T((function(r){var i,n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(1===t.length?t[0]:t)};try{i=t(n)}catch(t){return void r.error(t)}if(o(e))return function(){return e(n,i)}}))}function re(t,e,r,i,n){var o,s;if(1==arguments.length){var a=t;s=a.initialState,e=a.condition,r=a.iterate,o=a.resultSelector||mt,n=a.scheduler}else void 0===i||V(i)?(s=t,o=mt,n=i):(s=t,o=i);return new T((function(t){var i=s;if(n)return n.schedule(ie,0,{subscriber:t,iterate:r,condition:e,resultSelector:o,state:i});for(;;){if(e){var a=void 0;try{a=e(i)}catch(e){return void t.error(e)}if(!a){t.complete();break}}var u=void 0;try{u=o(i)}catch(e){return void t.error(e)}if(t.next(u),t.closed)break;try{i=r(i)}catch(e){return void t.error(e)}}}))}function ie(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(r){var i=void 0;try{i=r(t.state)}catch(t){return void e.error(t)}if(!i)return void e.complete();if(e.closed)return}var n;try{n=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(n),!e.closed))return this.schedule(t)}}function ne(t,e,r){return void 0===e&&(e=H),void 0===r&&(r=H),$t((function(){return t()?e:r}))}function oe(t){return!c(t)&&t-parseFloat(t)+1>=0}function se(t,e){return void 0===t&&(t=0),void 0===e&&(e=dt),(!oe(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=dt),new T((function(r){return r.add(e.schedule(ae,t,{subscriber:r,counter:0,period:t})),r}))}function ae(t){var e=t.subscriber,r=t.counter,i=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:i},i)}function ue(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,i=null,n=t[t.length-1];return V(n)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof n&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof T?t[0]:qt(r)(q(t,i))}var he=new T(b);function ce(){return he}function le(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return H;var r=t[0],i=t.slice(1);return 1===t.length&&c(r)?le.apply(void 0,r):new T((function(t){var e=function(){return t.add(le.apply(void 0,i).subscribe(t))};return Yt(r).subscribe({next:function(e){t.next(e)},error:e,complete:e})}))}function de(t,e){return new T(e?function(r){var i=Object.keys(t),n=new p;return n.add(e.schedule(pe,0,{keys:i,index:0,subscriber:r,subscription:n,obj:t})),n}:function(e){for(var r=Object.keys(t),i=0;i<r.length&&!e.closed;i++){var n=r[i];t.hasOwnProperty(n)&&e.next([n,t[n]])}e.complete()})}function pe(t){var e=t.keys,r=t.index,i=t.subscriber,n=t.subscription,o=t.obj;if(!i.closed)if(r<e.length){var s=e[r];i.next([s,o[s]]),n.add(this.schedule({keys:e,index:r+1,subscriber:i,subscription:n,obj:o}))}else i.complete()}function fe(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function ve(t,e){return function(r){return r.lift(new _e(t,e))}}var _e=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new me(t,this.predicate,this.thisArg))},t}(),me=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.predicate=r,n.thisArg=i,n.count=0,n}return n(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(_);function ye(t,e,r){return[ve(e,r)(new T(kt(t))),ve(fe(e,r))(new T(kt(t)))]}function ge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!c(t[0]))return t[0];t=t[0]}return q(t,void 0).lift(new be)}var be=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new xe(t))},t}(),xe=function(t){function e(e){var r=t.call(this,e)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return n(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var i=t[r],n=Ut(this,i,i,r);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}},e.prototype.notifyNext=function(t,e,r,i,n){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(Dt);function we(t,e,r){return void 0===t&&(t=0),new T((function(i){void 0===e&&(e=t,t=0);var n=0,o=t;if(r)return r.schedule(Te,0,{index:n,count:e,start:t,subscriber:i});for(;;){if(n++>=e){i.complete();break}if(i.next(o++),i.closed)break}}))}function Te(t){var e=t.start,r=t.index,i=t.count,n=t.subscriber;r>=i?n.complete():(n.next(e),n.closed||(t.index=r+1,t.start=e+1,this.schedule(t)))}function Ee(t,e,r){void 0===t&&(t=0);var i=-1;return oe(e)?i=Number(e)<1?1:Number(e):V(e)&&(r=e),V(r)||(r=dt),new T((function(e){var n=oe(t)?t:+t-r.now();return r.schedule(Se,n,{index:0,period:i,subscriber:e})}))}function Se(t){var e=t.index,r=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===r)return i.complete();t.index=e+1,this.schedule(t,r)}}function Ae(t,e){return new T((function(r){var i,n;try{i=t()}catch(t){return void r.error(t)}try{n=e(i)}catch(t){return void r.error(t)}var o=(n?Yt(n):H).subscribe(r);return function(){o.unsubscribe(),i&&i.unsubscribe()}}))}function Ie(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),q(t,void 0).lift(new Pe(r))}var Pe=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Oe(t,this.resultSelector))},t}(),Oe=function(t){function e(e,r,i){void 0===i&&(i=Object.create(null));var n=t.call(this,e)||this;return n.iterators=[],n.active=0,n.resultSelector="function"==typeof r?r:null,n.values=i,n}return n(e,t),e.prototype._next=function(t){var e=this.iterators;c(t)?e.push(new Me(t)):"function"==typeof t[Lt]?e.push(new Ce(t[Lt]())):e.push(new De(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var i=t[r];if(i.stillUnsubscribed)this.destination.add(i.subscribe(i,r));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,i=0;i<e;i++){if("function"==typeof(s=t[i]).hasValue&&!s.hasValue())return}var n=!1,o=[];for(i=0;i<e;i++){var s,a=(s=t[i]).next();if(s.hasCompleted()&&(n=!0),a.done)return void r.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):r.next(o),n&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(_),Ce=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),Me=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[Lt]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),De=function(t){function e(e,r,i){var n=t.call(this,e)||this;return n.parent=r,n.observable=i,n.stillUnsubscribed=!0,n.buffer=[],n.isComplete=!1,n}return n(e,t),e.prototype[Lt]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Ut(this,this.observable,this,e)},e}(Dt);r.d(e,"Observable",(function(){return T})),r.d(e,"ConnectableObservable",(function(){return D})),r.d(e,"GroupedObservable",(function(){return F})),r.d(e,"observable",(function(){return g})),r.d(e,"Subject",(function(){return P})),r.d(e,"BehaviorSubject",(function(){return N})),r.d(e,"ReplaySubject",(function(){return et})),r.d(e,"AsyncSubject",(function(){return it})),r.d(e,"asapScheduler",(function(){return lt})),r.d(e,"asyncScheduler",(function(){return dt})),r.d(e,"queueScheduler",(function(){return X})),r.d(e,"animationFrameScheduler",(function(){return ft})),r.d(e,"VirtualTimeScheduler",(function(){return vt})),r.d(e,"VirtualAction",(function(){return _t})),r.d(e,"Scheduler",(function(){return U})),r.d(e,"Subscription",(function(){return p})),r.d(e,"Subscriber",(function(){return _})),r.d(e,"Notification",(function(){return Q})),r.d(e,"NotificationKind",(function(){return Y})),r.d(e,"pipe",(function(){return x})),r.d(e,"noop",(function(){return b})),r.d(e,"identity",(function(){return mt})),r.d(e,"isObservable",(function(){return yt})),r.d(e,"ArgumentOutOfRangeError",(function(){return gt})),r.d(e,"EmptyError",(function(){return bt})),r.d(e,"ObjectUnsubscribedError",(function(){return S})),r.d(e,"UnsubscriptionError",(function(){return d})),r.d(e,"TimeoutError",(function(){return xt})),r.d(e,"bindCallback",(function(){return St})),r.d(e,"bindNodeCallback",(function(){return Pt})),r.d(e,"combineLatest",(function(){return Xt})),r.d(e,"concat",(function(){return Kt})),r.d(e,"defer",(function(){return $t})),r.d(e,"empty",(function(){return G})),r.d(e,"forkJoin",(function(){return Qt})),r.d(e,"from",(function(){return Yt})),r.d(e,"fromEvent",(function(){return te})),r.d(e,"fromEventPattern",(function(){return ee})),r.d(e,"generate",(function(){return re})),r.d(e,"iif",(function(){return ne})),r.d(e,"interval",(function(){return se})),r.d(e,"merge",(function(){return ue})),r.d(e,"never",(function(){return ce})),r.d(e,"of",(function(){return Z})),r.d(e,"onErrorResumeNext",(function(){return le})),r.d(e,"pairs",(function(){return de})),r.d(e,"partition",(function(){return ye})),r.d(e,"race",(function(){return ge})),r.d(e,"range",(function(){return we})),r.d(e,"throwError",(function(){return K})),r.d(e,"timer",(function(){return Ee})),r.d(e,"using",(function(){return Ae})),r.d(e,"zip",(function(){return Ie})),r.d(e,"scheduled",(function(){return Vt})),r.d(e,"EMPTY",(function(){return H})),r.d(e,"NEVER",(function(){return he})),r.d(e,"config",(function(){return a}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pbmktc2lnbmFscy9saWIvbWluaS1zaWduYWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL2Rpc3QvaXNNb2JpbGUubWluLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3NldHRpbmdzL2xpYi9zZXR0aW5ncy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvY29uc3RhbnRzL2xpYi9jb25zdGFudHMuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi91dGlscy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9saWIvbWF0aC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZGlzcGxheS9saWIvZGlzcGxheS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvYWNjZXNzaWJpbGl0eS9saWIvYWNjZXNzaWJpbGl0eS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvcnVubmVyL2xpYi9ydW5uZXIuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RpY2tlci9saWIvdGlja2VyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9jb3JlLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9leHRyYWN0L2xpYi9leHRyYWN0LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9pbnRlcmFjdGlvbi9saWIvaW50ZXJhY3Rpb24uZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi9ncmFwaGljcy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlL2xpYi9zcHJpdGUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQvbGliL3RleHQuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3ByZXBhcmUvbGliL3ByZXBhcmUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2FwcC9saWIvYXBwLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvZGlzdC9yZXNvdXJjZS1sb2FkZXIuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9sb2FkZXJzL2xpYi9sb2FkZXJzLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9wYXJ0aWNsZXMvbGliL3BhcnRpY2xlcy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlc2hlZXQvbGliL3Nwcml0ZXNoZWV0LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtdGlsaW5nL2xpYi9zcHJpdGUtdGlsaW5nLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvdGV4dC1iaXRtYXAuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1hbHBoYS9saWIvZmlsdGVyLWFscGhhLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItYmx1ci9saWIvZmlsdGVyLWJsdXIuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXgvbGliL2ZpbHRlci1jb2xvci1tYXRyaXguZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQvbGliL2ZpbHRlci1kaXNwbGFjZW1lbnQuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1meGFhL2xpYi9maWx0ZXItZnhhYS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLW5vaXNlL2xpYi9maWx0ZXItbm9pc2UuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcC9saWIvbWl4aW4tY2FjaGUtYXMtYml0bWFwLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZS9saWIvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24vbGliL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24uZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL21lc2guZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gtZXh0cmFzL2xpYi9tZXNoLWV4dHJhcy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlLWFuaW1hdGVkL2xpYi9zcHJpdGUtYW5pbWF0ZWQuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BpeGkuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91cmwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9HYW1lLXN0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvYWN0b3IvQWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlLXBvbHlmaWxsL3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvR2FtZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvcG9seWZpbGwvbGliL3BvbHlmaWxsLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zZXRpbW1lZGlhdGUvc2V0SW1tZWRpYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZGVjb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZW5jb2RlLmpzIiwid2VicGFjazovLy8uL3NyYy9sZXZlbHMvRmlyc3RMZXZlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL0xldmVsLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvQmFsbG9vbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2FjdG9yL2FuaW1hdGVkLWFjdG9yLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ob3dsZXIvZGlzdC9ob3dsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9DbG91ZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2FjdG9yL211bHRpLXRleHR1cmUtYWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9VaS1sYXllci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9ob3N0UmVwb3J0RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvT2JzZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zeW1ib2wvcnhTdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9jYW5SZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zeW1ib2wvb2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL25vb3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC90b1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJqZWN0U3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1N1YmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3JlZkNvdW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9ncm91cEJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL0JlaGF2aW9yU3ViamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvUXVldWVBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc3luY1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvcXVldWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL1F1ZXVlU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZW1wdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvTm90aWZpY2F0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aHJvd0Vycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9vYnNlcnZlT24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvUmVwbGF5U3ViamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9Bc3luY1N1YmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9JbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzYXBBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2FzYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzYXBTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2FzeW5jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9BbmltYXRpb25GcmFtZUFjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvYW5pbWF0aW9uRnJhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9WaXJ0dWFsVGltZVNjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lkZW50aXR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNPYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9FbXB0eUVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvVGltZW91dEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9iaW5kQ2FsbGJhY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9iaW5kTm9kZUNhbGxiYWNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL091dGVyU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9Jbm5lclN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheUxpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVQcm9taXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZUFsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0QWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvY29uY2F0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZGVmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mb3JrSm9pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21FdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21FdmVudFBhdHRlcm4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9nZW5lcmF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2lpZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzTnVtZXJpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2ludGVydmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvbWVyZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9uZXZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL29uRXJyb3JSZXN1bWVOZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvcGFpcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9ub3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3BhcnRpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9yYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3RpbWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvdXNpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS96aXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiVHlwZUVycm9yIiwiTWluaVNpZ25hbEJpbmRpbmciLCJmbiIsIm9uY2UiLCJ0aGlzQXJnIiwidW5kZWZpbmVkIiwidGhpcyIsIl9mbiIsIl9vbmNlIiwiX3RoaXNBcmciLCJfbmV4dCIsIl9wcmV2IiwiX293bmVyIiwiZGV0YWNoIiwiX2FkZE1pbmlTaWduYWxCaW5kaW5nIiwic2VsZiIsIm5vZGUiLCJfaGVhZCIsIl90YWlsIiwiTWluaVNpZ25hbCIsImV4aXN0cyIsImFyZ3VtZW50cyIsImVlIiwicHVzaCIsIkVycm9yIiwiYXBwbHkiLCJhIiwiYiIsImYiLCJ1IiwiaCIsInYiLCJ3IiwiZSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJzcGxpdCIsImFwcGxlIiwicGhvbmUiLCJpcG9kIiwidGFibGV0IiwiZGV2aWNlIiwiYW1hem9uIiwiYW5kcm9pZCIsIndpbmRvd3MiLCJvdGhlciIsImJsYWNrYmVycnkiLCJibGFja2JlcnJ5MTAiLCJvcGVyYSIsImZpcmVmb3giLCJjaHJvbWUiLCJhbnkiLCJ3aW5kb3ciLCJpc01vYmlsZSIsImciLCJGdW5jdGlvbiIsIkVOViIsIlJFTkRFUkVSX1RZUEUiLCJCTEVORF9NT0RFUyIsIkRSQVdfTU9ERVMiLCJGT1JNQVRTIiwiVEFSR0VUUyIsIlRZUEVTIiwiU0NBTEVfTU9ERVMiLCJXUkFQX01PREVTIiwiTUlQTUFQX01PREVTIiwiQUxQSEFfTU9ERVMiLCJHQ19NT0RFUyIsIlBSRUNJU0lPTiIsIk1BU0tfVFlQRVMiLCJzZXR0aW5ncyIsIk1JUE1BUF9URVhUVVJFUyIsIkFOSVNPVFJPUElDX0xFVkVMIiwiUkVTT0xVVElPTiIsIkZJTFRFUl9SRVNPTFVUSU9OIiwiU1BSSVRFX01BWF9URVhUVVJFUyIsIm1heCIsImFsbG93TWF4IiwibWF0Y2giLCJwYXJzZUludCIsIm1hdGNoJDEiLCJtYXhSZWNvbW1lbmRlZFRleHR1cmVzIiwiU1BSSVRFX0JBVENIX1NJWkUiLCJSRU5ERVJfT1BUSU9OUyIsInZpZXciLCJhbnRpYWxpYXMiLCJmb3JjZUZYQUEiLCJhdXRvRGVuc2l0eSIsInRyYW5zcGFyZW50IiwiYmFja2dyb3VuZENvbG9yIiwiY2xlYXJCZWZvcmVSZW5kZXIiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJ3aWR0aCIsImhlaWdodCIsImxlZ2FjeSIsIkdDX01PREUiLCJHQ19NQVhfSURMRSIsIkdDX01BWF9DSEVDS19DT1VOVCIsIldSQVBfTU9ERSIsIlNDQUxFX01PREUiLCJQUkVDSVNJT05fVkVSVEVYIiwiUFJFQ0lTSU9OX0ZSQUdNRU5UIiwiQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUiIsIkNSRUFURV9JTUFHRV9CSVRNQVAiLCJST1VORF9QSVhFTFMiLCJSRVRJTkFfUFJFRklYIiwiRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQiLCJzYWlkSGVsbG8iLCJza2lwSGVsbG8iLCJzYXlIZWxsbyIsInR5cGUiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJhcmdzIiwiY29uc29sZSIsImxvZyIsImlzV2ViR0xTdXBwb3J0ZWQiLCJjb250ZXh0T3B0aW9ucyIsInN0ZW5jaWwiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2wiLCJnZXRDb250ZXh0Iiwic3VjY2VzcyIsImdldENvbnRleHRBdHRyaWJ1dGVzIiwibG9zZUNvbnRleHQiLCJnZXRFeHRlbnNpb24iLCJoZXgycmdiIiwiaGV4Iiwib3V0IiwiaGV4MnN0cmluZyIsInRvU3RyaW5nIiwic3Vic3RyIiwic3RyaW5nMmhleCIsInN0cmluZyIsInJnYjJoZXgiLCJyZ2IiLCJwcmVtdWx0aXBseUJsZW5kTW9kZSIsInBtIiwibnBtIiwiTk9STUFMX05QTSIsIk5PUk1BTCIsIkFERF9OUE0iLCJBREQiLCJTQ1JFRU5fTlBNIiwiU0NSRUVOIiwiYXJyYXkiLCJtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcyIsImNvcnJlY3RCbGVuZE1vZGUiLCJibGVuZE1vZGUiLCJwcmVtdWx0aXBsaWVkIiwicHJlbXVsdGlwbHlSZ2JhIiwiYWxwaGEiLCJwcmVtdWx0aXBseSIsIkZsb2F0MzJBcnJheSIsInByZW11bHRpcGx5VGludCIsInRpbnQiLCJSIiwiRyIsIkIiLCJwcmVtdWx0aXBseVRpbnRUb1JnYmEiLCJjcmVhdGVJbmRpY2VzRm9yUXVhZHMiLCJzaXplIiwib3V0QnVmZmVyIiwidG90YWxJbmRpY2VzIiwiVWludDE2QXJyYXkiLCJqIiwicmVtb3ZlSXRlbXMiLCJhcnIiLCJzdGFydElkeCIsInJlbW92ZUNvdW50IiwibGVuIiwibmV4dFVpZCIsInVpZCIsInNpZ24iLCJuZXh0UG93MiIsImlzUG93MiIsImxvZzIiLCJzaGlmdCIsIlByb2dyYW1DYWNoZSIsIlRleHR1cmVDYWNoZSIsIkJhc2VUZXh0dXJlQ2FjaGUiLCJkZXN0cm95VGV4dHVyZUNhY2hlIiwiZGVzdHJveSIsImNsZWFyVGV4dHVyZUNhY2hlIiwidHJpbUNhbnZhcyIsIngiLCJ5IiwiY29udGV4dCIsInBpeGVscyIsImdldEltYWdlRGF0YSIsImRhdGEiLCJib3VuZCIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInJlc29sdXRpb24iLCJyZXNpemUiLCJjbGVhciIsInNldFRyYW5zZm9ybSIsImNsZWFyUmVjdCIsInNldCIsInZhbCIsInRlbXBBbmNob3IiLCJEQVRBX1VSSSIsImRlY29tcG9zZURhdGFVcmkiLCJkYXRhVXJpIiwiZGF0YVVyaU1hdGNoIiwiZXhlYyIsIm1lZGlhVHlwZSIsInN1YlR5cGUiLCJjaGFyc2V0IiwiZW5jb2RpbmciLCJkZXRlcm1pbmVDcm9zc09yaWdpbiIsInVybCIsImxvYyIsImxvY2F0aW9uIiwiaHJlZiIsInNhbWVQb3J0IiwicGFyc2UiLCJwb3J0IiwiaG9zdG5hbWUiLCJwcm90b2NvbCIsImdldFJlc29sdXRpb25PZlVybCIsImRlZmF1bHRWYWx1ZSIsInBhcnNlRmxvYXQiLCJ3YXJuaW5ncyIsImRlcHJlY2F0aW9uIiwidmVyc2lvbiIsIm1lc3NhZ2UiLCJpZ25vcmVEZXB0aCIsInN0YWNrIiwid2FybiIsInNwbGljZSIsImpvaW4iLCJncm91cENvbGxhcHNlZCIsImdyb3VwRW5kIiwiU0hBUEVTIiwiUG9pbnQiLCJjbG9uZSIsImNvcHlGcm9tIiwiY29weVRvIiwiZXF1YWxzIiwiT2JzZXJ2YWJsZVBvaW50IiwiY2IiLCJzY29wZSIsIl94IiwiX3kiLCJQSV8yIiwiTWF0aCIsIlBJIiwiUkFEX1RPX0RFRyIsIkRFR19UT19SQUQiLCJNYXRyaXgiLCJ0eCIsInR5IiwiZnJvbUFycmF5IiwidG9BcnJheSIsInRyYW5zcG9zZSIsInBvcyIsIm5ld1BvcyIsImFwcGx5SW52ZXJzZSIsImlkIiwidHJhbnNsYXRlIiwic2NhbGUiLCJyb3RhdGUiLCJhbmdsZSIsImNvcyIsInNpbiIsImExIiwiYzEiLCJ0eDEiLCJhcHBlbmQiLCJtYXRyaXgiLCJiMSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsInRyYW5zZm9ybSIsImF0YW4yIiwiZGVsdGEiLCJhYnMiLCJza2V3Iiwic3FydCIsInBvc2l0aW9uIiwiaW52ZXJ0IiwiaWRlbnRpdHkiLCJ1eCIsInV5IiwidngiLCJ2eSIsInJvdGF0aW9uQ2F5bGV5Iiwicm90YXRpb25NYXRyaWNlcyIsInNpZ251bSIsInJvdyIsIl91eCIsIl91eSIsIl92eCIsIl92eSIsImsiLCJtYXQiLCJpbml0IiwiZ3JvdXBEOCIsIkUiLCJTRSIsIlMiLCJTVyIsIlciLCJOVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1BSU5fRElBR09OQUwiLCJNSVJST1JfSE9SSVpPTlRBTCIsIlJFVkVSU0VfRElBR09OQUwiLCJ1WCIsImluZCIsInVZIiwidlgiLCJ2WSIsImludiIsImFkZCIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsImR4IiwiZHkiLCJtYXRyaXhBcHBlbmRSb3RhdGlvbkludiIsIlRyYW5zZm9ybSIsIndvcmxkVHJhbnNmb3JtIiwibG9jYWxUcmFuc2Zvcm0iLCJvbkNoYW5nZSIsInBpdm90IiwidXBkYXRlU2tldyIsIl9yb3RhdGlvbiIsIl9jeCIsIl9zeCIsIl9jeSIsIl9zeSIsIl9sb2NhbElEIiwiX2N1cnJlbnRMb2NhbElEIiwiX3dvcmxkSUQiLCJfcGFyZW50SUQiLCJ1cGRhdGVMb2NhbFRyYW5zZm9ybSIsImx0IiwidXBkYXRlVHJhbnNmb3JtIiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJ3dCIsInNldEZyb21NYXRyaXgiLCJJREVOVElUWSIsIlJlY3RhbmdsZSIsIk51bWJlciIsIlJFQ1QiLCJyZWN0YW5nbGUiLCJjb250YWlucyIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJ4MSIsIngyIiwibWluIiwieTEiLCJ5MiIsImNlaWwiLCJlcHMiLCJmbG9vciIsImVubGFyZ2UiLCJDaXJjbGUiLCJyYWRpdXMiLCJDSVJDIiwicjIiLCJnZXRCb3VuZHMiLCJFbGxpcHNlIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsIkVMSVAiLCJub3JteCIsIm5vcm15IiwiUG9seWdvbiIsImFyZ3VtZW50cyQxIiwicG9pbnRzIiwiX2kiLCJBcnJheSIsImlzQXJyYXkiLCJpbCIsIlBPTFkiLCJjbG9zZVN0cm9rZSIsInBvbHlnb24iLCJzbGljZSIsImluc2lkZSIsInhpIiwieWkiLCJ4aiIsInlqIiwiUm91bmRlZFJlY3RhbmdsZSIsIlJSRUMiLCJyYWRpdXMyIiwiU09SVEFCTEVfQ0hJTERSRU4iLCJCb3VuZHMiLCJtaW5YIiwiSW5maW5pdHkiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJyZWN0IiwiaXNFbXB0eSIsInVwZGF0ZUlEIiwiZ2V0UmVjdGFuZ2xlIiwiRU1QVFkiLCJhZGRQb2ludCIsInBvaW50IiwiYWRkUXVhZCIsInZlcnRpY2VzIiwiYWRkRnJhbWUiLCJ4MCIsInkwIiwiYWRkRnJhbWVNYXRyaXgiLCJhZGRWZXJ0ZXhEYXRhIiwidmVydGV4RGF0YSIsImJlZ2luT2Zmc2V0IiwiZW5kT2Zmc2V0IiwiYWRkVmVydGljZXMiLCJhZGRWZXJ0aWNlc01hdHJpeCIsInBhZFgiLCJwYWRZIiwicmF3WCIsInJhd1kiLCJhZGRCb3VuZHMiLCJib3VuZHMiLCJhZGRCb3VuZHNNYXNrIiwibWFzayIsIl9taW5YIiwiX21pblkiLCJfbWF4WCIsIl9tYXhZIiwiYWRkQm91bmRzTWF0cml4IiwiYWRkQm91bmRzQXJlYSIsImFyZWEiLCJhZGRGcmFtZVBhZCIsIkV2ZW50RW1pdHRlciIsIkRpc3BsYXlPYmplY3QiLCJ0ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsInZpc2libGUiLCJyZW5kZXJhYmxlIiwicGFyZW50Iiwid29ybGRBbHBoYSIsIl9sYXN0U29ydGVkSW5kZXgiLCJfekluZGV4IiwiZmlsdGVyQXJlYSIsImZpbHRlcnMiLCJfZW5hYmxlZEZpbHRlcnMiLCJfYm91bmRzIiwiX2JvdW5kc0lEIiwiX2xhc3RCb3VuZHNJRCIsIl9ib3VuZHNSZWN0IiwiX2xvY2FsQm91bmRzUmVjdCIsIl9tYXNrIiwiX2Rlc3Ryb3llZCIsImlzU3ByaXRlIiwiaXNNYXNrIiwiX19wcm90b19fIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGVBY2Nlc3NvcnMiLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJ6SW5kZXgiLCJ3b3JsZFZpc2libGUiLCJtaXhpbiIsInNvdXJjZSIsImtleXMiLCJwcm9wZXJ0eU5hbWUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSIsInNraXBVcGRhdGUiLCJjYWxjdWxhdGVCb3VuZHMiLCJnZXRMb2NhbEJvdW5kcyIsInRyYW5zZm9ybVJlZiIsInBhcmVudFJlZiIsInRvR2xvYmFsIiwiZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSIsInRvTG9jYWwiLCJmcm9tIiwicmVuZGVyIiwicmVuZGVyZXIiLCJzZXRQYXJlbnQiLCJjb250YWluZXIiLCJhZGRDaGlsZCIsInJlbW92ZUFsbExpc3RlbmVycyIsInJlbW92ZUNoaWxkIiwiX2N1cnJlbnRCb3VuZHMiLCJoaXRBcmVhIiwiaW50ZXJhY3RpdmUiLCJpbnRlcmFjdGl2ZUNoaWxkcmVuIiwic29ydERpcnR5IiwiaXRlbSIsIm1hc2tPYmplY3QiLCJtYXNrT2JqZWN0JDEiLCJzb3J0Q2hpbGRyZW4iLCJDb250YWluZXIiLCJjaGlsZHJlbiIsInNvcnRhYmxlQ2hpbGRyZW4iLCJvbkNoaWxkcmVuQ2hhbmdlIiwiY2hpbGQiLCJhcmd1bWVudHNMZW5ndGgiLCJlbWl0IiwiYWRkQ2hpbGRBdCIsImluZGV4Iiwic3dhcENoaWxkcmVuIiwiY2hpbGQyIiwiaW5kZXgxIiwiZ2V0Q2hpbGRJbmRleCIsImluZGV4MiIsInNldENoaWxkSW5kZXgiLCJjdXJyZW50SW5kZXgiLCJnZXRDaGlsZEF0IiwicmVtb3ZlQ2hpbGRBdCIsInJlbW92ZUNoaWxkcmVuIiwiYmVnaW5JbmRleCIsImVuZEluZGV4IiwicmVtb3ZlZCIsImJlZ2luIiwiZW5kIiwicmFuZ2UiLCJpJDEiLCJSYW5nZUVycm9yIiwic29ydFJlcXVpcmVkIiwic29ydCIsIl9jYWxjdWxhdGVCb3VuZHMiLCJyZW5kZXJBZHZhbmNlZCIsIl9yZW5kZXIiLCJiYXRjaCIsImZsdXNoIiwiZW5hYmxlZCIsImZpbHRlciIsInBvcCIsIm9wdGlvbnMiLCJkZXN0cm95Q2hpbGRyZW4iLCJvbGRDaGlsZHJlbiIsIl93aWR0aCIsIl9oZWlnaHQiLCJjb250YWluZXJVcGRhdGVUcmFuc2Zvcm0iLCJhY2Nlc3NpYmxlVGFyZ2V0IiwiYWNjZXNzaWJsZSIsImFjY2Vzc2libGVUaXRsZSIsImFjY2Vzc2libGVIaW50IiwidGFiSW5kZXgiLCJfYWNjZXNzaWJsZUFjdGl2ZSIsIl9hY2Nlc3NpYmxlRGl2IiwiYWNjZXNzaWJsZVR5cGUiLCJhY2Nlc3NpYmxlUG9pbnRlckV2ZW50cyIsImFjY2Vzc2libGVDaGlsZHJlbiIsIl9ob29rRGl2IiwiY3JlYXRlVG91Y2hIb29rIiwiZGl2Iiwic3R5bGUiLCJESVZfVE9VQ0hfU0laRSIsIkRJVl9UT1VDSF9QT1NfWCIsIkRJVl9UT1VDSF9QT1NfWSIsInBvb2wiLCJyZW5kZXJJZCIsImRlYnVnIiwiX29uS2V5RG93biIsIl9vbk1vdXNlTW92ZSIsImlzQWN0aXZlIiwiaXNNb2JpbGVBY2Nlc3NpYmlsaXR5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInRoaXMkMSIsImhvb2tEaXYiLCJESVZfSE9PS19TSVpFIiwiRElWX0hPT0tfUE9TX1giLCJESVZfSE9PS19QT1NfWSIsInRpdGxlIiwiYWN0aXZhdGUiLCJkZXN0cm95VG91Y2hIb29rIiwiYm9keSIsImFwcGVuZENoaWxkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9uIiwidXBkYXRlIiwicGFyZW50Tm9kZSIsImRlYWN0aXZhdGUiLCJvZmYiLCJ1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyIsImRpc3BsYXlPYmplY3QiLCJyZW5kZXJpbmdUb1NjcmVlbiIsIl9sYXN0T2JqZWN0UmVuZGVyZWQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzeCIsInN5IiwiY2FwSGl0QXJlYSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInVwZGF0ZURlYnVnSFRNTCIsImlubmVySFRNTCIsImJvcmRlclN0eWxlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwicG9pbnRlckV2ZW50cyIsImludGVyYWN0aW9uTWFuYWdlciIsInBsdWdpbnMiLCJpbnRlcmFjdGlvbiIsImRpc3BhdGNoRXZlbnQiLCJldmVudERhdGEiLCJrZXlDb2RlIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwiVVBEQVRFX1BSSU9SSVRZIiwiUnVubmVyIiwiaXRlbXMiLCJfbmFtZSIsIl9hbGlhc0NvdW50IiwiYTAiLCJhMiIsImEzIiwiYTQiLCJhNSIsImE2IiwiYTciLCJfYSIsImVuc3VyZU5vbkFsaWFzZWRJdGVtcyIsInJlbW92ZSIsInJlbW92ZUFsbCIsImRpc3BhdGNoIiwicnVuIiwiVEFSR0VUX0ZQTVMiLCJUaWNrZXJMaXN0ZW5lciIsInByaW9yaXR5IiwibmV4dCIsInByZXZpb3VzIiwiZGVsdGFUaW1lIiwicmVkaXJlY3QiLCJjb25uZWN0IiwiaGFyZCIsIlRpY2tlciIsIl90aGlzIiwiX3JlcXVlc3RJZCIsIl9tYXhFbGFwc2VkTVMiLCJfbWluRWxhcHNlZE1TIiwiYXV0b1N0YXJ0IiwiZGVsdGFNUyIsImVsYXBzZWRNUyIsImxhc3RUaW1lIiwic3BlZWQiLCJzdGFydGVkIiwiX3Byb3RlY3RlZCIsIl9sYXN0RnJhbWUiLCJfdGljayIsInRpbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfcmVxdWVzdElmTmVlZGVkIiwicGVyZm9ybWFuY2UiLCJub3ciLCJfY2FuY2VsSWZOZWVkZWQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIl9zdGFydElmUG9zc2libGUiLCJzdGFydCIsIl9hZGRMaXN0ZW5lciIsImFkZE9uY2UiLCJsaXN0ZW5lciIsImN1cnJlbnQiLCJzdG9wIiwiY3VycmVudFRpbWUiLCJoZWFkIiwiZnBzIiwibWluRlBTIiwibWF4RlBTIiwibWluRlBNUyIsInJvdW5kIiwiX3NoYXJlZCIsInNoYXJlZCIsIl9zeXN0ZW0iLCJzeXN0ZW0iLCJUaWNrZXJQbHVnaW4iLCJhc3NpZ24iLCJzaGFyZWRUaWNrZXIiLCJ0aWNrZXIiLCJfdGlja2VyIiwiTE9XIiwib2xkVGlja2VyIiwiZGVzdHJveWVkIiwiaW50ZXJuYWwiLCJvblJlc2l6ZSIsIm9uVXBkYXRlIiwib25FcnJvciIsInZhbGlkIiwiYmFzZVRleHR1cmUiLCJ1bmJpbmQiLCJsb2FkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ1cGxvYWQiLCJnbFRleHR1cmUiLCJkaXNwb3NlIiwiUmVzb3VyY2UiLCJCYXNlSW1hZ2VSZXNvdXJjZSIsIm5hdHVyYWxXaWR0aCIsInZpZGVvV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwidmlkZW9IZWlnaHQiLCJub1N1YkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJlbGVtZW50IiwiY3Jvc3NvcmlnaW4iLCJyZWFsV2lkdGgiLCJyZWFsSGVpZ2h0IiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJhbHBoYU1vZGUiLCJVTlBBQ0siLCJURVhUVVJFXzJEIiwidGV4SW1hZ2UyRCIsImZvcm1hdCIsInRleFN1YkltYWdlMkQiLCJJbWFnZVJlc291cmNlIiwiSFRNTEltYWdlRWxlbWVudCIsImltYWdlRWxlbWVudCIsIkltYWdlIiwic3JjIiwiY29tcGxldGUiLCJfcHJvY2VzcyIsInByZXNlcnZlQml0bWFwIiwiY3JlYXRlQml0bWFwIiwiY3JlYXRlSW1hZ2VCaXRtYXAiLCJwcmVtdWx0aXBseUFscGhhIiwiYml0bWFwIiwiX2xvYWQiLCJhdXRvTG9hZCIsImNvbXBsZXRlZCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJwcm9jZXNzIiwiZXZlbnQiLCJ0aGVuIiwicmVqZWN0IiwiZmxhZyIsIl9nbFRleHR1cmVzIiwib3RoZXJUZXgiLCJkaXJ0eUlkIiwiY2xvc2UiLCJJTlNUQUxMRUQiLCJhdXRvRGV0ZWN0UmVzb3VyY2UiLCJleHRlbnNpb24iLCJyZXN1bHQiLCJSZXNvdXJjZVBsdWdpbiIsIkJ1ZmZlclJlc291cmNlIiwicmVmIiwiaW50ZXJuYWxGb3JtYXQiLCJVaW50OEFycmF5IiwiVWludDMyQXJyYXkiLCJkZWZhdWx0QnVmZmVyT3B0aW9ucyIsInNjYWxlTW9kZSIsIk5FQVJFU1QiLCJSR0JBIiwiTlBNIiwiQmFzZVRleHR1cmUiLCJyZXNvdXJjZSIsIm1pcG1hcCIsImFuaXNvdHJvcGljTGV2ZWwiLCJ3cmFwTW9kZSIsInJlc291cmNlT3B0aW9ucyIsIlVOU0lHTkVEX0JZVEUiLCJ0b3VjaGVkIiwiaXNQb3dlck9mVHdvIiwiX3JlZnJlc2hQT1QiLCJkaXJ0eVN0eWxlSWQiLCJjYWNoZUlkIiwidGV4dHVyZUNhY2hlSWRzIiwiX2JhdGNoRW5hYmxlZCIsIl9iYXRjaExvY2F0aW9uIiwic2V0UmVzb3VyY2UiLCJzZXRTdHlsZSIsImRpcnR5Iiwic2V0U2l6ZSIsInNldFJlYWxTaXplIiwic2V0UmVzb2x1dGlvbiIsIm9sZFJlc29sdXRpb24iLCJyZW1vdmVGcm9tQ2FjaGUiLCJzdHJpY3QiLCJTVFJJQ1RfVEVYVFVSRV9DQUNIRSIsImlzRnJhbWUiLCJfcGl4aUlkIiwiYWRkVG9DYWNoZSIsImZyb21CdWZmZXIiLCJidWZmZXIiLCJGTE9BVCIsImJhc2VUZXh0dXJlRnJvbUNhY2hlIiwiX2dsb2JhbEJhdGNoIiwiQXJyYXlSZXNvdXJjZSIsInVybHMiLCJpdGVtRGlydHlJZHMiLCJwYXJ0VGV4dHVyZSIsImFkZFJlc291cmNlQXQiLCJURVhUVVJFXzJEX0FSUkFZIiwicmVzb3VyY2VzIiwibWFwIiwicHJvbWlzZXMiLCJhbGwiLCJ0ZXh0dXJlIiwidGV4SW1hZ2UzRCIsInRleFN1YkltYWdlM0QiLCJDYW52YXNSZXNvdXJjZSIsIk9mZnNjcmVlbkNhbnZhcyIsIkhUTUxDYW52YXNFbGVtZW50IiwiQ3ViZVJlc291cmNlIiwiU0lERVMiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1giLCJURVhUVVJFX0NVQkVfTUFQIiwic2lkZSIsIlNWR1Jlc291cmNlIiwic3ZnIiwiX292ZXJyaWRlV2lkdGgiLCJfb3ZlcnJpZGVIZWlnaHQiLCJfcmVzb2x2ZSIsIl9jcm9zc29yaWdpbiIsInRyaW0iLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJfbG9hZFN2ZyIsInRlbXBJbWFnZSIsInN2Z1dpZHRoIiwic3ZnSGVpZ2h0IiwiZHJhd0ltYWdlIiwiZ2V0U2l6ZSIsInN2Z1N0cmluZyIsInNpemVNYXRjaCIsIlNWR19TSVpFIiwiVmlkZW9SZXNvdXJjZSIsIkhUTUxWaWRlb0VsZW1lbnQiLCJ2aWRlb0VsZW1lbnQiLCJzb3VyY2VFbGVtZW50IiwibWltZSIsImJhc2VTcmMiLCJleHQiLCJsYXN0SW5kZXhPZiIsIl9hdXRvVXBkYXRlIiwiX2lzQXV0b1VwZGF0aW5nIiwiX3VwZGF0ZUZQUyIsInVwZGF0ZUZQUyIsIl9tc1RvTmV4dFVwZGF0ZSIsImF1dG9QbGF5IiwiX29uQ2FuUGxheSIsIl9vbkVycm9yIiwiYXV0b1VwZGF0ZSIsInBsYXliYWNrUmF0ZSIsInJlYWR5U3RhdGUiLCJIQVZFX0VOT1VHSF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsIl9vblBsYXlTdGFydCIsIl9vblBsYXlTdG9wIiwiX2lzU291cmNlUmVhZHkiLCJfaXNTb3VyY2VQbGF5aW5nIiwicGF1c2VkIiwiZW5kZWQiLCJwbGF5IiwicGF1c2UiLCJJbWFnZUJpdG1hcFJlc291cmNlIiwiSW1hZ2VCaXRtYXAiLCJEZXB0aFJlc291cmNlIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJkZXB0aCIsImRpcnR5Rm9ybWF0IiwiZGlydHlTaXplIiwiZGVwdGhUZXh0dXJlIiwiY29sb3JUZXh0dXJlcyIsImdsRnJhbWVidWZmZXJzIiwiZGlzcG9zZVJ1bm5lciIsInByb3RvdHlwZUFjY2Vzc29ycyQxIiwiY29sb3JUZXh0dXJlIiwiYWRkQ29sb3JUZXh0dXJlIiwiYWRkRGVwdGhUZXh0dXJlIiwiREVQVEhfQ09NUE9ORU5UIiwiVU5TSUdORURfU0hPUlQiLCJlbmFibGVEZXB0aCIsImVuYWJsZVN0ZW5jaWwiLCJyZXNvbHV0aW9uJDEiLCJCYXNlUmVuZGVyVGV4dHVyZSIsIndpZHRoJDEiLCJoZWlnaHQkMSIsIl9jYW52YXNSZW5kZXJUYXJnZXQiLCJjbGVhckNvbG9yIiwiZnJhbWVidWZmZXIiLCJtYXNrU3RhY2siLCJmaWx0ZXJTdGFjayIsIlRleHR1cmVVdnMiLCJ4MyIsInkzIiwidXZzRmxvYXQzMiIsImZyYW1lIiwiYmFzZUZyYW1lIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsImNZIiwiREVGQVVMVF9VVlMiLCJUZXh0dXJlIiwib3JpZyIsImFuY2hvciIsIm5vRnJhbWUiLCJfZnJhbWUiLCJyZXF1aXJlc1VwZGF0ZSIsIl91dnMiLCJ1dk1hdHJpeCIsIl9yb3RhdGUiLCJkZWZhdWx0QW5jaG9yIiwiX3VwZGF0ZUlEIiwib25CYXNlVGV4dHVyZVVwZGF0ZWQiLCJ1cGRhdGVVdnMiLCJkZXN0cm95QmFzZSIsImZyb21Mb2FkZXIiLCJpbWFnZVVybCIsInRleHR1cmVGcm9tQ2FjaGUiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsInJlbW92ZUFsbEhhbmRsZXJzIiwidGV4IiwiV0hJVEUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNyZWF0ZVdoaXRlVGV4dHVyZSIsIlJlbmRlclRleHR1cmUiLCJiYXNlUmVuZGVyVGV4dHVyZSIsIl9sZWdhY3lSZW5kZXJlciIsImxlZ2FjeVJlbmRlcmVyIiwiZmlsdGVyRnJhbWUiLCJmaWx0ZXJQb29sS2V5IiwicmVzaXplQmFzZVRleHR1cmUiLCJSZW5kZXJUZXh0dXJlUG9vbCIsInRleHR1cmVPcHRpb25zIiwidGV4dHVyZVBvb2wiLCJlbmFibGVGdWxsU2NyZWVuIiwiX3BpeGVsc1dpZHRoIiwiX3BpeGVsc0hlaWdodCIsImNyZWF0ZVRleHR1cmUiLCJnZXRPcHRpbWFsVGV4dHVyZSIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiU0NSRUVOX0tFWSIsInJlbmRlclRleHR1cmUiLCJnZXRGaWx0ZXJUZXh0dXJlIiwiaW5wdXQiLCJmaWx0ZXJUZXh0dXJlIiwicmV0dXJuVGV4dHVyZSIsInJldHVybkZpbHRlclRleHR1cmUiLCJkZXN0cm95VGV4dHVyZXMiLCJ0ZXh0dXJlcyIsInNldFNjcmVlblNpemUiLCJzY3JlZW5LZXkiLCJBdHRyaWJ1dGUiLCJub3JtYWxpemVkIiwic3RyaWRlIiwiVUlEIiwiX3N0YXRpYyIsIl9nbEJ1ZmZlcnMiLCJzdGF0aWMiLCJnZXRCdWZmZXJUeXBlIiwiQllURVNfUEVSX0VMRU1FTlQiLCJJbnQzMkFycmF5IiwiYnl0ZVNpemVNYXAiLCI1MTI2IiwiNTEyMyIsIjUxMjEiLCJVSUQkMSIsIm1hcCQxIiwiYnVmZmVycyIsImF0dHJpYnV0ZXMiLCJpbmRleEJ1ZmZlciIsImdsVmVydGV4QXJyYXlPYmplY3RzIiwiaW5zdGFuY2VkIiwiaW5zdGFuY2VDb3VudCIsInJlZkNvdW50IiwiYWRkQXR0cmlidXRlIiwiaWRzIiwiYnVmZmVySW5kZXgiLCJnZXRCdWZmZXIiLCJhZGRJbmRleCIsImdldEluZGV4IiwiaW50ZXJsZWF2ZSIsImFycmF5cyIsInNpemVzIiwiaW50ZXJsZWF2ZWRCdWZmZXIiLCJhdHRyaWJ1dGUiLCJvdXRTaXplIiwidmlld3MiLCJBcnJheUJ1ZmZlciIsImxpdHRsZU9mZnNldCIsImludGVybGVhdmVUeXBlZEFycmF5cyIsImdlb21ldHJ5IiwiYXR0cmliIiwibWVyZ2UiLCJnZW9tZXRyaWVzIiwiZ2VvbWV0cnlPdXQiLCJvZmZzZXRzIiwiaSQyIiwiaiQxIiwib2Zmc2V0Iiwib2Zmc2V0MiIsImJ1ZmZlckluZGV4VG9Db3VudCIsImkkMyIsImkkNCIsImkkNSIsImluZGV4QnVmZmVyRGF0YSIsImokMiIsIlF1YWQiLCJHZW9tZXRyeSIsIlF1YWRVdiIsInV2cyIsInZlcnRleEJ1ZmZlciIsInV2QnVmZmVyIiwidGFyZ2V0VGV4dHVyZUZyYW1lIiwiZGVzdGluYXRpb25GcmFtZSIsImludmFsaWRhdGUiLCJVSUQkMiIsIlVuaWZvcm1Hcm91cCIsInVuaWZvcm1zIiwiZ3JvdXAiLCJzeW5jVW5pZm9ybXMiLCJzb3VyY2VGcmFtZSIsIlN5c3RlbSIsIkZpbHRlclN5c3RlbSIsImRlZmF1bHRGaWx0ZXJTdGFjayIsInN0YXRlUG9vbCIsInF1YWQiLCJxdWFkVXYiLCJ0ZW1wUmVjdCIsImFjdGl2ZVN0YXRlIiwiZ2xvYmFsVW5pZm9ybXMiLCJvdXRwdXRGcmFtZSIsImlucHV0U2l6ZSIsImlucHV0UGl4ZWwiLCJpbnB1dENsYW1wIiwiZmlsdGVyQ2xhbXAiLCJzdGF0ZSIsInBhZGRpbmciLCJhdXRvRml0IiwiZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUiLCJsYXN0U3RhdGUiLCJmbGlwIiwiZmxvcCIsImFwcGx5RmlsdGVyIiwib3V0cHV0IiwidVNhbXBsZXIiLCJmaWx0ZXJHbG9iYWxzIiwic2hhZGVyIiwiZHJhdyIsIlRSSUFOR0xFUyIsIlRSSUFOR0xFX1NUUklQIiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4Iiwib3V0cHV0TWF0cml4Iiwic3ByaXRlIiwiX3RleHR1cmUiLCJtYXBwZWRNYXRyaXgiLCJURU1QX01BVFJJWCIsInN3YXAiLCJlbXB0eVBvb2wiLCJCYXRjaFN5c3RlbSIsImVtcHR5UmVuZGVyZXIiLCJjdXJyZW50UmVuZGVyZXIiLCJzZXRPYmplY3RSZW5kZXJlciIsIm9iamVjdFJlbmRlcmVyIiwicmVzZXQiLCJjb3B5Qm91bmRUZXh0dXJlcyIsIm1heFRleHR1cmVzIiwiYm91bmRUZXh0dXJlcyIsImJvdW5kQXJyYXkiLCJ0ZXhBcnJheSIsImJhdGNoSWQiLCJlbGVtZW50cyIsImNvdW50IiwiUFJFRkVSX0VOViIsIldFQkdMIiwiV0VCR0wyIiwiQ09OVEVYVF9VSUQiLCJDb250ZXh0U3lzdGVtIiwid2ViR0xWZXJzaW9uIiwiZXh0ZW5zaW9ucyIsImhhbmRsZUNvbnRleHRMb3N0IiwiaGFuZGxlQ29udGV4dFJlc3RvcmVkIiwiaXNMb3N0IiwiaXNDb250ZXh0TG9zdCIsImNvbnRleHRDaGFuZ2UiLCJyZXN0b3JlQ29udGV4dCIsImluaXRGcm9tQ29udGV4dCIsInZhbGlkYXRlQ29udGV4dCIsInJ1bm5lcnMiLCJpbml0RnJvbU9wdGlvbnMiLCJjcmVhdGVDb250ZXh0IiwiZ2V0RXh0ZW5zaW9ucyIsImRyYXdCdWZmZXJzIiwidmVydGV4QXJyYXlPYmplY3QiLCJhbmlzb3Ryb3BpY0ZpbHRlcmluZyIsInVpbnQzMkVsZW1lbnRJbmRleCIsImZsb2F0VGV4dHVyZSIsImZsb2F0VGV4dHVyZUxpbmVhciIsInRleHR1cmVIYWxmRmxvYXQiLCJ0ZXh0dXJlSGFsZkZsb2F0TGluZWFyIiwiY29sb3JCdWZmZXJGbG9hdCIsInByZXZlbnREZWZhdWx0IiwidXNlUHJvZ3JhbSIsInBvc3RyZW5kZXIiLCJGcmFtZWJ1ZmZlclN5c3RlbSIsIm1hbmFnZWRGcmFtZWJ1ZmZlcnMiLCJ1bmtub3duRnJhbWVidWZmZXIiLCJ2aWV3cG9ydCIsImhhc01SVCIsIndyaXRlRGVwdGhUZXh0dXJlIiwiZGlzcG9zZUFsbCIsIm5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uIiwibmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uIiwiV0VCR0xfTEVHQUNZIiwiYWN0aXZlVGV4dHVyZXMiLCJkcmF3QnVmZmVyc1dFQkdMIiwiZmJvIiwiaW5pdEZyYW1lYnVmZmVyIiwiYmluZEZyYW1lYnVmZmVyIiwiRlJBTUVCVUZGRVIiLCJ1cGRhdGVGcmFtZWJ1ZmZlciIsInJlc2l6ZUZyYW1lYnVmZmVyIiwidGV4dHVyZVBhcnQiLCJzZXRWaWV3cG9ydCIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kUmVuZGVyYnVmZmVyIiwiUkVOREVSQlVGRkVSIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX1NURU5DSUwiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsIkNPTE9SX0FUVEFDSE1FTlQwIiwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YIiwiREVQVEhfQVRUQUNITUVOVCIsImNyZWF0ZVJlbmRlcmJ1ZmZlciIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UIiwiZGlzcG9zZUZyYW1lYnVmZmVyIiwiY29udGV4dExvc3QiLCJkZWxldGVGcmFtZWJ1ZmZlciIsImRlbGV0ZVJlbmRlcmJ1ZmZlciIsImxpc3QiLCJmb3JjZVN0ZW5jaWwiLCJHTEJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJieXRlU2l6ZU1hcCQxIiwiR2VvbWV0cnlTeXN0ZW0iLCJfYWN0aXZlR2VvbWV0cnkiLCJfYWN0aXZlVmFvIiwiaGFzVmFvIiwiaGFzSW5zdGFuY2UiLCJjYW5Vc2VVSW50MzJFbGVtZW50SW5kZXgiLCJib3VuZEJ1ZmZlcnMiLCJtYW5hZ2VkR2VvbWV0cmllcyIsIm1hbmFnZWRCdWZmZXJzIiwiY3JlYXRlVmVydGV4QXJyYXkiLCJuYXRpdmVWYW9FeHRlbnNpb24iLCJjcmVhdGVWZXJ0ZXhBcnJheU9FUyIsImJpbmRWZXJ0ZXhBcnJheSIsInZhbyIsImJpbmRWZXJ0ZXhBcnJheU9FUyIsImRlbGV0ZVZlcnRleEFycmF5IiwiZGVsZXRlVmVydGV4QXJyYXlPRVMiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yIiwiaW5zdGFuY2VFeHQiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWQiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRSIsImRyYXdBcnJheXNJbnN0YW5jZWQiLCJkcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUiLCJ2YW9zIiwicHJvZ3JhbSIsImluaXRHZW9tZXRyeVZhbyIsImFjdGl2YXRlVmFvIiwidXBkYXRlQnVmZmVycyIsImdsQnVmZmVyIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJBUlJBWV9CVUZGRVIiLCJiaW5kQnVmZmVyIiwiX2JvdW5kQnVmZmVyIiwiYnVmZmVyU3ViRGF0YSIsImRyYXdUeXBlIiwiU1RBVElDX0RSQVciLCJEWU5BTUlDX0RSQVciLCJidWZmZXJEYXRhIiwiY2hlY2tDb21wYXRpYmlsaXR5IiwiZ2VvbWV0cnlBdHRyaWJ1dGVzIiwic2hhZGVyQXR0cmlidXRlcyIsImF0dHJpYnV0ZURhdGEiLCJnZXRTaWduYXR1cmUiLCJhdHRyaWJzIiwic3RyaW5ncyIsInNpZ25hdHVyZSIsInZhb09iamVjdEhhc2giLCJ0ZW1wU3RyaWRlIiwidGVtcFN0YXJ0IiwiYXR0cmliU2l6ZSIsImNyZWF0ZUJ1ZmZlciIsImRpc3Bvc2VCdWZmZXIiLCJkZWxldGVCdWZmZXIiLCJkaXNwb3NlR2VvbWV0cnkiLCJidWYiLCJ2YW9JZCIsImxhc3RCdWZmZXIiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJieXRlU2l6ZSIsImdsVHlwZSIsIlVOU0lHTkVEX0lOVCIsImRyYXdFbGVtZW50cyIsImRyYXdBcnJheXMiLCJOT05FIiwiYXV0b0RldGVjdCIsInBvb2xlZCIsImlzTWFza0RhdGEiLCJfc3RlbmNpbENvdW50ZXIiLCJfc2Npc3NvckNvdW50ZXIiLCJfc2Npc3NvclJlY3QiLCJfdGFyZ2V0IiwiY29tcGlsZVByb2dyYW0iLCJ2ZXJ0ZXhTcmMiLCJmcmFnbWVudFNyYyIsImF0dHJpYnV0ZUxvY2F0aW9ucyIsImdsVmVydFNoYWRlciIsImNvbXBpbGVTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZ2xGcmFnU2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImJpbmRBdHRyaWJMb2NhdGlvbiIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZXJyb3IiLCJWQUxJREFURV9TVEFUVVMiLCJnZXRFcnJvciIsImdldFByb2dyYW1JbmZvTG9nIiwiZGVsZXRlUHJvZ3JhbSIsImRlbGV0ZVNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZ2V0U2hhZGVySW5mb0xvZyIsImJvb2xlYW5BcnJheSIsImNvcHlDb3VudGVyc09yUmVzZXQiLCJtYXNrQWJvdmUiLCJtYXhGcmFnbWVudFByZWNpc2lvbiIsInVua25vd25Db250ZXh0IiwiZ2V0VGVzdENvbnRleHQiLCJzZXRQcmVjaXNpb24iLCJyZXF1ZXN0ZWRQcmVjaXNpb24iLCJtYXhTdXBwb3J0ZWRQcmVjaXNpb24iLCJzdWJzdHJpbmciLCJwcmVjaXNpb24iLCJISUdIIiwiTUVESVVNIiwicmVwbGFjZSIsIkdMU0xfVE9fU0laRSIsImZsb2F0IiwidmVjMiIsInZlYzMiLCJ2ZWM0IiwiaW50IiwiaXZlYzIiLCJpdmVjMyIsIml2ZWM0IiwiYm9vbCIsImJ2ZWMyIiwiYnZlYzMiLCJidmVjNCIsIm1hdDIiLCJtYXQzIiwibWF0NCIsInNhbXBsZXIyRCIsIm1hcFNpemUiLCJHTF9UQUJMRSIsIkdMX1RPX0dMU0xfVFlQRVMiLCJGTE9BVF9WRUMyIiwiRkxPQVRfVkVDMyIsIkZMT0FUX1ZFQzQiLCJJTlQiLCJJTlRfVkVDMiIsIklOVF9WRUMzIiwiSU5UX1ZFQzQiLCJCT09MIiwiQk9PTF9WRUMyIiwiQk9PTF9WRUMzIiwiQk9PTF9WRUM0IiwiRkxPQVRfTUFUMiIsIkZMT0FUX01BVDMiLCJGTE9BVF9NQVQ0IiwiU0FNUExFUl8yRCIsIlNBTVBMRVJfQ1VCRSIsIlNBTVBMRVJfMkRfQVJSQVkiLCJtYXBUeXBlIiwidHlwZU5hbWVzIiwidG4iLCJHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCIsInNhbXBsZXJDdWJlIiwic2FtcGxlcjJEQXJyYXkiLCJHTFNMX1RPX0FSUkFZX1NFVFRFUlMiLCJ1bnNhZmVFdmFsIiwiZnJhZ1RlbXBsYXRlIiwiY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciIsIm1heElmcyIsImdlbmVyYXRlSWZUZXN0U3JjIiwiVUlEJDMiLCJuYW1lQ2FjaGUiLCJQcm9ncmFtIiwiZGVmYXVsdFZlcnRleFNyYyIsImRlZmF1bHRGcmFnbWVudFNyYyIsImdldFNoYWRlclByZWNpc2lvbkZvcm1hdCIsInNoYWRlckZyYWdtZW50IiwiSElHSF9GTE9BVCIsImdldE1heEZyYWdtZW50UHJlY2lzaW9uIiwiZXh0cmFjdERhdGEiLCJnbFByb2dyYW1zIiwiZ2V0QXR0cmlidXRlRGF0YSIsInVuaWZvcm1EYXRhIiwiZ2V0VW5pZm9ybURhdGEiLCJhdHRyaWJ1dGVzQXJyYXkiLCJ0b3RhbEF0dHJpYnV0ZXMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYkRhdGEiLCJnZXRBY3RpdmVBdHRyaWIiLCJ0b3RhbFVuaWZvcm1zIiwiQUNUSVZFX1VOSUZPUk1TIiwiZ2V0QWN0aXZlVW5pZm9ybSIsInVuaWZvcm1Hcm91cCIsInByb3RvdHlwZUFjY2Vzc29ycyQyIiwiY2hlY2tVbmlmb3JtRXhpc3RzIiwidW5pZm9ybSIsInBvbHlnb25PZmZzZXQiLCJibGVuZCIsInByb3RvdHlwZUFjY2Vzc29ycyQzIiwiY3VsbGluZyIsImRlcHRoVGVzdCIsImNsb2Nrd2lzZUZyb250RmFjZSIsIl9ibGVuZE1vZGUiLCJfcG9seWdvbk9mZnNldCIsImZvcjJkIiwiU2hhZGVyIiwiRmlsdGVyIiwiYVRleHR1cmVDb29yZCIsInN0YXRpY0FjY2Vzc29ycyIsImZpbHRlck1hbmFnZXIiLCJjdXJyZW50U3RhdGUiLCJTT1VSQ0VfS0VZX01BUCIsInRlbXBNYXQiLCJjbGFtcE1hcmdpbiIsIm1hcENvb3JkIiwidUNsYW1wRnJhbWUiLCJ1Q2xhbXBPZmZzZXQiLCJjbGFtcE9mZnNldCIsImlzU2ltcGxlIiwicHJvdG90eXBlQWNjZXNzb3JzJDQiLCJtdWx0aXBseVV2cyIsImZvcmNlVXBkYXRlIiwidGV4QmFzZSIsIm1hcmdpbiIsIlNwcml0ZU1hc2tGaWx0ZXIiLCJtYXNrTWF0cml4IiwibWFza1Nwcml0ZSIsIm5wbUFscGhhIiwib3RoZXJNYXRyaXgiLCJtYXNrQ2xhbXAiLCJNYXNrU3lzdGVtIiwic2Npc3NvclJlbmRlclRhcmdldCIsImVuYWJsZVNjaXNzb3IiLCJhbHBoYU1hc2tQb29sIiwibWFza0RhdGFQb29sIiwiYWxwaGFNYXNrSW5kZXgiLCJzZXRNYXNrU3RhY2siLCJzY2lzc29yIiwibWFza0RhdGEiLCJkZXRlY3QiLCJTQ0lTU09SIiwiU1RFTkNJTCIsIlNQUklURSIsInB1c2hTcHJpdGVNYXNrIiwicG9wU3ByaXRlTWFzayIsImlzRmFzdFJlY3QiLCJyb3RYIiwicm90WFkiLCJhbHBoYU1hc2tGaWx0ZXIiLCJzdGFzaEZpbHRlckFyZWEiLCJBYnN0cmFjdE1hc2tTeXN0ZW0iLCJnbENvbnN0IiwiZ2V0U3RhY2tMZW5ndGgiLCJjdXJTdGFja0xlbiIsIm5ld1N0YWNrTGVuIiwiZGlzYWJsZSIsImVuYWJsZSIsIl91c2VDdXJyZW50IiwiU2Npc3NvclN5c3RlbSIsIlNDSVNTT1JfVEVTVCIsInByZXZEYXRhIiwicnQiLCJwcm9qZWN0aW9uIiwiU3RlbmNpbFN5c3RlbSIsIlNURU5DSUxfVEVTVCIsInByZXZNYXNrQ291bnQiLCJjb2xvck1hc2siLCJzdGVuY2lsRnVuYyIsIkVRVUFMIiwiX2dldEJpdHdpc2VNYXNrIiwic3RlbmNpbE9wIiwiS0VFUCIsIklOQ1IiLCJTVEVOQ0lMX0JVRkZFUl9CSVQiLCJjbGVhclN0ZW5jaWwiLCJERUNSIiwiUHJvamVjdGlvblN5c3RlbSIsImRlZmF1bHRGcmFtZSIsInByb2plY3Rpb25NYXRyaXgiLCJyb290IiwiY2FsY3VsYXRlUHJvamVjdGlvbiIsInN5bmNVbmlmb3JtR3JvdXAiLCJnbG9iYWxzIiwiUmVuZGVyVGV4dHVyZVN5c3RlbSIsIl9iYWNrZ3JvdW5kQ29sb3JSZ2JhIiwiZGVmYXVsdE1hc2tTdGFjayIsIkdMUHJvZ3JhbSIsInVuaWZvcm1Hcm91cHMiLCJVSUQkNCIsIlNoYWRlclN5c3RlbSIsInN5c3RlbUNoZWNrIiwiY2FjaGUiLCJmdW5jIiwidW5zYWZlRXZhbFN1cHBvcnRlZCIsImRvbnRTeW5jIiwiZ2xQcm9ncmFtIiwiZ2VuZXJhdGVTaGFkZXIiLCJzZXRVbmlmb3JtcyIsImdldGdsUHJvZ3JhbSIsImNyZWF0ZVN5bmNHcm91cHMiLCJ0ZXh0dXJlQ291bnQiLCJnZW5lcmF0ZVVuaWZvcm1zU3luYyIsImF0dHJpYk1hcCIsInNoYWRlclByb2dyYW0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJTdGF0ZVN5c3RlbSIsInN0YXRlSWQiLCJfYmxlbmRFcSIsInNldEJsZW5kIiwic2V0T2Zmc2V0Iiwic2V0Q3VsbEZhY2UiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJjaGVja3MiLCJkZWZhdWx0U3RhdGUiLCJibGVuZE1vZGVzIiwiT05FIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIk1VTFRJUExZIiwiRFNUX0NPTE9SIiwiT05FX01JTlVTX1NSQ19DT0xPUiIsIk9WRVJMQVkiLCJEQVJLRU4iLCJMSUdIVEVOIiwiQ09MT1JfRE9ER0UiLCJDT0xPUl9CVVJOIiwiSEFSRF9MSUdIVCIsIlNPRlRfTElHSFQiLCJESUZGRVJFTkNFIiwiRVhDTFVTSU9OIiwiSFVFIiwiU0FUVVJBVElPTiIsIkNPTE9SIiwiTFVNSU5PU0lUWSIsIlNSQ19BTFBIQSIsIlNSQ19JTiIsIkRTVF9BTFBIQSIsIlpFUk8iLCJTUkNfT1VUIiwiT05FX01JTlVTX0RTVF9BTFBIQSIsIlNSQ19BVE9QIiwiRFNUX09WRVIiLCJEU1RfSU4iLCJEU1RfT1VUIiwiRFNUX0FUT1AiLCJYT1IiLCJTVUJUUkFDVCIsIkZVTkNfUkVWRVJTRV9TVUJUUkFDVCIsIkZVTkNfQUREIiwibWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIiwiZGlmZiIsImZvcmNlU3RhdGUiLCJ1cGRhdGVDaGVjayIsImNoZWNrQmxlbmRNb2RlIiwiQkxFTkQiLCJjaGVja1BvbHlnb25PZmZzZXQiLCJQT0xZR09OX09GRlNFVF9GSUxMIiwiREVQVEhfVEVTVCIsIkNVTExfRkFDRSIsImZyb250RmFjZSIsInNldEJsZW5kTW9kZSIsImJsZW5kRnVuYyIsImJsZW5kRnVuY1NlcGFyYXRlIiwiYmxlbmRFcXVhdGlvblNlcGFyYXRlIiwic2V0UG9seWdvbk9mZnNldCIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJUZXh0dXJlR0NTeXN0ZW0iLCJjaGVja0NvdW50IiwibWF4SWRsZSIsImNoZWNrQ291bnRNYXgiLCJNQU5VQUwiLCJ0bSIsIm1hbmFnZWRUZXh0dXJlcyIsIndhc1JlbW92ZWQiLCJkZXN0cm95VGV4dHVyZSIsInVubG9hZCIsInRleHR1cmVTeXN0ZW0iLCJfZ2xSZW5kZXJUYXJnZXRzIiwiR0xUZXh0dXJlIiwiVGV4dHVyZVN5c3RlbSIsImN1cnJlbnRMb2NhdGlvbiIsIl91bmtub3duQm91bmRUZXh0dXJlcyIsInVua25vd25UZXh0dXJlIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwiZW1wdHlUZXh0dXJlMkQiLCJiaW5kVGV4dHVyZSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01BR19GSUxURVIiLCJMSU5FQVIiLCJURVhUVVJFX01JTl9GSUxURVIiLCJ0ZXh0dXJlR0MiLCJpbml0VGV4dHVyZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInVwZGF0ZVRleHR1cmUiLCJpbml0VGV4dHVyZVR5cGUiLCJSR0JBMzJGIiwiSEFMRl9GTE9BVCIsIlJHQkExNkYiLCJ1cGRhdGVUZXh0dXJlU3R5bGUiLCJza2lwUmVtb3ZlIiwiZGVsZXRlVGV4dHVyZSIsIlBPVzIiLCJDTEFNUCIsImdlbmVyYXRlTWlwbWFwIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIkxJTkVBUl9NSVBNQVBfTElORUFSIiwiTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCIsImFuaXNvdHJvcGljRXh0IiwibGV2ZWwiLCJNQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJ0ZXhQYXJhbWV0ZXJmIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJzeXN0ZW1zIiwidGVtcE1hdHJpeCIsIkFic3RyYWN0UmVuZGVyZXIiLCJyb3VuZFBpeGVscyIsIlVOS05PV04iLCJzY3JlZW4iLCJhdXRvUmVzaXplIiwiX2JhY2tncm91bmRDb2xvciIsIl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmciLCJpbml0UGx1Z2lucyIsInN0YXRpY01hcCIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwicmVtb3ZlVmlldyIsIlJlbmRlcmVyIiwicHJlcmVuZGVyIiwiYWRkU3lzdGVtIiwiX19wbHVnaW5zIiwicHJlbXVsdGlwbGllZEFscGhhIiwicG93ZXJQcmVmZXJlbmNlIiwiQ2xhc3NSZWYiLCJza2lwVXBkYXRlVHJhbnNmb3JtIiwiY2FjaGVQYXJlbnQiLCJyZWdpc3RlclBsdWdpbiIsInBsdWdpbk5hbWUiLCJjdG9yIiwiYXV0b0RldGVjdFJlbmRlcmVyIiwiX2RlZmF1bHQiLCJkZWZhdWx0RmlsdGVyIiwiQ3ViZVRleHR1cmUiLCJCYXRjaFRleHR1cmVBcnJheSIsIlZpZXdhYmxlQnVmZmVyIiwicmF3QmluYXJ5RGF0YSIsInVpbnQzMlZpZXciLCJmbG9hdDMyVmlldyIsInByb3RvdHlwZUFjY2Vzc29ycyQ1IiwiaW50OFZpZXciLCJ1aW50OFZpZXciLCJpbnQxNlZpZXciLCJ1aW50MTZWaWV3IiwiaW50MzJWaWV3IiwiX2ludDhWaWV3IiwiSW50OEFycmF5IiwiX3VpbnQ4VmlldyIsIl9pbnQxNlZpZXciLCJJbnQxNkFycmF5IiwiX3VpbnQxNlZpZXciLCJfaW50MzJWaWV3Iiwic2l6ZU9mIiwiT2JqZWN0UmVuZGVyZXIiLCJBYnN0cmFjdEJhdGNoUmVuZGVyZXIiLCJzaGFkZXJHZW5lcmF0b3IiLCJnZW9tZXRyeUNsYXNzIiwidmVydGV4U2l6ZSIsIl92ZXJ0ZXhDb3VudCIsIl9pbmRleENvdW50IiwiX2J1ZmZlcmVkRWxlbWVudHMiLCJfYnVmZmVyZWRUZXh0dXJlcyIsIl9idWZmZXJTaXplIiwiX3NoYWRlciIsIl9wYWNrZWRHZW9tZXRyaWVzIiwiX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUiLCJfZmx1c2hJZCIsIl9hQnVmZmVycyIsIl9pQnVmZmVycyIsIk1BWF9URVhUVVJFUyIsIm9uUHJlcmVuZGVyIiwiX2RjSW5kZXgiLCJfYUluZGV4IiwiX2lJbmRleCIsIl9hdHRyaWJ1dGVCdWZmZXIiLCJfaW5kZXhCdWZmZXIiLCJfdGVtcEJvdW5kVGV4dHVyZXMiLCJpbml0Rmx1c2hCdWZmZXJzIiwiX2RyYXdDYWxsUG9vbCIsIl90ZXh0dXJlQXJyYXlQb29sIiwiTUFYX1NQUklURVMiLCJNQVhfVEEiLCJpbmRpY2VzIiwiYnVpbGRUZXh0dXJlc0FuZERyYXdDYWxscyIsInRleHR1cmVBcnJheXMiLCJ0b3VjaCIsIlRJQ0siLCJjb3VudFRleEFycmF5cyIsImJ1aWxkRHJhd0NhbGxzIiwiZmluaXNoIiwiZHJhd0NhbGxzIiwiZGNJbmRleCIsImFJbmRleCIsImlJbmRleCIsImRyYXdDYWxsIiwic3ByaXRlQmxlbmRNb2RlIiwicGFja0ludGVybGVhdmVkR2VvbWV0cnkiLCJiaW5kQW5kQ2xlYXJUZXhBcnJheSIsInVwZGF0ZUdlb21ldHJ5IiwicGFja2VkR2VvbWV0cmllcyIsImF0dHJpYnV0ZUJ1ZmZlciIsIl9idWZmZXIiLCJkcmF3QmF0Y2hlcyIsImRjQ291bnQiLCJzdGF0ZVN5c3RlbSIsImN1clRleEFycmF5IiwicmVmJDEiLCJnZXRBdHRyaWJ1dGVCdWZmZXIiLCJnZXRJbmRleEJ1ZmZlciIsInJvdW5kZWRQMiIsInJvdW5kZWRTaXplSW5kZXgiLCJyb3VuZGVkU2l6ZSIsInBhY2tlZFZlcnRpY2VzIiwiaW5kaWNpZXMiLCJ0ZXh0dXJlSWQiLCJhcmdiIiwiX3RpbnRSR0IiLCJCYXRjaFNoYWRlckdlbmVyYXRvciIsInByb2dyYW1DYWNoZSIsImRlZmF1bHRHcm91cENhY2hlIiwic2FtcGxlVmFsdWVzIiwidVNhbXBsZXJzIiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJ0cmFuc2xhdGlvbk1hdHJpeCIsImRlZmF1bHQiLCJCYXRjaEdlb21ldHJ5IiwiZGVmYXVsdFZlcnRleCQyIiwiZGVmYXVsdEZyYWdtZW50JDIiLCJCYXRjaFBsdWdpbkZhY3RvcnkiLCJzdGF0aWNBY2Nlc3NvcnMkMSIsImRlZmF1bHRGcmFnbWVudFRlbXBsYXRlIiwidmVydGV4IiwiZnJhZ21lbnQiLCJCYXRjaFBsdWdpbiIsIkJhdGNoUmVuZGVyZXIiLCJURU1QX1JFQ1QiLCJFeHRyYWN0IiwiZXh0cmFjdCIsImltYWdlIiwicXVhbGl0eSIsImJhc2U2NCIsInRvRGF0YVVSTCIsImZsaXBZIiwiZ2VuZXJhdGVkIiwiY2FudmFzQnVmZmVyIiwid2ViZ2xQaXhlbHMiLCJyZWFkUGl4ZWxzIiwiY2FudmFzRGF0YSIsImFycmF5UG9zdERpdmlkZSIsInB1dEltYWdlRGF0YSIsImdsb2JhbCIsIm9yaWdpbmFsRXZlbnQiLCJpZGVudGlmaWVyIiwiaXNQcmltYXJ5IiwiYnV0dG9uIiwiYnV0dG9ucyIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsInByZXNzdXJlIiwicm90YXRpb25BbmdsZSIsInR3aXN0IiwidGFuZ2VudGlhbFByZXNzdXJlIiwicG9pbnRlcklkIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImdsb2JhbFBvcyIsImNvcHlFdmVudCIsImlzSW50ZWdlciIsIndoaWNoIiwiSW50ZXJhY3Rpb25FdmVudCIsInN0b3BwZWQiLCJzdG9wc1Byb3BhZ2F0aW5nQXQiLCJzdG9wUHJvcGFnYXRpb25IaW50IiwiY3VycmVudFRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsIkludGVyYWN0aW9uVHJhY2tpbmdEYXRhIiwiX3BvaW50ZXJJZCIsIl9mbGFncyIsIkZMQUdTIiwiZmxhZ3MiLCJub25lIiwib3ZlciIsInJpZ2h0RG93biIsImxlZnREb3duIiwiX2RvU2V0IiwieW4iLCJPVkVSIiwiUklHSFRfRE9XTiIsIkxFRlRfRE9XTiIsImZyZWV6ZSIsIl90ZW1wUG9pbnQiLCJyZWN1cnNpdmVGaW5kSGl0IiwiaW50ZXJhY3Rpb25FdmVudCIsImhpdFRlc3QiLCJoaXQiLCJpbnRlcmFjdGl2ZVBhcmVudCIsImhpdFRlc3RDaGlsZHJlbiIsImNvbnRhaW5zUG9pbnQiLCJjaGlsZEhpdCIsImZpbmRIaXQiLCJpbnRlcmFjdGl2ZVRhcmdldCIsImN1cnNvciIsIl90cmFja2VkUG9pbnRlcnMiLCJoaXRUZXN0RXZlbnQiLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJhdXRvUHJldmVudERlZmF1bHQiLCJpbnRlcmFjdGlvbkZyZXF1ZW5jeSIsIm1vdXNlIiwiYWN0aXZlSW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25EYXRhUG9vbCIsImludGVyYWN0aW9uRE9NRWxlbWVudCIsIm1vdmVXaGVuSW5zaWRlIiwiZXZlbnRzQWRkZWQiLCJtb3VzZU92ZXJSZW5kZXJlciIsInN1cHBvcnRzVG91Y2hFdmVudHMiLCJzdXBwb3J0c1BvaW50ZXJFdmVudHMiLCJQb2ludGVyRXZlbnQiLCJvblBvaW50ZXJVcCIsInByb2Nlc3NQb2ludGVyVXAiLCJvblBvaW50ZXJDYW5jZWwiLCJwcm9jZXNzUG9pbnRlckNhbmNlbCIsIm9uUG9pbnRlckRvd24iLCJwcm9jZXNzUG9pbnRlckRvd24iLCJvblBvaW50ZXJNb3ZlIiwicHJvY2Vzc1BvaW50ZXJNb3ZlIiwib25Qb2ludGVyT3V0IiwicHJvY2Vzc1BvaW50ZXJPdmVyT3V0Iiwib25Qb2ludGVyT3ZlciIsImN1cnNvclN0eWxlcyIsInBvaW50ZXIiLCJjdXJyZW50Q3Vyc29yTW9kZSIsImRlbGF5ZWRFdmVudHMiLCJzZWFyY2giLCJzZXRUYXJnZXRFbGVtZW50IiwiZ2xvYmFsUG9pbnQiLCJwcm9jZXNzSW50ZXJhY3RpdmUiLCJyZW1vdmVFdmVudHMiLCJhZGRFdmVudHMiLCJJTlRFUkFDVElPTiIsIm1zUG9pbnRlckVuYWJsZWQiLCJfZGVsdGFUaW1lIiwiZGlkTW92ZSIsImludGVyYWN0aW9uRGF0YSIsImNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCIsInNldEN1cnNvck1vZGUiLCJldmVudFN0cmluZyIsImRlbGF5RGlzcGF0Y2hFdmVudCIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInBhcmVudEVsZW1lbnQiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsImRlbGF5ZWRMZW4iLCJkaXNwbGF5T2JqZWN0JDEiLCJldmVudHMiLCJub3JtYWxpemVUb1BvaW50ZXJEYXRhIiwiaXNOb3JtYWxpemVkIiwiY2FuY2VsYWJsZSIsImV2ZW50TGVuIiwiZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwiaXNSaWdodEJ1dHRvbiIsInRyYWNrZWRQb2ludGVycyIsIm9uUG9pbnRlckNvbXBsZXRlIiwiY2FuY2VsbGVkIiwiZXZlbnRBcHBlbmQiLCJyZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwidHJhY2tpbmdEYXRhIiwiaXNUb3VjaCIsImlzTW91c2UiLCJpc01vdXNlVGFwIiwiaXNEb3duIiwicG9pbnRlckV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJnbG9iYWxYIiwiZ2xvYmFsWSIsIm5vcm1hbGl6ZWRFdmVudHMiLCJUb3VjaEV2ZW50IiwibGkiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoZXMiLCJyYWRpdXNYIiwicmFkaXVzWSIsImZvcmNlIiwibGF5ZXJYIiwib2Zmc2V0WCIsImxheWVyWSIsIm9mZnNldFkiLCJNb3VzZUV2ZW50IiwiR1JBUEhJQ1NfQ1VSVkVTIiwiYWRhcHRpdmUiLCJtYXhMZW5ndGgiLCJtaW5TZWdtZW50cyIsIm1heFNlZ21lbnRzIiwiX3NlZ21lbnRzQ291bnQiLCJkZWZhdWx0U2VnbWVudHMiLCJGaWxsU3R5bGUiLCJvYmoiLCJjb2xvciIsImJ1aWxkUG9seSIsImJ1aWxkIiwiZ3JhcGhpY3NEYXRhIiwic2hhcGUiLCJ0cmlhbmd1bGF0ZSIsImdyYXBoaWNzR2VvbWV0cnkiLCJob2xlcyIsInZlcnRzIiwiaG9sZUFycmF5IiwiaG9sZSIsImNvbmNhdCIsInRyaWFuZ2xlcyIsInZlcnRQb3MiLCJidWlsZENpcmNsZSIsImNpcmNsZURhdGEiLCJ0b3RhbFNlZ3MiLCJzZWciLCJjZW50ZXIiLCJidWlsZFJlY3RhbmdsZSIsInJlY3REYXRhIiwiYnVpbGRSb3VuZGVkUmVjdGFuZ2xlIiwicnJlY3REYXRhIiwicXVhZHJhdGljQmV6aWVyQ3VydmUiLCJ2ZWNQb3MiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwiZnJvbVgiLCJmcm9tWSIsImNwWCIsImNwWSIsInRvWCIsInRvWSIsInhhIiwieWEiLCJ4YiIsInliIiwiYnVpbGRMaW5lIiwibGluZVN0eWxlIiwibmF0aXZlIiwiY2xvc2VkU2hhcGUiLCJzdGFydEluZGV4IiwiYnVpbGROYXRpdmVMaW5lIiwiY2xvc2VQb2ludEVwcyIsImZpcnN0UG9pbnQiLCJsYXN0UG9pbnQiLCJjbG9zZWRQYXRoIiwibWlkUG9pbnRYIiwibWlkUG9pbnRZIiwidW5zaGlmdCIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0IiwicDF4IiwicDF5IiwicDJ4IiwicDJ5IiwicDN4IiwicDN5IiwicGVycHgiLCJwZXJweSIsInBlcnAyeCIsInBlcnAyeSIsInBlcnAzeCIsInBlcnAzeSIsImRpc3QiLCJyYXRpbyIsImFsaWdubWVudCIsInIxIiwiYjIiLCJjMiIsImRlbm9tIiwicHgiLCJweSIsImJ1aWxkTm9uTmF0aXZlTGluZSIsIlN0YXIiLCJpbm5lclJhZGl1cyIsInN0YXJ0QW5nbGUiLCJBcmNVdGlscyIsImN1cnZlVG8iLCJtbSIsImRkIiwiY2MiLCJ0dCIsImsxIiwiazIiLCJqMSIsImoyIiwiY3giLCJjeSIsInF4IiwicXkiLCJlbmRBbmdsZSIsImFudGljbG9ja3dpc2UiLCJhcmMiLCJzdGFydFgiLCJzdGFydFkiLCJzd2VlcCIsInRoZXRhIiwidGhldGEyIiwiY1RoZXRhIiwic1RoZXRhIiwic2VnTWludXMiLCJyZW1haW5kZXIiLCJCZXppZXJVdGlscyIsImN1cnZlTGVuZ3RoIiwiY3BYMiIsImNwWTIiLCJ0MiIsInQzIiwibnQiLCJudDIiLCJudDMiLCJwcmV2WCIsInByZXZZIiwiZHQiLCJkdDIiLCJkdDMiLCJRdWFkcmF0aWNVdGlscyIsImF4IiwiYXkiLCJieCIsImJ5IiwiYTMyIiwiYmEiLCJCYXRjaFBhcnQiLCJhdHRyaWJTdGFydCIsImVuZEF0dHJpYiIsIkZJTExfQ09NTUFORFMiLCJCQVRDSF9QT09MIiwiRFJBV19DQUxMX1BPT0wiLCJidWlsZENvbXBsZXhQb2x5Iiwid2ViR0xEYXRhIiwiZmlsbEFscGhhIiwiZmlsbENvbG9yIiwiYmV6aWVyQ3VydmVUbyIsInBhdGgiLCJHcmFwaGljc0RhdGEiLCJ0bXBQb2ludCIsInRtcEJvdW5kcyIsIkdyYXBoaWNzR2VvbWV0cnkiLCJjb2xvcnMiLCJ0ZXh0dXJlSWRzIiwiYmF0Y2hEaXJ0eSIsImNhY2hlRGlydHkiLCJjbGVhckRpcnR5IiwiYmF0Y2hlcyIsInNoYXBlSW5kZXgiLCJib3VuZHNEaXJ0eSIsImJvdW5kc1BhZGRpbmciLCJiYXRjaGFibGUiLCJpbmRpY2VzVWludDE2IiwiZHJhd1NoYXBlIiwiZHJhd0hvbGUiLCJsYXN0U2hhcGUiLCJoaXRIb2xlIiwidXBkYXRlQmF0Y2hlcyIsInZhbGlkYXRlQmF0Y2hpbmciLCJiYXRjaFBhcnQiLCJjdXJyZW50U3R5bGUiLCJ0cmFuc2Zvcm1Qb2ludHMiLCJuZXh0VGV4dHVyZSIsImluZGV4JDEiLCJhdHRyaWJJbmRleCIsIlJFUEVBVCIsIl9jb21wYXJlU3R5bGVzIiwicHJvY2Vzc0ZpbGwiLCJwcm9jZXNzTGluZSIsImFkZFV2cyIsImlzQmF0Y2hhYmxlIiwicGFja0JhdGNoZXMiLCJzdHlsZUEiLCJzdHlsZUIiLCJmaWxsIiwibGluZSIsIkJBVENIQUJMRV9TSVpFIiwiY3VycmVudEdyb3VwIiwiY3VycmVudFRleHR1cmUiLCJkcmF3TW9kZSIsIkxJTkVTIiwiYWRkQ29sb3JzIiwiYWRkVGV4dHVyZUlkcyIsInBhY2tBdHRyaWJ1dGVzIiwiZ2xQb2ludHMiLCJmMzIiLCJ1MzIiLCJwcm9jZXNzSG9sZXMiLCJzZXF1ZW5jZUJvdW5kcyIsImN1ck1hdHJpeCIsIm5leHRNYXRyaXgiLCJsaW5lV2lkdGgiLCJyZ2JhIiwidXZzU3RhcnQiLCJueCIsImFkanVzdFV2cyIsIkxpbmVTdHlsZSIsInRlbXAiLCJERUZBVUxUX1NIQURFUlMiLCJHcmFwaGljcyIsIl9maWxsU3R5bGUiLCJfbGluZVN0eWxlIiwiX21hdHJpeCIsIl9ob2xlTW9kZSIsImN1cnJlbnRQYXRoIiwiYmF0Y2hUaW50IiwiX3RyYW5zZm9ybUlEIiwiZmluaXNoUG9seSIsIl90aW50IiwibGluZVRleHR1cmVTdHlsZSIsImZvckVhY2giLCJzdGFydFBvbHkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJfaW5pdEN1cnZlIiwicXVhZHJhdGljQ3VydmVUbyIsImFyY1RvIiwicmFkaXVzJDEiLCJ4RGlmZiIsInlEaWZmIiwiYmVnaW5GaWxsIiwiYmVnaW5UZXh0dXJlRmlsbCIsImVuZEZpbGwiLCJkcmF3UmVjdCIsImRyYXdSb3VuZGVkUmVjdCIsImRyYXdDaXJjbGUiLCJkcmF3RWxsaXBzZSIsImRyYXdQb2x5Z29uIiwiZHJhd1N0YXIiLCJfcG9wdWxhdGVCYXRjaGVzIiwiX3JlbmRlckJhdGNoZWQiLCJfcmVuZGVyRGlyZWN0IiwiZ0kiLCJfYmF0Y2hSR0IiLCJjYWxjdWxhdGVWZXJ0aWNlcyIsImNhbGN1bGF0ZVRpbnRzIiwiX3Jlc29sdmVEaXJlY3RTaGFkZXIiLCJfcmVuZGVyRHJhd0NhbGxEaXJlY3QiLCJncm91cFRleHR1cmVDb3VudCIsIl9URU1QX1BPSU5UIiwidGludFJHQiIsImNsb3NlUGF0aCIsInNldE1hdHJpeCIsImJlZ2luSG9sZSIsImVuZEhvbGUiLCJ0ZW1wUG9pbnQiLCJTcHJpdGUiLCJfYW5jaG9yIiwiX29uQW5jaG9yVXBkYXRlIiwiX2NhY2hlZFRpbnQiLCJ2ZXJ0ZXhUcmltbWVkRGF0YSIsIl90ZXh0dXJlSUQiLCJfdHJhbnNmb3JtVHJpbW1lZElEIiwiX3RleHR1cmVUcmltbWVkSUQiLCJfcm91bmRQaXhlbHMiLCJfb25UZXh0dXJlVXBkYXRlIiwidzAiLCJ3MSIsImgwIiwiaDEiLCJjYWxjdWxhdGVUcmltbWVkVmVydGljZXMiLCJkZXN0cm95QmFzZVRleHR1cmUiLCJURVhUX0dSQURJRU5UIiwiTElORUFSX1ZFUlRJQ0FMIiwiTElORUFSX0hPUklaT05UQUwiLCJkZWZhdWx0U3R5bGUiLCJhbGlnbiIsImJyZWFrV29yZHMiLCJkcm9wU2hhZG93IiwiZHJvcFNoYWRvd0FscGhhIiwiZHJvcFNoYWRvd0FuZ2xlIiwiZHJvcFNoYWRvd0JsdXIiLCJkcm9wU2hhZG93Q29sb3IiLCJkcm9wU2hhZG93RGlzdGFuY2UiLCJmaWxsR3JhZGllbnRUeXBlIiwiZmlsbEdyYWRpZW50U3RvcHMiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250U3R5bGUiLCJmb250VmFyaWFudCIsImZvbnRXZWlnaHQiLCJsZXR0ZXJTcGFjaW5nIiwibGluZUhlaWdodCIsImxpbmVKb2luIiwibWl0ZXJMaW1pdCIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInRleHRCYXNlbGluZSIsIndoaXRlU3BhY2UiLCJ3b3JkV3JhcCIsIndvcmRXcmFwV2lkdGgiLCJsZWFkaW5nIiwiZ2VuZXJpY0ZvbnRGYW1pbGllcyIsIlRleHRTdHlsZSIsInN0eWxlSUQiLCJkZWVwQ29weVByb3BlcnRpZXMiLCJnZXRTaW5nbGVDb2xvciIsImdldENvbG9yIiwicHJvcGVydHlPYmoiLCJwcm9wIiwiY2xvbmVkUHJvcGVydGllcyIsIl9hbGlnbiIsIl9icmVha1dvcmRzIiwiX2Ryb3BTaGFkb3ciLCJfZHJvcFNoYWRvd0FscGhhIiwiX2Ryb3BTaGFkb3dBbmdsZSIsIl9kcm9wU2hhZG93Qmx1ciIsIl9kcm9wU2hhZG93Q29sb3IiLCJvdXRwdXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJlQXJyYXlzRXF1YWwiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsIl9mb250U3R5bGUiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfbGVhZGluZyIsIl9saW5lSm9pbiIsIl9taXRlckxpbWl0IiwiX3BhZGRpbmciLCJfc3Ryb2tlIiwiX3N0cm9rZVRoaWNrbmVzcyIsIl90ZXh0QmFzZWxpbmUiLCJfdHJpbSIsIl93aGl0ZVNwYWNlIiwiX3dvcmRXcmFwIiwiX3dvcmRXcmFwV2lkdGgiLCJ0b0ZvbnRTdHJpbmciLCJmb250U2l6ZVN0cmluZyIsImZvbnRGYW1pbGllcyIsIlRleHRNZXRyaWNzIiwidGV4dCIsImxpbmVzIiwibGluZVdpZHRocyIsIm1heExpbmVXaWR0aCIsImZvbnRQcm9wZXJ0aWVzIiwibWVhc3VyZVRleHQiLCJfY2FudmFzIiwiZm9udCIsIm1lYXN1cmVGb250IiwiYXNjZW50IiwiY29sbGFwc2VTcGFjZXMiLCJjb2xsYXBzZU5ld2xpbmVzIiwiY2FuUHJlcGVuZFNwYWNlcyIsInRva2VucyIsInRva2VuaXplIiwidG9rZW4iLCJpc05ld2xpbmUiLCJhZGRMaW5lIiwiY3VycklzQnJlYWtpbmdTcGFjZSIsImlzQnJlYWtpbmdTcGFjZSIsImxhc3RJc0JyZWFraW5nU3BhY2UiLCJ0b2tlbldpZHRoIiwiZ2V0RnJvbUNhY2hlIiwiY2FuQnJlYWtXb3JkcyIsImNoYXJhY3RlcnMiLCJjaGFyIiwibmV4dENoYXIiLCJsYXN0Q2hhciIsImNhbkJyZWFrQ2hhcnMiLCJjaGFyYWN0ZXJXaWR0aCIsImlzTGFzdFRva2VuIiwibmV3TGluZSIsInRyaW1SaWdodCIsInNwYWNpbmciLCJfbmV3bGluZXMiLCJjaGFyQ29kZUF0IiwiX2JyZWFraW5nU3BhY2VzIiwiX2ZvbnRzIiwicHJvcGVydGllcyIsIl9jb250ZXh0IiwibWV0cmljc1N0cmluZyIsIk1FVFJJQ1NfU1RSSU5HIiwiQkFTRUxJTkVfU1lNQk9MIiwiYmFzZWxpbmUiLCJCQVNFTElORV9NVUxUSVBMSUVSIiwiZmlsbFRleHQiLCJpbWFnZWRhdGEiLCJpZHgiLCJkZXNjZW50IiwiY2xlYXJNZXRyaWNzIiwiZXgiLCJkZWZhdWx0RGVzdHJveU9wdGlvbnMiLCJUZXh0IiwiX3Jlc29sdXRpb24iLCJfYXV0b1Jlc29sdXRpb24iLCJfdGV4dCIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwiX2ZvbnQiLCJsb2NhbFN0eWxlSUQiLCJ1cGRhdGVUZXh0IiwicmVzcGVjdERpcnR5IiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJtZWFzdXJlZCIsInBhc3Nlc0NvdW50IiwiaXNTaGFkb3dQYXNzIiwiZHNPZmZzZXRUZXh0IiwiZHNPZmZzZXRTaGFkb3ciLCJzdHJva2VTdHlsZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwicHJldmlvdXNXaWR0aCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRDaGFyIiwic3Ryb2tlVGV4dCIsInRyaW1tZWQiLCJfb25TdHlsZUNoYW5nZSIsImdyYWRpZW50IiwidG90YWxJdGVyYXRpb25zIiwiY3VycmVudEl0ZXJhdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJTdHJpbmciLCJVUExPQURTX1BFUl9GUkFNRSIsIkNvdW50TGltaXRlciIsIm1heEl0ZW1zUGVyRnJhbWUiLCJpdGVtc0xlZnQiLCJiZWdpbkZyYW1lIiwiYWxsb3dlZFRvVXBsb2FkIiwibGltaXRlciIsInVwbG9hZEhvb2tIZWxwZXIiLCJxdWV1ZSIsImFkZEhvb2tzIiwidXBsb2FkSG9va3MiLCJjb21wbGV0ZXMiLCJ0aWNraW5nIiwiZGVsYXllZFRpY2siLCJwcmVwYXJlSXRlbXMiLCJyZWdpc3RlckZpbmRIb29rIiwiZmluZFRleHQiLCJmaW5kVGV4dFN0eWxlIiwiZmluZE11bHRpcGxlQmFzZVRleHR1cmVzIiwiZmluZEJhc2VUZXh0dXJlIiwiZmluZFRleHR1cmUiLCJyZWdpc3RlclVwbG9hZEhvb2siLCJkcmF3VGV4dCIsImNhbGN1bGF0ZVRleHRTdHlsZSIsIl90ZXh0dXJlcyIsImhlbHBlciIsImRvbmUiLCJ0aWNrIiwiVVRJTElUWSIsInNldFRpbWVvdXQiLCJ1cGxvYWRlZCIsImxlbiQxIiwiYWRkSG9vayIsInVwbG9hZEhvb2siLCJQcmVwYXJlIiwiQmFzZVByZXBhcmUiLCJmaW5kR3JhcGhpY3MiLCJ1cGxvYWRCYXNlVGV4dHVyZXMiLCJ1cGxvYWRHcmFwaGljcyIsIlRpbWVMaW1pdGVyIiwibWF4TWlsbGlzZWNvbmRzIiwiZnJhbWVTdGFydCIsIkRhdGUiLCJBcHBsaWNhdGlvbiIsImZvcmNlQ2FudmFzIiwic3RhZ2UiLCJfcGx1Z2lucyIsInBsdWdpbiIsInN0YWdlT3B0aW9ucyIsInJldmVyc2UiLCJfb3B0aW9ucyIsIlJlc2l6ZVBsdWdpbiIsImRvbSIsIl9yZXNpemVUbyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwicmVzaXplVG8iLCJfbm9vcCIsImVhY2hTZXJpZXMiLCJpdGVyYXRvciIsImNhbGxiYWNrIiwiZGVmZXJOZXh0IiwiZXJyIiwib25seU9uY2UiLCJjYWxsRm4iLCJ3b3JrZXIiLCJjb25jdXJyZW5jeSIsIndvcmtlcnMiLCJxIiwiX3Rhc2tzIiwic2F0dXJhdGVkIiwidW5zYXR1cmF0ZWQiLCJlbXB0eSIsImRyYWluIiwiX2luc2VydCIsImtpbGwiLCJ0YXNrIiwicnVubmluZyIsImlkbGUiLCJyZXN1bWUiLCJpbnNlcnRBdEZyb250IiwiX2RlZmluZVByb3BlcnRpZXMiLCJ1c2VYZHIiLCJYRG9tYWluUmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwiX25vb3AkMSIsIl9zZXRGbGFnIiwiU1RBVFVTX0ZMQUdTIiwiREFUQV9VUkwiLCJfZ2V0RXh0ZW5zaW9uIiwidGltZW91dCIsImxvYWRUeXBlIiwiX2RldGVybWluZUxvYWRUeXBlIiwieGhyVHlwZSIsIm1ldGFkYXRhIiwieGhyIiwiVFlQRSIsInByb2dyZXNzQ2h1bmsiLCJfZGVxdWV1ZSIsIl9vbkxvYWRCaW5kaW5nIiwiX2VsZW1lbnRUaW1lciIsIl9ib3VuZENvbXBsZXRlIiwiX2JvdW5kT25FcnJvciIsIl9ib3VuZE9uUHJvZ3Jlc3MiLCJfb25Qcm9ncmVzcyIsIl9ib3VuZE9uVGltZW91dCIsIl9vblRpbWVvdXQiLCJfYm91bmRYaHJPbkVycm9yIiwiX3hock9uRXJyb3IiLCJfYm91bmRYaHJPblRpbWVvdXQiLCJfeGhyT25UaW1lb3V0IiwiX2JvdW5kWGhyT25BYm9ydCIsIl94aHJPbkFib3J0IiwiX2JvdW5kWGhyT25Mb2FkIiwiX3hock9uTG9hZCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJleHRuYW1lIiwic2V0RXh0TWFwIiwiX2xvYWRUeXBlTWFwIiwic2V0RXh0ZW5zaW9uWGhyVHlwZSIsIl94aHJUeXBlTWFwIiwiX3Byb3RvIiwiX2NsZWFyRXZlbnRzIiwiX2ZpbmlzaCIsImFib3J0IiwieGRyIiwiRU1QVFlfR0lGIiwiZmlyc3RDaGlsZCIsImlzTG9hZGluZyIsImlzQ29tcGxldGUiLCJMT0FESU5HIiwiX2RldGVybWluZUNyb3NzT3JpZ2luIiwiTE9BRF9UWVBFIiwiSU1BR0UiLCJfbG9hZEVsZW1lbnQiLCJBVURJTyIsIl9sb2FkU291cmNlRWxlbWVudCIsIlZJREVPIiwiWEhSIiwiX2xvYWRYZHIiLCJfbG9hZFhociIsIl9oYXNGbGFnIiwiY2xlYXJUaW1lb3V0Iiwib250aW1lb3V0Iiwib25wcm9ncmVzcyIsIkNPTVBMRVRFIiwibG9hZEVsZW1lbnQiLCJza2lwU291cmNlIiwiQXVkaW8iLCJpc0NvY29vbkpTIiwibWltZVR5cGVzIiwibWltZVR5cGUiLCJfY3JlYXRlU291cmNlIiwiX21pbWVUeXBlcyIsIl9kZXRlcm1pbmVYaHJUeXBlIiwib3BlbiIsIlhIUl9SRVNQT05TRV9UWVBFIiwiSlNPTiIsIkRPQ1VNRU5UIiwicmVzcG9uc2VUeXBlIiwiVEVYVCIsInNlbmQiLCJub2RlTmFtZSIsImxlbmd0aENvbXB1dGFibGUiLCJsb2FkZWQiLCJ0b3RhbCIsInJlcVR5cGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwicmVzcG9uc2VUZXh0IiwiQlVGRkVSIiwiRE9NUGFyc2VyIiwiZG9tcGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiWE1MIiwicmVzcG9uc2UiLCJyZXNwb25zZVVSTCIsIm9yaWdpbiIsInN0cmljdE1vZGUiLCJob3N0IiwiaXNEYXRhVXJsIiwic2xhc2hJbmRleCIsInF1ZXJ5U3RhcnQiLCJoYXNoU3RhcnQiLCJfZ2V0TWltZUZyb21YaHJUeXBlIiwiQkxPQiIsIkRFRkFVTFQiLCJnaWYiLCJwbmciLCJibXAiLCJqcGciLCJqcGVnIiwidGlmIiwidGlmZiIsIndlYnAiLCJ0Z2EiLCJtcDMiLCJvZ2ciLCJ3YXYiLCJtcDQiLCJ3ZWJtIiwieGh0bWwiLCJodG1sIiwiaHRtIiwieG1sIiwidG14IiwidHN4IiwianNvbiIsInR4dCIsInR0ZiIsIm90ZiIsIlVybCIsIlVSTCIsIndlYmtpdFVSTCIsImNhY2hpbmciLCJwYXJzaW5nIiwiQmxvYiIsImNyZWF0ZU9iamVjdFVSTCIsImJsb2IiLCJyZXZva2VPYmplY3RVUkwiLCJnZXRSZXNwb25zZUhlYWRlciIsImlueCIsImJ5dGVidWZmZXIiLCJlbmNvZGVkQ2hhckluZGV4ZXMiLCJqbngiLCJfam54IiwiY2hhckF0IiwiZW5jb2RlQmluYXJ5Iiwicmd4RXh0cmFjdFVybEhhc2giLCJMb2FkZXIiLCJiYXNlVXJsIiwicHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZGVmYXVsdFF1ZXJ5U3RyaW5nIiwiX2JlZm9yZU1pZGRsZXdhcmUiLCJfYWZ0ZXJNaWRkbGV3YXJlIiwiX3Jlc291cmNlc1BhcnNpbmciLCJfYm91bmRMb2FkUmVzb3VyY2UiLCJfbG9hZFJlc291cmNlIiwiX3F1ZXVlIiwib25Mb2FkIiwiX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlIiwicHJlIiwiX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUiLCJ1c2UiLCJwYXJlbnRSZXNvdXJjZSIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiX2kyIiwiZWFjaENodW5rIiwiX2kzIiwicmVzIiwiX29uU3RhcnQiLCJfb25Db21wbGV0ZSIsImNodW5rIiwicGFyc2VkVXJsIiwiaGFzaCIsImRlcXVldWUiLCJfdGhpczIiLCJfb25Mb2FkIiwiX3RoaXMzIiwiVGV4dHVyZUxvYWRlciIsIlJlc291cmNlTG9hZGVyIiwiQXBwTG9hZGVyUGx1Z2luIiwic2hhcmVkTG9hZGVyIiwibG9hZGVyIiwiTG9hZGVyUmVzb3VyY2UiLCJQYXJ0aWNsZUNvbnRhaW5lciIsIm1heFNpemUiLCJiYXRjaFNpemUiLCJfcHJvcGVydGllcyIsIl9tYXhTaXplIiwiX2JhdGNoU2l6ZSIsIl9idWZmZXJzIiwiX2J1ZmZlclVwZGF0ZUlEcyIsInNldFByb3BlcnRpZXMiLCJ0aW50UmdiIiwicGFydGljbGUiLCJzbWFsbGVzdENoaWxkSW5kZXgiLCJkeW5hbWljUHJvcGVydHlGbGFncyIsImR5bmFtaWNQcm9wZXJ0aWVzIiwic3RhdGljUHJvcGVydGllcyIsImF0dHJpYnV0ZU5hbWUiLCJ1cGxvYWRGdW5jdGlvbiIsInN0YXRpY1N0cmlkZSIsInN0YXRpY0J1ZmZlciIsInN0YXRpY0RhdGEiLCJzdGF0aWNEYXRhVWludDMyIiwiZHluYW1pY1N0cmlkZSIsImR5bmFtaWNCdWZmZXIiLCJkeW5hbWljRGF0YSIsImR5bmFtaWNEYXRhVWludDMyIiwiaW5pdEJ1ZmZlcnMiLCJkeW5hbWljT2Zmc2V0IiwiZHluQnVmZmVyIiwic3RhdGljT2Zmc2V0IiwicHJvcGVydHkkMSIsInN0YXRCdWZmZXIiLCJwcm9wZXJ0eSQyIiwicHJvcGVydHkkMyIsInVwbG9hZER5bmFtaWMiLCJhbW91bnQiLCJ1cGxvYWRTdGF0aWMiLCJQYXJ0aWNsZVJlbmRlcmVyIiwidXBsb2FkVmVydGljZXMiLCJ1cGxvYWRQb3NpdGlvbiIsInVwbG9hZFJvdGF0aW9uIiwidXBsb2FkVXZzIiwidXBsb2FkVGludCIsInRvdGFsQ2hpbGRyZW4iLCJnZW5lcmF0ZUJ1ZmZlcnMiLCJ1Q29sb3IiLCJ1cGRhdGVTdGF0aWMiLCJfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyIiwiYmlkIiwic3ByaXRlUG9zaXRpb24iLCJzcHJpdGVSb3RhdGlvbiIsInRleHR1cmVVdnMiLCJTcHJpdGVzaGVldCIsInJlc29sdXRpb25GaWxlbmFtZSIsImFuaW1hdGlvbnMiLCJfdXBkYXRlUmVzb2x1dGlvbiIsIl9mcmFtZXMiLCJmcmFtZXMiLCJfZnJhbWVLZXlzIiwiX2JhdGNoSW5kZXgiLCJfY2FsbGJhY2siLCJCQVRDSF9TSVpFIiwibWV0YSIsIl9wcm9jZXNzRnJhbWVzIiwiX3Byb2Nlc3NBbmltYXRpb25zIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInJvdGF0ZWQiLCJzcHJpdGVTb3VyY2VTaXplIiwiYW5pbU5hbWUiLCJmcmFtZU5hbWUiLCJTcHJpdGVzaGVldExvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwibG9hZE9wdGlvbnMiLCJpbWFnZU1ldGFkYXRhIiwicmVzb3VyY2VQYXRoIiwiZ2V0UmVzb3VyY2VQYXRoIiwic3ByaXRlc2hlZXQiLCJUaWxpbmdTcHJpdGUiLCJ0aWxlVHJhbnNmb3JtIiwiX2NhbnZhc1BhdHRlcm4iLCJ1dlJlc3BlY3RBbmNob3IiLCJ0aWxlU2NhbGUiLCJ0aWxlUG9zaXRpb24iLCJmcm9tRnJhbWUiLCJmcmFtZUlkIiwiZnJvbUltYWdlIiwiaW1hZ2VJZCIsIlRpbGluZ1Nwcml0ZVJlbmRlcmVyIiwic2ltcGxlU2hhZGVyIiwidHMiLCJiYXNlVGV4IiwidXYiLCJIIiwidU1hcENvb3JkIiwidVRyYW5zZm9ybSIsIkJpdG1hcFRleHQiLCJfdGV4dFdpZHRoIiwiX3RleHRIZWlnaHQiLCJfZ2x5cGhzIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJtYXhXaWR0aCIsIm1heExpbmVIZWlnaHQiLCJ0ZXh0V2lkdGgiLCJ0ZXh0SGVpZ2h0IiwiZm9udHMiLCJjaGFycyIsInRleHRMZW5ndGgiLCJwcmV2Q2hhckNvZGUiLCJsYXN0TGluZVdpZHRoIiwibGFzdEJyZWFrUG9zIiwibGFzdEJyZWFrV2lkdGgiLCJzcGFjZXNSZW1vdmVkIiwiY2hhckNvZGUiLCJjaGFyRGF0YSIsImtlcm5pbmciLCJ4T2Zmc2V0IiwieU9mZnNldCIsInhBZHZhbmNlIiwibGluZUFsaWduT2Zmc2V0cyIsImFsaWduT2Zmc2V0IiwibGVuQ2hhcnMiLCJ2YWxpZGF0ZSIsInJlZ2lzdGVyRm9udCIsImluZm8iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNvbW1vbiIsInBhZ2VzIiwicGFnZXNUZXh0dXJlcyIsImZpbGUiLCJsZXR0ZXJzIiwibGV0dGVyIiwicGFnZSIsInRleHR1cmVSZWN0Iiwia2VybmluZ3MiLCJmaXJzdCIsInNlY29uZCIsIkJpdG1hcEZvbnRMb2FkZXIiLCJiaXRtYXBGb250IiwiZGlybmFtZSIsImRpciIsInhtbFVybCIsInBhZ2VGaWxlIiwiYml0bWFwUmVzb3VyY2UiLCJBbHBoYUZpbHRlciIsInVBbHBoYSIsIkdBVVNTSUFOX1ZBTFVFUyIsIjUiLCI3IiwiOSIsIjExIiwiMTMiLCIxNSIsIkJsdXJGaWx0ZXJQYXNzIiwiaG9yaXpvbnRhbCIsInN0cmVuZ3RoIiwia2VybmVsU2l6ZSIsInZlcnRTcmMiLCJ0ZW1wbGF0ZSIsImhhbGZMZW5ndGgiLCJ2ZXJ0U291cmNlIiwiYmx1ckxvb3AiLCJibHVyIiwiZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSIsImZyYWdTcmMiLCJrZXJuZWwiLCJmcmFnU291cmNlIiwiZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSIsIl9xdWFsaXR5IiwicGFzc2VzIiwicmVuZGVyVGFyZ2V0IiwiQmx1ckZpbHRlciIsImJsdXJYRmlsdGVyIiwiYmx1cllGaWx0ZXIiLCJyZXBlYXRFZGdlUGl4ZWxzIiwiYmx1clgiLCJibHVyWSIsInhTdHJlbmd0aCIsInlTdHJlbmd0aCIsInVwZGF0ZVBhZGRpbmciLCJfcmVwZWF0RWRnZVBpeGVscyIsIkNvbG9yTWF0cml4RmlsdGVyIiwiX2xvYWRNYXRyaXgiLCJtdWx0aXBseSIsIm5ld01hdHJpeCIsIl9tdWx0aXBseSIsIl9jb2xvck1hdHJpeCIsImJyaWdodG5lc3MiLCJncmV5c2NhbGUiLCJibGFja0FuZFdoaXRlIiwiaHVlIiwiY29zUiIsInNpblIiLCJzcXJXIiwiY29udHJhc3QiLCJzYXR1cmF0ZSIsImRlc2F0dXJhdGUiLCJuZWdhdGl2ZSIsInNlcGlhIiwidGVjaG5pY29sb3IiLCJwb2xhcm9pZCIsInRvQkdSIiwia29kYWNocm9tZSIsImJyb3duaSIsInZpbnRhZ2UiLCJjb2xvclRvbmUiLCJkZXNhdHVyYXRpb24iLCJ0b25lZCIsImxpZ2h0Q29sb3IiLCJkYXJrQ29sb3IiLCJsUiIsImxHIiwibEIiLCJkUiIsImRHIiwiZEIiLCJuaWdodCIsImludGVuc2l0eSIsInByZWRhdG9yIiwibHNkIiwiZ3JheXNjYWxlIiwiRGlzcGxhY2VtZW50RmlsdGVyIiwibWFwU2FtcGxlciIsImZpbHRlck1hdHJpeCIsImxlblgiLCJsZW5ZIiwiRlhBQUZpbHRlciIsIk5vaXNlRmlsdGVyIiwibm9pc2UiLCJzZWVkIiwicmFuZG9tIiwidU5vaXNlIiwidVNlZWQiLCJfdGVtcE1hdHJpeCIsIl9jYWNoZUFzQml0bWFwIiwiX2NhY2hlRGF0YSIsIkNhY2hlRGF0YSIsInRleHR1cmVDYWNoZUlkIiwib3JpZ2luYWxSZW5kZXIiLCJvcmlnaW5hbFJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzIiwib3JpZ2luYWxHZXRMb2NhbEJvdW5kcyIsIm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtIiwib3JpZ2luYWxIaXRUZXN0Iiwib3JpZ2luYWxEZXN0cm95Iiwib3JpZ2luYWxNYXNrIiwib3JpZ2luYWxGaWx0ZXJBcmVhIiwiY2FjaGVBc0JpdG1hcCIsInJlbmRlckNhbnZhcyIsIm9yaWdpbmFsQ29udGFpbnNQb2ludCIsIl9yZW5kZXJDYWNoZWQiLCJfcmVuZGVyQ2FjaGVkQ2FudmFzIiwiX2NhY2hlQXNCaXRtYXBEZXN0cm95IiwiX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0IiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0IiwiY2FjaGVBbHBoYSIsImNhY2hlZFJlbmRlclRleHR1cmUiLCJjYWNoZWRTb3VyY2VGcmFtZSIsImNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0iLCJfY2FsY3VsYXRlQ2FjaGVkQm91bmRzIiwiX2dldENhY2hlZExvY2FsQm91bmRzIiwiY2FjaGVkU3ByaXRlIiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzIiwiX3JlbmRlckNhbnZhcyIsImNhY2hlZFJlbmRlclRhcmdldCIsImdldENoaWxkQnlOYW1lIiwiZ2V0R2xvYmFsUG9zaXRpb24iLCJNZXNoQmF0Y2hVdnMiLCJfYnVmZmVyVXBkYXRlSWQiLCJfdGV4dHVyZVVwZGF0ZUlkIiwidGVtcFBvbHlnb24iLCJNZXNoIiwidmVydGV4RGlydHkiLCJiYXRjaFV2cyIsInZlcnRpY2VzQnVmZmVyIiwibWF0ZXJpYWwiLCJfcmVuZGVyVG9CYXRjaCIsIl9yZW5kZXJEZWZhdWx0IiwiY2FsY3VsYXRlVXZzIiwidmVydGV4RGlydHlJZCIsImdlb21VdnMiLCJzdGVwIiwiaW5kMCIsImluZDEiLCJpbmQyIiwiTWVzaE1hdGVyaWFsIiwidVRleHR1cmVNYXRyaXgiLCJfY29sb3JEaXJ0eSIsIl9hbHBoYSIsIk1lc2hHZW9tZXRyeSIsInV2c0J1ZmZlciIsIl91cGRhdGVJZCIsIlBsYW5lR2VvbWV0cnkiLCJzZWdXaWR0aCIsInNlZ0hlaWdodCIsInNlZ21lbnRzWCIsInNlZ21lbnRzWSIsInNpemVYIiwic2l6ZVkiLCJ0b3RhbFN1YiIsInhwb3MiLCJ5cG9zIiwidmFsdWUyIiwidmFsdWUzIiwidmFsdWU0IiwiUm9wZUdlb21ldHJ5IiwidGV4dHVyZVNjYWxlIiwicHJldiIsInRleHR1cmVXaWR0aCIsImRpc3RhbmNlIiwidXBkYXRlVmVydGljZXMiLCJuZXh0UG9pbnQiLCJwZXJwWCIsInBlcnBZIiwicGVycExlbmd0aCIsIm51bSIsIlNpbXBsZVJvcGUiLCJyb3BlR2VvbWV0cnkiLCJtZXNoTWF0ZXJpYWwiLCJTaW1wbGVQbGFuZSIsInZlcnRpY2VzWCIsInZlcnRpY2VzWSIsInBsYW5lR2VvbWV0cnkiLCJ0ZXh0dXJlVXBkYXRlZCIsIlNpbXBsZU1lc2giLCJOaW5lU2xpY2VQbGFuZSIsImxlZnRXaWR0aCIsInRvcEhlaWdodCIsInJpZ2h0V2lkdGgiLCJib3R0b21IZWlnaHQiLCJfb3JpZ1dpZHRoIiwiX29yaWdIZWlnaHQiLCJfbGVmdFdpZHRoIiwiX3JpZ2h0V2lkdGgiLCJfdG9wSGVpZ2h0IiwiX2JvdHRvbUhlaWdodCIsIl9yZWZyZXNoIiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsIl91dnciLCJfdXZoIiwiQW5pbWF0ZWRTcHJpdGUiLCJfZHVyYXRpb25zIiwiYW5pbWF0aW9uU3BlZWQiLCJsb29wIiwidXBkYXRlQW5jaG9yIiwib25GcmFtZUNoYW5nZSIsIm9uTG9vcCIsIl9jdXJyZW50VGltZSIsInBsYXlpbmciLCJ0b3RhbEZyYW1lcyIsImN1cnJlbnRGcmFtZSIsImdvdG9BbmRTdG9wIiwiZnJhbWVOdW1iZXIiLCJwcmV2aW91c0ZyYW1lIiwiZ290b0FuZFBsYXkiLCJlbGFwc2VkIiwibGFnIiwiZnJvbUZyYW1lcyIsImZyb21JbWFnZXMiLCJpbWFnZXMiLCJ2NSIsInVzZURlcHJlY2F0ZWQiLCJQSVhJIiwiVHJhbnNmb3JtU3RhdGljIiwiVHJhbnNmb3JtQmFzZSIsIlRSQU5TRk9STV9NT0RFIiwiU1RBVElDIiwiRFlOQU1JQyIsIldlYkdMUmVuZGVyZXIiLCJDYW52YXNSZW5kZXJUYXJnZXQiLCJ1dGlscyIsIkZpbHRlck1hbmFnZXIiLCJDYW52YXNUaW50ZXIiLCJjYW52YXNVdGlscyIsIkdyb3VwRDgiLCJleHRyYXMiLCJnZXRTdmdTaXplIiwibWVzaCIsIlBsYW5lIiwiUm9wZSIsIlJhd01lc2giLCJDYW52YXNNZXNoUmVuZGVyZXIiLCJNZXNoUmVuZGVyZXIiLCJwYXJ0aWNsZXMiLCJsb2FkZXJzIiwiYml0bWFwRm9udFBhcnNlciIsInBhcnNlQml0bWFwRm9udERhdGEiLCJzcHJpdGVzaGVldFBhcnNlciIsImFkZFBpeGlNaWRkbGV3YXJlIiwibWlkZGxld2FyZSIsInByZXBhcmUiLCJfcmVuZGVyV2ViR0wiLCJyZW5kZXJXZWJHTCIsInJlbmRlckFkdmFuY2VkV2ViR0wiLCJsb2FkU291cmNlIiwiYmFzZVRleHR1cmVJZERlcHJlY2F0aW9uIiwiaGFzTG9hZGVkIiwiX2lkIiwiZnJvbUNhbnZhcyIsImZyb21TVkciLCJjb3B5Iiwic2V0U3RhdGUiLCJnZXRSZW5kZXJUYXJnZXQiLCJyZXR1cm5SZW5kZXJUYXJnZXQiLCJjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCIsImNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCIsInRyYW5zbGF0ZVNjYWxlWCIsInRyYW5zbGF0ZVNjYWxlWSIsIkJsdXJYRmlsdGVyIiwic3VwZXJjbGFzcyIsIkJsdXJZRmlsdGVyIiwic3ByaXRlRnJvbSIsInRleHR1cmVGcm9tIiwiZ2VuZXJhdGVDYW52YXNUZXh0dXJlIiwiZnJvbVZpZGVvIiwibWl4aW5zIiwiZGVsYXlNaXhpbiIsInBlcmZvcm1NaXhpbnMiLCJwdW55Y29kZSIsInV0aWwiLCJzbGFzaGVzIiwiYXV0aCIsInF1ZXJ5IiwicGF0aG5hbWUiLCJ1cmxQYXJzZSIsInJlbGF0aXZlIiwicmVzb2x2ZU9iamVjdCIsImlzU3RyaW5nIiwicHJvdG9jb2xQYXR0ZXJuIiwicG9ydFBhdHRlcm4iLCJzaW1wbGVQYXRoUGF0dGVybiIsInVud2lzZSIsImF1dG9Fc2NhcGUiLCJub25Ib3N0Q2hhcnMiLCJob3N0RW5kaW5nQ2hhcnMiLCJob3N0bmFtZVBhcnRQYXR0ZXJuIiwiaG9zdG5hbWVQYXJ0U3RhcnQiLCJ1bnNhZmVQcm90b2NvbCIsImhvc3RsZXNzUHJvdG9jb2wiLCJzbGFzaGVkUHJvdG9jb2wiLCJxdWVyeXN0cmluZyIsInBhcnNlUXVlcnlTdHJpbmciLCJzbGFzaGVzRGVub3RlSG9zdCIsImlzT2JqZWN0IiwicXVlcnlJbmRleCIsInNwbGl0dGVyIiwidVNwbGl0IiwicmVzdCIsInNpbXBsZVBhdGgiLCJwcm90byIsImxvd2VyUHJvdG8iLCJhdFNpZ24iLCJob3N0RW5kIiwiaGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicGFyc2VIb3N0IiwiaXB2Nkhvc3RuYW1lIiwiaG9zdHBhcnRzIiwicGFydCIsIm5ld3BhcnQiLCJ2YWxpZFBhcnRzIiwibm90SG9zdCIsImJpdCIsInRvQVNDSUkiLCJhZSIsImVzYyIsImVzY2FwZSIsInFtIiwic3RyaW5naWZ5IiwicmVsIiwidGtleXMiLCJ0ayIsInRrZXkiLCJya2V5cyIsInJrIiwicmtleSIsInJlbFBhdGgiLCJpc1NvdXJjZUFicyIsImlzUmVsQWJzIiwibXVzdEVuZEFicyIsInJlbW92ZUFsbERvdHMiLCJzcmNQYXRoIiwicHN5Y2hvdGljIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJhdXRoSW5Ib3N0IiwiaXNOdWxsIiwibGFzdCIsImhhc1RyYWlsaW5nU2xhc2giLCJ1cCIsImlzQWJzb2x1dGUiLCJzdHIiLCJvcHRzIiwicGFyc2VyIiwibG9vc2UiLCJ1cmkiLCIkMCIsIiQxIiwiJDIiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImV2dCIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJjbGVhckV2ZW50IiwiZXZlbnROYW1lcyIsIm5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGlzdGVuZXJzIiwiaGFuZGxlcnMiLCJsaXN0ZW5lckNvdW50IiwicmVtb3ZlTGlzdGVuZXIiLCJwcmVmaXhlZCIsImVhcmN1dCIsImhvbGVJbmRpY2VzIiwiZGltIiwiaW52U2l6ZSIsImhhc0hvbGVzIiwib3V0ZXJMZW4iLCJvdXRlck5vZGUiLCJsaW5rZWRMaXN0Iiwic3RlaW5lciIsImdldExlZnRtb3N0IiwiY29tcGFyZVgiLCJlbGltaW5hdGVIb2xlIiwiZmlsdGVyUG9pbnRzIiwiZWxpbWluYXRlSG9sZXMiLCJlYXJjdXRMaW5rZWQiLCJjbG9ja3dpc2UiLCJzaWduZWRBcmVhIiwiaW5zZXJ0Tm9kZSIsInJlbW92ZU5vZGUiLCJhZ2FpbiIsImVhciIsInBhc3MiLCJ6Iiwiek9yZGVyIiwicHJldloiLCJuZXh0WiIsInRhaWwiLCJudW1NZXJnZXMiLCJwU2l6ZSIsInFTaXplIiwiaW5TaXplIiwic29ydExpbmtlZCIsImluZGV4Q3VydmUiLCJpc0Vhckhhc2hlZCIsImlzRWFyIiwiY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyIsInNwbGl0RWFyY3V0IiwicG9pbnRJblRyaWFuZ2xlIiwibWluVFgiLCJtaW5UWSIsIm1heFRYIiwibWF4VFkiLCJtaW5aIiwibWF4WiIsImludGVyc2VjdHMiLCJsb2NhbGx5SW5zaWRlIiwiaXNWYWxpZERpYWdvbmFsIiwic3BsaXRQb2x5Z29uIiwiaHgiLCJoeSIsInRhbiIsIm14IiwibXkiLCJ0YW5NaW4iLCJzZWN0b3JDb250YWluc1NlY3RvciIsImZpbmRIb2xlQnJpZGdlIiwibGVmdG1vc3QiLCJpbnRlcnNlY3RzUG9seWdvbiIsIm1pZGRsZUluc2lkZSIsInAxIiwicDIiLCJxMSIsInEyIiwibzEiLCJvMiIsIm8zIiwibzQiLCJvblNlZ21lbnQiLCJOb2RlIiwiYW4iLCJicCIsInN1bSIsImRldmlhdGlvbiIsInBvbHlnb25BcmVhIiwidHJpYW5nbGVzQXJlYSIsImZsYXR0ZW4iLCJkaW1lbnNpb25zIiwiaG9sZUluZGV4IiwiX3BhdXNlZCQiLCJCZWhhdmlvclN1YmplY3QiLCJfc2NvcmUkIiwibmV3U3RhdGUiLCJfaW5zdGFuY2UiLCJHYW1lU3RhdGUiLCJsb2FkUmVzb3VyY2VzIiwic291bmRzVXJscyIsInNvdW5kcyIsIkhvd2wiLCJ2YWx1ZXMiLCJldmVyeSIsInBsYXlTb3VuZCIsInNvdW5kS2V5IiwiY29uZmlndXJlIiwidGhyb3dJZlNwcml0ZU1pc3NlZCIsImJ1dHRvbk1vZGUiLCJtb3ZlIiwiQWN0b3IiLCJOYXRpdmVQcm9taXNlIiwibmF0aXZlUHJvbWlzZVN1cHBvcnRlZCIsIlBvbHlmaWxsIiwiTk9PUCIsImFzeW5jVGltZXIiLCJhc3luY1NldFRpbWVyIiwic2V0SW1tZWRpYXRlIiwiYXN5bmNRdWV1ZSIsImFzeW5jRmx1c2giLCJhc3luY0NhbGwiLCJhcmciLCJpbnZva2VDYWxsYmFjayIsInN1YnNjcmliZXIiLCJvd25lciIsInNldHRsZWQiLCJzdGF0ZV8iLCJkYXRhXyIsInByb21pc2UiLCJoYW5kbGVUaGVuYWJsZSIsInJlc29sdmVkIiwiZnVsZmlsbCIsInJlYXNvbiIsInB1Ymxpc2hGdWxmaWxsbWVudCIsInB1Ymxpc2hSZWplY3Rpb24iLCJwdWJsaXNoIiwiY2FsbGJhY2tzIiwidGhlbl8iLCJyZXNvbHZlciIsInJlamVjdFByb21pc2UiLCJpbnZva2VSZXNvbHZlciIsIm9uRnVsZmlsbG1lbnQiLCJvblJlamVjdGlvbiIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwicmVzdWx0cyIsInJlbWFpbmluZyIsInJhY2UiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b09iamVjdCIsInRlc3QxIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInRlc3QyIiwiZnJvbUNoYXJDb2RlIiwidGVzdDMiLCJzaG91bGRVc2VOYXRpdmUiLCJzeW1ib2xzIiwidG8iLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJyZWciLCJhcHBDb250YWluZXIiLCJnZXRFbGVtZW50QnlJZCIsIkdhbWUiLCJjb250YWluZXJIIiwiY29udGFpbmVyVyIsInBpeGlBcHAiLCJ1aUxheWVyIiwiVWlMYXllciIsInN0YXJ0TGV2ZWwiLCJGaXJzdExldmVsIiwiYWN0aXZlTGV2ZWwiLCJhdHRhY2hUb0FwcCIsImNvbW1vbmpzR2xvYmFsIiwiZ2xvYmFsVGhpcyIsImdldFRpbWUiLCJzdGFydFRpbWUiLCJ2ZW5kb3JzIiwiZGVsYXkiLCJpc05hTiIsImlzRmluaXRlIiwiVGltZW91dCIsImNsZWFyRm4iLCJfY2xlYXJGbiIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInVucmVmIiwiZW5yb2xsIiwibXNlY3MiLCJfaWRsZVRpbWVvdXRJZCIsIl9pZGxlVGltZW91dCIsInVuZW5yb2xsIiwiX3VucmVmQWN0aXZlIiwiYWN0aXZlIiwiY2xlYXJJbW1lZGlhdGUiLCJyZWdpc3RlckltbWVkaWF0ZSIsImNoYW5uZWwiLCJtZXNzYWdlUHJlZml4Iiwib25HbG9iYWxNZXNzYWdlIiwibmV4dEhhbmRsZSIsInRhc2tzQnlIYW5kbGUiLCJjdXJyZW50bHlSdW5uaW5nQVRhc2siLCJkb2MiLCJhdHRhY2hUbyIsImdldFByb3RvdHlwZU9mIiwiaGFuZGxlIiwibmV4dFRpY2siLCJydW5JZlByZXNlbnQiLCJwb3N0TWVzc2FnZSIsImltcG9ydFNjcmlwdHMiLCJwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzIiwib2xkT25NZXNzYWdlIiwib25tZXNzYWdlIiwiY2FuVXNlUG9zdE1lc3NhZ2UiLCJNZXNzYWdlQ2hhbm5lbCIsInBvcnQxIiwicG9ydDIiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JpcHQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJhdHRhY2hFdmVudCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjdXJyZW50UXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsIm5vb3AiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb25zIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsInVtYXNrIiwibm9kZVR5cGUiLCJmcmVlR2xvYmFsIiwibWF4SW50IiwicmVnZXhQdW55Y29kZSIsInJlZ2V4Tm9uQVNDSUkiLCJyZWdleFNlcGFyYXRvcnMiLCJlcnJvcnMiLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJtYXBEb21haW4iLCJwYXJ0cyIsInVjczJkZWNvZGUiLCJleHRyYSIsImNvdW50ZXIiLCJ1Y3MyZW5jb2RlIiwiZGlnaXRUb0Jhc2ljIiwiZGlnaXQiLCJhZGFwdCIsIm51bVBvaW50cyIsImZpcnN0VGltZSIsImJhc2VNaW51c1RNaW4iLCJiYXNlIiwiZGVjb2RlIiwiYmFzaWMiLCJvbGRpIiwiYmFzZU1pbnVzVCIsImNvZGVQb2ludCIsImlucHV0TGVuZ3RoIiwiYmlhcyIsImVuY29kZSIsImhhbmRsZWRDUENvdW50IiwiYmFzaWNMZW5ndGgiLCJjdXJyZW50VmFsdWUiLCJoYW5kbGVkQ1BDb3VudFBsdXNPbmUiLCJxTWludXNUIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJxcyIsInNlcCIsImVxIiwicmVnZXhwIiwibWF4S2V5cyIsImtzdHIiLCJ2c3RyIiwieHMiLCJzdHJpbmdpZnlQcmltaXRpdmUiLCJvYmplY3RLZXlzIiwia3MiLCJiYWxsb29uU3BlZWQiLCJiYWxsb29uTGF1bmNoSW50ZXJ2YWwiLCJjbG91ZFNwYXduVG9wQm9yZGVyIiwiY2xvdWRTcGF3bkJvdHRvbUJvcmRlciIsImNsb3VkTGF1bmNoSW50ZXJ2YWwiLCJjbG91ZFNwZWVkIiwiUmVkQmFsbG9vbiIsIkNsb3VkIiwic3RhcnRMYXVuY2hpbmdDbG91ZHMiLCJzdGFydExhdW5jaGluZ0JhbGxvb25zIiwiYWN0b3JLZXkiLCJhY3RvcnMiLCJhY3RvciIsIkJhbGxvb24iLCJ1cGRhdGVCYWxsb29uIiwidXBkYXRlQ2xvdWQiLCJjbG91ZCIsImNyZWF0ZUNsb3VkIiwiZ2V0Q2xvdWRTcGF3blBvaW50IiwiZ2FtZVN0YXRlIiwiYmFsbG9vbiIsInJlbW92ZUFjdG9yIiwiY3JlYXRlQmFsbG9vbiIsImdldEJhbGxvb25TcGF3blBvaW50Iiwic2NvcmUiLCJwbGF5QW5pbWF0aW9uIiwiYXR0YWNoQWN0b3IiLCJzaGFwZXMiLCJnZXRSYW5kb21OdW1iZXIiLCJoYWxmT2ZCYWxsb29uVyIsImJhbGxvb25IIiwidmlld1ciLCJhcHAiLCJyYW5kIiwic3Bhd25JblZpZXciLCJjbG91ZFciLCJoYWxmQ2xvdWRIIiwidG9wQm9yZGVyIiwiYm90dG9tQm9yZGVyIiwicmlnaHRCb3JkZXIiLCJMZXZlbCIsImxldmVsQ29udGFpbmVyIiwicmVuZGVyRiIsImF0dGFjaFJlbmRlckYiLCJkZXRhY2hSZW5kZXJGIiwiRUJhbGxvb25Db2xvciIsIkFuaW1hdGVkQWN0b3IiLCJhbmltYXRpb25zVXJscyIsImluaXRpYWxBbmltYXRpb25LZXkiLCJpbml0aWFsQW5pbUtleSIsImluaXRpYWxBbmltYXRpb24iLCJjdXJyZW50QW5pbWF0aW9uS2V5IiwiYW5pbWF0aW9uS2V5IiwiSG93bGVyR2xvYmFsIiwiSG93bGVyIiwiX2NvdW50ZXIiLCJfaHRtbDVBdWRpb1Bvb2wiLCJodG1sNVBvb2xTaXplIiwiX2NvZGVjcyIsIl9ob3dscyIsIl9tdXRlZCIsIl92b2x1bWUiLCJfY2FuUGxheUV2ZW50IiwiX25hdmlnYXRvciIsIm1hc3RlckdhaW4iLCJub0F1ZGlvIiwidXNpbmdXZWJBdWRpbyIsImF1dG9TdXNwZW5kIiwiY3R4IiwiYXV0b1VubG9jayIsIl9zZXR1cCIsInZvbHVtZSIsInZvbCIsInNldHVwQXVkaW9Db250ZXh0IiwiZ2FpbiIsInNldFZhbHVlQXRUaW1lIiwiX3dlYkF1ZGlvIiwiX2dldFNvdW5kSWRzIiwic291bmQiLCJfc291bmRCeUlkIiwiX25vZGUiLCJtdXRlIiwibXV0ZWQiLCJjb2RlY3MiLCJfYXV0b1N1c3BlbmQiLCJvbmNhbnBsYXl0aHJvdWdoIiwiX3NldHVwQ29kZWNzIiwiYXVkaW9UZXN0IiwiY2FuUGxheVR5cGUiLCJtcGVnVGVzdCIsImNoZWNrT3BlcmEiLCJpc09sZE9wZXJhIiwibXBlZyIsIm9wdXMiLCJvZ2EiLCJhYWMiLCJjYWYiLCJtNGEiLCJ3ZWJhIiwiZG9sYnkiLCJmbGFjIiwiX3VubG9ja0F1ZGlvIiwiX2F1ZGlvVW5sb2NrZWQiLCJfbW9iaWxlVW5sb2FkZWQiLCJzYW1wbGVSYXRlIiwiX3NjcmF0Y2hCdWZmZXIiLCJ1bmxvY2siLCJhdWRpb05vZGUiLCJfdW5sb2NrZWQiLCJfcmVsZWFzZUh0bWw1QXVkaW8iLCJfYXV0b1Jlc3VtZSIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsImRlc3RpbmF0aW9uIiwibm90ZU9uIiwib25lbmRlZCIsImRpc2Nvbm5lY3QiLCJfZW1pdCIsIl9vYnRhaW5IdG1sNUF1ZGlvIiwidGVzdFBsYXkiLCJjYXRjaCIsImF1ZGlvIiwic3VzcGVuZCIsIl9zb3VuZHMiLCJfcGF1c2VkIiwiX3N1c3BlbmRUaW1lciIsIl9yZXN1bWVBZnRlclN1c3BlbmQiLCJfYXV0b3BsYXkiLCJhdXRvcGxheSIsIl9mb3JtYXQiLCJfaHRtbDUiLCJodG1sNSIsIl9sb29wIiwiX3Bvb2wiLCJfcHJlbG9hZCIsInByZWxvYWQiLCJfcmF0ZSIsInJhdGUiLCJfc3ByaXRlIiwiX3NyYyIsIl94aHJXaXRoQ3JlZGVudGlhbHMiLCJ4aHJXaXRoQ3JlZGVudGlhbHMiLCJfZHVyYXRpb24iLCJfc3RhdGUiLCJfZW5kVGltZXJzIiwiX3BsYXlMb2NrIiwiX29uZW5kIiwib25lbmQiLCJfb25mYWRlIiwib25mYWRlIiwiX29ubG9hZCIsIl9vbmxvYWRlcnJvciIsIm9ubG9hZGVycm9yIiwiX29ucGxheWVycm9yIiwib25wbGF5ZXJyb3IiLCJfb25wYXVzZSIsIm9ucGF1c2UiLCJfb25wbGF5Iiwib25wbGF5IiwiX29uc3RvcCIsIm9uc3RvcCIsIl9vbm11dGUiLCJvbm11dGUiLCJfb252b2x1bWUiLCJvbnZvbHVtZSIsIl9vbnJhdGUiLCJvbnJhdGUiLCJfb25zZWVrIiwib25zZWVrIiwiX29udW5sb2NrIiwib251bmxvY2siLCJfb25yZXN1bWUiLCJhY3Rpb24iLCJTb3VuZCIsImxvYWRCdWZmZXIiLCJfZW5kZWQiLCJfaW5hY3RpdmVTb3VuZCIsInNvdW5kSWQiLCJfbG9hZFF1ZXVlIiwic2VlayIsIl9zZWVrIiwiZHVyYXRpb24iLCJzZXRQYXJhbXMiLCJfc3RhcnQiLCJfc3RvcCIsInBsYXlXZWJBdWRpbyIsIl9yZWZyZXNoQnVmZmVyIiwiX3BsYXlTdGFydCIsImJ1ZmZlclNvdXJjZSIsIm5vdGVHcmFpbk9uIiwiX2NsZWFyVGltZXIiLCJwbGF5SHRtbDUiLCJsb2FkZWROb1JlYWR5U3RhdGUiLCJlamVjdGEiLCJfcmF0ZVNlZWsiLCJfc3RvcEZhZGUiLCJub3RlT2ZmIiwiX2NsZWFuQnVmZmVyIiwiX2NsZWFyU291bmQiLCJfaW50ZXJ2YWwiLCJmYWRlIiwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWUiLCJfc3RhcnRGYWRlSW50ZXJ2YWwiLCJpc0dyb3VwIiwic3RlcHMiLCJzdGVwTGVuIiwibGFzdFRpY2siLCJfZmFkZVRvIiwiY2FuY2VsU2NoZWR1bGVkVmFsdWVzIiwibG9vcFN0YXJ0IiwibG9vcEVuZCIsInJlYWxUaW1lIiwicmF0ZVNlZWsiLCJzZWVrQW5kRW1pdCIsImVtaXRTZWVrIiwiX2Vycm9yRm4iLCJfbG9hZEZuIiwicmVtQ2FjaGUiLCJpc0lkIiwibXNnIiwiX2RyYWluIiwibGltaXQiLCJjbnQiLCJfcGFubmVyIiwiaXNJT1MiLCJ2ZW5kb3IiLCJob3dsIiwiX3BhcmVudCIsImNyZWF0ZUdhaW4iLCJjcmVhdGVHYWluTm9kZSIsIl9lcnJvckxpc3RlbmVyIiwiX2xvYWRMaXN0ZW5lciIsImNvZGUiLCJfX2RlZmF1bHQiLCJsb2FkU291bmQiLCJhdG9iIiwiZGF0YVZpZXciLCJkZWNvZGVBdWRpb0RhdGEiLCJ3aXRoQ3JlZGVudGlhbHMiLCJzYWZlWGhyU2VuZCIsImFycmF5YnVmZmVyIiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0IiwiaU9TIiwicGxhdGZvcm0iLCJhcHBWZXJzaW9uIiwic2FmYXJpIiwic3RhbmRhbG9uZSIsIl9zdXBlciIsIl9wb3MiLCJfb3JpZW50YXRpb24iLCJzdGVyZW8iLCJwYW4iLCJwb3NpdGlvblgiLCJzZXRUYXJnZXRBdFRpbWUiLCJwb3NpdGlvblkiLCJwb3NpdGlvbloiLCJzZXRQb3NpdGlvbiIsIm9yaWVudGF0aW9uIiwieFVwIiwieVVwIiwielVwIiwib3IiLCJmb3J3YXJkWCIsImZvcndhcmRZIiwiZm9yd2FyZFoiLCJ1cFgiLCJ1cFkiLCJ1cFoiLCJzZXRPcmllbnRhdGlvbiIsIl9zdGVyZW8iLCJfcGFubmVyQXR0ciIsImNvbmVJbm5lckFuZ2xlIiwiY29uZU91dGVyQW5nbGUiLCJjb25lT3V0ZXJHYWluIiwiZGlzdGFuY2VNb2RlbCIsIm1heERpc3RhbmNlIiwicGFubmluZ01vZGVsIiwicmVmRGlzdGFuY2UiLCJyb2xsb2ZmRmFjdG9yIiwiX29uc3RlcmVvIiwib25zdGVyZW8iLCJfb25wb3MiLCJvbnBvcyIsIl9vbm9yaWVudGF0aW9uIiwib25vcmllbnRhdGlvbiIsInBhbm5lclR5cGUiLCJjcmVhdGVTdGVyZW9QYW5uZXIiLCJzZXR1cFBhbm5lciIsIm9yaWVudGF0aW9uWCIsIm9yaWVudGF0aW9uWSIsIm9yaWVudGF0aW9uWiIsInBhbm5lckF0dHIiLCJfY29uZUlubmVyQW5nbGUiLCJfY29uZU91dGVyQW5nbGUiLCJfY29uZU91dGVyR2FpbiIsIl9kaXN0YW5jZU1vZGVsIiwiX21heERpc3RhbmNlIiwiX3JlZkRpc3RhbmNlIiwiX3JvbGxvZmZGYWN0b3IiLCJfcGFubmluZ01vZGVsIiwicGEiLCJwYW5uZXIiLCJjcmVhdGVQYW5uZXIiLCJ0ZXh0dXJlc1VybHMiLCJzaGFwZTEiLCJzaGFwZTIiLCJzaGFwZTMiLCJzaGFwZTQiLCJzaGFwZTUiLCJNdWx0aVRleHR1cmVBY3RvciIsInRleHR1cmVLZXkiLCJwYXVzZUJ0biIsInNjb3JlSW5kaWNhdG9yIiwiY2xhc3NOYW1lIiwiY3NzVGV4dCIsInRvZ2dsZVBhdXNlIiwicGF1c2VkJCIsInN1YnNjcmliZSIsImlubmVyVGV4dCIsInNjb3JlJCIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fZXh0ZW5kcyIsIl9fIiwiaXNGdW5jdGlvbiIsIl9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyIsImNvbmZpZyIsImhvc3RSZXBvcnRFcnJvciIsImNsb3NlZCIsInVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmciLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiVW5zdWJzY3JpcHRpb25FcnJvckltcGwiLCJTdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZSIsIl9wYXJlbnRPclBhcmVudHMiLCJfc3Vic2NyaXB0aW9ucyIsIl91bnN1YnNjcmliZSIsImZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyIsInRlYXJkb3duIiwic3Vic2NyaXB0aW9uIiwidG1wIiwic3Vic2NyaXB0aW9ucyIsInN1YnNjcmlwdGlvbkluZGV4IiwicmVkdWNlIiwiZXJycyIsInJ4U3Vic2NyaWJlciIsIlN1YnNjcmliZXIiLCJkZXN0aW5hdGlvbk9yTmV4dCIsInN5bmNFcnJvclZhbHVlIiwic3luY0Vycm9yVGhyb3duIiwic3luY0Vycm9yVGhyb3dhYmxlIiwiaXNTdG9wcGVkIiwiX2Vycm9yIiwiX2NvbXBsZXRlIiwiX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSIsIlNhZmVTdWJzY3JpYmVyIiwiX3BhcmVudFN1YnNjcmliZXIiLCJvYnNlcnZlck9yTmV4dCIsIl9fdHJ5T3JTZXRFcnJvciIsIl9fdHJ5T3JVbnN1YiIsIndyYXBwZWRDb21wbGV0ZSIsImNhblJlcG9ydEVycm9yIiwib2JzZXJ2ZXIiLCJjbG9zZWRfMSIsIm9ic2VydmFibGUiLCJwaXBlIiwiZm5zIiwicGlwZUZyb21BcnJheSIsIk9ic2VydmFibGUiLCJfaXNTY2FsYXIiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic2luayIsIm5leHRPck9ic2VydmVyIiwidG9TdWJzY3JpYmVyIiwiX3RyeVN1YnNjcmliZSIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJvcGVyYXRpb25zIiwidG9Qcm9taXNlIiwiT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwiLCJTdWJqZWN0U3Vic2NyaXB0aW9uIiwic3ViamVjdCIsIm9ic2VydmVycyIsInN1YnNjcmliZXJJbmRleCIsIlN1YmplY3RTdWJzY3JpYmVyIiwiU3ViamVjdCIsImhhc0Vycm9yIiwidGhyb3duRXJyb3IiLCJhc09ic2VydmFibGUiLCJBbm9ueW1vdXNTdWJqZWN0IiwiUmVmQ291bnRPcGVyYXRvciIsImNvbm5lY3RhYmxlIiwiX3JlZkNvdW50IiwicmVmQ291bnRlciIsImNvbm5lY3Rpb24iLCJSZWZDb3VudFN1YnNjcmliZXIiLCJzaGFyZWRDb25uZWN0aW9uIiwiX2Nvbm5lY3Rpb24iLCJDb25uZWN0YWJsZU9ic2VydmFibGUiLCJzdWJqZWN0RmFjdG9yeSIsIl9pc0NvbXBsZXRlIiwiZ2V0U3ViamVjdCIsIl9zdWJqZWN0IiwiQ29ubmVjdGFibGVTdWJzY3JpYmVyIiwiR3JvdXBlZE9ic2VydmFibGUiLCJncm91cFN1YmplY3QiLCJyZWZDb3VudFN1YnNjcmlwdGlvbiIsIklubmVyUmVmQ291bnRTdWJzY3JpcHRpb24iLCJhdHRlbXB0ZWRUb1Vuc3Vic2NyaWJlIiwiX3ZhbHVlIiwiZ2V0VmFsdWUiLCJBc3luY0FjdGlvbiIsInNjaGVkdWxlciIsIndvcmsiLCJwZW5kaW5nIiwic2NoZWR1bGUiLCJyZWN5Y2xlQXN5bmNJZCIsInJlcXVlc3RBc3luY0lkIiwiZXhlY3V0ZSIsIl9leGVjdXRlIiwiZXJyb3JlZCIsImVycm9yVmFsdWUiLCJhY3Rpb25zIiwiQWN0aW9uIiwiUXVldWVBY3Rpb24iLCJTY2hlZHVsZXIiLCJTY2hlZHVsZXJBY3Rpb24iLCJBc3luY1NjaGVkdWxlciIsImRlbGVnYXRlIiwic2NoZWR1bGVkIiwiUXVldWVTY2hlZHVsZXIiLCJlbXB0eVNjaGVkdWxlZCIsImlzU2NoZWR1bGVyIiwiTm90aWZpY2F0aW9uS2luZCIsInN1YnNjcmliZVRvQXJyYXkiLCJzY2hlZHVsZUFycmF5Iiwib2YiLCJ0aHJvd0Vycm9yIiwiTm90aWZpY2F0aW9uIiwia2luZCIsImhhc1ZhbHVlIiwib2JzZXJ2ZSIsImRvIiwiYWNjZXB0IiwidG9PYnNlcnZhYmxlIiwiY3JlYXRlTmV4dCIsInVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9uIiwiY3JlYXRlRXJyb3IiLCJjcmVhdGVDb21wbGV0ZSIsImNvbXBsZXRlTm90aWZpY2F0aW9uIiwiT2JzZXJ2ZU9uU3Vic2NyaWJlciIsIm5vdGlmaWNhdGlvbiIsInNjaGVkdWxlTWVzc2FnZSIsIk9ic2VydmVPbk1lc3NhZ2UiLCJSZXBsYXlTdWJqZWN0IiwiYnVmZmVyU2l6ZSIsIndpbmRvd1RpbWUiLCJQT1NJVElWRV9JTkZJTklUWSIsIl9pbmZpbml0ZVRpbWVXaW5kb3ciLCJfd2luZG93VGltZSIsIm5leHRJbmZpbml0ZVRpbWVXaW5kb3ciLCJuZXh0VGltZVdpbmRvdyIsIlJlcGxheUV2ZW50IiwiX2dldE5vdyIsIl90cmltQnVmZmVyVGhlbkdldEV2ZW50cyIsImV2ZW50c0NvdW50Iiwic3BsaWNlQ291bnQiLCJBc3luY1N1YmplY3QiLCJoYXNOZXh0IiwiaGFzQ29tcGxldGVkIiwiUkVTT0xWRUQiLCJhY3RpdmVIYW5kbGVzIiwiZmluZEFuZENsZWFySGFuZGxlIiwiSW1tZWRpYXRlIiwiQXNhcEFjdGlvbiIsImFzYXAiLCJBc2FwU2NoZWR1bGVyIiwiQW5pbWF0aW9uRnJhbWVBY3Rpb24iLCJhbmltYXRpb25GcmFtZSIsIkFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIiwiVmlydHVhbFRpbWVTY2hlZHVsZXIiLCJmcmFtZVRpbWVGYWN0b3IiLCJWaXJ0dWFsQWN0aW9uIiwic29ydEFjdGlvbnMiLCJpc09ic2VydmFibGUiLCJBcmd1bWVudE91dE9mUmFuZ2VFcnJvciIsIkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCIsIkVtcHR5RXJyb3IiLCJFbXB0eUVycm9ySW1wbCIsIlRpbWVvdXRFcnJvciIsIlRpbWVvdXRFcnJvckltcGwiLCJwcm9qZWN0IiwiTWFwT3BlcmF0b3IiLCJNYXBTdWJzY3JpYmVyIiwiYmluZENhbGxiYWNrIiwiY2FsbGJhY2tGdW5jIiwicmVzdWx0U2VsZWN0b3IiLCJwYXJhbXMiLCJpbm5lckFyZ3MiLCJkaXNwYXRjaE5leHQiLCJiaW5kTm9kZUNhbGxiYWNrIiwiT3V0ZXJTdWJzY3JpYmVyIiwibm90aWZ5TmV4dCIsIm91dGVyVmFsdWUiLCJpbm5lclZhbHVlIiwib3V0ZXJJbmRleCIsImlubmVySW5kZXgiLCJpbm5lclN1YiIsIm5vdGlmeUVycm9yIiwibm90aWZ5Q29tcGxldGUiLCJJbm5lclN1YnNjcmliZXIiLCJnZXRTeW1ib2xJdGVyYXRvciIsImlzQXJyYXlMaWtlIiwiaXNQcm9taXNlIiwic3Vic2NyaWJlVG8iLCJvYnMiLCJpdGVyYWJsZSIsInJldHVybiIsInN1YnNjcmliZVRvUmVzdWx0Iiwib3V0ZXJTdWJzY3JpYmVyIiwiaW5uZXJTdWJzY3JpYmVyIiwiY29tYmluZUxhdGVzdCIsIm9ic2VydmFibGVzIiwiQ29tYmluZUxhdGVzdE9wZXJhdG9yIiwiQ29tYmluZUxhdGVzdFN1YnNjcmliZXIiLCJ0b1Jlc3BvbmQiLCJ1bnVzZWQiLCJvbGRWYWwiLCJfdHJ5UmVzdWx0U2VsZWN0b3IiLCJpc0ludGVyb3BPYnNlcnZhYmxlIiwic2NoZWR1bGVPYnNlcnZhYmxlIiwic2NoZWR1bGVQcm9taXNlIiwiaXNJdGVyYWJsZSIsInNjaGVkdWxlSXRlcmFibGUiLCJNZXJnZU1hcE9wZXJhdG9yIiwiY29uY3VycmVudCIsIk1lcmdlTWFwU3Vic2NyaWJlciIsIl90cnlOZXh0IiwiX2lubmVyU3ViIiwiaXNoIiwiaW5uZXJTdWJzY3JpcHRpb24iLCJtZXJnZUFsbCIsIm1lcmdlTWFwIiwiaWkiLCJjb25jYXRBbGwiLCJkZWZlciIsIm9ic2VydmFibGVGYWN0b3J5IiwiZm9ya0pvaW4iLCJzb3VyY2VzIiwiZmlyc3RfMSIsImZvcmtKb2luSW50ZXJuYWwiLCJyZXN1bHRTZWxlY3Rvcl8xIiwiZW1pdHRlZCIsIl9sb29wXzEiLCJmcm9tRXZlbnQiLCJldmVudE5hbWUiLCJzZXR1cFN1YnNjcmlwdGlvbiIsInNvdXJjZU9iaiIsImhhbmRsZXIiLCJpc0V2ZW50VGFyZ2V0Iiwic291cmNlXzEiLCJpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyIiwic291cmNlXzIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsInNvdXJjZV8zIiwiZnJvbUV2ZW50UGF0dGVybiIsImFkZEhhbmRsZXIiLCJyZW1vdmVIYW5kbGVyIiwicmV0VmFsdWUiLCJnZW5lcmF0ZSIsImluaXRpYWxTdGF0ZU9yT3B0aW9ucyIsImNvbmRpdGlvbiIsIml0ZXJhdGUiLCJyZXN1bHRTZWxlY3Rvck9yT2JzZXJ2YWJsZSIsImluaXRpYWxTdGF0ZSIsImNvbmRpdGlvblJlc3VsdCIsIm5lZWRJdGVyYXRlIiwiaWlmIiwidHJ1ZVJlc3VsdCIsImZhbHNlUmVzdWx0IiwiaXNOdW1lcmljIiwiaW50ZXJ2YWwiLCJwZXJpb2QiLCJORVZFUiIsIm5ldmVyIiwib25FcnJvclJlc3VtZU5leHQiLCJzdWJOZXh0IiwicGFpcnMiLCJub3QiLCJwcmVkIiwibm90UHJlZCIsInByZWRpY2F0ZSIsIkZpbHRlck9wZXJhdG9yIiwiRmlsdGVyU3Vic2NyaWJlciIsInBhcnRpdGlvbiIsIlJhY2VPcGVyYXRvciIsIlJhY2VTdWJzY3JpYmVyIiwiaGFzRmlyc3QiLCJ0aW1lciIsImR1ZVRpbWUiLCJwZXJpb2RPclNjaGVkdWxlciIsImR1ZSIsInVzaW5nIiwicmVzb3VyY2VGYWN0b3J5IiwiemlwIiwiWmlwT3BlcmF0b3IiLCJaaXBTdWJzY3JpYmVyIiwiaXRlcmF0b3JzIiwiU3RhdGljSXRlcmF0b3IiLCJzdGlsbFVuc3Vic2NyaWJlZCIsIm5vdGlmeUluYWN0aXZlIiwiY2hlY2tJdGVyYXRvcnMiLCJzaG91bGRDb21wbGV0ZSIsIl90cnlyZXN1bHRTZWxlY3RvciIsIm5leHRSZXN1bHQiLCJTdGF0aWNBcnJheUl0ZXJhdG9yIiwiWmlwQnVmZmVySXRlcmF0b3IiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4Qixp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LElBQ3BFMEcsRUFBSSxHQUFNM0csRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQU9ELEVBQUUsR0FHN0UyRyxFQUFJLEdBQU0zRyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEUwRyxFQUFJLEdBQU0zRyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEUwRyxFQUFJLEdBQU0zRyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEUwRyxFQUFJLEdBQU0zRyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEUwRyxFQUFJLEdBQU0zRyxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFBT0QsRUFBRSxHQUc3RTJHLEVBQUksSUFBTzNHLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTBHLEVBQUksSUFBTzNHLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTBHLEVBQUksSUFBTzNHLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FB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QUFFL3lFLE1BQU80ekIsRUFBTzFtQixRQUFTNmxFLE1BQU0sSUFHOUNvb0QsRUFBa0J4NkgsVUFBVXd2SCxTQUFXLFdBQ25DLE9BQU9qdUgsS0FBSzB4QixPQUFPenlCLE9BQVMsR0FFaENnNkgsRUFBa0J4NkgsVUFBVXF4SCxhQUFlLFdBQ3ZDLE9BQThCLElBQXZCOXZILEtBQUsweEIsT0FBT3p5QixRQUFnQmUsS0FBSzAzRSxZQUU1Q3VoRCxFQUFrQng2SCxVQUFVNnpILGVBQWlCLFdBQ3JDdHlILEtBQUsweEIsT0FBT3p5QixPQUFTLEdBQ3JCZSxLQUFLMDNFLFlBQWEsRUFDbEIxM0UsS0FBS3VjLE9BQU9vOEcsa0JBR1ozNEgsS0FBS3M1RyxZQUFZN3JGLFlBR3pCd3JHLEVBQWtCeDZILFVBQVVzekgsV0FBYSxTQUFVQyxFQUFZQyxFQUFZQyxFQUFZQyxFQUFZQyxHQUMvRnB5SCxLQUFLMHhCLE9BQU96d0IsS0FBS2d4SCxHQUNqQmp5SCxLQUFLdWMsT0FBT3E4RyxrQkFFaEJLLEVBQWtCeDZILFVBQVUwbkgsVUFBWSxTQUFVcm9ILEVBQU9zaUIsR0FDckQsT0FBTzJ5RyxHQUFrQi95SCxLQUFNQSxLQUFLa3BILFdBQVlscEgsS0FBTW9nQixJQUVuRDY0RyxFQTdDMkIsQ0E4Q3BDLElDeE5GIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEyKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgTWluaVNpZ25hbEJpbmRpbmcgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsQmluZGluZyhmbiwgb25jZSwgdGhpc0FyZykge1xuICAgIGlmIChvbmNlID09PSB1bmRlZmluZWQpIG9uY2UgPSBmYWxzZTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsQmluZGluZyk7XG5cbiAgICB0aGlzLl9mbiA9IGZuO1xuICAgIHRoaXMuX29uY2UgPSBvbmNlO1xuICAgIHRoaXMuX3RoaXNBcmcgPSB0aGlzQXJnO1xuICAgIHRoaXMuX25leHQgPSB0aGlzLl9wcmV2ID0gdGhpcy5fb3duZXIgPSBudWxsO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWxCaW5kaW5nLCBbe1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgIGlmICh0aGlzLl9vd25lciA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdGhpcy5fb3duZXIuZGV0YWNoKHRoaXMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWxCaW5kaW5nO1xufSkoKTtcblxuZnVuY3Rpb24gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHNlbGYsIG5vZGUpIHtcbiAgaWYgKCFzZWxmLl9oZWFkKSB7XG4gICAgc2VsZi5faGVhZCA9IG5vZGU7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fdGFpbC5fbmV4dCA9IG5vZGU7XG4gICAgbm9kZS5fcHJldiA9IHNlbGYuX3RhaWw7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH1cblxuICBub2RlLl9vd25lciA9IHNlbGY7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbnZhciBNaW5pU2lnbmFsID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbCk7XG5cbiAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsLCBbe1xuICAgIGtleTogJ2hhbmRsZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlcnMoKSB7XG4gICAgICB2YXIgZXhpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKGV4aXN0cykgcmV0dXJuICEhbm9kZTtcblxuICAgICAgdmFyIGVlID0gW107XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGVlLnB1c2gobm9kZSk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2hhcygpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGUuX293bmVyID09PSB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc3BhdGNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5fb25jZSkgdGhpcy5kZXRhY2gobm9kZSk7XG4gICAgICAgIG5vZGUuX2ZuLmFwcGx5KG5vZGUuX3RoaXNBcmcsIGFyZ3VtZW50cyk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjYWRkKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgZmFsc2UsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNvbmNlKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgdHJ1ZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNkZXRhY2goKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5fb3duZXIgIT09IHRoaXMpIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobm9kZS5fcHJldikgbm9kZS5fcHJldi5fbmV4dCA9IG5vZGUuX25leHQ7XG4gICAgICBpZiAobm9kZS5fbmV4dCkgbm9kZS5fbmV4dC5fcHJldiA9IG5vZGUuX3ByZXY7XG5cbiAgICAgIGlmIChub2RlID09PSB0aGlzLl9oZWFkKSB7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBub2RlLl9uZXh0O1xuICAgICAgICBpZiAobm9kZS5fbmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUgPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgdGhpcy5fdGFpbCA9IG5vZGUuX3ByZXY7XG4gICAgICAgIHRoaXMuX3RhaWwuX25leHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2hBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2hBbGwoKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICBpZiAoIW5vZGUpIHJldHVybiB0aGlzO1xuXG4gICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IG51bGw7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbDtcbn0pKCk7XG5cbk1pbmlTaWduYWwuTWluaVNpZ25hbEJpbmRpbmcgPSBNaW5pU2lnbmFsQmluZGluZztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gTWluaVNpZ25hbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuIiwiIWZ1bmN0aW9uKGUpe3ZhciBuPS9pUGhvbmUvaSx0PS9pUG9kL2kscj0vaVBhZC9pLGE9L1xcYkFuZHJvaWQoPzouKylNb2JpbGVcXGIvaSxwPS9BbmRyb2lkL2ksYj0vXFxiQW5kcm9pZCg/Oi4rKVNENDkzMFVSXFxiL2ksbD0vXFxiQW5kcm9pZCg/Oi4rKSg/OktGW0EtWl17Miw0fSlcXGIvaSxmPS9XaW5kb3dzIFBob25lL2kscz0vXFxiV2luZG93cyg/Oi4rKUFSTVxcYi9pLHU9L0JsYWNrQmVycnkvaSxjPS9CQjEwL2ksaD0vT3BlcmEgTWluaS9pLHY9L1xcYihDcmlPU3xDaHJvbWUpKD86LispTW9iaWxlL2ksdz0vTW9iaWxlKD86LispRmlyZWZveFxcYi9pO2Z1bmN0aW9uIG0oZSxpKXtyZXR1cm4gZS50ZXN0KGkpfWZ1bmN0aW9uIGkoZSl7dmFyIGk9ZXx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3I/bmF2aWdhdG9yLnVzZXJBZ2VudDpcIlwiKSxvPWkuc3BsaXQoXCJbRkJBTlwiKTt2b2lkIDAhPT1vWzFdJiYoaT1vWzBdKSx2b2lkIDAhPT0obz1pLnNwbGl0KFwiVHdpdHRlclwiKSlbMV0mJihpPW9bMF0pO3ZhciBkPXthcHBsZTp7cGhvbmU6bShuLGkpJiYhbShmLGkpLGlwb2Q6bSh0LGkpLHRhYmxldDohbShuLGkpJiZtKHIsaSkmJiFtKGYsaSksZGV2aWNlOihtKG4saSl8fG0odCxpKXx8bShyLGkpKSYmIW0oZixpKX0sYW1hem9uOntwaG9uZTptKGIsaSksdGFibGV0OiFtKGIsaSkmJm0obCxpKSxkZXZpY2U6bShiLGkpfHxtKGwsaSl9LGFuZHJvaWQ6e3Bob25lOiFtKGYsaSkmJm0oYixpKXx8IW0oZixpKSYmbShhLGkpLHRhYmxldDohbShmLGkpJiYhbShiLGkpJiYhbShhLGkpJiYobShsLGkpfHxtKHAsaSkpLGRldmljZTohbShmLGkpJiYobShiLGkpfHxtKGwsaSl8fG0oYSxpKXx8bShwLGkpKXx8bSgvXFxib2todHRwXFxiL2ksaSl9LHdpbmRvd3M6e3Bob25lOm0oZixpKSx0YWJsZXQ6bShzLGkpLGRldmljZTptKGYsaSl8fG0ocyxpKX0sb3RoZXI6e2JsYWNrYmVycnk6bSh1LGkpLGJsYWNrYmVycnkxMDptKGMsaSksb3BlcmE6bShoLGkpLGZpcmVmb3g6bSh3LGkpLGNocm9tZTptKHYsaSksZGV2aWNlOm0odSxpKXx8bShjLGkpfHxtKGgsaSl8fG0odyxpKXx8bSh2LGkpfX07cmV0dXJuIGQuYW55PWQuYXBwbGUuZGV2aWNlfHxkLmFuZHJvaWQuZGV2aWNlfHxkLndpbmRvd3MuZGV2aWNlfHxkLm90aGVyLmRldmljZSxkLnBob25lPWQuYXBwbGUucGhvbmV8fGQuYW5kcm9pZC5waG9uZXx8ZC53aW5kb3dzLnBob25lLGQudGFibGV0PWQuYXBwbGUudGFibGV0fHxkLmFuZHJvaWQudGFibGV0fHxkLndpbmRvd3MudGFibGV0LGR9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/bW9kdWxlLmV4cG9ydHM9aTpcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz8obW9kdWxlLmV4cG9ydHM9aSgpLG1vZHVsZS5leHBvcnRzLmlzTW9iaWxlPWkpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZS5pc01vYmlsZT1pKCkpOmUuaXNNb2JpbGU9aSgpfSh0aGlzKTsiLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvKiFcbiAqIEBwaXhpL3NldHRpbmdzIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL3NldHRpbmdzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IGlzTW9iaWxlIGZyb20gJ2lzbW9iaWxlanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBpc01vYmlsZSB9IGZyb20gJ2lzbW9iaWxlanMnO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIHJlY29tbWVuZGVkIHRleHR1cmUgdW5pdHMgdG8gdXNlLlxuICogSW4gdGhlb3J5IHRoZSBiaWdnZXIgdGhlIGJldHRlciwgYW5kIGZvciBkZXNrdG9wIHdlJ2xsIHVzZSBhcyBtYW55IGFzIHdlIGNhbi5cbiAqIEJ1dCBzb21lIG1vYmlsZSBkZXZpY2VzIHNsb3cgZG93biBpZiB0aGVyZSBpcyB0byBtYW55IGJyYW5jaGVzIGluIHRoZSBzaGFkZXIuXG4gKiBTbyBpbiBwcmFjdGljZSB0aGVyZSBzZWVtcyB0byBiZSBhIHN3ZWV0IHNwb3Qgc2l6ZSB0aGF0IHZhcmllcyBkZXBlbmRpbmcgb24gdGhlIGRldmljZS5cbiAqXG4gKiBJbiB2NCwgYWxsIG1vYmlsZSBkZXZpY2VzIHdlcmUgbGltaXRlZCB0byA0IHRleHR1cmUgdW5pdHMgYmVjYXVzZSBmb3IgdGhpcy5cbiAqIEluIHY1LCB3ZSBhbGxvdyBhbGwgdGV4dHVyZSB1bml0cyB0byBiZSB1c2VkIG9uIG1vZGVybiBBcHBsZSBvciBBbmRyb2lkIGRldmljZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG1heFJlY29tbWVuZGVkVGV4dHVyZXMobWF4KVxue1xuICAgIHZhciBhbGxvd01heCA9IHRydWU7XG5cbiAgICBpZiAoaXNNb2JpbGUudGFibGV0IHx8IGlzTW9iaWxlLnBob25lKVxuICAgIHtcbiAgICAgICAgYWxsb3dNYXggPSBmYWxzZTtcblxuICAgICAgICBpZiAoaXNNb2JpbGUuYXBwbGUuZGV2aWNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSAobmF2aWdhdG9yLnVzZXJBZ2VudCkubWF0Y2goL09TIChcXGQrKV8oXFxkKyk/Lyk7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcblxuICAgICAgICAgICAgICAgIC8vIEFsbCB0ZXh0dXJlIHVuaXRzIGNhbiBiZSB1c2VkIG9uIGRldmljZXMgdGhhdCBzdXBwb3J0IGlvcyAxMSBvciBhYm92ZVxuICAgICAgICAgICAgICAgIGlmIChtYWpvclZlcnNpb24gPj0gMTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd01heCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc01vYmlsZS5hbmRyb2lkLmRldmljZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG1hdGNoJDEgPSAobmF2aWdhdG9yLnVzZXJBZ2VudCkubWF0Y2goL0FuZHJvaWRcXHMoWzAtOS5dKikvKTtcblxuICAgICAgICAgICAgaWYgKG1hdGNoJDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIG1ham9yVmVyc2lvbiQxID0gcGFyc2VJbnQobWF0Y2gkMVsxXSwgMTApO1xuXG4gICAgICAgICAgICAgICAgLy8gQWxsIHRleHR1cmUgdW5pdHMgY2FuIGJlIHVzZWQgb24gZGV2aWNlcyB0aGF0IHN1cHBvcnQgQW5kcm9pZCA3IChOb3VnYXQpIG9yIGFib3ZlXG4gICAgICAgICAgICAgICAgaWYgKG1ham9yVmVyc2lvbiQxID49IDcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd01heCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFsbG93TWF4ID8gbWF4IDogNDtcbn1cblxuLyoqXG4gKiBVcGxvYWRpbmcgdGhlIHNhbWUgYnVmZmVyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlIGZyYW1lIGNhbiBjYXVzZSBwZXJmb3JtYW5jZSBpc3N1ZXMuXG4gKiBBcHBhcmVudCBvbiBpT1Mgc28gb25seSBjaGVjayBmb3IgdGhhdCBhdCB0aGUgbW9tZW50XG4gKiBUaGlzIGNoZWNrIG1heSBiZWNvbWUgbW9yZSBjb21wbGV4IGlmIHRoaXMgaXNzdWUgcG9wcyB1cCBlbHNld2hlcmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBjYW5VcGxvYWRTYW1lQnVmZmVyKClcbntcbiAgICByZXR1cm4gIWlzTW9iaWxlLmFwcGxlLmRldmljZTtcbn1cblxuLyoqXG4gKiBVc2VyJ3MgY3VzdG9taXphYmxlIGdsb2JhbHMgZm9yIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgUElYSSBzZXR0aW5ncywgc3VjaFxuICogYXMgYSByZW5kZXJlcidzIGRlZmF1bHQgcmVzb2x1dGlvbiwgZnJhbWVyYXRlLCBmbG9hdCBwcmVjaXNpb24sIGV0Yy5cbiAqIEBleGFtcGxlXG4gKiAvLyBVc2UgdGhlIG5hdGl2ZSB3aW5kb3cgcmVzb2x1dGlvbiBhcyB0aGUgZGVmYXVsdCByZXNvbHV0aW9uXG4gKiAvLyB3aWxsIHN1cHBvcnQgaGlnaC1kZW5zaXR5IGRpc3BsYXlzIHdoZW4gcmVuZGVyaW5nXG4gKiBQSVhJLnNldHRpbmdzLlJFU09MVVRJT04gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAqXG4gKiAvLyBEaXNhYmxlIGludGVycG9sYXRpb24gd2hlbiBzY2FsaW5nLCB3aWxsIG1ha2UgdGV4dHVyZSBiZSBwaXhlbGF0ZWRcbiAqIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERSA9IFBJWEkuU0NBTEVfTU9ERVMuTkVBUkVTVDtcbiAqIEBuYW1lc3BhY2UgUElYSS5zZXR0aW5nc1xuICovXG52YXIgc2V0dGluZ3MgPSB7XG5cbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSBXZWJHTCB3aWxsIGF0dGVtcHQgbWFrZSB0ZXh0dXJlcyBtaW1wYXBlZCBieSBkZWZhdWx0LlxuICAgICAqIE1pcG1hcHBpbmcgd2lsbCBvbmx5IHN1Y2NlZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSB1cGxvYWRlZCBoYXMgcG93ZXIgb2YgdHdvIGRpbWVuc2lvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgTUlQTUFQX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5NSVBNQVBfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5NSVBNQVBfTU9ERVMuUE9XMlxuICAgICAqL1xuICAgIE1JUE1BUF9URVhUVVJFUzogMSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgYW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVzLlxuICAgICAqIFVzdWFsbHkgZnJvbSAwIHRvIDE2XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQU5JU09UUk9QSUNfTEVWRUxcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIEFOSVNPVFJPUElDX0xFVkVMOiAwLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBSRVNPTFVUSU9OXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBSRVNPTFVUSU9OOiAxLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBmaWx0ZXIgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBGSUxURVJfUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgRklMVEVSX1JFU09MVVRJT046IDEsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSB0ZXh0dXJlcyB0aGF0IHRoaXMgZGV2aWNlIHN1cHBvcnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMzJcbiAgICAgKi9cbiAgICBTUFJJVEVfTUFYX1RFWFRVUkVTOiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKDMyKSxcblxuICAgIC8vIFRPRE86IG1heWJlIGNoYW5nZSB0byBTUFJJVEUuQkFUQ0hfU0laRTogMjAwMFxuICAgIC8vIFRPRE86IG1heWJlIGFkZCBQQVJUSUNMRS5CQVRDSF9TSVpFOiAxNTAwMFxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgc3ByaXRlIGJhdGNoIHNpemUuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBhaW1zIHRvIGJhbGFuY2UgZGVza3RvcCBhbmQgbW9iaWxlIGRldmljZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgU1BSSVRFX0JBVENIX1NJWkVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNDA5NlxuICAgICAqL1xuICAgIFNQUklURV9CQVRDSF9TSVpFOiA0MDk2LFxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnMgaWYgbm9uZSBhcmUgc3VwcGxpZWQgdG8ge0BsaW5rIFBJWEkuUmVuZGVyZXJ9XG4gICAgICogb3Ige0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFJFTkRFUl9PUFRJT05TXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IHZpZXc9bnVsbFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uPTFcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGFudGlhbGlhcz1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZm9yY2VGWEFBPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBhdXRvRGVuc2l0eT1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdHJhbnNwYXJlbnQ9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBjbGVhckJlZm9yZVJlbmRlcj10cnVlXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGg9ODAwXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodD02MDBcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGxlZ2FjeT1mYWxzZVxuICAgICAqL1xuICAgIFJFTkRFUl9PUFRJT05TOiB7XG4gICAgICAgIHZpZXc6IG51bGwsXG4gICAgICAgIGFudGlhbGlhczogZmFsc2UsXG4gICAgICAgIGZvcmNlRlhBQTogZmFsc2UsXG4gICAgICAgIGF1dG9EZW5zaXR5OiBmYWxzZSxcbiAgICAgICAgdHJhbnNwYXJlbnQ6IGZhbHNlLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4MDAwMDAwLFxuICAgICAgICBjbGVhckJlZm9yZVJlbmRlcjogdHJ1ZSxcbiAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6IDgwMCxcbiAgICAgICAgaGVpZ2h0OiA2MDAsXG4gICAgICAgIGxlZ2FjeTogZmFsc2UsXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgR0NfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuR0NfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5HQ19NT0RFUy5BVVRPXG4gICAgICovXG4gICAgR0NfTU9ERTogMCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heCBpZGxlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9JRExFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDM2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfSURMRTogNjAgKiA2MCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heGltdW0gY2hlY2sgY291bnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgR0NfTUFYX0NIRUNLX0NPVU5UXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqL1xuICAgIEdDX01BWF9DSEVDS19DT1VOVDogNjAgKiAxMCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgd3JhcCBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBXUkFQX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLldSQVBfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5XUkFQX01PREVTLkNMQU1QXG4gICAgICovXG4gICAgV1JBUF9NT0RFOiAzMzA3MSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc2NhbGUgbW9kZSBmb3IgdGV4dHVyZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgU0NBTEVfTU9ERVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5TQ0FMRV9NT0RFUy5MSU5FQVJcbiAgICAgKi9cbiAgICBTQ0FMRV9NT0RFOiAxLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFBSRUNJU0lPTl9WRVJURVhcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5ISUdIXG4gICAgICovXG4gICAgUFJFQ0lTSU9OX1ZFUlRFWDogJ2hpZ2hwJyxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIGlPUyBpcyBiZXN0IHNldCBhdCBoaWdocCBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8zNzQyXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUFJFQ0lTSU9OX0ZSQUdNRU5UXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uTUVESVVNXG4gICAgICovXG4gICAgUFJFQ0lTSU9OX0ZSQUdNRU5UOiBpc01vYmlsZS5hcHBsZS5kZXZpY2UgPyAnaGlnaHAnIDogJ21lZGl1bXAnLFxuXG4gICAgLyoqXG4gICAgICogQ2FuIHdlIHVwbG9hZCB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWU/XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUjogY2FuVXBsb2FkU2FtZUJ1ZmZlcigpLFxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBiaXRtYXAgY3JlYXRpb24gYmVmb3JlIGltYWdlIGxvYWQuIFRoaXMgZmVhdHVyZSBpcyBleHBlcmltZW50YWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgQ1JFQVRFX0lNQUdFX0JJVE1BUFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBDUkVBVEVfSU1BR0VfQklUTUFQOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIFJPVU5EX1BJWEVMUzogZmFsc2UsXG59O1xuXG5leHBvcnQgeyBzZXR0aW5ncyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0dGluZ3MuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2NvbnN0YW50cyAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9jb25zdGFudHMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBFTlZcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0xfTEVHQUNZIC0gVXNlZCBmb3Igb2xkZXIgdjEgV2ViR0wgZGV2aWNlcy4gUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gKiAgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy4gSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyBwcmVmZXIgdGhpcyBlbnZpcm9ubWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFZlcnNpb24gMSBvZiBXZWJHTFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMMiAtIFZlcnNpb24gMiBvZiBXZWJHTFxuICovXG52YXIgRU5WO1xuKGZ1bmN0aW9uIChFTlYpIHtcbiAgICBFTlZbRU5WW1wiV0VCR0xfTEVHQUNZXCJdID0gMF0gPSBcIldFQkdMX0xFR0FDWVwiO1xuICAgIEVOVltFTlZbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIEVOVltFTlZbXCJXRUJHTDJcIl0gPSAyXSA9IFwiV0VCR0wyXCI7XG59KShFTlYgfHwgKEVOViA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50IHRvIGlkZW50aWZ5IHRoZSBSZW5kZXJlciBUeXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRTtcbihmdW5jdGlvbiAoUkVOREVSRVJfVFlQRSkge1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgUkVOREVSRVJfVFlQRVtSRU5ERVJFUl9UWVBFW1wiQ0FOVkFTXCJdID0gMl0gPSBcIkNBTlZBU1wiO1xufSkoUkVOREVSRVJfVFlQRSB8fCAoUkVOREVSRVJfVFlQRSA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgYmxlbmQgbW9kZXMgc3VwcG9ydGVkIGJ5IFBJWEkuXG4gKlxuICogSU1QT1JUQU5UIC0gVGhlIFdlYkdMIHJlbmRlcmVyIG9ubHkgc3VwcG9ydHMgdGhlIE5PUk1BTCwgQURELCBNVUxUSVBMWSBhbmQgU0NSRUVOIGJsZW5kIG1vZGVzLlxuICogQW55dGhpbmcgZWxzZSB3aWxsIHNpbGVudGx5IGFjdCBsaWtlIE5PUk1BTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQkxFTkRfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREXG4gKiBAcHJvcGVydHkge251bWJlcn0gTVVMVElQTFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPVkVSTEFZXG4gKiBAcHJvcGVydHkge251bWJlcn0gREFSS0VOXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElHSFRFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0RPREdFXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfQlVSTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBUkRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTT0ZUX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRElGRkVSRU5DRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVYQ0xVU0lPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhVRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNBVFVSQVRJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOT1NJVFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTl9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0lOXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09VVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19BVE9QXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVUJUUkFDVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVkVSXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVJBU0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBYT1JcbiAqL1xudmFyIEJMRU5EX01PREVTO1xuKGZ1bmN0aW9uIChCTEVORF9NT0RFUykge1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTk9STUFMXCJdID0gMF0gPSBcIk5PUk1BTFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQUREXCJdID0gMV0gPSBcIkFERFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTVVMVElQTFlcIl0gPSAyXSA9IFwiTVVMVElQTFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTlwiXSA9IDNdID0gXCJTQ1JFRU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk9WRVJMQVlcIl0gPSA0XSA9IFwiT1ZFUkxBWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiREFSS0VOXCJdID0gNV0gPSBcIkRBUktFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiTElHSFRFTlwiXSA9IDZdID0gXCJMSUdIVEVOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9ET0RHRVwiXSA9IDddID0gXCJDT0xPUl9ET0RHRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JfQlVSTlwiXSA9IDhdID0gXCJDT0xPUl9CVVJOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJIQVJEX0xJR0hUXCJdID0gOV0gPSBcIkhBUkRfTElHSFRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNPRlRfTElHSFRcIl0gPSAxMF0gPSBcIlNPRlRfTElHSFRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRJRkZFUkVOQ0VcIl0gPSAxMV0gPSBcIkRJRkZFUkVOQ0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVYQ0xVU0lPTlwiXSA9IDEyXSA9IFwiRVhDTFVTSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJIVUVcIl0gPSAxM10gPSBcIkhVRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0FUVVJBVElPTlwiXSA9IDE0XSA9IFwiU0FUVVJBVElPTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiQ09MT1JcIl0gPSAxNV0gPSBcIkNPTE9SXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMVU1JTk9TSVRZXCJdID0gMTZdID0gXCJMVU1JTk9TSVRZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxfTlBNXCJdID0gMTddID0gXCJOT1JNQUxfTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERfTlBNXCJdID0gMThdID0gXCJBRERfTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQ1JFRU5fTlBNXCJdID0gMTldID0gXCJTQ1JFRU5fTlBNXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT05FXCJdID0gMjBdID0gXCJOT05FXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfT1ZFUlwiXSA9IDBdID0gXCJTUkNfT1ZFUlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0lOXCJdID0gMjFdID0gXCJTUkNfSU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVVRcIl0gPSAyMl0gPSBcIlNSQ19PVVRcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19BVE9QXCJdID0gMjNdID0gXCJTUkNfQVRPUFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX09WRVJcIl0gPSAyNF0gPSBcIkRTVF9PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfSU5cIl0gPSAyNV0gPSBcIkRTVF9JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX09VVFwiXSA9IDI2XSA9IFwiRFNUX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRFNUX0FUT1BcIl0gPSAyN10gPSBcIkRTVF9BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJFUkFTRVwiXSA9IDI2XSA9IFwiRVJBU0VcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNVQlRSQUNUXCJdID0gMjhdID0gXCJTVUJUUkFDVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiWE9SXCJdID0gMjldID0gXCJYT1JcIjtcbn0pKEJMRU5EX01PREVTIHx8IChCTEVORF9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFZhcmlvdXMgd2ViZ2wgZHJhdyBtb2Rlcy4gVGhlc2UgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSB3aGljaCBHTCBkcmF3TW9kZSB0byB1c2VcbiAqIHVuZGVyIGNlcnRhaW4gc2l0dWF0aW9ucyBhbmQgcmVuZGVyZXJzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBEUkFXX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPSU5UU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9MT09QXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfRkFOXG4gKi9cbnZhciBEUkFXX01PREVTO1xuKGZ1bmN0aW9uIChEUkFXX01PREVTKSB7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiUE9JTlRTXCJdID0gMF0gPSBcIlBPSU5UU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVTXCJdID0gMV0gPSBcIkxJTkVTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9MT09QXCJdID0gMl0gPSBcIkxJTkVfTE9PUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVfU1RSSVBcIl0gPSAzXSA9IFwiTElORV9TVFJJUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFU1wiXSA9IDRdID0gXCJUUklBTkdMRVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRV9TVFJJUFwiXSA9IDVdID0gXCJUUklBTkdMRV9TVFJJUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX0ZBTlwiXSA9IDZdID0gXCJUUklBTkdMRV9GQU5cIjtcbn0pKERSQVdfTU9ERVMgfHwgKERSQVdfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIHRleHR1cmUvcmVzb3VyY2VzIGZvcm1hdHMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEZPUk1BVFNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUkdCQT02NDA4XG4gKiBAcHJvcGVydHkge251bWJlcn0gUkdCPTY0MDdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBTFBIQT02NDA2XG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5BTkNFPTY0MDlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0VfQUxQSEE9NjQxMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IERFUFRIX0NPTVBPTkVOVD02NDAyXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfU1RFTkNJTD0zNDA0MVxuICovXG52YXIgRk9STUFUUztcbihmdW5jdGlvbiAoRk9STUFUUykge1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIlJHQkFcIl0gPSA2NDA4XSA9IFwiUkdCQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIlJHQlwiXSA9IDY0MDddID0gXCJSR0JcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJBTFBIQVwiXSA9IDY0MDZdID0gXCJBTFBIQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkxVTUlOQU5DRVwiXSA9IDY0MDldID0gXCJMVU1JTkFOQ0VcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJMVU1JTkFOQ0VfQUxQSEFcIl0gPSA2NDEwXSA9IFwiTFVNSU5BTkNFX0FMUEhBXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiREVQVEhfQ09NUE9ORU5UXCJdID0gNjQwMl0gPSBcIkRFUFRIX0NPTVBPTkVOVFwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkRFUFRIX1NURU5DSUxcIl0gPSAzNDA0MV0gPSBcIkRFUFRIX1NURU5DSUxcIjtcbn0pKEZPUk1BVFMgfHwgKEZPUk1BVFMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIHRhcmdldCB0eXBlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEPTM1NTNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQPTM0MDY3XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRF9BUlJBWT0zNTg2NlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWD0zNDA2OVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWD0zNDA3MFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWT0zNDA3MVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWT0zNDA3MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWj0zNDA3M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWj0zNDA3NFxuICovXG52YXIgVEFSR0VUUztcbihmdW5jdGlvbiAoVEFSR0VUUykge1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfMkRcIl0gPSAzNTUzXSA9IFwiVEVYVFVSRV8yRFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBcIl0gPSAzNDA2N10gPSBcIlRFWFRVUkVfQ1VCRV9NQVBcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFXzJEX0FSUkFZXCJdID0gMzU4NjZdID0gXCJURVhUVVJFXzJEX0FSUkFZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCJdID0gMzQwNjldID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIl0gPSAzNDA3MF0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiXSA9IDM0MDcxXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCJdID0gMzQwNzJdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIl0gPSAzNDA3M10gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiXSA9IDM0MDc0XSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCI7XG59KShUQVJHRVRTIHx8IChUQVJHRVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCBkYXRhIGZvcm1hdCB0eXBlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgVFlQRVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfQllURT01MTIxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlQ9NTEyM1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzVfNl81PTMzNjM1XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNF80XzRfND0zMjgxOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzVfNV81XzE9MzI4MjBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBGTE9BVD01MTI2XG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFMRl9GTE9BVD0zNjE5M1xuICovXG52YXIgVFlQRVM7XG4oZnVuY3Rpb24gKFRZUEVTKSB7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9CWVRFXCJdID0gNTEyMV0gPSBcIlVOU0lHTkVEX0JZVEVcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXCJdID0gNTEyM10gPSBcIlVOU0lHTkVEX1NIT1JUXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiXSA9IDMzNjM1XSA9IFwiVU5TSUdORURfU0hPUlRfNV82XzVcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzRfNF80XzRcIl0gPSAzMjgxOV0gPSBcIlVOU0lHTkVEX1NIT1JUXzRfNF80XzRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNV81XzFcIl0gPSAzMjgyMF0gPSBcIlVOU0lHTkVEX1NIT1JUXzVfNV81XzFcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkZMT0FUXCJdID0gNTEyNl0gPSBcIkZMT0FUXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJIQUxGX0ZMT0FUXCJdID0gMzYxOTNdID0gXCJIQUxGX0ZMT0FUXCI7XG59KShUWVBFUyB8fCAoVFlQRVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgc2NhbGUgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLlNDQUxFX01PREV9IHNjYWxlIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCBzY2FsaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIExJTkVBUiBvciBORUFSRVNULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgU0NBTEVfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSIFNtb290aCBzY2FsaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gTkVBUkVTVCBQaXhlbGF0aW5nIHNjYWxpbmdcbiAqL1xudmFyIFNDQUxFX01PREVTO1xuKGZ1bmN0aW9uIChTQ0FMRV9NT0RFUykge1xuICAgIFNDQUxFX01PREVTW1NDQUxFX01PREVTW1wiTkVBUkVTVFwiXSA9IDBdID0gXCJORUFSRVNUXCI7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJMSU5FQVJcIl0gPSAxXSA9IFwiTElORUFSXCI7XG59KShTQ0FMRV9NT0RFUyB8fCAoU0NBTEVfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgd3JhcCBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFfSB3cmFwIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCB3cmFwcGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBDTEFNUCBvciBSRVBFQVQsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICogSWYgdGhlIHRleHR1cmUgaXMgbm9uIHBvd2VyIG9mIHR3byB0aGVuIGNsYW1wIHdpbGwgYmUgdXNlZCByZWdhcmRsZXNzIGFzIFdlYkdMIGNhblxuICogb25seSB1c2UgUkVQRUFUIGlmIHRoZSB0ZXh0dXJlIGlzIHBvMi5cbiAqXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBXUkFQX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDTEFNUCAtIFRoZSB0ZXh0dXJlcyB1dnMgYXJlIGNsYW1wZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUlSUk9SRURfUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdCB3aXRoIG1pcnJvcmluZ1xuICovXG52YXIgV1JBUF9NT0RFUztcbihmdW5jdGlvbiAoV1JBUF9NT0RFUykge1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIkNMQU1QXCJdID0gMzMwNzFdID0gXCJDTEFNUFwiO1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIlJFUEVBVFwiXSA9IDEwNDk3XSA9IFwiUkVQRUFUXCI7XG4gICAgV1JBUF9NT0RFU1tXUkFQX01PREVTW1wiTUlSUk9SRURfUkVQRUFUXCJdID0gMzM2NDhdID0gXCJNSVJST1JFRF9SRVBFQVRcIjtcbn0pKFdSQVBfTU9ERVMgfHwgKFdSQVBfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBNaXBtYXAgZmlsdGVyaW5nIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVN9IGFmZmVjdHMgZGVmYXVsdCB0ZXh0dXJlIGZpbHRlcmluZy5cbiAqIE1pcG1hcHMgYXJlIGdlbmVyYXRlZCBmb3IgYSBiYXNlVGV4dHVyZSBpZiBpdHMgYG1pcG1hcGAgZmllbGQgaXMgYE9OYCxcbiAqIG9yIGl0cyBgUE9XMmAgYW5kIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93ZXJzIG9mIDIuXG4gKiBEdWUgdG8gcGxhdGZvcm0gcmVzdHJpY3Rpb24sIGBPTmAgb3B0aW9uIHdpbGwgd29yayBsaWtlIGBQT1cyYCBmb3Igd2ViZ2wtMS5cbiAqXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBNSVBNQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9GRiAtIE5vIG1pcG1hcHNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT1cyIC0gR2VuZXJhdGUgbWlwbWFwcyBpZiB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvdzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPTiAtIEFsd2F5cyBnZW5lcmF0ZSBtaXBtYXBzXG4gKi9cbnZhciBNSVBNQVBfTU9ERVM7XG4oZnVuY3Rpb24gKE1JUE1BUF9NT0RFUykge1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJPRkZcIl0gPSAwXSA9IFwiT0ZGXCI7XG4gICAgTUlQTUFQX01PREVTW01JUE1BUF9NT0RFU1tcIlBPVzJcIl0gPSAxXSA9IFwiUE9XMlwiO1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJPTlwiXSA9IDJdID0gXCJPTlwiO1xufSkoTUlQTUFQX01PREVTIHx8IChNSVBNQVBfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBIb3cgdG8gdHJlYXQgdGV4dHVyZXMgd2l0aCBwcmVtdWx0aXBsaWVkIGFscGhhXG4gKlxuICogQG5hbWUgQUxQSEFfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PX1BSRU1VTFRJUExJRURfQUxQSEEgLSBTb3VyY2UgaXMgbm90IHByZW11bHRpcGxpZWQsIGxlYXZlIGl0IGxpa2UgdGhhdC5cbiAqICBPcHRpb24gZm9yIGNvbXByZXNzZWQgYW5kIGRhdGEgdGV4dHVyZXMgdGhhdCBhcmUgY3JlYXRlZCBmcm9tIHR5cGVkIGFycmF5cy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMWV9PTl9VUExPQUQgLSBTb3VyY2UgaXMgbm90IHByZW11bHRpcGxpZWQsIHByZW11bHRpcGx5IG9uIHVwbG9hZC5cbiAqICBEZWZhdWx0IG9wdGlvbiwgdXNlZCBmb3IgYWxsIGxvYWRlZCBpbWFnZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBhbHJlYWR5IHByZW11bHRpcGxpZWRcbiAqICBFeGFtcGxlOiBzcGluZSBhdGxhc2VzIHdpdGggYF9wbWFgIHN1ZmZpeC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOUE0gLSBBbGlhcyBmb3IgTk9fUFJFTVVMVElQTElFRF9BTFBIQS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlBBQ0sgLSBEZWZhdWx0IG9wdGlvbiwgYWxpYXMgZm9yIFBSRU1VTFRJUExZX09OX1VQTE9BRC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQTUEgLSBBbGlhcyBmb3IgUFJFTVVMVElQTElFRF9BTFBIQS5cbiAqL1xudmFyIEFMUEhBX01PREVTO1xuKGZ1bmN0aW9uIChBTFBIQV9NT0RFUykge1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiTlBNXCJdID0gMF0gPSBcIk5QTVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiVU5QQUNLXCJdID0gMV0gPSBcIlVOUEFDS1wiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiUE1BXCJdID0gMl0gPSBcIlBNQVwiO1xuICAgIEFMUEhBX01PREVTW0FMUEhBX01PREVTW1wiTk9fUFJFTVVMVElQTElFRF9BTFBIQVwiXSA9IDBdID0gXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIl0gPSAxXSA9IFwiUFJFTVVMVElQTFlfT05fVVBMT0FEXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQUkVNVUxUSVBMWV9BTFBIQVwiXSA9IDJdID0gXCJQUkVNVUxUSVBMWV9BTFBIQVwiO1xufSkoQUxQSEFfTU9ERVMgfHwgKEFMUEhBX01PREVTID0ge30pKTtcbi8qKlxuICogVGhlIGdjIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5HQ19NT0RFfSBHYXJiYWdlIENvbGxlY3Rpb24gbW9kZSBmb3IgUGl4aUpTIHRleHR1cmVzIGlzIEFVVE9cbiAqIElmIHNldCB0byBHQ19NT0RFLCB0aGUgcmVuZGVyZXIgd2lsbCBvY2Nhc2lvbmFsbHkgY2hlY2sgdGV4dHVyZXMgdXNhZ2UuIElmIHRoZXkgYXJlIG5vdFxuICogdXNlZCBmb3IgYSBzcGVjaWZpZWQgcGVyaW9kIG9mIHRpbWUgdGhleSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVLiBUaGV5IHdpbGwgb2YgY291cnNlXG4gKiBiZSB1cGxvYWRlZCBhZ2FpbiB3aGVuIHRoZXkgYXJlIHJlcXVpcmVkLiBUaGlzIGlzIGEgc2lsZW50IGJlaGluZCB0aGUgc2NlbmVzIHByb2Nlc3MgdGhhdFxuICogc2hvdWxkIGVuc3VyZSB0aGF0IHRoZSBHUFUgZG9lcyBub3QgIGdldCBmaWxsZWQgdXAuXG4gKlxuICogSGFuZHkgZm9yIG1vYmlsZSBkZXZpY2VzIVxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKlxuICogQG5hbWUgR0NfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBoYXBwZW4gcGVyaW9kaWNhbGx5IGF1dG9tYXRpY2FsbHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNQU5VQUwgLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBuZWVkIHRvIGJlIGNhbGxlZCBtYW51YWxseVxuICovXG52YXIgR0NfTU9ERVM7XG4oZnVuY3Rpb24gKEdDX01PREVTKSB7XG4gICAgR0NfTU9ERVNbR0NfTU9ERVNbXCJBVVRPXCJdID0gMF0gPSBcIkFVVE9cIjtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIk1BTlVBTFwiXSA9IDFdID0gXCJNQU5VQUxcIjtcbn0pKEdDX01PREVTIHx8IChHQ19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHNoYWRlcnMuXG4gKlxuICogQG5hbWUgUFJFQ0lTSU9OXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge3N0cmluZ31cbiAqIEBjb25zdGFudFxuICogQHByb3BlcnR5IHtzdHJpbmd9IExPVz0nbG93cCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBNRURJVU09J21lZGl1bXAnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gSElHSD0naGlnaHAnXG4gKi9cbnZhciBQUkVDSVNJT047XG4oZnVuY3Rpb24gKFBSRUNJU0lPTikge1xuICAgIFBSRUNJU0lPTltcIkxPV1wiXSA9IFwibG93cFwiO1xuICAgIFBSRUNJU0lPTltcIk1FRElVTVwiXSA9IFwibWVkaXVtcFwiO1xuICAgIFBSRUNJU0lPTltcIkhJR0hcIl0gPSBcImhpZ2hwXCI7XG59KShQUkVDSVNJT04gfHwgKFBSRUNJU0lPTiA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyBmb3IgbWFzayBpbXBsZW1lbnRhdGlvbnMuXG4gKiBXZSB1c2UgYHR5cGVgIHN1ZmZpeCBiZWNhdXNlIGl0IGxlYWRzIHRvIHZlcnkgZGlmZmVyZW50IGJlaGF2aW91cnNcbiAqXG4gKiBAbmFtZSBNQVNLX1RZUEVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTWFzayBpcyBpZ25vcmVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NJU1NPUiAtIFNjaXNzb3IgbWFzaywgcmVjdGFuZ2xlIG9uIHNjcmVlbiwgY2hlYXBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEVOQ0lMIC0gU3RlbmNpbCBtYXNrLCAxLWJpdCwgbWVkaXVtLCB3b3JrcyBvbmx5IGlmIHJlbmRlcmVyIHN1cHBvcnRzIHN0ZW5jaWxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTUFJJVEUgLSBNYXNrIHRoYXQgdXNlcyBTcHJpdGVNYXNrRmlsdGVyLCB1c2VzIHRlbXBvcmFyeSBSZW5kZXJUZXh0dXJlXG4gKi9cbnZhciBNQVNLX1RZUEVTO1xuKGZ1bmN0aW9uIChNQVNLX1RZUEVTKSB7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU0NJU1NPUlwiXSA9IDFdID0gXCJTQ0lTU09SXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU1RFTkNJTFwiXSA9IDJdID0gXCJTVEVOQ0lMXCI7XG4gICAgTUFTS19UWVBFU1tNQVNLX1RZUEVTW1wiU1BSSVRFXCJdID0gM10gPSBcIlNQUklURVwiO1xufSkoTUFTS19UWVBFUyB8fCAoTUFTS19UWVBFUyA9IHt9KSk7XG5cbmV4cG9ydCB7IEFMUEhBX01PREVTLCBCTEVORF9NT0RFUywgRFJBV19NT0RFUywgRU5WLCBGT1JNQVRTLCBHQ19NT0RFUywgTUFTS19UWVBFUywgTUlQTUFQX01PREVTLCBQUkVDSVNJT04sIFJFTkRFUkVSX1RZUEUsIFNDQUxFX01PREVTLCBUQVJHRVRTLCBUWVBFUywgV1JBUF9NT0RFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS91dGlscyAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS91dGlscyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgaXNNb2JpbGUgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50ZW1pdHRlcjMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlYXJjdXQgfSBmcm9tICdlYXJjdXQnO1xuaW1wb3J0IF91cmwgZnJvbSAndXJsJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXJsIH0gZnJvbSAndXJsJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyoqXG4gKiBUaGUgcHJlZml4IHRoYXQgZGVub3RlcyBhIFVSTCBpcyBmb3IgYSByZXRpbmEgYXNzZXQuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUkVUSU5BX1BSRUZJWFxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAZGVmYXVsdCAvQChbMC05XFwuXSspeC9cbiAqIEBleGFtcGxlIGBAMnhgXG4gKi9cbnNldHRpbmdzLlJFVElOQV9QUkVGSVggPSAvQChbMC05XFwuXSspeC87XG5cbi8qKlxuICogU2hvdWxkIHRoZSBgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdGAgZmxhZyBiZSBlbmFibGVkIGFzIGEgY29udGV4dCBvcHRpb24gdXNlZCBpbiB0aGUgYGlzV2ViR0xTdXBwb3J0ZWRgIGZ1bmN0aW9uLlxuICogRm9yIG1vc3Qgc2NlbmFyaW9zIHRoaXMgc2hvdWxkIGJlIGxlZnQgYXMgdHJ1ZSwgYXMgb3RoZXJ3aXNlIHRoZSB1c2VyIG1heSBoYXZlIGEgcG9vciBleHBlcmllbmNlLlxuICogSG93ZXZlciwgaXQgY2FuIGJlIHVzZWZ1bCB0byBkaXNhYmxlIHVuZGVyIGNlcnRhaW4gc2NlbmFyaW9zLCBzdWNoIGFzIGhlYWRsZXNzIHVuaXQgdGVzdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVRcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IHRydWVcbiAqL1xuc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQgPSB0cnVlO1xuXG52YXIgc2FpZEhlbGxvID0gZmFsc2U7XG52YXIgVkVSU0lPTiA9ICc1LjIuMCc7XG5cbi8qKlxuICogU2tpcHMgdGhlIGhlbGxvIG1lc3NhZ2Ugb2YgcmVuZGVyZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBpcyBydW4uXG4gKlxuICogQGZ1bmN0aW9uIHNraXBIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xuZnVuY3Rpb24gc2tpcEhlbGxvKClcbntcbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG4vKipcbiAqIExvZ3Mgb3V0IHRoZSB2ZXJzaW9uIGFuZCByZW5kZXJlciBpbmZvcm1hdGlvbiBmb3IgdGhpcyBydW5uaW5nIGluc3RhbmNlIG9mIFBJWEkuXG4gKiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZWUgdGhpcyBtZXNzYWdlIHlvdSBjYW4gcnVuIGBQSVhJLnV0aWxzLnNraXBIZWxsbygpYCBiZWZvcmVcbiAqIGNyZWF0aW5nIHlvdXIgcmVuZGVyZXIuIEtlZXAgaW4gbWluZCB0aGF0IGRvaW5nIHRoYXQgd2lsbCBmb3JldmVyIG1ha2UgeW91IGEgamVyayBmYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBzYXlIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHN0cmluZyByZW5kZXJlciB0eXBlIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSlcbntcbiAgICBpZiAoc2FpZEhlbGxvKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSlcbiAgICB7XG4gICAgICAgIHZhciBhcmdzID0gW1xuICAgICAgICAgICAgKFwiXFxuICVjICVjICVjIFBpeGlKUyBcIiArIFZFUlNJT04gKyBcIiAtIOKcsCBcIiArIHR5cGUgKyBcIiDinLAgICVjICAlYyAgaHR0cDovL3d3dy5waXhpanMuY29tLyAgJWMgJWMg4pmlJWPimaUlY+KZpSBcXG5cXG5cIiksXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmNjZhNTsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmZjM2RjOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnIF07XG5cbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICAgIH1cbiAgICBlbHNlIGlmICh3aW5kb3cuY29uc29sZSlcbiAgICB7XG4gICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygoXCJQaXhpSlMgXCIgKyBWRVJTSU9OICsgXCIgLSBcIiArIHR5cGUgKyBcIiAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9cIikpO1xuICAgIH1cblxuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbnZhciBzdXBwb3J0ZWQ7XG5cbi8qKlxuICogSGVscGVyIGZvciBjaGVja2luZyBmb3IgV2ViR0wgc3VwcG9ydC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElzIFdlYkdMIHN1cHBvcnRlZC5cbiAqL1xuZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZCgpXG57XG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0ZWQgPT09ICd1bmRlZmluZWQnKVxuICAgIHtcbiAgICAgICAgc3VwcG9ydGVkID0gKGZ1bmN0aW9uIHN1cHBvcnRlZCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBzdGVuY2lsOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IHNldHRpbmdzLkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFULFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdHJ5XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBjb250ZXh0T3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGNvbnRleHRPcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzID0gISEoZ2wgJiYgZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsKTtcblxuICAgICAgICAgICAgICAgIGlmIChnbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb3NlQ29udGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvc2VDb250ZXh0KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ2wgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlciB0byBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgKG51bWJlcnMgZnJvbSAwLjAgdG8gMS4wKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgycmdiKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBbMSwgMSwgMV1cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIFRoZSBoZXhhZGVjaW1hbCBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtICB7bnVtYmVyW119IFtvdXQ9W11dIElmIHN1cHBsaWVkLCB0aGlzIGFycmF5IHdpbGwgYmUgdXNlZCByYXRoZXIgdGhhbiByZXR1cm5pbmcgYSBuZXcgb25lXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gQW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBbUiwgRywgQl0gb2YgdGhlIGNvbG9yIHdoZXJlIGFsbCB2YWx1ZXMgYXJlIGZsb2F0cy5cbiAqL1xuZnVuY3Rpb24gaGV4MnJnYihoZXgsIG91dClcbntcbiAgICBvdXQgPSBvdXQgfHwgW107XG5cbiAgICBvdXRbMF0gPSAoKGhleCA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMV0gPSAoKGhleCA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsyXSA9IChoZXggJiAweEZGKSAvIDI1NTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIgdG8gYSBzdHJpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmZmZmZik7IC8vIHJldHVybnMgXCIjZmZmZmZmXCJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIE51bWJlciBpbiBoZXggKGUuZy4sIGAweGZmZmZmZmApXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApLlxuICovXG5mdW5jdGlvbiBoZXgyc3RyaW5nKGhleClcbntcbiAgICBoZXggPSBoZXgudG9TdHJpbmcoMTYpO1xuICAgIGhleCA9ICcwMDAwMDAnLnN1YnN0cigwLCA2IC0gaGV4Lmxlbmd0aCkgKyBoZXg7XG5cbiAgICByZXR1cm4gKFwiI1wiICsgaGV4KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIHN0cmluZyB0byBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5zdHJpbmcyaGV4KFwiI2ZmZmZmZlwiKTsgLy8gcmV0dXJucyAweGZmZmZmZlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzdHJpbmcyaGV4XG4gKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyBjb2xvciAoZS5nLiwgYFwiI2ZmZmZmZlwiYClcbiAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIGluIGhleGFkZWNpbWFsLlxuICovXG5mdW5jdGlvbiBzdHJpbmcyaGV4KHN0cmluZylcbntcbiAgICBpZiAodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycgJiYgc3RyaW5nWzBdID09PSAnIycpXG4gICAge1xuICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyKDEpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZUludChzdHJpbmcsIDE2KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheSBvZiBub3JtYWxpemVkIGZsb2F0cyB0byBhIGhleGFkZWNpbWFsIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5yZ2IyaGV4KFsxLCAxLCAxXSk7IC8vIHJldHVybnMgMHhmZmZmZmZcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcmdiMmhleFxuICogQHBhcmFtIHtudW1iZXJbXX0gcmdiIC0gQXJyYXkgb2YgbnVtYmVycyB3aGVyZSBhbGwgdmFsdWVzIGFyZSBub3JtYWxpemVkIGZsb2F0cyBmcm9tIDAuMCB0byAxLjAuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBpbiBoZXhhZGVjaW1hbC5cbiAqL1xuZnVuY3Rpb24gcmdiMmhleChyZ2IpXG57XG4gICAgcmV0dXJuICgoKHJnYlswXSAqIDI1NSkgPDwgMTYpICsgKChyZ2JbMV0gKiAyNTUpIDw8IDgpICsgKHJnYlsyXSAqIDI1NSB8IDApKTtcbn1cblxuLyoqXG4gKiBDb3JyZWN0cyBQaXhpSlMgYmxlbmQsIHRha2VzIHByZW11bHRpcGxpZWQgYWxwaGEgaW50byBhY2NvdW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyW10+fSBbYXJyYXldIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyW10+fSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKClcbntcbiAgICB2YXIgcG0gPSBbXTtcbiAgICB2YXIgbnBtID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMyOyBpKyspXG4gICAge1xuICAgICAgICBwbVtpXSA9IGk7XG4gICAgICAgIG5wbVtpXSA9IGk7XG4gICAgfVxuXG4gICAgcG1bQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgcG1bQkxFTkRfTU9ERVMuQUREX05QTV0gPSBCTEVORF9NT0RFUy5BREQ7XG4gICAgcG1bQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBCTEVORF9NT0RFUy5TQ1JFRU47XG5cbiAgICBucG1bQkxFTkRfTU9ERVMuTk9STUFMXSA9IEJMRU5EX01PREVTLk5PUk1BTF9OUE07XG4gICAgbnBtW0JMRU5EX01PREVTLkFERF0gPSBCTEVORF9NT0RFUy5BRERfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcblxuICAgIHZhciBhcnJheSA9IFtdO1xuXG4gICAgYXJyYXkucHVzaChucG0pO1xuICAgIGFycmF5LnB1c2gocG0pO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIG1hcHMgcHJlbXVsdGlwbHkgZmxhZyBhbmQgYmxlbmRNb2RlIHRvIGFkanVzdGVkIGJsZW5kTW9kZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBjb25zdCBwcmVtdWx0aXBseUJsZW5kTW9kZVxuICogQHR5cGUge0FycmF5PG51bWJlcltdPn1cbiAqL1xudmFyIHByZW11bHRpcGx5QmxlbmRNb2RlID0gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKTtcblxuLyoqXG4gKiBjaGFuZ2VzIGJsZW5kTW9kZSBhY2NvcmRpbmcgdG8gdGV4dHVyZSBmb3JtYXRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgc3VwcG9zZWQgYmxlbmQgbW9kZVxuICogQHBhcmFtIHtib29sZWFufSBwcmVtdWx0aXBsaWVkICB3aGV0aGVyIHNvdXJjZSBpcyBwcmVtdWx0aXBsaWVkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0cnVlIGJsZW5kIG1vZGUgZm9yIHRoaXMgdGV4dHVyZVxuICovXG5mdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlKGJsZW5kTW9kZSwgcHJlbXVsdGlwbGllZClcbntcbiAgICByZXR1cm4gcHJlbXVsdGlwbHlCbGVuZE1vZGVbcHJlbXVsdGlwbGllZCA/IDEgOiAwXVtibGVuZE1vZGVdO1xufVxuXG4vKipcbiAqIGNvbWJpbmVzIHJnYiBhbmQgYWxwaGEgdG8gb3V0IGFycmF5XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVJnYmFcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSByZ2IgaW5wdXQgcmdiXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhKHJnYiwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpXG57XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdICogYWxwaGE7XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXSAqIGFscGhhO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF07XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogcHJlbXVsdGlwbGllcyB0aW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IGludGVnZXIgUkdCXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgZmxvYXRpbmcgcG9pbnQgYWxwaGEgKDAuMC0xLjApXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aW50IG11bHRpcGxpZWQgYnkgYWxwaGFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50KHRpbnQsIGFscGhhKVxue1xuICAgIGlmIChhbHBoYSA9PT0gMS4wKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyB0aW50O1xuICAgIH1cbiAgICBpZiAoYWxwaGEgPT09IDAuMClcbiAgICB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgUiA9ICgodGludCA+PiAxNikgJiAweEZGKTtcbiAgICB2YXIgRyA9ICgodGludCA+PiA4KSAmIDB4RkYpO1xuICAgIHZhciBCID0gKHRpbnQgJiAweEZGKTtcblxuICAgIFIgPSAoKFIgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICBHID0gKChHICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgQiA9ICgoQiAqIGFscGhhKSArIDAuNSkgfCAwO1xuXG4gICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyAoUiA8PCAxNikgKyAoRyA8PCA4KSArIEI7XG59XG5cbi8qKlxuICogY29udmVydHMgaW50ZWdlciB0aW50IGFuZCBmbG9hdCBhbHBoYSB0byB2ZWM0IGZvcm0sIHByZW11bHRpcGxpZXMgYnkgZGVmYXVsdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhXG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnB1dCB0aW50XG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRpbnQsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KVxue1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIG91dFswXSA9ICgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsxXSA9ICgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzJdID0gKHRpbnQgJiAweEZGKSAvIDI1NS4wO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0WzBdICo9IGFscGhhO1xuICAgICAgICBvdXRbMV0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsyXSAqPSBhbHBoYTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBxdWFkc1xuICogQHBhcmFtIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gW291dEJ1ZmZlcl0gLSBCdWZmZXIgZm9yIG91dHB1dCwgbGVuZ3RoIGhhcyB0byBiZSBgNiAqIHNpemVgXG4gKiBAcmV0dXJuIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gLSBSZXN1bHRpbmcgaW5kZXggYnVmZmVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplLCBvdXRCdWZmZXIpXG57XG4gICAgaWYgKCBvdXRCdWZmZXIgPT09IHZvaWQgMCApIG91dEJ1ZmZlciA9IG51bGw7XG5cbiAgICAvLyB0aGUgdG90YWwgbnVtYmVyIG9mIGluZGljZXMgaW4gb3VyIGFycmF5LCB0aGVyZSBhcmUgNiBwb2ludHMgcGVyIHF1YWQuXG4gICAgdmFyIHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuXG4gICAgb3V0QnVmZmVyID0gb3V0QnVmZmVyIHx8IG5ldyBVaW50MTZBcnJheSh0b3RhbEluZGljZXMpO1xuXG4gICAgaWYgKG91dEJ1ZmZlci5sZW5ndGggIT09IHRvdGFsSW5kaWNlcylcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJPdXQgYnVmZmVyIGxlbmd0aCBpcyBpbmNvcnJlY3QsIGdvdCBcIiArIChvdXRCdWZmZXIubGVuZ3RoKSArIFwiIGFuZCBleHBlY3RlZCBcIiArIHRvdGFsSW5kaWNlcykpO1xuICAgIH1cblxuICAgIC8vIGZpbGwgdGhlIGluZGljZXMgd2l0aCB0aGUgcXVhZHMgdG8gZHJhd1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpXG4gICAge1xuICAgICAgICBvdXRCdWZmZXJbaSArIDBdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMV0gPSBqICsgMTtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAyXSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDNdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgNF0gPSBqICsgMjtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA1XSA9IGogKyAzO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRCdWZmZXI7XG59XG5cbi8qKlxuICogUmVtb3ZlIGl0ZW1zIGZyb20gYSBqYXZhc2NyaXB0IGFycmF5IHdpdGhvdXQgZ2VuZXJhdGluZyBnYXJiYWdlXG4gKlxuICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1zXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgQXJyYXkgdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb21cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydElkeCBzdGFydGluZyBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IHJlbW92ZUNvdW50IGhvdyBtYW55IHRvIHJlbW92ZVxuICovXG5mdW5jdGlvbiByZW1vdmVJdGVtcyhhcnIsIHN0YXJ0SWR4LCByZW1vdmVDb3VudClcbntcbiAgICB2YXIgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICB2YXIgaTtcblxuICAgIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVtb3ZlQ291bnQgPSAoc3RhcnRJZHggKyByZW1vdmVDb3VudCA+IGxlbmd0aCA/IGxlbmd0aCAtIHN0YXJ0SWR4IDogcmVtb3ZlQ291bnQpO1xuXG4gICAgdmFyIGxlbiA9IGxlbmd0aCAtIHJlbW92ZUNvdW50O1xuXG4gICAgZm9yIChpID0gc3RhcnRJZHg7IGkgPCBsZW47ICsraSlcbiAgICB7XG4gICAgICAgIGFycltpXSA9IGFycltpICsgcmVtb3ZlQ291bnRdO1xuICAgIH1cblxuICAgIGFyci5sZW5ndGggPSBsZW47XG59XG5cbnZhciBuZXh0VWlkID0gMDtcblxuLyoqXG4gKiBHZXRzIHRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB1aWRcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXIgdG8gdXNlLlxuICovXG5mdW5jdGlvbiB1aWQoKVxue1xuICAgIHJldHVybiArK25leHRVaWQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBzaWduIG9mIG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc2lnblxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSB0aGUgbnVtYmVyIHRvIGNoZWNrIHRoZSBzaWduIG9mXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIGBuYCBpcyAwLCAtMSBpZiBgbmAgaXMgbmVnYXRpdmUsIDEgaWYgYG5gIGlzIHBvc2l0aXZlXG4gKi9cbmZ1bmN0aW9uIHNpZ24obilcbntcbiAgICBpZiAobiA9PT0gMCkgeyByZXR1cm4gMDsgfVxuXG4gICAgcmV0dXJuIG4gPCAwID8gLTEgOiAxO1xufVxuXG4vLyBUYWtlbiBmcm9tIHRoZSBiaXQtdHdpZGRsZSBwYWNrYWdlXG5cbi8qKlxuICogUm91bmRzIHRvIG5leHQgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBuZXh0UG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG5leHRQb3cyKHYpXG57XG4gICAgdiArPSB2ID09PSAwO1xuICAgIC0tdjtcbiAgICB2IHw9IHYgPj4+IDE7XG4gICAgdiB8PSB2ID4+PiAyO1xuICAgIHYgfD0gdiA+Pj4gNDtcbiAgICB2IHw9IHYgPj4+IDg7XG4gICAgdiB8PSB2ID4+PiAxNjtcblxuICAgIHJldHVybiB2ICsgMTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBudW1iZXIgaXMgYSBwb3dlciBvZiB0d28uXG4gKlxuICogQGZ1bmN0aW9uIGlzUG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdmFsdWUgaXMgcG93ZXIgb2YgdHdvXG4gKi9cbmZ1bmN0aW9uIGlzUG93Mih2KVxue1xuICAgIHJldHVybiAhKHYgJiAodiAtIDEpKSAmJiAoISF2KTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBjZWlsIG9mIGxvZyBiYXNlIDJcbiAqXG4gKiBAZnVuY3Rpb24gbG9nMlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGxvZ2FyaXRobSBiYXNlIDJcbiAqL1xuZnVuY3Rpb24gbG9nMih2KVxue1xuICAgIHZhciByID0gKHYgPiAweEZGRkYpIDw8IDQ7XG5cbiAgICB2ID4+Pj0gcjtcblxuICAgIHZhciBzaGlmdCA9ICh2ID4gMHhGRikgPDwgMztcblxuICAgIHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHhGKSA8PCAyO1xuICAgIHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHgzKSA8PCAxO1xuICAgIHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcblxuICAgIHJldHVybiByIHwgKHYgPj4gMSk7XG59XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBQcm9ncmFtQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgUHJvZ3JhbUNhY2hlID0ge307XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUZXh0dXJlQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEJhc2VUZXh0dXJlQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5cbnZhciBCYXNlVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKlxuICogRGVzdHJveXMgYWxsIHRleHR1cmUgaW4gdGhlIGNhY2hlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlXG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGUoKVxue1xuICAgIHZhciBrZXk7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCB0ZXh0dXJlcyBmcm9tIGNhY2hlLCBidXQgZG9lcyBub3QgZGVzdHJveSB0aGVtXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZSgpXG57XG4gICAgdmFyIGtleTtcblxuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxufVxuXG4vKipcbiAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVycyBmcm9tIGEgY2FudmFzXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB0cmltQ2FudmFzXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY2FudmFzIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtvYmplY3R9IFRyaW0gZGF0YVxuICovXG5mdW5jdGlvbiB0cmltQ2FudmFzKGNhbnZhcylcbntcbiAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9yZW15Lzc4NDUwOFxuXG4gICAgdmFyIHdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgdmFyIHBpeGVscyA9IGltYWdlRGF0YS5kYXRhO1xuICAgIHZhciBsZW4gPSBwaXhlbHMubGVuZ3RoO1xuXG4gICAgdmFyIGJvdW5kID0ge1xuICAgICAgICB0b3A6IG51bGwsXG4gICAgICAgIGxlZnQ6IG51bGwsXG4gICAgICAgIHJpZ2h0OiBudWxsLFxuICAgICAgICBib3R0b206IG51bGwsXG4gICAgfTtcbiAgICB2YXIgZGF0YSA9IG51bGw7XG4gICAgdmFyIGk7XG4gICAgdmFyIHg7XG4gICAgdmFyIHk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpXG4gICAge1xuICAgICAgICBpZiAocGl4ZWxzW2kgKyAzXSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgeCA9IChpIC8gNCkgJSB3aWR0aDtcbiAgICAgICAgICAgIHkgPSB+figoaSAvIDQpIC8gd2lkdGgpO1xuXG4gICAgICAgICAgICBpZiAoYm91bmQudG9wID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLnRvcCA9IHk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5sZWZ0ID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeCA8IGJvdW5kLmxlZnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5yaWdodCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYm91bmQucmlnaHQgPCB4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5ib3R0b20gPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLmJvdHRvbSA8IHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChib3VuZC50b3AgIT09IG51bGwpXG4gICAge1xuICAgICAgICB3aWR0aCA9IGJvdW5kLnJpZ2h0IC0gYm91bmQubGVmdDtcbiAgICAgICAgaGVpZ2h0ID0gYm91bmQuYm90dG9tIC0gYm91bmQudG9wICsgMTtcbiAgICAgICAgZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGJvdW5kLmxlZnQsIGJvdW5kLnRvcCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCBvZiB0aGUgZ2l2ZW4gc2l6ZSB0byBiZSB1c2VkIGFzIGEgdGFyZ2V0IGZvciByZW5kZXJpbmcgdG8uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICovXG52YXIgQ2FudmFzUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pXG57XG4gICAgLyoqXG4gICAgICogVGhlIENhbnZhcyBvYmplY3QgdGhhdCBiZWxvbmdzIHRvIHRoaXMgQ2FudmFzUmVuZGVyVGFyZ2V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEEgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIG9iamVjdCByZXByZXNlbnRpbmcgYSB0d28tZGltZW5zaW9uYWwgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogQ2xlYXJzIHRoZSBjYW52YXMgdGhhdCB3YXMgY3JlYXRlZCBieSB0aGUgQ2FudmFzUmVuZGVyVGFyZ2V0IGNsYXNzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkNhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKVxue1xuICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbn07XG5cbi8qKlxuICogUmVzaXplcyB0aGUgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSBjYW52YXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gKi9cbkNhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICh3aWR0aCwgaGVpZ2h0KVxue1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGlzIGNhbnZhcy5cbiAqXG4gKi9cbkNhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbn07XG5cbi8qKlxuICogVGhlIHdpZHRoIG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5zZXQgPSBmdW5jdGlvbiAodmFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHZhbDtcbn07XG5cbi8qKlxuICogVGhlIGhlaWdodCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuc2V0ID0gZnVuY3Rpb24gKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmFsO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4vKipcbiAqIFJlZ2V4cCBmb3IgZGF0YSBVUkkuXG4gKiBCYXNlZCBvbjoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9yYWdpbmd3aW5kL2RhdGEtdXJpLXJlZ2V4fVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gREFUQV9VUklcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXhhbXBsZSBkYXRhOmltYWdlL3BuZztiYXNlNjRcbiAqL1xudmFyIERBVEFfVVJJID0gL15cXHMqZGF0YTooPzooW1xcdy1dKylcXC8oW1xcdysuLV0rKSk/KD86O2NoYXJzZXQ9KFtcXHctXSspKT8oPzo7KGJhc2U2NCkpPywoLiopL2k7XG5cbi8qKlxuICogVHlwZWRlZiBmb3IgZGVjb21wb3NlRGF0YVVyaSByZXR1cm4gb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBEZWNvbXBvc2VkRGF0YVVyaVxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lZGlhVHlwZSBNZWRpYSB0eXBlLCBlZy4gYGltYWdlYFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN1YlR5cGUgU3ViIHR5cGUsIGVnLiBgcG5nYFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVuY29kaW5nIERhdGEgZW5jb2RpbmcsIGVnLiBgYmFzZTY0YFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRhdGEgVGhlIGFjdHVhbCBkYXRhXG4gKi9cblxuLyoqXG4gKiBTcGxpdCBhIGRhdGEgVVJJIGludG8gY29tcG9uZW50cy4gUmV0dXJucyB1bmRlZmluZWQgaWZcbiAqIHBhcmFtZXRlciBgZGF0YVVyaWAgaXMgbm90IGEgdmFsaWQgZGF0YSBVUkkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIHRoZSBkYXRhIFVSSSB0byBjaGVja1xuICogQHJldHVybiB7UElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaXx1bmRlZmluZWR9IFRoZSBkZWNvbXBvc2VkIGRhdGEgdXJpIG9yIHVuZGVmaW5lZFxuICovXG5mdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpKGRhdGFVcmkpXG57XG4gICAgdmFyIGRhdGFVcmlNYXRjaCA9IERBVEFfVVJJLmV4ZWMoZGF0YVVyaSk7XG5cbiAgICBpZiAoZGF0YVVyaU1hdGNoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZTogZGF0YVVyaU1hdGNoWzFdID8gZGF0YVVyaU1hdGNoWzFdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdWJUeXBlOiBkYXRhVXJpTWF0Y2hbMl0gPyBkYXRhVXJpTWF0Y2hbMl0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoYXJzZXQ6IGRhdGFVcmlNYXRjaFszXSA/IGRhdGFVcmlNYXRjaFszXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IGRhdGFVcmlNYXRjaFs0XSA/IGRhdGFVcmlNYXRjaFs0XS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogZGF0YVVyaU1hdGNoWzVdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbnZhciB0ZW1wQW5jaG9yO1xuXG4vKipcbiAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gKiBOaXBwZWQgZnJvbSB0aGUgcmVzb3VyY2UgbG9hZGVyIVxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKVxue1xuICAgIGlmICggbG9jID09PSB2b2lkIDAgKSBsb2MgPSB3aW5kb3cubG9jYXRpb247XG5cbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICBpZiAoIXRlbXBBbmNob3IpXG4gICAge1xuICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIH1cblxuICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgIHVybCA9IF91cmwucGFyc2UodGVtcEFuY2hvci5ocmVmKTtcblxuICAgIHZhciBzYW1lUG9ydCA9ICghdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnKSB8fCAodXJsLnBvcnQgPT09IGxvYy5wb3J0KTtcblxuICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgIGlmICh1cmwuaG9zdG5hbWUgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgdXJsLnByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpXG4gICAge1xuICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldCBieSBsb29raW5nIGZvciB0aGUgcHJlZml4XG4gKiB1c2VkIGJ5IHNwcml0ZXNoZWV0cyBhbmQgaW1hZ2UgdXJsc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gdGhlIGltYWdlIHBhdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlPTFdIC0gdGhlIGRlZmF1bHRWYWx1ZSBpZiBubyBmaWxlbmFtZSBwcmVmaXggaXMgc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0XG4gKi9cbmZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybCh1cmwsIGRlZmF1bHRWYWx1ZSlcbntcbiAgICB2YXIgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFVElOQV9QUkVGSVguZXhlYyh1cmwpO1xuXG4gICAgaWYgKHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChyZXNvbHV0aW9uWzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiAxO1xufVxuXG4vLyBBIG1hcCBvZiB3YXJuaW5nIG1lc3NhZ2VzIGFscmVhZHkgZmlyZWRcbnZhciB3YXJuaW5ncyA9IHt9O1xuXG4vKipcbiAqIEhlbHBlciBmb3Igd2FybmluZyBkZXZlbG9wZXJzIGFib3V0IGRlcHJlY2F0ZWQgZmVhdHVyZXMgJiBzZXR0aW5ncy5cbiAqIEEgc3RhY2sgdHJhY2sgZm9yIHdhcm5pbmdzIGlzIGdpdmVuOyB1c2VmdWwgZm9yIHRyYWNraW5nLWRvd24gd2hlcmVcbiAqIGRlcHJlY2F0ZWQgbWV0aG9kcy9wcm9wZXJ0aWVzL2NsYXNzZXMgYXJlIGJlaW5nIHVzZWQgd2l0aGluIHRoZSBjb2RlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVwcmVjYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uIC0gVGhlIHZlcnNpb24gd2hlcmUgdGhlIGZlYXR1cmUgYmVjYW1lIGRlcHJlY2F0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gTWVzc2FnZSBzaG91bGQgaW5jbHVkZSB3aGF0IGlzIGRlcHJlY2F0ZWQsIHdoZXJlLCBhbmQgdGhlIG5ldyBzb2x1dGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtpZ25vcmVEZXB0aD0zXSAtIFRoZSBudW1iZXIgb2Ygc3RlcHMgdG8gaWdub3JlIGF0IHRoZSB0b3Agb2YgdGhlIGVycm9yIHN0YWNrXG4gKiAgICAgICAgdGhpcyBpcyBtb3N0bHkgdG8gaWdub3JlIGludGVybmFsIGRlcHJlY2F0aW9uIGNhbGxzLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGlvbih2ZXJzaW9uLCBtZXNzYWdlLCBpZ25vcmVEZXB0aClcbntcbiAgICBpZiAoIGlnbm9yZURlcHRoID09PSB2b2lkIDAgKSBpZ25vcmVEZXB0aCA9IDM7XG5cbiAgICAvLyBJZ25vcmUgZHVwbGljYXRcbiAgICBpZiAod2FybmluZ3NbbWVzc2FnZV0pXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgIHZhciBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuXG4gICAgLy8gSGFuZGxlIElFIDwgMTAgYW5kIFNhZmFyaSA8IDZcbiAgICBpZiAodHlwZW9mIHN0YWNrID09PSAndW5kZWZpbmVkJylcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIChtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gY2hvcCBvZmYgdGhlIHN0YWNrIHRyYWNlIHdoaWNoIGluY2x1ZGVzIFBpeGlKUyBpbnRlcm5hbCBjYWxsc1xuICAgICAgICBzdGFjayA9IHN0YWNrLnNwbGl0KCdcXG4nKS5zcGxpY2UoaWdub3JlRGVwdGgpLmpvaW4oJ1xcbicpO1xuXG4gICAgICAgIGlmIChjb25zb2xlLmdyb3VwQ29sbGFwc2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFxuICAgICAgICAgICAgICAgICclY1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAlYyVzJyxcbiAgICAgICAgICAgICAgICAnY29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLFxuICAgICAgICAgICAgICAgICdmb250LXdlaWdodDpub3JtYWw7Y29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLFxuICAgICAgICAgICAgICAgIChtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIChtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cbiAgICB3YXJuaW5nc1ttZXNzYWdlXSA9IHRydWU7XG59XG5cbi8qKlxuICogR2VuZXJhbGl6ZWQgY29udmVuaWVuY2UgdXRpbGl0aWVzIGZvciBQSVhJLlxuICogQGV4YW1wbGVcbiAqIC8vIEV4dGVuZCBQSVhJJ3MgaW50ZXJuYWwgRXZlbnQgRW1pdHRlci5cbiAqIGNsYXNzIE15RW1pdHRlciBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyIHtcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgIHN1cGVyKCk7XG4gKiAgICAgIGNvbnNvbGUubG9nKFwiRW1pdHRlciBjcmVhdGVkIVwiKTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIEdldCBpbmZvIG9uIGN1cnJlbnQgZGV2aWNlXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmlzTW9iaWxlKTtcbiAqXG4gKiAvLyBDb252ZXJ0IGhleCBjb2xvciB0byBzdHJpbmdcbiAqIGNvbnNvbGUubG9nKFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmMDBmZikpOyAvLyByZXR1cm5zOiBcIiNmZjAwZmZcIlxuICogQG5hbWVzcGFjZSBQSVhJLnV0aWxzXG4gKi9cblxuZXhwb3J0IHsgQmFzZVRleHR1cmVDYWNoZSwgQ2FudmFzUmVuZGVyVGFyZ2V0LCBEQVRBX1VSSSwgUHJvZ3JhbUNhY2hlLCBUZXh0dXJlQ2FjaGUsIGNsZWFyVGV4dHVyZUNhY2hlLCBjb3JyZWN0QmxlbmRNb2RlLCBjcmVhdGVJbmRpY2VzRm9yUXVhZHMsIGRlY29tcG9zZURhdGFVcmksIGRlcHJlY2F0aW9uLCBkZXN0cm95VGV4dHVyZUNhY2hlLCBkZXRlcm1pbmVDcm9zc09yaWdpbiwgZ2V0UmVzb2x1dGlvbk9mVXJsLCBoZXgycmdiLCBoZXgyc3RyaW5nLCBpc1BvdzIsIGlzV2ViR0xTdXBwb3J0ZWQsIGxvZzIsIG5leHRQb3cyLCBwcmVtdWx0aXBseUJsZW5kTW9kZSwgcHJlbXVsdGlwbHlSZ2JhLCBwcmVtdWx0aXBseVRpbnQsIHByZW11bHRpcGx5VGludFRvUmdiYSwgcmVtb3ZlSXRlbXMsIHJnYjJoZXgsIHNheUhlbGxvLCBzaWduLCBza2lwSGVsbG8sIHN0cmluZzJoZXgsIHRyaW1DYW52YXMsIHVpZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21hdGggLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvbWF0aCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tbW9uIGludGVyZmFjZSBmb3IgcG9pbnRzLiBCb3RoIFBvaW50IGFuZCBPYnNlcnZhYmxlUG9pbnQgaW1wbGVtZW50IGl0XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGludGVyZmFjZSBJUG9pbnRcbiAqL1xuLyoqXG4gKiBYIGNvb3JkXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnQjXG4gKiBAbWVtYmVyIHtudW1iZXJ9IHhcbiAqL1xuLyoqXG4gKiBZIGNvb3JkXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnQjXG4gKiBAbWVtYmVyIHtudW1iZXJ9IHlcbiAqL1xuLyoqXG4gKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAqXG4gKiBAbWV0aG9kIHNldFxuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbeT14XSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gKi9cbi8qKlxuICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAqIEBtZXRob2QgY29weUZyb21cbiAqIEBtZW1iZXJvZiBQSVhJLklQb2ludCNcbiAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tXG4gKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gKi9cbi8qKlxuICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAqIEBtZXRob2QgY29weVRvXG4gKiBAbWVtYmVyb2YgUElYSS5JUG9pbnQjXG4gKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAqXG4gKiBAbWV0aG9kIGVxdWFsc1xuICogQG1lbWJlcm9mIFBJWEkuSVBvaW50I1xuICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAqL1xuXG4vKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBJUG9pbnRcbiAqL1xudmFyIFBvaW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb2ludCh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5IGZyb21cbiAgICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmNvcHlGcm9tID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgdGhpcy5zZXQocC54LCBwLnkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGludG8gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gICAgICogQHJldHVybnMge1BJWEkuSVBvaW50fSBHaXZlbiBwb2ludCB3aXRoIHZhbHVlcyB1cGRhdGVkXG4gICAgICovXG4gICAgUG9pbnQucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHAuc2V0KHRoaXMueCwgdGhpcy55KTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gcG9pbnQgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy54KSAmJiAocC55ID09PSB0aGlzLnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9eF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIFBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IHg7IH1cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9O1xuICAgIHJldHVybiBQb2ludDtcbn0oKSk7XG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICpcbiAqIEFuIE9ic2VydmFibGVQb2ludCBpcyBhIHBvaW50IHRoYXQgdHJpZ2dlcnMgYSBjYWxsYmFjayB3aGVuIHRoZSBwb2ludCdzIHBvc2l0aW9uIGlzIGNoYW5nZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgSVBvaW50XG4gKi9cbnZhciBPYnNlcnZhYmxlUG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgLSBjYWxsYmFjayB3aGVuIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc2NvcGUgLSBvd25lciBvZiBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlUG9pbnQoY2IsIHNjb3BlLCB4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgIHRoaXMuY2IgPSBjYjtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludC5cbiAgICAgKiBUaGUgY2FsbGJhY2sgYW5kIHNjb3BlIHBhcmFtcyBjYW4gYmUgb3ZlcmlkZGVuIG90aGVyd2lzZSB0aGV5IHdpbGwgZGVmYXVsdFxuICAgICAqIHRvIHRoZSBjbG9uZSBvYmplY3QncyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2I9bnVsbF0gLSBjYWxsYmFjayB3aGVuIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3Njb3BlPW51bGxdIC0gb3duZXIgb2YgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk9ic2VydmFibGVQb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoY2IsIHNjb3BlKSB7XG4gICAgICAgIGlmIChjYiA9PT0gdm9pZCAwKSB7IGNiID0gdGhpcy5jYjsgfVxuICAgICAgICBpZiAoc2NvcGUgPT09IHZvaWQgMCkgeyBzY29wZSA9IHRoaXMuc2NvcGU7IH1cbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUG9pbnQoY2IsIHNjb3BlLCB0aGlzLl94LCB0aGlzLl95KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PXhdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0geDsgfVxuICAgICAgICBpZiAodGhpcy5feCAhPT0geCB8fCB0aGlzLl95ICE9PSB5KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybnMge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAocCkge1xuICAgICAgICBpZiAodGhpcy5feCAhPT0gcC54IHx8IHRoaXMuX3kgIT09IHAueSkge1xuICAgICAgICAgICAgdGhpcy5feCA9IHAueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSBwLnk7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBpbnRvIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gR2l2ZW4gcG9pbnQgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICAgICAqL1xuICAgIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcC5zZXQodGhpcy5feCwgdGhpcy5feSk7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiAocC54ID09PSB0aGlzLl94KSAmJiAocC55ID09PSB0aGlzLl95KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLCBcInhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5feCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl94ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZSwgXCJ5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3kgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE9ic2VydmFibGVQb2ludDtcbn0oKSk7XG5cbi8qKlxuICogVHdvIFBpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7bnVtYmVyfSBQSV8yXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUElfMiA9IE1hdGguUEkgKiAyO1xuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtudW1iZXJ9IFJBRF9UT19ERUdcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSQURfVE9fREVHID0gMTgwIC8gTWF0aC5QSTtcbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgZGVncmVlcyB0byByYWRpYW5zLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7bnVtYmVyfSBERUdfVE9fUkFEXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgREVHX1RPX1JBRCA9IE1hdGguUEkgLyAxODA7XG52YXIgU0hBUEVTO1xuKGZ1bmN0aW9uIChTSEFQRVMpIHtcbiAgICBTSEFQRVNbU0hBUEVTW1wiUE9MWVwiXSA9IDBdID0gXCJQT0xZXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIlJFQ1RcIl0gPSAxXSA9IFwiUkVDVFwiO1xuICAgIFNIQVBFU1tTSEFQRVNbXCJDSVJDXCJdID0gMl0gPSBcIkNJUkNcIjtcbiAgICBTSEFQRVNbU0hBUEVTW1wiRUxJUFwiXSA9IDNdID0gXCJFTElQXCI7XG4gICAgU0hBUEVTW1NIQVBFU1tcIlJSRUNcIl0gPSA0XSA9IFwiUlJFQ1wiO1xufSkoU0hBUEVTIHx8IChTSEFQRVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBpZGVudGlmeSBzaGFwZXMsIG1haW5seSB0byBwcmV2ZW50IGBpbnN0YW5jZW9mYCBjYWxscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNIQVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtlbnVtfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPTFkgUG9seWdvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFQ1QgUmVjdGFuZ2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0lSQyBDaXJjbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFTElQIEVsbGlwc2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSUkVDIFJvdW5kZWQgUmVjdGFuZ2xlXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cbi8qKlxuICogVGhlIFBpeGlKUyBNYXRyaXggYXMgYSBjbGFzcyBtYWtlcyBpdCBhIGxvdCBmYXN0ZXIuXG4gKlxuICogSGVyZSBpcyBhIHJlcHJlc2VudGF0aW9uIG9mIGl0OlxuICogYGBganNcbiAqIHwgYSB8IGMgfCB0eHxcbiAqIHwgYiB8IGQgfCB0eXxcbiAqIHwgMCB8IDAgfCAxIHxcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWF0cml4ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYT0xXSAtIHggc2NhbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2I9MF0gLSB4IHNrZXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2M9MF0gLSB5IHNrZXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Q9MV0gLSB5IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eD0wXSAtIHggdHJhbnNsYXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3R5PTBdIC0geSB0cmFuc2xhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hdHJpeChhLCBiLCBjLCBkLCB0eCwgdHkpIHtcbiAgICAgICAgaWYgKGEgPT09IHZvaWQgMCkgeyBhID0gMTsgfVxuICAgICAgICBpZiAoYiA9PT0gdm9pZCAwKSB7IGIgPSAwOyB9XG4gICAgICAgIGlmIChjID09PSB2b2lkIDApIHsgYyA9IDA7IH1cbiAgICAgICAgaWYgKGQgPT09IHZvaWQgMCkgeyBkID0gMTsgfVxuICAgICAgICBpZiAodHggPT09IHZvaWQgMCkgeyB0eCA9IDA7IH1cbiAgICAgICAgaWYgKHR5ID09PSB2b2lkIDApIHsgdHkgPSAwOyB9XG4gICAgICAgIHRoaXMuYXJyYXkgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHkgPSB0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIE1hdHJpeCBvYmplY3QgYmFzZWQgb24gdGhlIGdpdmVuIGFycmF5LiBUaGUgRWxlbWVudCB0byBNYXRyaXggbWFwcGluZyBvcmRlciBpcyBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYSA9IGFycmF5WzBdXG4gICAgICogYiA9IGFycmF5WzFdXG4gICAgICogYyA9IGFycmF5WzNdXG4gICAgICogZCA9IGFycmF5WzRdXG4gICAgICogdHggPSBhcnJheVsyXVxuICAgICAqIHR5ID0gYXJyYXlbNV1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIGFycmF5IHRoYXQgdGhlIG1hdHJpeCB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuZnJvbUFycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIHRoaXMuYSA9IGFycmF5WzBdO1xuICAgICAgICB0aGlzLmIgPSBhcnJheVsxXTtcbiAgICAgICAgdGhpcy5jID0gYXJyYXlbM107XG4gICAgICAgIHRoaXMuZCA9IGFycmF5WzRdO1xuICAgICAgICB0aGlzLnR4ID0gYXJyYXlbMl07XG4gICAgICAgIHRoaXMudHkgPSBhcnJheVs1XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHNldHMgdGhlIG1hdHJpeCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYyAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgdHgsIHR5KSB7XG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgICAgIHRoaXMuYiA9IGI7XG4gICAgICAgIHRoaXMuYyA9IGM7XG4gICAgICAgIHRoaXMuZCA9IGQ7XG4gICAgICAgIHRoaXMudHggPSB0eDtcbiAgICAgICAgdGhpcy50eSA9IHR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZnJvbSB0aGUgY3VycmVudCBNYXRyaXggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB0cmFuc3Bvc2UgLSBXaGV0aGVyIHdlIG5lZWQgdG8gdHJhbnNwb3NlIHRoZSBtYXRyaXggb3Igbm90XG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9bmV3IEZsb2F0MzJBcnJheSg5KV0gLSBJZiBwcm92aWRlZCB0aGUgYXJyYXkgd2lsbCBiZSBhc3NpZ25lZCB0byBvdXRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJbXX0gdGhlIG5ld2x5IGNyZWF0ZWQgYXJyYXkgd2hpY2ggY29udGFpbnMgdGhlIG1hdHJpeFxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICh0cmFuc3Bvc2UsIG91dCkge1xuICAgICAgICBpZiAoIXRoaXMuYXJyYXkpIHtcbiAgICAgICAgICAgIHRoaXMuYXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KDkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuICAgICAgICBpZiAodHJhbnNwb3NlKSB7XG4gICAgICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGFycmF5WzFdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbMl0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbM10gPSB0aGlzLmM7XG4gICAgICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgICAgIGFycmF5WzVdID0gMDtcbiAgICAgICAgICAgIGFycmF5WzZdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzddID0gdGhpcy50eTtcbiAgICAgICAgICAgIGFycmF5WzhdID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmM7XG4gICAgICAgICAgICBhcnJheVsyXSA9IHRoaXMudHg7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYjtcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbNl0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbN10gPSAwO1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gcmVuZGVyaW5nKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCB0cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IFBvaW50KCk7XG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG4gICAgICAgIG5ld1Bvcy54ID0gKHRoaXMuYSAqIHgpICsgKHRoaXMuYyAqIHkpICsgdGhpcy50eDtcbiAgICAgICAgbmV3UG9zLnkgPSAodGhpcy5iICogeCkgKyAodGhpcy5kICogeSkgKyB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGludmVyc2Ugb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlIHRvIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiBpbnB1dClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zIC0gVGhlIG9yaWdpblxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgaW52ZXJzZS10cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5hcHBseUludmVyc2UgPSBmdW5jdGlvbiAocG9zLCBuZXdQb3MpIHtcbiAgICAgICAgbmV3UG9zID0gbmV3UG9zIHx8IG5ldyBQb2ludCgpO1xuICAgICAgICB2YXIgaWQgPSAxIC8gKCh0aGlzLmEgKiB0aGlzLmQpICsgKHRoaXMuYyAqIC10aGlzLmIpKTtcbiAgICAgICAgdmFyIHggPSBwb3MueDtcbiAgICAgICAgdmFyIHkgPSBwb3MueTtcbiAgICAgICAgbmV3UG9zLnggPSAodGhpcy5kICogaWQgKiB4KSArICgtdGhpcy5jICogaWQgKiB5KSArICgoKHRoaXMudHkgKiB0aGlzLmMpIC0gKHRoaXMudHggKiB0aGlzLmQpKSAqIGlkKTtcbiAgICAgICAgbmV3UG9zLnkgPSAodGhpcy5hICogaWQgKiB5KSArICgtdGhpcy5iICogaWQgKiB4KSArICgoKC10aGlzLnR5ICogdGhpcy5hKSArICh0aGlzLnR4ICogdGhpcy5iKSkgKiBpZCk7XG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBtYXRyaXggb24gdGhlIHggYW5kIHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeCBieVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IEhvdyBtdWNoIHRvIHRyYW5zbGF0ZSB5IGJ5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICB0aGlzLnR4ICs9IHg7XG4gICAgICAgIHRoaXMudHkgKz0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgc2NhbGUgdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBhbW91bnQgdG8gc2NhbGUgaG9yaXpvbnRhbGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIGFtb3VudCB0byBzY2FsZSB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMuYSAqPSB4O1xuICAgICAgICB0aGlzLmQgKj0geTtcbiAgICAgICAgdGhpcy5jICo9IHg7XG4gICAgICAgIHRoaXMuYiAqPSB5O1xuICAgICAgICB0aGlzLnR4ICo9IHg7XG4gICAgICAgIHRoaXMudHkgKj0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgcm90YXRpb24gdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSAtIFRoZSBhbmdsZSBpbiByYWRpYW5zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIHZhciBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgdGhpcy5hID0gKGExICogY29zKSAtICh0aGlzLmIgKiBzaW4pO1xuICAgICAgICB0aGlzLmIgPSAoYTEgKiBzaW4pICsgKHRoaXMuYiAqIGNvcyk7XG4gICAgICAgIHRoaXMuYyA9IChjMSAqIGNvcykgLSAodGhpcy5kICogc2luKTtcbiAgICAgICAgdGhpcy5kID0gKGMxICogc2luKSArICh0aGlzLmQgKiBjb3MpO1xuICAgICAgICB0aGlzLnR4ID0gKHR4MSAqIGNvcykgLSAodGhpcy50eSAqIHNpbik7XG4gICAgICAgIHRoaXMudHkgPSAodHgxICogc2luKSArICh0aGlzLnR5ICogY29zKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGFwcGVuZC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICB0aGlzLmEgPSAobWF0cml4LmEgKiBhMSkgKyAobWF0cml4LmIgKiBjMSk7XG4gICAgICAgIHRoaXMuYiA9IChtYXRyaXguYSAqIGIxKSArIChtYXRyaXguYiAqIGQxKTtcbiAgICAgICAgdGhpcy5jID0gKG1hdHJpeC5jICogYTEpICsgKG1hdHJpeC5kICogYzEpO1xuICAgICAgICB0aGlzLmQgPSAobWF0cml4LmMgKiBiMSkgKyAobWF0cml4LmQgKiBkMSk7XG4gICAgICAgIHRoaXMudHggPSAobWF0cml4LnR4ICogYTEpICsgKG1hdHJpeC50eSAqIGMxKSArIHRoaXMudHg7XG4gICAgICAgIHRoaXMudHkgPSAobWF0cml4LnR4ICogYjEpICsgKG1hdHJpeC50eSAqIGQxKSArIHRoaXMudHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWF0cml4IGJhc2VkIG9uIGFsbCB0aGUgYXZhaWxhYmxlIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gUG9zaXRpb24gb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gUG9zaXRpb24gb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFggLSBQaXZvdCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WSAtIFBpdm90IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYIC0gU2NhbGUgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkgLSBTY2FsZSBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gUm90YXRpb24gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WCAtIFNrZXcgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WSAtIFNrZXcgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gKHgsIHksIHBpdm90WCwgcGl2b3RZLCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSkge1xuICAgICAgICB0aGlzLmEgPSBNYXRoLmNvcyhyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5iID0gTWF0aC5zaW4ocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgICAgIHRoaXMuYyA9IC1NYXRoLnNpbihyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcbiAgICAgICAgdGhpcy5kID0gTWF0aC5jb3Mocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgICAgIHRoaXMudHggPSB4IC0gKChwaXZvdFggKiB0aGlzLmEpICsgKHBpdm90WSAqIHRoaXMuYykpO1xuICAgICAgICB0aGlzLnR5ID0geSAtICgocGl2b3RYICogdGhpcy5iKSArIChwaXZvdFkgKiB0aGlzLmQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBwcmVwZW5kXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgaWYgKG1hdHJpeC5hICE9PSAxIHx8IG1hdHJpeC5iICE9PSAwIHx8IG1hdHJpeC5jICE9PSAwIHx8IG1hdHJpeC5kICE9PSAxKSB7XG4gICAgICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgICAgICB0aGlzLmEgPSAoYTEgKiBtYXRyaXguYSkgKyAodGhpcy5iICogbWF0cml4LmMpO1xuICAgICAgICAgICAgdGhpcy5iID0gKGExICogbWF0cml4LmIpICsgKHRoaXMuYiAqIG1hdHJpeC5kKTtcbiAgICAgICAgICAgIHRoaXMuYyA9IChjMSAqIG1hdHJpeC5hKSArICh0aGlzLmQgKiBtYXRyaXguYyk7XG4gICAgICAgICAgICB0aGlzLmQgPSAoYzEgKiBtYXRyaXguYikgKyAodGhpcy5kICogbWF0cml4LmQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHggPSAodHgxICogbWF0cml4LmEpICsgKHRoaXMudHkgKiBtYXRyaXguYykgKyBtYXRyaXgudHg7XG4gICAgICAgIHRoaXMudHkgPSAodHgxICogbWF0cml4LmIpICsgKHRoaXMudHkgKiBtYXRyaXguZCkgKyBtYXRyaXgudHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyB0aGUgbWF0cml4ICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgYW5kIHJvdGF0aW9uKSBhbmQgc2V0cyB0aGUgcHJvcGVydGllcyBvbiB0byBhIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYXBwbHkgdGhlIHByb3BlcnRpZXMgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5UcmFuc2Zvcm19IFRoZSB0cmFuc2Zvcm0gd2l0aCB0aGUgbmV3bHkgYXBwbGllZCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5kZWNvbXBvc2UgPSBmdW5jdGlvbiAodHJhbnNmb3JtKSB7XG4gICAgICAgIC8vIHNvcnQgb3V0IHJvdGF0aW9uIC8gc2tldy4uXG4gICAgICAgIHZhciBhID0gdGhpcy5hO1xuICAgICAgICB2YXIgYiA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkID0gdGhpcy5kO1xuICAgICAgICB2YXIgc2tld1ggPSAtTWF0aC5hdGFuMigtYywgZCk7XG4gICAgICAgIHZhciBza2V3WSA9IE1hdGguYXRhbjIoYiwgYSk7XG4gICAgICAgIHZhciBkZWx0YSA9IE1hdGguYWJzKHNrZXdYICsgc2tld1kpO1xuICAgICAgICBpZiAoZGVsdGEgPCAwLjAwMDAxIHx8IE1hdGguYWJzKFBJXzIgLSBkZWx0YSkgPCAwLjAwMDAxKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBza2V3WTtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5za2V3LnggPSB0cmFuc2Zvcm0uc2tldy55ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IDA7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gc2tld1g7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy55ID0gc2tld1k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoKGEgKiBhKSArIChiICogYikpO1xuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUueSA9IE1hdGguc3FydCgoYyAqIGMpICsgKGQgKiBkKSk7XG4gICAgICAgIC8vIG5leHQgc2V0IHBvc2l0aW9uXG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdGhpcy50eDtcbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIxID0gdGhpcy5iO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciBkMSA9IHRoaXMuZDtcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgICAgIHZhciBuID0gKGExICogZDEpIC0gKGIxICogYzEpO1xuICAgICAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICAgICAgdGhpcy50eCA9ICgoYzEgKiB0aGlzLnR5KSAtIChkMSAqIHR4MSkpIC8gbjtcbiAgICAgICAgdGhpcy50eSA9IC0oKGExICogdGhpcy50eSkgLSAoYjEgKiB0eDEpKSAvIG47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoaXMgTWF0cml4IHRvIGFuIGlkZW50aXR5IChkZWZhdWx0KSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBNYXRyaXgucHJvdG90eXBlLmlkZW50aXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmEgPSAxO1xuICAgICAgICB0aGlzLmIgPSAwO1xuICAgICAgICB0aGlzLmMgPSAwO1xuICAgICAgICB0aGlzLmQgPSAxO1xuICAgICAgICB0aGlzLnR4ID0gMDtcbiAgICAgICAgdGhpcy50eSA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBNYXRyaXggb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IEEgY29weSBvZiB0aGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBnaXZlbiBtYXRyaXggdG8gYmUgdGhlIHNhbWUgYXMgdGhlIG9uZXMgaW4gdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hdHJpeCBnaXZlbiBpbiBwYXJhbWV0ZXIgd2l0aCBpdHMgdmFsdWVzIHVwZGF0ZWQuXG4gICAgICovXG4gICAgTWF0cml4LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgICAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICAgICAgbWF0cml4LmMgPSB0aGlzLmM7XG4gICAgICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgICAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgICAgICBtYXRyaXgudHkgPSB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBtYXRyaXggdG8gYmUgdGhlIHNhbWUgYXMgdGhlIG9uZXMgaW4gZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gdGhpc1xuICAgICAqL1xuICAgIE1hdHJpeC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHRoaXMuYSA9IG1hdHJpeC5hO1xuICAgICAgICB0aGlzLmIgPSBtYXRyaXguYjtcbiAgICAgICAgdGhpcy5jID0gbWF0cml4LmM7XG4gICAgICAgIHRoaXMuZCA9IG1hdHJpeC5kO1xuICAgICAgICB0aGlzLnR4ID0gbWF0cml4LnR4O1xuICAgICAgICB0aGlzLnR5ID0gbWF0cml4LnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgsIFwiSURFTlRJVFlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBkZWZhdWx0IChpZGVudGl0eSkgbWF0cml4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4LCBcIlRFTVBfTUFUUklYXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdGVtcCBtYXRyaXhcbiAgICAgICAgICpcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBNYXRyaXg7XG59KCkpO1xuXG4vLyBZb3VyIGZyaWVuZGx5IG5laWdoYm91ciBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EaWhlZHJhbF9ncm91cFxuLypcbiAqIFRyYW5zZm9ybSBtYXRyaXggZm9yIG9wZXJhdGlvbiBuIGlzOlxuICogfCB1eCB8IHZ4IHxcbiAqIHwgdXkgfCB2eSB8XG4gKi9cbnZhciB1eCA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxXTtcbnZhciB1eSA9IFswLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eCA9IFswLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eSA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xXTtcbi8qKlxuICogW0NheWxleSBUYWJsZV17QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F5bGV5X3RhYmxlfVxuICogZm9yIHRoZSBjb21wb3NpdGlvbiBvZiBlYWNoIHJvdGF0aW9uIGluIHRoZSBkaWhlZGVyYWwgZ3JvdXAgRDguXG4gKlxuICogQHR5cGUgbnVtYmVyW11bXVxuICogQHByaXZhdGVcbiAqL1xudmFyIHJvdGF0aW9uQ2F5bGV5ID0gW107XG4vKipcbiAqIE1hdHJpY2VzIGZvciBlYWNoIGBHRDhTeW1tZXRyeWAgcm90YXRpb24uXG4gKlxuICogQHR5cGUgTWF0cml4W11cbiAqIEBwcml2YXRlXG4gKi9cbnZhciByb3RhdGlvbk1hdHJpY2VzID0gW107XG4vKlxuICogQWxpYXMgZm9yIHtAY29kZSBNYXRoLnNpZ259LlxuICovXG52YXIgc2lnbnVtID0gTWF0aC5zaWduO1xuLypcbiAqIEluaXRpYWxpemVzIGByb3RhdGlvbkNheWxleWAgYW5kIGByb3RhdGlvbk1hdHJpY2VzYC4gSXQgaXMgY2FsbGVkXG4gKiBvbmx5IG9uY2UgYmVsb3cuXG4gKi9cbmZ1bmN0aW9uIGluaXQoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSBbXTtcbiAgICAgICAgcm90YXRpb25DYXlsZXkucHVzaChyb3cpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDE2OyBqKyspIHtcbiAgICAgICAgICAgIC8qIE11bHRpcGxpZXMgcm90YXRpb24gbWF0cmljZXMgaSBhbmQgai4gKi9cbiAgICAgICAgICAgIHZhciBfdXggPSBzaWdudW0oKHV4W2ldICogdXhbal0pICsgKHZ4W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdXkgPSBzaWdudW0oKHV5W2ldICogdXhbal0pICsgKHZ5W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdnggPSBzaWdudW0oKHV4W2ldICogdnhbal0pICsgKHZ4W2ldICogdnlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdnkgPSBzaWdudW0oKHV5W2ldICogdnhbal0pICsgKHZ5W2ldICogdnlbal0pKTtcbiAgICAgICAgICAgIC8qIEZpbmRzIHJvdGF0aW9uIG1hdHJpeCBtYXRjaGluZyB0aGUgcHJvZHVjdCBhbmQgcHVzaGVzIGl0LiAqL1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCAxNjsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHV4W2tdID09PSBfdXggJiYgdXlba10gPT09IF91eVxuICAgICAgICAgICAgICAgICAgICAmJiB2eFtrXSA9PT0gX3Z4ICYmIHZ5W2tdID09PSBfdnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LnB1c2goayk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgdmFyIG1hdCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgbWF0LnNldCh1eFtpXSwgdXlbaV0sIHZ4W2ldLCB2eVtpXSwgMCwgMCk7XG4gICAgICAgIHJvdGF0aW9uTWF0cmljZXMucHVzaChtYXQpO1xuICAgIH1cbn1cbmluaXQoKTtcbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtudW1iZXJ9IEdEOFN5bW1ldHJ5XG4gKiBAc2VlIFBJWEkuZ3JvdXBEOFxuICovXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIGRpaGVkcmFsIGdyb3VwIEQ4LCB3aGljaCBpcyBzaW1pbGFyIHRvXG4gKiBbZ3JvdXAgRDRde0BsaW5rIGh0dHA6Ly9tYXRod29ybGQud29sZnJhbS5jb20vRGloZWRyYWxHcm91cEQ0Lmh0bWx9O1xuICogRDggaXMgdGhlIHNhbWUgYnV0IHdpdGggZGlhZ29uYWxzLCBhbmQgaXQgaXMgdXNlZCBmb3IgdGV4dHVyZVxuICogcm90YXRpb25zLlxuICpcbiAqIFRoZSBkaXJlY3Rpb25zIHRoZSBVLSBhbmQgVi0gYXhlcyBhZnRlciByb3RhdGlvblxuICogb2YgYW4gYW5nbGUgb2YgYGE6IEdEOENvbnN0YW50YCBhcmUgdGhlIHZlY3RvcnMgYCh1WChhKSwgdVkoYSkpYFxuICogYW5kIGAodlgoYSksIHZZKGEpKWAuIFRoZXNlIGFyZW4ndCBuZWNlc3NhcmlseSB1bml0IHZlY3RvcnMuXG4gKlxuICogKipPcmlnaW46Kio8YnI+XG4gKiAgVGhpcyBpcyB0aGUgc21hbGwgcGFydCBvZiBnYW1lb2Zib21icy5jb20gcG9ydGFsIHN5c3RlbS4gSXQgd29ya3MuXG4gKlxuICogQHNlZSBQSVhJLmdyb3VwRDguRVxuICogQHNlZSBQSVhJLmdyb3VwRDguU0VcbiAqIEBzZWUgUElYSS5ncm91cEQ4LlNcbiAqIEBzZWUgUElYSS5ncm91cEQ4LlNXXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5XXG4gKiBAc2VlIFBJWEkuZ3JvdXBEOC5OV1xuICogQHNlZSBQSVhJLmdyb3VwRDguTlxuICogQHNlZSBQSVhJLmdyb3VwRDguTkVcbiAqIEBhdXRob3IgSXZhbiBAaXZhbnBvcGVseXNoZXZcbiAqIEBuYW1lc3BhY2UgUElYSS5ncm91cEQ4XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgZ3JvdXBEOCA9IHtcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDDCsCAgICAgICB8IEVhc3QgICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIEU6IDAsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCA0NcKw4oa7ICAgICB8IFNvdXRoZWFzdCB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFNFOiAxLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgOTDCsOKGuyAgICAgfCBTb3V0aCAgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTOiAyLFxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMTM1wrDihrsgICAgfCBTb3V0aHdlc3QgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTVzogMyxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDE4MMKwICAgICB8IFdlc3QgICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFc6IDQsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtMTM1wrAvMjI1wrDihrsgfCBOb3J0aHdlc3QgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBOVzogNSxcbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC05MMKwLzI3MMKw4oa7ICB8IE5vcnRoICAgICAgICB8XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE46IDYsXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtNDXCsC8zMTXCsOKGuyAgfCBOb3J0aGVhc3QgICAgfFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBORTogNyxcbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IFktYXhpcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUlSUk9SX1ZFUlRJQ0FMOiA4LFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgdGhlIG1haW4gZGlhZ29uYWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1BSU5fRElBR09OQUw6IDEwLFxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgWC1heGlzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNSVJST1JfSE9SSVpPTlRBTDogMTIsXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCByZXZlcnNlIGRpYWdvbmFsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBSRVZFUlNFX0RJQUdPTkFMOiAxNCxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFgtY29tcG9uZW50IG9mIHRoZSBVLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB1WDogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdXhbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFktY29tcG9uZW50IG9mIHRoZSBVLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB1WTogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdXlbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFgtY29tcG9uZW50IG9mIHRoZSBWLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB2WDogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdnhbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFktY29tcG9uZW50IG9mIHRoZSBWLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB2WTogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdnlbaW5kXTsgfSxcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5ncm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIHN5bW1ldHJ5IHdob3NlIG9wcG9zaXRlXG4gICAgICogICBpcyBuZWVkZWQuIE9ubHkgcm90YXRpb25zIGhhdmUgb3Bwb3NpdGUgc3ltbWV0cmllcyB3aGlsZVxuICAgICAqICAgcmVmbGVjdGlvbnMgZG9uJ3QuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIG9wcG9zaXRlIHN5bW1ldHJ5IG9mIGByb3RhdGlvbmBcbiAgICAgKi9cbiAgICBpbnY6IGZ1bmN0aW9uIChyb3RhdGlvbikge1xuICAgICAgICBpZiAocm90YXRpb24gJiA4KSAvLyB0cnVlIG9ubHkgaWYgYmV0d2VlbiA4ICYgMTUgKHJlZmxlY3Rpb25zKVxuICAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uICYgMTU7IC8vIG9yIHJvdGF0aW9uICUgMTZcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKC1yb3RhdGlvbikgJiA3OyAvLyBvciAoOCAtIHJvdGF0aW9uKSAlIDhcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIENvbXBvc2VzIHRoZSB0d28gRDggb3BlcmF0aW9ucy5cbiAgICAgKlxuICAgICAqIFRha2luZyBgXmAgYXMgcmVmbGVjdGlvbjpcbiAgICAgKlxuICAgICAqIHwgICAgICAgfCBFPTAgfCBTPTIgfCBXPTQgfCBOPTYgfCBFXj04IHwgU149MTAgfCBXXj0xMiB8IE5ePTE0IHxcbiAgICAgKiB8LS0tLS0tLXwtLS0tLXwtLS0tLXwtLS0tLXwtLS0tLXwtLS0tLS18LS0tLS0tLXwtLS0tLS0tfC0tLS0tLS18XG4gICAgICogfCBFPTAgICB8IEUgICB8IFMgICB8IFcgICB8IE4gICB8IEVeICAgfCBTXiAgICB8IFdeICAgIHwgTl4gICAgfFxuICAgICAqIHwgUz0yICAgfCBTICAgfCBXICAgfCBOICAgfCBFICAgfCBTXiAgIHwgV14gICAgfCBOXiAgICB8IEVeICAgIHxcbiAgICAgKiB8IFc9NCAgIHwgVyAgIHwgTiAgIHwgRSAgIHwgUyAgIHwgV14gICB8IE5eICAgIHwgRV4gICAgfCBTXiAgICB8XG4gICAgICogfCBOPTYgICB8IE4gICB8IEUgICB8IFMgICB8IFcgICB8IE5eICAgfCBFXiAgICB8IFNeICAgIHwgV14gICAgfFxuICAgICAqIHwgRV49OCAgfCBFXiAgfCBOXiAgfCBXXiAgfCBTXiAgfCBFICAgIHwgTiAgICAgfCBXICAgICB8IFMgICAgIHxcbiAgICAgKiB8IFNePTEwIHwgU14gIHwgRV4gIHwgTl4gIHwgV14gIHwgUyAgICB8IEUgICAgIHwgTiAgICAgfCBXICAgICB8XG4gICAgICogfCBXXj0xMiB8IFdeICB8IFNeICB8IEVeICB8IE5eICB8IFcgICAgfCBTICAgICB8IEUgICAgIHwgTiAgICAgfFxuICAgICAqIHwgTl49MTQgfCBOXiAgfCBXXiAgfCBTXiAgfCBFXiAgfCBOICAgIHwgVyAgICAgfCBTICAgICB8IEUgICAgIHxcbiAgICAgKlxuICAgICAqIFtUaGlzIGlzIGEgQ2F5bGV5IHRhYmxlXXtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYXlsZXlfdGFibGV9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25TZWNvbmQgLSBTZWNvbmQgb3BlcmF0aW9uLCB3aGljaFxuICAgICAqICAgaXMgdGhlIHJvdyBpbiB0aGUgYWJvdmUgY2F5bGV5IHRhYmxlLlxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25GaXJzdCAtIEZpcnN0IG9wZXJhdGlvbiwgd2hpY2hcbiAgICAgKiAgIGlzIHRoZSBjb2x1bW4gaW4gdGhlIGFib3ZlIGNheWxleSB0YWJsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBDb21wb3NlZCBvcGVyYXRpb25cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uIChyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkgeyByZXR1cm4gKHJvdGF0aW9uQ2F5bGV5W3JvdGF0aW9uU2Vjb25kXVtyb3RhdGlvbkZpcnN0XSk7IH0sXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZSBvZiBgYWRkYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uU2Vjb25kIC0gU2Vjb25kIG9wZXJhdGlvblxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25GaXJzdCAtIEZpcnN0IG9wZXJhdGlvblxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFJlc3VsdFxuICAgICAqL1xuICAgIHN1YjogZnVuY3Rpb24gKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7IHJldHVybiAocm90YXRpb25DYXlsZXlbcm90YXRpb25TZWNvbmRdW2dyb3VwRDguaW52KHJvdGF0aW9uRmlyc3QpXSk7IH0sXG4gICAgLyoqXG4gICAgICogQWRkcyAxODAgZGVncmVlcyB0byByb3RhdGlvbiwgd2hpY2ggaXMgYSBjb21tdXRhdGl2ZVxuICAgICAqIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIHJvdGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSb3RhdGVkIG51bWJlclxuICAgICAqL1xuICAgIHJvdGF0ZTE4MDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7IHJldHVybiByb3RhdGlvbiBeIDQ7IH0sXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSByb3RhdGlvbiBhbmdsZSBpcyB2ZXJ0aWNhbCwgaS5lLiBzb3V0aFxuICAgICAqIG9yIG5vcnRoLiBJdCBkb2Vzbid0IHdvcmsgZm9yIHJlZmxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgZGlyZWN0aW9uIGlzIHZlcnRpY2FsXG4gICAgICovXG4gICAgaXNWZXJ0aWNhbDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7IHJldHVybiAocm90YXRpb24gJiAzKSA9PT0gMjsgfSxcbiAgICAvKipcbiAgICAgKiBBcHByb3hpbWF0ZXMgdGhlIHZlY3RvciBgVihkeCxkeSlgIGludG8gb25lIG9mIHRoZVxuICAgICAqIGVpZ2h0IGRpcmVjdGlvbnMgcHJvdmlkZWQgYnkgYGdyb3VwRDhgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeCAtIFgtY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHkgLSBZLWNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gQXBwcm94aW1hdGlvbiBvZiB0aGUgdmVjdG9yIGludG9cbiAgICAgKiAgb25lIG9mIHRoZSBlaWdodCBzeW1tZXRyaWVzLlxuICAgICAqL1xuICAgIGJ5RGlyZWN0aW9uOiBmdW5jdGlvbiAoZHgsIGR5KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeCkgKiAyIDw9IE1hdGguYWJzKGR5KSkge1xuICAgICAgICAgICAgaWYgKGR5ID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5TO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguTjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhkeSkgKiAyIDw9IE1hdGguYWJzKGR4KSkge1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cEQ4LkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5XO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR5ID4gMCkge1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBncm91cEQ4LlNFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwRDguU1c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3JvdXBEOC5ORTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JvdXBEOC5OVztcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEhlbHBzIHNwcml0ZSB0byBjb21wZW5zYXRlIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZ3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIHNwcml0ZSB3b3JsZCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gVGhlIHJvdGF0aW9uIGZhY3RvciB0byB1c2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKi9cbiAgICBtYXRyaXhBcHBlbmRSb3RhdGlvbkludjogZnVuY3Rpb24gKG1hdHJpeCwgcm90YXRpb24sIHR4LCB0eSkge1xuICAgICAgICBpZiAodHggPT09IHZvaWQgMCkgeyB0eCA9IDA7IH1cbiAgICAgICAgaWYgKHR5ID09PSB2b2lkIDApIHsgdHkgPSAwOyB9XG4gICAgICAgIC8vIFBhY2tlciB1c2VkIFwicm90YXRpb25cIiwgd2UgdXNlIFwiaW52KHJvdGF0aW9uKVwiXG4gICAgICAgIHZhciBtYXQgPSByb3RhdGlvbk1hdHJpY2VzW2dyb3VwRDguaW52KHJvdGF0aW9uKV07XG4gICAgICAgIG1hdC50eCA9IHR4O1xuICAgICAgICBtYXQudHkgPSB0eTtcbiAgICAgICAgbWF0cml4LmFwcGVuZChtYXQpO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGF0IHRha2VzIGNhcmUgYWJvdXQgaXRzIHZlcnNpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJhbnNmb3JtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyYW5zZm9ybSgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3b3JsZCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2NhbFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy5vbkNoYW5nZSwgdGhpcywgMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZSA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy5vbkNoYW5nZSwgdGhpcywgMSwgMSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBpdm90ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBza2V3IGFtb3VudCwgb24gdGhlIHggYW5kIHkgYXhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNrZXcgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMudXBkYXRlU2tldywgdGhpcywgMCwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gYW1vdW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JvdGF0aW9uID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWCBheGlzLFxuICAgICAgICAgKiB0aGUgZmlyc3QgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N4ID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBZLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWCBheGlzLFxuICAgICAgICAgKiB0aGUgZmlyc3QgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N4ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWSBheGlzLFxuICAgICAgICAgKiB0aGUgc2Vjb25kIGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jeSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWS1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFkgYXhpcyxcbiAgICAgICAgICogdGhlIHNlY29uZCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3kgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9jYWxJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIGxvY2FsIHRyYW5zZm9ybVxuICAgICAgICAgKiB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgY3VycmVudCBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSB3b3JsZCB0cmFuc2Zvcm0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd29ybGRJRCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIHBhcmVudCdzIHdvcmxkIHRyYW5zZm9ybVxuICAgICAgICAgKiB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgY3VycmVudCB3b3JsZCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhIHZhbHVlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS5vbkNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHNrZXcgb3IgdGhlIHJvdGF0aW9uIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVTa2V3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jeCA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3LnkpO1xuICAgICAgICB0aGlzLl9zeCA9IE1hdGguc2luKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3LnkpO1xuICAgICAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy54KTsgLy8gY29zLCBhZGRlZCBQSS8yXG4gICAgICAgIHRoaXMuX3N5ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcueCk7IC8vIHNpbiwgYWRkZWQgUEkvMlxuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVMb2NhbFRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi54IC0gKCh0aGlzLnBpdm90LnggKiBsdC5hKSArICh0aGlzLnBpdm90LnkgKiBsdC5jKSk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24ueSAtICgodGhpcy5waXZvdC54ICogbHQuYikgKyAodGhpcy5waXZvdC55ICogbHQuZCkpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGxvY2FsIGFuZCB0aGUgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cmljZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSBwYXJlbnRUcmFuc2Zvcm0gLSBUaGUgcGFyZW50IHRyYW5zZm9ybVxuICAgICAqL1xuICAgIFRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKHBhcmVudFRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS54O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuICAgICAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAoKHRoaXMucGl2b3QueCAqIGx0LmEpICsgKHRoaXMucGl2b3QueSAqIGx0LmMpKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKCh0aGlzLnBpdm90LnggKiBsdC5iKSArICh0aGlzLnBpdm90LnkgKiBsdC5kKSk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcGFyZW50SUQgIT09IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRCkge1xuICAgICAgICAgICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgICAgICAgICAgdmFyIHB0ID0gcGFyZW50VHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgdmFyIHd0ID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgICAgIHd0LmEgPSAobHQuYSAqIHB0LmEpICsgKGx0LmIgKiBwdC5jKTtcbiAgICAgICAgICAgIHd0LmIgPSAobHQuYSAqIHB0LmIpICsgKGx0LmIgKiBwdC5kKTtcbiAgICAgICAgICAgIHd0LmMgPSAobHQuYyAqIHB0LmEpICsgKGx0LmQgKiBwdC5jKTtcbiAgICAgICAgICAgIHd0LmQgPSAobHQuYyAqIHB0LmIpICsgKGx0LmQgKiBwdC5kKTtcbiAgICAgICAgICAgIHd0LnR4ID0gKGx0LnR4ICogcHQuYSkgKyAobHQudHkgKiBwdC5jKSArIHB0LnR4O1xuICAgICAgICAgICAgd3QudHkgPSAobHQudHggKiBwdC5iKSArIChsdC50eSAqIHB0LmQpICsgcHQudHk7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgaWQgb2YgdGhlIHRyYW5zZm9ybS4uXG4gICAgICAgICAgICB0aGlzLl93b3JsZElEKys7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgYSBtYXRyaXggYW5kIHNldHMgdGhlIHRyYW5zZm9ybXMgcHJvcGVydGllcyBiYXNlZCBvbiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gZGVjb21wb3NlXG4gICAgICovXG4gICAgVHJhbnNmb3JtLnByb3RvdHlwZS5zZXRGcm9tTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguZGVjb21wb3NlKHRoaXMpO1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtLnByb3RvdHlwZSwgXCJyb3RhdGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3RhdGlvbiAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2tldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIGRlZmF1bHQgKGlkZW50aXR5KSB0cmFuc2Zvcm1cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgKi9cbiAgICBUcmFuc2Zvcm0uSURFTlRJVFkgPSBuZXcgVHJhbnNmb3JtKCk7XG4gICAgcmV0dXJuIFRyYW5zZm9ybTtcbn0oKSk7XG5cbi8qKlxuICogU2l6ZSBvYmplY3QsIGNvbnRhaW5zIHdpZHRoIGFuZCBoZWlnaHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSVNpemVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIGNvbXBvbmVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBjb21wb25lbnRcbiAqL1xuLyoqXG4gKiBSZWN0YW5nbGUgb2JqZWN0IGlzIGFuIGFyZWEgZGVmaW5lZCBieSBpdHMgcG9zaXRpb24sIGFzIGluZGljYXRlZCBieSBpdHMgdG9wLWxlZnQgY29ybmVyXG4gKiBwb2ludCAoeCwgeSkgYW5kIGJ5IGl0cyB3aWR0aCBhbmQgaXRzIGhlaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZWN0YW5nbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAod2lkdGggPT09IHZvaWQgMCkgeyB3aWR0aCA9IDA7IH1cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7IGhlaWdodCA9IDA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0gTnVtYmVyKHgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSBOdW1iZXIoeSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSBOdW1iZXIod2lkdGgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IE51bWJlcihoZWlnaHQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5SRUNUXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5SRUNUO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVjdGFuZ2xlLnByb3RvdHlwZSwgXCJsZWZ0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgdGhlIGxlZnQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZS5wcm90b3R5cGUsIFwicmlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUucHJvdG90eXBlLCBcInRvcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSB0b3AgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlY3RhbmdsZS5wcm90b3R5cGUsIFwiYm90dG9tXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55ICsgdGhpcy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWN0YW5nbGUsIFwiRU1QVFlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb25zdGFudCBlbXB0eSByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gQW4gZW1wdHkgcmVjdGFuZ2xlXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBhIGNvcHkgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgYW5vdGhlciByZWN0YW5nbGUgdG8gdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgICAgICB0aGlzLndpZHRoID0gcmVjdGFuZ2xlLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoaXMgcmVjdGFuZ2xlIHRvIGFub3RoZXIgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGdpdmVuIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgcmVjdGFuZ2xlLnggPSB0aGlzLng7XG4gICAgICAgIHJlY3RhbmdsZS55ID0gdGhpcy55O1xuICAgICAgICByZWN0YW5nbGUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICByZWN0YW5nbGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgIHJldHVybiByZWN0YW5nbGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPj0gdGhpcy54ICYmIHggPCB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqIElmIHBhZGRpbmdZIGlzIG9taXR0ZWQsIGJvdGggcGFkZGluZ1ggYW5kIHBhZGRpbmdZIHdpbGwgYmUgc2V0IHRvIHBhZGRpbmdYLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWD0wXSAtIFRoZSBob3Jpem9udGFsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1k9MF0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBpZiAocGFkZGluZ1ggPT09IHZvaWQgMCkgeyBwYWRkaW5nWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZGRpbmdZID09PSB2b2lkIDApIHsgcGFkZGluZ1kgPSBwYWRkaW5nWDsgfVxuICAgICAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgICAgIHRoaXMueSAtPSBwYWRkaW5nWTtcbiAgICAgICAgdGhpcy53aWR0aCArPSBwYWRkaW5nWCAqIDI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gZml0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5tYXgodGhpcy54LCByZWN0YW5nbGUueCk7XG4gICAgICAgIHZhciB4MiA9IE1hdGgubWluKHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICAgICAgdmFyIHkxID0gTWF0aC5tYXgodGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIHZhciB5MiA9IE1hdGgubWluKHRoaXMueSArIHRoaXMuaGVpZ2h0LCByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGgubWF4KHgyIC0geDEsIDApO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCh5MiAtIHkxLCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyByZWN0YW5nbGUgdGhhdCB3YXkgaXRzIGNvcm5lcnMgbGllIG9uIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSByZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlcHM9MC4wMDFdIHByZWNpc2lvblxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNlaWwgPSBmdW5jdGlvbiAocmVzb2x1dGlvbiwgZXBzKSB7XG4gICAgICAgIGlmIChyZXNvbHV0aW9uID09PSB2b2lkIDApIHsgcmVzb2x1dGlvbiA9IDE7IH1cbiAgICAgICAgaWYgKGVwcyA9PT0gdm9pZCAwKSB7IGVwcyA9IDAuMDAxOyB9XG4gICAgICAgIHZhciB4MiA9IE1hdGguY2VpbCgodGhpcy54ICsgdGhpcy53aWR0aCAtIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgICAgIHZhciB5MiA9IE1hdGguY2VpbCgodGhpcy55ICsgdGhpcy5oZWlnaHQgLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnggPSBNYXRoLmZsb29yKCh0aGlzLnggKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLmZsb29yKCh0aGlzLnkgKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0geDIgLSB0aGlzLng7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB0aGlzLnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5sYXJnZXMgdGhpcyByZWN0YW5nbGUgdG8gaW5jbHVkZSB0aGUgcGFzc2VkIHJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gaW5jbHVkZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5lbmxhcmdlID0gZnVuY3Rpb24gKHJlY3RhbmdsZSkge1xuICAgICAgICB2YXIgeDEgPSBNYXRoLm1pbih0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgdmFyIHgyID0gTWF0aC5tYXgodGhpcy54ICsgdGhpcy53aWR0aCwgcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGgpO1xuICAgICAgICB2YXIgeTEgPSBNYXRoLm1pbih0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICAgICAgdmFyIHkyID0gTWF0aC5tYXgodGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG4gICAgICAgIHRoaXMueCA9IHgxO1xuICAgICAgICB0aGlzLndpZHRoID0geDIgLSB4MTtcbiAgICAgICAgdGhpcy55ID0geTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB5MTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gUmVjdGFuZ2xlO1xufSgpKTtcblxuLyoqXG4gKiBUaGUgQ2lyY2xlIG9iamVjdCBpcyB1c2VkIHRvIGhlbHAgZHJhdyBncmFwaGljcyBhbmQgY2FuIGFsc28gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENpcmNsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0wXSAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENpcmNsZSh4LCB5LCByYWRpdXMpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmIChyYWRpdXMgPT09IHZvaWQgMCkgeyByYWRpdXMgPSAwOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5DSVJDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5DSVJDO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBDaXJjbGUgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ2lyY2xlfSBhIGNvcHkgb2YgdGhlIENpcmNsZVxuICAgICAqL1xuICAgIENpcmNsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2lyY2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGNpcmNsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBDaXJjbGVcbiAgICAgKi9cbiAgICBDaXJjbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgICAgICB2YXIgZHggPSAodGhpcy54IC0geCk7XG4gICAgICAgIHZhciBkeSA9ICh0aGlzLnkgLSB5KTtcbiAgICAgICAgZHggKj0gZHg7XG4gICAgICAgIGR5ICo9IGR5O1xuICAgICAgICByZXR1cm4gKGR4ICsgZHkgPD0gcjIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgY2lyY2xlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICpcbiAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICAqL1xuICAgIENpcmNsZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgICB9O1xuICAgIHJldHVybiBDaXJjbGU7XG59KCkpO1xuXG4vKipcbiAqIFRoZSBFbGxpcHNlIG9iamVjdCBpcyB1c2VkIHRvIGhlbHAgZHJhdyBncmFwaGljcyBhbmQgY2FuIGFsc28gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEVsbGlwc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hhbGZXaWR0aD0wXSAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGFsZkhlaWdodD0wXSAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGlzIGVsbGlwc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbGxpcHNlKHgsIHksIGhhbGZXaWR0aCwgaGFsZkhlaWdodCkge1xuICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XG4gICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cbiAgICAgICAgaWYgKGhhbGZXaWR0aCA9PT0gdm9pZCAwKSB7IGhhbGZXaWR0aCA9IDA7IH1cbiAgICAgICAgaWYgKGhhbGZIZWlnaHQgPT09IHZvaWQgMCkgeyBoYWxmSGVpZ2h0ID0gMDsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gaGFsZldpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhhbGZIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkVMSVBcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLkVMSVA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIEVsbGlwc2UgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuRWxsaXBzZX0gYSBjb3B5IG9mIHRoZSBlbGxpcHNlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRzIGFyZSB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3JtYWxpemUgdGhlIGNvb3JkcyB0byBhbiBlbGxpcHNlIHdpdGggY2VudGVyIDAsMFxuICAgICAgICB2YXIgbm9ybXggPSAoKHggLSB0aGlzLngpIC8gdGhpcy53aWR0aCk7XG4gICAgICAgIHZhciBub3JteSA9ICgoeSAtIHRoaXMueSkgLyB0aGlzLmhlaWdodCk7XG4gICAgICAgIG5vcm14ICo9IG5vcm14O1xuICAgICAgICBub3JteSAqPSBub3JteTtcbiAgICAgICAgcmV0dXJuIChub3JteCArIG5vcm15IDw9IDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGVsbGlwc2UgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgRWxsaXBzZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIEVsbGlwc2U7XG59KCkpO1xuXG4vKipcbiAqIEEgY2xhc3MgdG8gZGVmaW5lIGEgc2hhcGUgdmlhIHVzZXIgZGVmaW5lZCBjby1vcmluYXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQb2x5Z29uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfG51bWJlcltdfG51bWJlcltdW119IHBvaW50cyAtIFRoaXMgY2FuIGJlIGFuIGFycmF5IG9mIFBvaW50c1xuICAgICAqICB0aGF0IGZvcm0gdGhlIHBvbHlnb24sIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzIHRoYXQgd2lsbCBiZSBpbnRlcnByZXRlZCBhcyBbeCx5LCB4LHksIC4uLl0sIG9yXG4gICAgICogIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBhbGwgdGhlIHBvaW50cyBvZiB0aGUgcG9seWdvbiBlLmcuXG4gICAgICogIGBuZXcgUElYSS5Qb2x5Z29uKG5ldyBQSVhJLlBvaW50KCksIG5ldyBQSVhJLlBvaW50KCksIC4uLilgLCBvciB0aGUgYXJndW1lbnRzIHBhc3NlZCBjYW4gYmUgZmxhdFxuICAgICAqICB4LHkgdmFsdWVzIGUuZy4gYG5ldyBQb2x5Z29uKHgseSwgeCx5LCB4LHksIC4uLilgIHdoZXJlIGB4YCBhbmQgYHlgIGFyZSBOdW1iZXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBvbHlnb24oKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBwb2ludHNbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBvaW50c1swXSkpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50c1swXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGFycmF5IG9mIHBvaW50cywgY29udmVydCBpdCB0byBhIGZsYXQgYXJyYXkgb2YgbnVtYmVyc1xuICAgICAgICBpZiAocG9pbnRzWzBdIGluc3RhbmNlb2YgUG9pbnQpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cztcbiAgICAgICAgICAgIHZhciBwID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBwb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgIHAucHVzaChwb2ludHNbaV0ueCwgcG9pbnRzW2ldLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9pbnRzID0gcDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdGhlIHBvaW50cyBvZiB0aGlzIHBvbHlnb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUE9MWVxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUE9MWTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGBmYWxzZWAgYWZ0ZXIgbW92ZVRvLCBgdHJ1ZWAgYWZ0ZXIgYGNsb3NlUGF0aGAuIEluIGFsbCBvdGhlciBjYXNlcyBpdCBpcyBgdHJ1ZWAuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvbHlnb259IGEgY29weSBvZiB0aGUgcG9seWdvblxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHMuc2xpY2UoKTtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBuZXcgUG9seWdvbihwb2ludHMpO1xuICAgICAgICBwb2x5Z29uLmNsb3NlU3Ryb2tlID0gdGhpcy5jbG9zZVN0cm9rZTtcbiAgICAgICAgcmV0dXJuIHBvbHlnb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqL1xuICAgIFBvbHlnb24ucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdmFyIGluc2lkZSA9IGZhbHNlO1xuICAgICAgICAvLyB1c2Ugc29tZSByYXljYXN0aW5nIHRvIHRlc3QgaGl0c1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBsZW5ndGggLSAxOyBpIDwgbGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgICAgICAgICB2YXIgeGkgPSB0aGlzLnBvaW50c1tpICogMl07XG4gICAgICAgICAgICB2YXIgeWkgPSB0aGlzLnBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICB2YXIgeGogPSB0aGlzLnBvaW50c1tqICogMl07XG4gICAgICAgICAgICB2YXIgeWogPSB0aGlzLnBvaW50c1soaiAqIDIpICsgMV07XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0gKCh5aSA+IHkpICE9PSAoeWogPiB5KSkgJiYgKHggPCAoKHhqIC0geGkpICogKCh5IC0geWkpIC8gKHlqIC0geWkpKSkgKyB4aSk7XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zaWRlO1xuICAgIH07XG4gICAgcmV0dXJuIFBvbHlnb247XG59KCkpO1xuXG4vKipcbiAqIFRoZSBSb3VuZGVkIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSB0aGF0IGhhcyBuaWNlIHJvdW5kZWQgY29ybmVycywgYXMgaW5kaWNhdGVkIGJ5IGl0c1xuICogdG9wLWxlZnQgY29ybmVyIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0IGFuZCBpdHMgcmFkaXVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJvdW5kZWRSZWN0YW5nbGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBvdmVyYWxsIHdpZHRoIG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MjBdIC0gQ29udHJvbHMgdGhlIHJhZGl1cyBvZiB0aGUgcm91bmRlZCBjb3JuZXJzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUm91bmRlZFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpIHtcbiAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxuICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdm9pZCAwKSB7IHdpZHRoID0gMDsgfVxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB2b2lkIDApIHsgaGVpZ2h0ID0gMDsgfVxuICAgICAgICBpZiAocmFkaXVzID09PSB2b2lkIDApIHsgcmFkaXVzID0gMjA7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMjBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5SUkVDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5SUkVDO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBhIGNvcHkgb2YgdGhlIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUm91bmRlZFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucmFkaXVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSb3VuZGVkUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCh5ID49IHRoaXMueSArIHRoaXMucmFkaXVzICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cylcbiAgICAgICAgICAgICAgICAgICAgfHwgKHggPj0gdGhpcy54ICsgdGhpcy5yYWRpdXMgJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICB2YXIgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzMiA9IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeCA9IHggLSAodGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gUm91bmRlZFJlY3RhbmdsZTtcbn0oKSk7XG5cbi8qKlxuICogTWF0aCBjbGFzc2VzIGFuZCB1dGlsaXRpZXMgbWl4ZWQgaW50byBQSVhJIG5hbWVzcGFjZS5cbiAqXG4gKiBAbGVuZHMgUElYSVxuICovXG5cbmV4cG9ydCB7IENpcmNsZSwgREVHX1RPX1JBRCwgRWxsaXBzZSwgTWF0cml4LCBPYnNlcnZhYmxlUG9pbnQsIFBJXzIsIFBvaW50LCBQb2x5Z29uLCBSQURfVE9fREVHLCBSZWN0YW5nbGUsIFJvdW5kZWRSZWN0YW5nbGUsIFNIQVBFUywgVHJhbnNmb3JtLCBncm91cEQ4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRoLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9kaXNwbGF5IC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL2Rpc3BsYXkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFJlY3RhbmdsZSwgUkFEX1RPX0RFRywgREVHX1RPX1JBRCwgVHJhbnNmb3JtIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIsIHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIFNldHMgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBjb250YWluZXIgcHJvcGVydHkgJ3NvcnRhYmxlQ2hpbGRyZW4nLlxuICogSWYgc2V0IHRvIHRydWUsIHRoZSBjb250YWluZXIgd2lsbCBzb3J0IGl0cyBjaGlsZHJlbiBieSB6SW5kZXggdmFsdWVcbiAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gKlxuICogVGhpcyBhY3R1YWxseSBjaGFuZ2VzIHRoZSBvcmRlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXksIHNvIHNob3VsZCBiZSB0cmVhdGVkXG4gKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICpcbiAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNPUlRBQkxFX0NISUxEUkVOXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5zZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTiA9IGZhbHNlO1xuXG4vKipcbiAqICdCdWlsZGVyJyBwYXR0ZXJuIGZvciBib3VuZHMgcmVjdGFuZ2xlcy5cbiAqXG4gKiBUaGlzIGNvdWxkIGJlIGNhbGxlZCBhbiBBeGlzLUFsaWduZWQgQm91bmRpbmcgQm94LlxuICogSXQgaXMgbm90IGFuIGFjdHVhbCBzaGFwZS4gSXQgaXMgYSBtdXRhYmxlIHRoaW5nOyBubyAnRU1QVFknIG9yIHRob3NlIGtpbmQgb2YgcHJvYmxlbXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQm91bmRzID0gZnVuY3Rpb24gQm91bmRzKClcbntcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG5cbiAgICB0aGlzLnJlY3QgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYm91bmRzIGFyZSBlbXB0eS5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGVtcHR5LlxuICovXG5Cb3VuZHMucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5ICgpXG57XG4gICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG59O1xuXG4vKipcbiAqIENsZWFycyB0aGUgYm91bmRzIGFuZCByZXNldHMuXG4gKlxuICovXG5Cb3VuZHMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKClcbntcbiAgICB0aGlzLnVwZGF0ZUlEKys7XG5cbiAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcbiAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xufTtcblxuLyoqXG4gKiBDYW4gcmV0dXJuIFJlY3RhbmdsZS5FTVBUWSBjb25zdGFudCwgZWl0aGVyIGNvbnN0cnVjdCBuZXcgcmVjdGFuZ2xlLCBlaXRoZXIgdXNlIHlvdXIgcmVjdGFuZ2xlXG4gKiBJdCBpcyBub3QgZ3VhcmFudGVlZCB0aGF0IGl0IHdpbGwgcmV0dXJuIHRlbXBSZWN0XG4gKlxuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIHRlbXBvcmFyeSBvYmplY3Qgd2lsbCBiZSB1c2VkIGlmIEFBQkIgaXMgbm90IGVtcHR5XG4gKiBAcmV0dXJucyB7UElYSS5SZWN0YW5nbGV9IEEgcmVjdGFuZ2xlIG9mIHRoZSBib3VuZHNcbiAqL1xuQm91bmRzLnByb3RvdHlwZS5nZXRSZWN0YW5nbGUgPSBmdW5jdGlvbiBnZXRSZWN0YW5nbGUgKHJlY3QpXG57XG4gICAgaWYgKHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFkpXG4gICAge1xuICAgICAgICByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZO1xuICAgIH1cblxuICAgIHJlY3QgPSByZWN0IHx8IG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG5cbiAgICByZWN0LnggPSB0aGlzLm1pblg7XG4gICAgcmVjdC55ID0gdGhpcy5taW5ZO1xuICAgIHJlY3Qud2lkdGggPSB0aGlzLm1heFggLSB0aGlzLm1pblg7XG4gICAgcmVjdC5oZWlnaHQgPSB0aGlzLm1heFkgLSB0aGlzLm1pblk7XG5cbiAgICByZXR1cm4gcmVjdDtcbn07XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgaW5saW5lZCB3aGVuIGl0cyBwb3NzaWJsZS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gVGhlIHBvaW50IHRvIGFkZC5cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRQb2ludCA9IGZ1bmN0aW9uIGFkZFBvaW50IChwb2ludClcbntcbiAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHBvaW50LngpO1xuICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9pbnQueCk7XG4gICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBwb2ludC55KTtcbiAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHBvaW50LnkpO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgcXVhZCwgbm90IHRyYW5zZm9ybWVkXG4gKlxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gVGhlIHZlcnRzIHRvIGFkZC5cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRRdWFkID0gZnVuY3Rpb24gYWRkUXVhZCAodmVydGljZXMpXG57XG4gICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICB2YXIgeCA9IHZlcnRpY2VzWzBdO1xuICAgIHZhciB5ID0gdmVydGljZXNbMV07XG5cbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgIHggPSB2ZXJ0aWNlc1syXTtcbiAgICB5ID0gdmVydGljZXNbM107XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB4ID0gdmVydGljZXNbNF07XG4gICAgeSA9IHZlcnRpY2VzWzVdO1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgeCA9IHZlcnRpY2VzWzZdO1xuICAgIHkgPSB2ZXJ0aWNlc1s3XTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgIHRoaXMubWF4WSA9IG1heFk7XG59O1xuXG4vKipcbiAqIEFkZHMgc3ByaXRlIGZyYW1lLCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSB0cmFuc2Zvcm0gdG8gYXBwbHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gdG9wIFkgb2YgZnJhbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIHJpZ2h0IFggb2YgZnJhbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkRnJhbWUgPSBmdW5jdGlvbiBhZGRGcmFtZSAodHJhbnNmb3JtLCB4MCwgeTAsIHgxLCB5MSlcbntcbiAgICB0aGlzLmFkZEZyYW1lTWF0cml4KHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpO1xufTtcblxuLyoqXG4gKiBBZGRzIHNwcml0ZSBmcmFtZSwgbXVsdGlwbGllZCBieSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBtYXRyaXggdG8gYXBwbHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gdG9wIFkgb2YgZnJhbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIHJpZ2h0IFggb2YgZnJhbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkRnJhbWVNYXRyaXggPSBmdW5jdGlvbiBhZGRGcmFtZU1hdHJpeCAobWF0cml4LCB4MCwgeTAsIHgxLCB5MSlcbntcbiAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgIHZhciBiID0gbWF0cml4LmI7XG4gICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgIHZhciB0eCA9IG1hdHJpeC50eDtcbiAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG5cbiAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgIHZhciB4ID0gKGEgKiB4MCkgKyAoYyAqIHkwKSArIHR4O1xuICAgIHZhciB5ID0gKGIgKiB4MCkgKyAoZCAqIHkwKSArIHR5O1xuXG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkwKSArIHR4O1xuICAgIHkgPSAoYiAqIHgxKSArIChkICogeTApICsgdHk7XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB4ID0gKGEgKiB4MCkgKyAoYyAqIHkxKSArIHR4O1xuICAgIHkgPSAoYiAqIHgwKSArIChkICogeTEpICsgdHk7XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkxKSArIHR4O1xuICAgIHkgPSAoYiAqIHgxKSArIChkICogeTEpICsgdHk7XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICB0aGlzLm1heFkgPSBtYXhZO1xufTtcblxuLyoqXG4gKiBBZGRzIHNjcmVlbiB2ZXJ0aWNlcyBmcm9tIGFycmF5XG4gKlxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRleERhdGEgLSBjYWxjdWxhdGVkIHZlcnRpY2VzXG4gKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZFZlcnRleERhdGEgPSBmdW5jdGlvbiBhZGRWZXJ0ZXhEYXRhICh2ZXJ0ZXhEYXRhLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KVxue1xuICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgZm9yICh2YXIgaSA9IGJlZ2luT2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpICs9IDIpXG4gICAge1xuICAgICAgICB2YXIgeCA9IHZlcnRleERhdGFbaV07XG4gICAgICAgIHZhciB5ID0gdmVydGV4RGF0YVtpICsgMV07XG5cbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgfVxuXG4gICAgdGhpcy5taW5YID0gbWluWDtcbiAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgdGhpcy5tYXhZID0gbWF4WTtcbn07XG5cbi8qKlxuICogQWRkIGFuIGFycmF5IG9mIG1lc2ggdmVydGljZXNcbiAqXG4gKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBtZXNoIHRyYW5zZm9ybVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gbWVzaCBjb29yZGluYXRlcyBpbiBhcnJheVxuICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gZW5kIG9mZnNldCwgZXhjbHVkZWRcbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0aWNlcyA9IGZ1bmN0aW9uIGFkZFZlcnRpY2VzICh0cmFuc2Zvcm0sIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KVxue1xuICAgIHRoaXMuYWRkVmVydGljZXNNYXRyaXgodHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCk7XG59O1xuXG4vKipcbiAqIEFkZCBhbiBhcnJheSBvZiBtZXNoIHZlcnRpY2VzXG4gKlxuICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gbWVzaCBtYXRyaXhcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIG1lc2ggY29vcmRpbmF0ZXMgaW4gYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gKiBAcGFyYW0ge251bWJlcn0gW3BhZFhdIC0geCBwYWRkaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gW3BhZFldIC0geSBwYWRkaW5nXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGljZXNNYXRyaXggPSBmdW5jdGlvbiBhZGRWZXJ0aWNlc01hdHJpeCAobWF0cml4LCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCwgcGFkWCwgcGFkWSlcbntcbiAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgIHZhciBiID0gbWF0cml4LmI7XG4gICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgIHZhciB0eCA9IG1hdHJpeC50eDtcbiAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG5cbiAgICBwYWRYID0gcGFkWCB8fCAwO1xuICAgIHBhZFkgPSBwYWRZIHx8IDA7XG5cbiAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgIGZvciAodmFyIGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKVxuICAgIHtcbiAgICAgICAgdmFyIHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgdmFyIHJhd1kgPSB2ZXJ0aWNlc1tpICsgMV07XG4gICAgICAgIHZhciB4ID0gKGEgKiByYXdYKSArIChjICogcmF3WSkgKyB0eDtcbiAgICAgICAgdmFyIHkgPSAoZCAqIHJhd1kpICsgKGIgKiByYXdYKSArIHR5O1xuXG4gICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCB4IC0gcGFkWCk7XG4gICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCB4ICsgcGFkWCk7XG4gICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCB5IC0gcGFkWSk7XG4gICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCB5ICsgcGFkWSk7XG4gICAgfVxuXG4gICAgdGhpcy5taW5YID0gbWluWDtcbiAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgdGhpcy5tYXhZID0gbWF4WTtcbn07XG5cbi8qKlxuICogQWRkcyBvdGhlciBCb3VuZHNcbiAqXG4gKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzID0gZnVuY3Rpb24gYWRkQm91bmRzIChib3VuZHMpXG57XG4gICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICB0aGlzLm1pblggPSBib3VuZHMubWluWCA8IG1pblggPyBib3VuZHMubWluWCA6IG1pblg7XG4gICAgdGhpcy5taW5ZID0gYm91bmRzLm1pblkgPCBtaW5ZID8gYm91bmRzLm1pblkgOiBtaW5ZO1xuICAgIHRoaXMubWF4WCA9IGJvdW5kcy5tYXhYID4gbWF4WCA/IGJvdW5kcy5tYXhYIDogbWF4WDtcbiAgICB0aGlzLm1heFkgPSBib3VuZHMubWF4WSA+IG1heFkgPyBib3VuZHMubWF4WSA6IG1heFk7XG59O1xuXG4vKipcbiAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBCb3VuZHNcbiAqXG4gKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBtYXNrIC0gVE9ET1xuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc01hc2sgPSBmdW5jdGlvbiBhZGRCb3VuZHNNYXNrIChib3VuZHMsIG1hc2spXG57XG4gICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICB2YXIgX21pblkgPSBib3VuZHMubWluWSA+IG1hc2subWluWSA/IGJvdW5kcy5taW5ZIDogbWFzay5taW5ZO1xuICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgbWFzay5tYXhYID8gYm91bmRzLm1heFggOiBtYXNrLm1heFg7XG4gICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcblxuICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSlcbiAgICB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFkZHMgb3RoZXIgQm91bmRzLCBtdWx0aXBsaWVkIGJ5IG1hdHJpeC4gQm91bmRzIHNob3VsZG4ndCBiZSBlbXB0eVxuICpcbiAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyBvdGhlciBib3VuZHNcbiAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCBtdWx0aXBsaWNhdG9yXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzTWF0cml4ID0gZnVuY3Rpb24gYWRkQm91bmRzTWF0cml4IChib3VuZHMsIG1hdHJpeClcbntcbiAgICB0aGlzLmFkZEZyYW1lTWF0cml4KG1hdHJpeCwgYm91bmRzLm1pblgsIGJvdW5kcy5taW5ZLCBib3VuZHMubWF4WCwgYm91bmRzLm1heFkpO1xufTtcblxuLyoqXG4gKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggUmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYXJlYSAtIFRPRE9cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNBcmVhID0gZnVuY3Rpb24gYWRkQm91bmRzQXJlYSAoYm91bmRzLCBhcmVhKVxue1xuICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBhcmVhLnkgPyBib3VuZHMubWluWSA6IGFyZWEueTtcbiAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IGFyZWEueCArIGFyZWEud2lkdGggPyBib3VuZHMubWF4WCA6IChhcmVhLnggKyBhcmVhLndpZHRoKTtcbiAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IGFyZWEueSArIGFyZWEuaGVpZ2h0ID8gYm91bmRzLm1heFkgOiAoYXJlYS55ICsgYXJlYS5oZWlnaHQpO1xuXG4gICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKVxuICAgIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgIH1cbn07XG5cbi8qKlxuICogUGFkcyBib3VuZHMgb2JqZWN0LCBtYWtpbmcgaXQgZ3JvdyBpbiBhbGwgZGlyZWN0aW9ucy5cbiAqIElmIHBhZGRpbmdZIGlzIG9taXR0ZWQsIGJvdGggcGFkZGluZ1ggYW5kIHBhZGRpbmdZIHdpbGwgYmUgc2V0IHRvIHBhZGRpbmdYLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1g9MF0gLSBUaGUgaG9yaXpvbnRhbCBwYWRkaW5nIGFtb3VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGFkZGluZ1k9MF0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gcGFkIChwYWRkaW5nWCwgcGFkZGluZ1kpXG57XG4gICAgcGFkZGluZ1ggPSBwYWRkaW5nWCB8fCAwO1xuICAgIHBhZGRpbmdZID0gcGFkZGluZ1kgfHwgKChwYWRkaW5nWSAhPT0gMCkgPyBwYWRkaW5nWCA6IDApO1xuXG4gICAgaWYgKCF0aGlzLmlzRW1wdHkoKSlcbiAgICB7XG4gICAgICAgIHRoaXMubWluWCAtPSBwYWRkaW5nWDtcbiAgICAgICAgdGhpcy5tYXhYICs9IHBhZGRpbmdYO1xuICAgICAgICB0aGlzLm1pblkgLT0gcGFkZGluZ1k7XG4gICAgICAgIHRoaXMubWF4WSArPSBwYWRkaW5nWTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFkZHMgcGFkZGVkIGZyYW1lLiAoeDAsIHkwKSBzaG91bGQgYmUgc3RyaWN0bHkgbGVzcyB0aGFuICh4MSwgeTEpXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHgwIC0gbGVmdCBYIG9mIGZyYW1lXG4gKiBAcGFyYW0ge251bWJlcn0geTAgLSB0b3AgWSBvZiBmcmFtZVxuICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gYm90dG9tIFkgb2YgZnJhbWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBwYWRYIC0gcGFkZGluZyBYXG4gKiBAcGFyYW0ge251bWJlcn0gcGFkWSAtIHBhZGRpbmcgWVxuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lUGFkID0gZnVuY3Rpb24gYWRkRnJhbWVQYWQgKHgwLCB5MCwgeDEsIHkxLCBwYWRYLCBwYWRZKVxue1xuICAgIHgwIC09IHBhZFg7XG4gICAgeTAgLT0gcGFkWTtcbiAgICB4MSArPSBwYWRYO1xuICAgIHkxICs9IHBhZFk7XG5cbiAgICB0aGlzLm1pblggPSB0aGlzLm1pblggPCB4MCA/IHRoaXMubWluWCA6IHgwO1xuICAgIHRoaXMubWF4WCA9IHRoaXMubWF4WCA+IHgxID8gdGhpcy5tYXhYIDogeDE7XG4gICAgdGhpcy5taW5ZID0gdGhpcy5taW5ZIDwgeTAgPyB0aGlzLm1pblkgOiB5MDtcbiAgICB0aGlzLm1heFkgPSB0aGlzLm1heFkgPiB5MSA/IHRoaXMubWF4WSA6IHkxO1xufTtcblxuLy8gX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IERpc3BsYXlPYmplY3QoKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgb24gdGhlIHNjcmVlbi5cbiAqXG4gKiBUaGlzIGlzIGFuIGFic3RyYWN0IGNsYXNzIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgb24gaXRzIG93bjsgcmF0aGVyIGl0IHNob3VsZCBiZSBleHRlbmRlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRGlzcGxheU9iamVjdCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50RW1pdHRlcikge1xuICAgIGZ1bmN0aW9uIERpc3BsYXlPYmplY3QoKVxuICAgIHtcbiAgICAgICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byBjcmVhdGUgVHJhbnNmb3JtIGZyb20gZmFjdG9yeVxuICAgICAgICAvKipcbiAgICAgICAgICogV29ybGQgdHJhbnNmb3JtIGFuZCBsb2NhbCB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqIFRoaXMgd2lsbCBiZWNvbWUgcmVhZC1vbmx5IGxhdGVyLCBwbGVhc2UgZG8gbm90IGFzc2lnbiBhbnl0aGluZyB0aGVyZSB1bmxlc3MgeW91IGtub3cgd2hhdCBhcmUgeW91IGRvaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3BhY2l0eSBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZpc2liaWxpdHkgb2YgdGhlIG9iamVjdC4gSWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biwgYW5kXG4gICAgICAgICAqIHRoZSB1cGRhdGVUcmFuc2Zvcm0gZnVuY3Rpb24gd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG9yIGNhbGwgdXBkYXRlVHJhbnNmb3JtIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FuIHRoaXMgb2JqZWN0IGJlIHJlbmRlcmVkLCBpZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduIGJ1dCB0aGUgdXBkYXRlVHJhbnNmb3JtXG4gICAgICAgICAqIG1ldGhvZHMgd2lsbCBzdGlsbCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmFibGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyIHRoYXQgY29udGFpbnMgdGhpcyBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbXVsdGlwbGllZCBhbHBoYSBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoaWNoIGluZGV4IGluIHRoZSBjaGlsZHJlbiBhcnJheSB0aGUgZGlzcGxheSBjb21wb25lbnQgd2FzIGJlZm9yZSB0aGUgcHJldmlvdXMgekluZGV4IHNvcnQuXG4gICAgICAgICAqIFVzZWQgYnkgY29udGFpbmVycyB0byBoZWxwIHNvcnQgb2JqZWN0cyB3aXRoIHRoZSBzYW1lIHpJbmRleCwgYnkgdXNpbmcgcHJldmlvdXMgYXJyYXkgaW5kZXggYXMgdGhlIGRlY2lkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGFzdFNvcnRlZEluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHpJbmRleCBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogQSBoaWdoZXIgdmFsdWUgd2lsbCBtZWFuIGl0IHdpbGwgYmUgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGRpc3BsYXlPYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fekluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFyZWEgdGhlIGZpbHRlciBpcyBhcHBsaWVkIHRvLiBUaGlzIGlzIHVzZWQgYXMgbW9yZSBvZiBhbiBvcHRpbWl6YXRpb25cbiAgICAgICAgICogcmF0aGVyIHRoYW4gZmlndXJpbmcgb3V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGVhY2ggZnJhbWUgeW91IGNhbiBzZXQgdGhpcyByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEFsc28gd29ya3MgYXMgYW4gaW50ZXJhY3Rpb24gbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7P1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgZmlsdGVycyBmb3IgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqICogSU1QT1JUQU5UOiBUaGlzIGlzIGEgV2ViR0wgb25seSBmZWF0dXJlIGFuZCB3aWxsIGJlIGlnbm9yZWQgYnkgdGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgICAgICogVG8gcmVtb3ZlIGZpbHRlcnMgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvIGAnbnVsbCdgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHs/UElYSS5GaWx0ZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJvdW5kcyBvYmplY3QsIHRoaXMgaXMgdXNlZCB0byBjYWxjdWxhdGUgYW5kIHN0b3JlIHRoZSBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEID0gMDtcbiAgICAgICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gLTE7XG4gICAgICAgIHRoaXMuX2JvdW5kc1JlY3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3JpZ2luYWwsIGNhY2hlZCBtYXNrIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N8UElYSS5TcHJpdGV8bnVsbH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2FkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgYWRkZWQgdG8uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyByZW1vdmVkIGZyb20gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmVtb3ZlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHJlbW92ZWQgZnJvbS5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkIHZpYSBkZXN0cm95KCkuIElmIHRydWUsIGl0IHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVzZWQgdG8gZmFzdCBjaGVjayBpZiBhIHNwcml0ZSBpcy4uIGEgc3ByaXRlIVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1Nwcml0ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIGFueSBvdGhlciBkaXNwbGF5T2JqZWN0IHVzZSB0aGlzIG9iamVjdCBhcyBhIG1hc2s/XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzTWFzayA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICggRXZlbnRFbWl0dGVyICkgRGlzcGxheU9iamVjdC5fX3Byb3RvX18gPSBFdmVudEVtaXR0ZXI7XG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudEVtaXR0ZXIgJiYgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSApO1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRGlzcGxheU9iamVjdDtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IF90ZW1wRGlzcGxheU9iamVjdFBhcmVudDogeyBjb25maWd1cmFibGU6IHRydWUgfSx4OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHk6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd29ybGRUcmFuc2Zvcm06IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbG9jYWxUcmFuc2Zvcm06IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scG9zaXRpb246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sc2NhbGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scGl2b3Q6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sc2tldzogeyBjb25maWd1cmFibGU6IHRydWUgfSxyb3RhdGlvbjogeyBjb25maWd1cmFibGU6IHRydWUgfSxhbmdsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSx6SW5kZXg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd29ybGRWaXNpYmxlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG1hc2s6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5taXhpbiA9IGZ1bmN0aW9uIG1peGluIChzb3VyY2UpXG4gICAge1xuICAgICAgICAvLyBpbiBFUzgvRVMyMDE3LCB0aGlzIHdvdWxkIGJlIHJlYWxseSBlYXN5OlxuICAgICAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuXG4gICAgICAgIC8vIGdldCBhbGwgdGhlIGVudW1lcmFibGUgcHJvcGVydHkga2V5c1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHByb3BlcnRpZXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0ga2V5c1tpXTtcblxuICAgICAgICAgICAgLy8gU2V0IHRoZSBwcm9wZXJ0eSB1c2luZyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciAtIHRoaXMgd29ya3MgZm9yIGFjY2Vzc29ycyBhbmQgbm9ybWFsIHZhbHVlIHByb3BlcnRpZXNcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWUsXG4gICAgICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHByb3BlcnR5TmFtZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgRGlzcGxheU9iamVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIFRPRE8gLSBPcHRpbWl6YXRpb24gcGFzcyFcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0gKClcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAvLyBtdWx0aXBseSB0aGUgYWxwaGFzLi5cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IHVwZGF0ZXMgdHJhbnNmb3JtIG9mIGFsbCBvYmplY3RzIGZyb20gdGhlIHJvb3QgdG8gdGhpcyBvbmVcbiAgICAgKiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgdG9Mb2NhbCgpXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiBfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlXSAtIFNldHRpbmcgdG8gYHRydWVgIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICAgICAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICAgICAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIGdldEJvdW5kcyAoc2tpcFVwZGF0ZSwgcmVjdClcbiAgICB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvdW5kc0lEICE9PSB0aGlzLl9sYXN0Qm91bmRzSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Qm91bmRzSUQgPSB0aGlzLl9ib3VuZHNJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVjdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ib3VuZHNSZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMgKHJlY3QpXG4gICAge1xuICAgICAgICB2YXIgdHJhbnNmb3JtUmVmID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIHZhciBwYXJlbnRSZWYgPSB0aGlzLnBhcmVudDtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtO1xuXG4gICAgICAgIGlmICghcmVjdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKGZhbHNlLCByZWN0KTtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudFJlZjtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1SZWY7XG5cbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHdvcmxkIG9yaWdpbiB0byBjYWxjdWxhdGUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm4ge1BJWEkuSVBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvR2xvYmFsID0gZnVuY3Rpb24gdG9HbG9iYWwgKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSlcbiAgICB7XG4gICAgICAgIGlmICggc2tpcFVwZGF0ZSA9PT0gdm9pZCAwICkgc2tpcFVwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgbG90XG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5KHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGxvY2FsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5IG9iamVjdCByZWxhdGl2ZSB0byBhbm90aGVyIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBbZnJvbV0gLSBUaGUgRGlzcGxheU9iamVjdCB0byBjYWxjdWxhdGUgdGhlIGdsb2JhbCBwb3NpdGlvbiBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm1cbiAgICAgKiBAcmV0dXJuIHtQSVhJLklQb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvTG9jYWwgPSBmdW5jdGlvbiB0b0xvY2FsIChwb3NpdGlvbiwgZnJvbSwgcG9pbnQsIHNraXBVcGRhdGUpXG4gICAge1xuICAgICAgICBpZiAoZnJvbSlcbiAgICAgICAge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBmcm9tLnRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2ltcGx5IGFwcGx5IHRoZSBtYXRyaXguLlxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9zaXRpb24sIHBvaW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChyZW5kZXJlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgLy8gT1ZFUldSSVRFO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBDb250YWluZXIgb2YgdGhpcyBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBhZGQgdGhpcyBEaXNwbGF5T2JqZWN0IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ29udGFpbmVyfSBUaGUgQ29udGFpbmVyIHRoYXQgdGhpcyBEaXNwbGF5T2JqZWN0IHdhcyBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbiBzZXRQYXJlbnQgKGNvbnRhaW5lcilcbiAgICB7XG4gICAgICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIuYWRkQ2hpbGQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0UGFyZW50OiBBcmd1bWVudCBtdXN0IGJlIGEgQ29udGFpbmVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2V0IHRoZSBwb3NpdGlvbiwgc2NhbGUsIHNrZXcgYW5kIHBpdm90IGF0IG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVg9MV0gLSBUaGUgWCBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVZPTFdIC0gVGhlIFkgc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WD0wXSAtIFRoZSBYIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdZPTBdIC0gVGhlIFkgc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RYPTBdIC0gVGhlIFggcGl2b3QgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WT0wXSAtIFRoZSBZIHBpdm90IHZhbHVlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybSAoeCwgeSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1ksIHBpdm90WCwgcGl2b3RZKVxuICAgIHtcbiAgICAgICAgaWYgKCB4ID09PSB2b2lkIDAgKSB4ID0gMDtcbiAgICAgICAgaWYgKCB5ID09PSB2b2lkIDAgKSB5ID0gMDtcbiAgICAgICAgaWYgKCBzY2FsZVggPT09IHZvaWQgMCApIHNjYWxlWCA9IDE7XG4gICAgICAgIGlmICggc2NhbGVZID09PSB2b2lkIDAgKSBzY2FsZVkgPSAxO1xuICAgICAgICBpZiAoIHJvdGF0aW9uID09PSB2b2lkIDAgKSByb3RhdGlvbiA9IDA7XG4gICAgICAgIGlmICggc2tld1ggPT09IHZvaWQgMCApIHNrZXdYID0gMDtcbiAgICAgICAgaWYgKCBza2V3WSA9PT0gdm9pZCAwICkgc2tld1kgPSAwO1xuICAgICAgICBpZiAoIHBpdm90WCA9PT0gdm9pZCAwICkgcGl2b3RYID0gMDtcbiAgICAgICAgaWYgKCBwaXZvdFkgPT09IHZvaWQgMCApIHBpdm90WSA9IDA7XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0geDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0geTtcbiAgICAgICAgdGhpcy5zY2FsZS54ID0gIXNjYWxlWCA/IDEgOiBzY2FsZVg7XG4gICAgICAgIHRoaXMuc2NhbGUueSA9ICFzY2FsZVkgPyAxIDogc2NhbGVZO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHRoaXMuc2tldy54ID0gc2tld1g7XG4gICAgICAgIHRoaXMuc2tldy55ID0gc2tld1k7XG4gICAgICAgIHRoaXMucGl2b3QueCA9IHBpdm90WDtcbiAgICAgICAgdGhpcy5waXZvdC55ID0gcGl2b3RZO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCYXNlIGRlc3Ryb3kgbWV0aG9kIGZvciBnZW5lcmljIGRpc3BsYXkgb2JqZWN0cy4gVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgKiByZW1vdmUgdGhlIGRpc3BsYXkgb2JqZWN0IGZyb20gaXRzIHBhcmVudCBDb250YWluZXIgYXMgd2VsbCBhcyByZW1vdmVcbiAgICAgKiBhbGwgY3VycmVudCBldmVudCBsaXN0ZW5lcnMgYW5kIGludGVybmFsIHJlZmVyZW5jZXMuIERvIG5vdCB1c2UgYSBEaXNwbGF5T2JqZWN0XG4gICAgICogYWZ0ZXIgY2FsbGluZyBgZGVzdHJveSgpYC5cbiAgICAgKlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRCb3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9tYXNrID0gbnVsbDtcblxuICAgICAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuICAgICAgICB0aGlzLmhpdEFyZWEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy54LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi54O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMueC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHkgYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi55XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnkuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnk7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy55LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgdHJhbnNmb3JtIG9mIHRoZSBvYmplY3QgYmFzZWQgb24gd29ybGQgKHBhcmVudCkgZmFjdG9ycy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53b3JsZFRyYW5zZm9ybS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIGxvY2FsIGZhY3RvcnM6IHBvc2l0aW9uLCBzY2FsZSwgb3RoZXIgc3R1ZmYuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubG9jYWxUcmFuc2Zvcm0uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklQb2ludH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucG9zaXRpb24uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnBvc2l0aW9uLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklQb2ludH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc2NhbGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5zY2FsZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnNjYWxlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5zY2FsZS5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kLlxuICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuSVBvaW50fVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5waXZvdC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdm90O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucGl2b3Quc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBpdm90LmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNrZXcgZmFjdG9yIGZvciB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnNrZXcuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5za2V3O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc2tldy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2tldy5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yb3RhdGlvbi5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm90YXRpb24uc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSBvZiB0aGUgb2JqZWN0IGluIGRlZ3JlZXMuXG4gICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbmdsZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uICogUkFEX1RPX0RFRztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFuZ2xlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlICogREVHX1RPX1JBRDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHpJbmRleCBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKiBJZiBhIGNvbnRhaW5lciBoYXMgdGhlIHNvcnRhYmxlQ2hpbGRyZW4gcHJvcGVydHkgc2V0IHRvIHRydWUsIGNoaWxkcmVuIHdpbGwgYmUgYXV0b21hdGljYWxseVxuICAgICAqIHNvcnRlZCBieSB6SW5kZXggdmFsdWU7IGEgaGlnaGVyIHZhbHVlIHdpbGwgbWVhbiBpdCB3aWxsIGJlIG1vdmVkIHRvd2FyZHMgdGhlIGVuZCBvZiB0aGUgYXJyYXksXG4gICAgICogYW5kIHRodXMgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGRpc3BsYXlPYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnpJbmRleC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3pJbmRleDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnpJbmRleC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fekluZGV4ID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuc29ydERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG9iamVjdCBpcyBnbG9iYWxseSB2aXNpYmxlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud29ybGRWaXNpYmxlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXM7XG5cbiAgICAgICAgZG9cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFpdGVtLnZpc2libGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpdGVtID0gaXRlbS5wYXJlbnQ7XG4gICAgICAgIH0gd2hpbGUgKGl0ZW0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbWFzayBmb3IgdGhlIGRpc3BsYXlPYmplY3QuIEEgbWFzayBpcyBhbiBvYmplY3QgdGhhdCBsaW1pdHMgdGhlIHZpc2liaWxpdHkgb2YgYW5cbiAgICAgKiBvYmplY3QgdG8gdGhlIHNoYXBlIG9mIHRoZSBtYXNrIGFwcGxpZWQgdG8gaXQuIEluIFBpeGlKUyBhIHJlZ3VsYXIgbWFzayBtdXN0IGJlIGFcbiAgICAgKiB7QGxpbmsgUElYSS5HcmFwaGljc30gb3IgYSB7QGxpbmsgUElYSS5TcHJpdGV9IG9iamVjdC4gVGhpcyBhbGxvd3MgZm9yIG11Y2ggZmFzdGVyIG1hc2tpbmcgaW4gY2FudmFzIGFzIGl0XG4gICAgICogdXRpbGl0aWVzIHNoYXBlIGNsaXBwaW5nLiBUbyByZW1vdmUgYSBtYXNrLCBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBGb3Igc3ByaXRlIG1hc2sgYm90aCBhbHBoYSBhbmQgcmVkIGNoYW5uZWwgYXJlIHVzZWQuIEJsYWNrIG1hc2sgaXMgdGhlIHNhbWUgYXMgdHJhbnNwYXJlbnQgbWFzay5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgKiBncmFwaGljcy5iZWdpbkZpbGwoMHhGRjMzMDApO1xuICAgICAqIGdyYXBoaWNzLmRyYXdSZWN0KDUwLCAyNTAsIDEwMCwgMTAwKTtcbiAgICAgKiBncmFwaGljcy5lbmRGaWxsKCk7XG4gICAgICpcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLm1hc2sgPSBncmFwaGljcztcbiAgICAgKiBAdG9kbyBBdCB0aGUgbW9tZW50LCBQSVhJLkNhbnZhc1JlbmRlcmVyIGRvZXNuJ3Qgc3VwcG9ydCBQSVhJLlNwcml0ZSBhcyBtYXNrLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc3xQSVhJLlNwcml0ZXxudWxsfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXNrLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFzaztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1hc2suc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9tYXNrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbWFza09iamVjdCA9IHRoaXMuX21hc2subWFza09iamVjdCB8fCB0aGlzLl9tYXNrO1xuXG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgbWFza09iamVjdC5pc01hc2sgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21hc2sgPSB2YWx1ZTtcblxuICAgICAgICBpZiAodGhpcy5fbWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG1hc2tPYmplY3QkMSA9IHRoaXMuX21hc2subWFza09iamVjdCB8fCB0aGlzLl9tYXNrO1xuXG4gICAgICAgICAgICBtYXNrT2JqZWN0JDEucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgbWFza09iamVjdCQxLmlzTWFzayA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBEaXNwbGF5T2JqZWN0O1xufShFdmVudEVtaXR0ZXIpKTtcblxuLyoqXG4gKiBEaXNwbGF5T2JqZWN0IGRlZmF1bHQgdXBkYXRlVHJhbnNmb3JtLCBkb2VzIG5vdCB1cGRhdGUgY2hpbGRyZW4gb2YgY29udGFpbmVyLlxuICogV2lsbCBjcmFzaCBpZiB0aGVyZSdzIG5vIHBhcmVudCBlbGVtZW50LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAZnVuY3Rpb24gZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtID0gRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5mdW5jdGlvbiBzb3J0Q2hpbGRyZW4oYSwgYilcbntcbiAgICBpZiAoYS56SW5kZXggPT09IGIuekluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGEuX2xhc3RTb3J0ZWRJbmRleCAtIGIuX2xhc3RTb3J0ZWRJbmRleDtcbiAgICB9XG5cbiAgICByZXR1cm4gYS56SW5kZXggLSBiLnpJbmRleDtcbn1cblxuLyoqXG4gKiBBIENvbnRhaW5lciByZXByZXNlbnRzIGEgY29sbGVjdGlvbiBvZiBkaXNwbGF5IG9iamVjdHMuXG4gKlxuICogSXQgaXMgdGhlIGJhc2UgY2xhc3Mgb2YgYWxsIGRpc3BsYXkgb2JqZWN0cyB0aGF0IGFjdCBhcyBhIGNvbnRhaW5lciBmb3Igb3RoZXIgb2JqZWN0cyAobGlrZSBTcHJpdGVzKS5cbiAqXG4gKmBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5EaXNwbGF5T2JqZWN0XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ29udGFpbmVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRGlzcGxheU9iamVjdCkge1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lcigpXG4gICAge1xuICAgICAgICBEaXNwbGF5T2JqZWN0LmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGNvbnRhaW5lciB3aWxsIHNvcnQgaXRzIGNoaWxkcmVuIGJ5IHpJbmRleCB2YWx1ZVxuICAgICAgICAgKiB3aGVuIHVwZGF0ZVRyYW5zZm9ybSgpIGlzIGNhbGxlZCwgb3IgbWFudWFsbHkgaWYgc29ydENoaWxkcmVuKCkgaXMgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGFjdHVhbGx5IGNoYW5nZXMgdGhlIG9yZGVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheSwgc28gc2hvdWxkIGJlIHRyZWF0ZWRcbiAgICAgICAgICogYXMgYSBiYXNpYyBzb2x1dGlvbiB0aGF0IGlzIG5vdCBwZXJmb3JtYW50IGNvbXBhcmVkIHRvIG90aGVyIHNvbHV0aW9ucyxcbiAgICAgICAgICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIGJlIGF3YXJlIG9mIHRoYXQgdGhpcyBtYXkgbm90IHdvcmsgbmljZWx5IHdpdGggdGhlIGFkZENoaWxkQXQoKSBmdW5jdGlvbixcbiAgICAgICAgICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gPSBzZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGNoaWxkcmVuIGJlIHNvcnRlZCBieSB6SW5kZXggYXQgdGhlIG5leHQgdXBkYXRlVHJhbnNmb3JtIGNhbGwuXG4gICAgICAgICAqIFdpbGwgZ2V0IGF1dG9tYXRpY2FsbHkgc2V0IHRvIHRydWUgaWYgYSBuZXcgY2hpbGQgaXMgYWRkZWQsIG9yIGlmIGEgY2hpbGQncyB6SW5kZXggY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5Db250YWluZXIjY2hpbGRBZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgYWRkZWQgdG8gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IGFkZGVkIHRoZSBjaGlsZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIGFkZGVkIGNoaWxkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRGcm9tXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCByZW1vdmVkIGZyb20gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IHJlbW92ZWQgcmVtb3ZlZCB0aGUgY2hpbGQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBmb3JtZXIgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgcmVtb3ZlZCBjaGlsZFxuICAgICAgICAgKi9cbiAgICB9XG5cbiAgICBpZiAoIERpc3BsYXlPYmplY3QgKSBDb250YWluZXIuX19wcm90b19fID0gRGlzcGxheU9iamVjdDtcbiAgICBDb250YWluZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRGlzcGxheU9iamVjdCAmJiBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSApO1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb250YWluZXI7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB3aWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxoZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIG1ldGhvZCB0aGF0IGNhbiBiZSB1c2VkIGJ5IENvbnRhaW5lciBzdWJjbGFzc2VzIHdoZW5ldmVyIHRoZSBjaGlsZHJlbiBhcnJheSBpcyBtb2RpZmllZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hpbGRyZW5DaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIC8qIGVtcHR5ICovXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgb25lIG9yIG1vcmUgY2hpbGRyZW4gdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIE11bHRpcGxlIGl0ZW1zIGNhbiBiZSBhZGRlZCBsaWtlIHNvOiBgbXlDb250YWluZXIuYWRkQ2hpbGQodGhpbmdPbmUsIHRoaW5nVHdvLCB0aGluZ1RocmVlKWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIGFkZCB0byB0aGUgY29udGFpbmVyXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIGFkZENoaWxkIChjaGlsZClcbiAgICB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pemVkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYXJndW1lbnRzJDFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNoaWxkIGhhcyBhIHBhcmVudCB0aGVuIGxldHMgcmVtb3ZlIGl0IGFzIFBpeGlKUyBvYmplY3RzIGNhbiBvbmx5IGV4aXN0IGluIG9uZSBwbGFjZVxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG5cbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZSh0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdhZGRlZCcsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2hpbGQgdG8gdGhlIGNvbnRhaW5lciBhdCBhIHNwZWNpZmllZCBpbmRleC4gSWYgdGhlIGluZGV4IGlzIG91dCBvZiBib3VuZHMgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gcGxhY2UgdGhlIGNoaWxkIGluXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZEF0ID0gZnVuY3Rpb24gYWRkQ2hpbGRBdCAoY2hpbGQsIGluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKGNoaWxkICsgXCJhZGRDaGlsZEF0OiBUaGUgaW5kZXggXCIgKyBpbmRleCArIFwiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIgKyAodGhpcy5jaGlsZHJlbi5sZW5ndGgpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGQucGFyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuXG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBwb3NpdGlvbiBvZiAyIERpc3BsYXkgT2JqZWN0cyB3aXRoaW4gdGhpcyBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW4gPSBmdW5jdGlvbiBzd2FwQ2hpbGRyZW4gKGNoaWxkLCBjaGlsZDIpXG4gICAge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZGV4MSA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHZhciBpbmRleDIgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQyKTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4MV0gPSBjaGlsZDI7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgyXSA9IGNoaWxkO1xuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgxIDwgaW5kZXgyID8gaW5kZXgxIDogaW5kZXgyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZSB0byBpZGVudGlmeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IHBvc2l0aW9uIG9mIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdCB0byBpZGVudGlmeVxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIGdldENoaWxkSW5kZXggKGNoaWxkKVxuICAgIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzdXBwbGllZCBEaXNwbGF5T2JqZWN0IG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgY2FsbGVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHBvc2l0aW9uIG9mIGFuIGV4aXN0aW5nIGNoaWxkIGluIHRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlIGZvciB3aGljaCB5b3Ugd2FudCB0byBjaGFuZ2UgdGhlIGluZGV4IG51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSByZXN1bHRpbmcgaW5kZXggbnVtYmVyIGZvciB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNldENoaWxkSW5kZXggPSBmdW5jdGlvbiBzZXRDaGlsZEluZGV4IChjaGlsZCwgaW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiVGhlIGluZGV4IFwiICsgaW5kZXggKyBcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiICsgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG5cbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgY3VycmVudEluZGV4LCAxKTsgLy8gcmVtb3ZlIGZyb20gb2xkIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7IC8vIGFkZCBhdCBuZXcgcG9zaXRpb25cblxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBhdFxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIGF0IHRoZSBnaXZlbiBpbmRleCwgaWYgYW55LlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRBdCA9IGZ1bmN0aW9uIGdldENoaWxkQXQgKGluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcImdldENoaWxkQXQ6IEluZGV4IChcIiArIGluZGV4ICsgXCIpIGRvZXMgbm90IGV4aXN0LlwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpbmRleF07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgb25lIG9yIG1vcmUgY2hpbGRyZW4gZnJvbSB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gcmVtb3ZlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGQgKGNoaWxkKVxuICAgIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBhcmd1bWVudHNMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIGFyZ3VtZW50IHdlIGNhbiBieXBhc3MgbG9vcGluZyB0aHJvdWdoIHRoZSB0aGVtXG4gICAgICAgIGlmIChhcmd1bWVudHNMZW5ndGggPiAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGFyZ3VtZW50cyBwcm9wZXJ0eSBhbmQgYWRkIGFsbCBjaGlsZHJlblxuICAgICAgICAgICAgLy8gdXNlIGl0IHRoZSByaWdodCB3YXkgKC5sZW5ndGggYW5kIFtpXSkgc28gdGhhdCB0aGlzIGZ1bmN0aW9uIGNhbiBzdGlsbCBiZSBvcHRpbWl6ZWQgYnkgSlMgcnVudGltZXNcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzTGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChhcmd1bWVudHMkMVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkUmVtb3ZlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXggcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkQXQgPSBmdW5jdGlvbiByZW1vdmVDaGlsZEF0IChpbmRleClcbiAgICB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGRBdChpbmRleCk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZC4uXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSB0aGlzIGNvbnRhaW5lciB0aGF0IGFyZSB3aXRoaW4gdGhlIGJlZ2luIGFuZCBlbmQgaW5kZXhlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmVnaW5JbmRleD0wXSAtIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRJbmRleD10aGlzLmNoaWxkcmVuLmxlbmd0aF0gLSBUaGUgZW5kaW5nIHBvc2l0aW9uLiBEZWZhdWx0IHZhbHVlIGlzIHNpemUgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5EaXNwbGF5T2JqZWN0W119IExpc3Qgb2YgcmVtb3ZlZCBjaGlsZHJlblxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGRyZW4gPSBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbiAoYmVnaW5JbmRleCwgZW5kSW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoIGJlZ2luSW5kZXggPT09IHZvaWQgMCApIGJlZ2luSW5kZXggPSAwO1xuXG4gICAgICAgIHZhciBiZWdpbiA9IGJlZ2luSW5kZXg7XG4gICAgICAgIHZhciBlbmQgPSB0eXBlb2YgZW5kSW5kZXggPT09ICdudW1iZXInID8gZW5kSW5kZXggOiB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgdmFyIHJhbmdlID0gZW5kIC0gYmVnaW47XG4gICAgICAgIHZhciByZW1vdmVkO1xuXG4gICAgICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0ucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3ZlZFtpXS50cmFuc2Zvcm0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShiZWdpbkluZGV4KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSQxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaSQxXS5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCByZW1vdmVkW2kkMV0sIHRoaXMsIGkkMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhbmdlID09PSAwICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigncmVtb3ZlQ2hpbGRyZW46IG51bWVyaWMgdmFsdWVzIGFyZSBvdXRzaWRlIHRoZSBhY2NlcHRhYmxlIHJhbmdlLicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTb3J0cyBjaGlsZHJlbiBieSB6SW5kZXguIFByZXZpb3VzIG9yZGVyIGlzIG1hbnRhaW5lZCBmb3IgMiBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIHpJbmRleC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNvcnRDaGlsZHJlbiA9IGZ1bmN0aW9uIHNvcnRDaGlsZHJlbiQxICgpXG4gICAge1xuICAgICAgICB2YXIgc29ydFJlcXVpcmVkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgY2hpbGQuX2xhc3RTb3J0ZWRJbmRleCA9IGk7XG5cbiAgICAgICAgICAgIGlmICghc29ydFJlcXVpcmVkICYmIGNoaWxkLnpJbmRleCAhPT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3J0UmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvcnRSZXF1aXJlZCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc29ydChzb3J0Q2hpbGRyZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9uIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciBmb3IgcmVuZGVyaW5nXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gJiYgdGhpcy5zb3J0RGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc29ydENoaWxkcmVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuXG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKCFjaGlsZC52aXNpYmxlIHx8ICFjaGlsZC5yZW5kZXJhYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5jYWxjdWxhdGVCb3VuZHMoKTtcblxuICAgICAgICAgICAgLy8gVE9ETzogZmlsdGVyK21hc2ssIG5lZWQgdG8gbWFzayBib3RoIHNvbWVob3dcbiAgICAgICAgICAgIGlmIChjaGlsZC5fbWFzaylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgbWFza09iamVjdCA9IGNoaWxkLl9tYXNrLm1hc2tPYmplY3QgfHwgY2hpbGQuX21hc2s7XG5cbiAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNNYXNrKGNoaWxkLl9ib3VuZHMsIG1hc2tPYmplY3QuX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGlsZC5maWx0ZXJBcmVhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNBcmVhKGNoaWxkLl9ib3VuZHMsIGNoaWxkLmZpbHRlckFyZWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHMoY2hpbGQuX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0Qm91bmRzSUQgPSB0aGlzLl9ib3VuZHNJRDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdC4gT3ZlcnJpZGUgdGhpcyB0b1xuICAgICAqIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBzcGVjaWZpYyBvYmplY3QgKG5vdCBpbmNsdWRpbmcgY2hpbGRyZW4pLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIC8vIEZJTEwgSU4vL1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkbyBhIHF1aWNrIGNoZWNrIHRvIHNlZSBpZiB0aGlzIGVsZW1lbnQgaGFzIGEgbWFzayBvciBhIGZpbHRlci5cbiAgICAgICAgaWYgKHRoaXMuX21hc2sgfHwgKHRoaXMuZmlsdGVycyAmJiB0aGlzLmZpbHRlcnMubGVuZ3RoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJBZHZhbmNlZChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuXG4gICAgICAgICAgICAvLyBzaW1wbGUgcmVuZGVyIGNoaWxkcmVuIVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIGFuZCBhZHZhbmNlZCBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJBZHZhbmNlZCA9IGZ1bmN0aW9uIHJlbmRlckFkdmFuY2VkIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG5cbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLmZpbHRlcnM7XG4gICAgICAgIHZhciBtYXNrID0gdGhpcy5fbWFzaztcblxuICAgICAgICAvLyBwdXNoIGZpbHRlciBmaXJzdCBhcyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgc3RlbmNpbCBidWZmZXIgaXMgY29ycmVjdCBmb3IgYW55IG1hc2tpbmdcbiAgICAgICAgaWYgKGZpbHRlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZW5hYmxlZEZpbHRlcnMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ldLmVuYWJsZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5wdXNoKGZpbHRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucHVzaCh0aGlzLCB0aGlzLl9lbmFibGVkRmlsdGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wdXNoKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoaXMgb2JqZWN0IHRvIHRoZSBiYXRjaCwgb25seSByZW5kZXJlZCBpZiBpdCBoYXMgYSB0ZXh0dXJlLlxuICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIG5vdyBsb29wIHRocm91Z2ggdGhlIGNoaWxkcmVuIGFuZCBtYWtlIHN1cmUgdGhleSBnZXQgcmVuZGVyZWRcbiAgICAgICAgZm9yICh2YXIgaSQxID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpJDEgPCBqOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpJDFdLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChtYXNrKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrLnBvcCh0aGlzLCB0aGlzLl9tYXNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIF9yZW5kZXIgKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICAvLyB0aGlzIGlzIHdoZXJlIGNvbnRlbnQgaXRzZWxmIGdldHMgcmVuZGVyZWQuLi5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgaW50ZXJuYWwgcmVmZXJlbmNlcyBhbmQgbGlzdGVuZXJzIGFzIHdlbGwgYXMgcmVtb3ZlcyBjaGlsZHJlbiBmcm9tIHRoZSBkaXNwbGF5IGxpc3QuXG4gICAgICogRG8gbm90IHVzZSBhIENvbnRhaW5lciBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBkZXN0cm95Q2hpbGRyZW4gPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5jaGlsZHJlbjtcblxuICAgICAgICB2YXIgb2xkQ2hpbGRyZW4gPSB0aGlzLnJlbW92ZUNoaWxkcmVuKDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcblxuICAgICAgICBpZiAoZGVzdHJveUNoaWxkcmVuKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZENoaWxkcmVuLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcblxuICAgICAgICBpZiAod2lkdGggIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHZhbHVlIC8gd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnkgKiB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcblxuICAgICAgICBpZiAoaGVpZ2h0ICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB2YWx1ZSAvIGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIENvbnRhaW5lci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIENvbnRhaW5lcjtcbn0oRGlzcGxheU9iamVjdCkpO1xuXG4vLyBwZXJmb3JtYW5jZSBpbmNyZWFzZSB0byBhdm9pZCB1c2luZyBjYWxsLi4gKDEweCBmYXN0ZXIpXG5Db250YWluZXIucHJvdG90eXBlLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSA9IENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5leHBvcnQgeyBCb3VuZHMsIENvbnRhaW5lciwgRGlzcGxheU9iamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcGxheS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvYWNjZXNzaWJpbGl0eSAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9hY2Nlc3NpYmlsaXR5IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgaXNNb2JpbGUsIHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGFjY2Vzc2libGUgb2JqZWN0c1xuICogdXNlZCBieSB7QGxpbmsgUElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIGFjY2Vzc2libGVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJLmFjY2Vzc2liaWxpdHlcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgTXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5hY2Nlc3NpYmlsaXR5LmFjY2Vzc2libGVUYXJnZXRcbiAqICAgICAgKTtcbiAqL1xudmFyIGFjY2Vzc2libGVUYXJnZXQgPSB7XG4gICAgLyoqXG4gICAgICogIEZsYWcgZm9yIGlmIHRoZSBvYmplY3QgaXMgYWNjZXNzaWJsZS4gSWYgdHJ1ZSBBY2Nlc3NpYmlsaXR5TWFuYWdlciB3aWxsIG92ZXJsYXkgYVxuICAgICAqICAgc2hhZG93IGRpdiB3aXRoIGF0dHJpYnV0ZXMgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICAgKiBJZiBhY2Nlc3NpYmxlVGl0bGUgQU5EIGFjY2Vzc2libGVIaW50IGhhcyBub3QgYmVlbiB0aGlzIHdpbGwgZGVmYXVsdCB0byAnZGlzcGxheU9iamVjdCBbdGFiSW5kZXhdJ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7P3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUaXRsZTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFyaWEtbGFiZWwgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlSGludDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICB0YWJJbmRleDogMCxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlQWN0aXZlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlRGl2OiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgdGhlIHR5cGUgb2YgZGl2IHRoZSBhY2Nlc3NpYmxlIGxheWVyIGlzLiBTY3JlZW4gcmVhZGVycyB0cmVhdCB0aGUgZWxlbWVudCBkaWZmZXJlbnRseVxuICAgICAqIGRlcGVuZGluZyBvbiB0aGlzIHR5cGUuIERlZmF1bHRzIHRvIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBkZWZhdWx0ICdidXR0b24nXG4gICAgICovXG4gICAgYWNjZXNzaWJsZVR5cGU6ICdidXR0b24nLFxuXG4gICAgLyoqXG4gICAgICogU3BlY2lmeSB0aGUgcG9pbnRlci1ldmVudHMgdGhlIGFjY2Vzc2libGUgZGl2IHdpbGwgdXNlXG4gICAgICogRGVmYXVsdHMgdG8gYXV0by5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBkZWZhdWx0ICdhdXRvJ1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVQb2ludGVyRXZlbnRzOiAnYXV0bycsXG5cbiAgICAvKipcbiAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIHdpbGwgcHJldmVudCBhbnkgY2hpbGRyZW4gaW5zaWRlIHRoaXMgY29udGFpbmVyIHRvXG4gICAgICogYmUgYWNjZXNzaWJsZS4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgYWNjZXNzaWJsZUNoaWxkcmVuOiB0cnVlLFxufTtcblxuLy8gYWRkIHNvbWUgZXh0cmEgdmFyaWFibGVzIHRvIHRoZSBjb250YWluZXIuLlxuRGlzcGxheU9iamVjdC5taXhpbihhY2Nlc3NpYmxlVGFyZ2V0KTtcblxudmFyIEtFWV9DT0RFX1RBQiA9IDk7XG5cbnZhciBESVZfVE9VQ0hfU0laRSA9IDEwMDtcbnZhciBESVZfVE9VQ0hfUE9TX1ggPSAwO1xudmFyIERJVl9UT1VDSF9QT1NfWSA9IDA7XG52YXIgRElWX1RPVUNIX1pJTkRFWCA9IDI7XG5cbnZhciBESVZfSE9PS19TSVpFID0gMTtcbnZhciBESVZfSE9PS19QT1NfWCA9IC0xMDAwO1xudmFyIERJVl9IT09LX1BPU19ZID0gLTEwMDA7XG52YXIgRElWX0hPT0tfWklOREVYID0gMjtcblxuLyoqXG4gKiBUaGUgQWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHJlY3JlYXRlcyB0aGUgYWJpbGl0eSB0byB0YWIgYW5kIGhhdmUgY29udGVudCByZWFkIGJ5IHNjcmVlbiByZWFkZXJzLlxuICogVGhpcyBpcyB2ZXJ5IGltcG9ydGFudCBhcyBpdCBjYW4gcG9zc2libHkgaGVscCBwZW9wbGUgd2l0aCBkaXNhYmlsaXRpZXMgYWNjZXNzIFBpeGlKUyBjb250ZW50LlxuICpcbiAqIEEgRGlzcGxheU9iamVjdCBjYW4gYmUgbWFkZSBhY2Nlc3NpYmxlIGp1c3QgbGlrZSBpdCBjYW4gYmUgbWFkZSBpbnRlcmFjdGl2ZS4gVGhpcyBtYW5hZ2VyIHdpbGwgbWFwIHRoZVxuICogZXZlbnRzIGFzIGlmIHRoZSBtb3VzZSB3YXMgYmVpbmcgdXNlZCwgbWluaW1pemluZyB0aGUgZWZmb3J0IHJlcXVpcmVkIHRvIGltcGxlbWVudC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmFjY2Vzc2liaWxpdHlgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5hY2Nlc3NpYmlsaXR5XG4gKi9cbnZhciBBY2Nlc3NpYmlsaXR5TWFuYWdlciA9IGZ1bmN0aW9uIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKHJlbmRlcmVyKVxue1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHs/SFRNTEVsZW1lbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbiAgICBpZiAoaXNNb2JpbGUudGFibGV0IHx8IGlzTW9iaWxlLnBob25lKVxuICAgIHtcbiAgICAgICAgdGhpcy5jcmVhdGVUb3VjaEhvb2soKTtcbiAgICB9XG5cbiAgICAvLyBmaXJzdCB3ZSBjcmVhdGUgYSBkaXYgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgZGl2LnN0eWxlLndpZHRoID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZGl2LnN0eWxlLnRvcCA9IERJVl9UT1VDSF9QT1NfWCArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUubGVmdCA9IERJVl9UT1VDSF9QT1NfWSArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWDtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIGRvbSBlbGVtZW50IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAqXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kaXYgPSBkaXY7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSBwb29sIGZvciBzdG9yaW5nIGRpdnMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucG9vbCA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHRpY2sgdXNlZCB0byBjaGVjayBpZiBhbiBvYmplY3QgaXMgbm8gbG9uZ2VyIGJlaW5nIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVySWQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogU2V0dGluZyB0aGlzIHRvIHRydWUgd2lsbCB2aXN1YWxseSBzaG93IHRoZSBkaXZzLlxuICAgICAqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlbmRlcmVyIHRoaXMgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJyYXkgb2YgY3VycmVudGx5IGFjdGl2ZSBhY2Nlc3NpYmxlIGl0ZW1zLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAvKipcbiAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICpcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9vbktleURvd24gPSB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEEgZmxhZ1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEEgZmxhZ1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMuaXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gZmFsc2U7XG5cbiAgICAvLyBsZXQgbGlzdGVuIGZvciB0YWIuLiBvbmNlIHByZXNzZWQgd2UgY2FuIGZpcmUgdXAgYW5kIHNob3cgdGhlIGFjY2Vzc2liaWxpdHkgbGF5ZXJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIHRoZSB0b3VjaCBob29rcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY3JlYXRlVG91Y2hIb29rID0gZnVuY3Rpb24gY3JlYXRlVG91Y2hIb29rICgpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGhvb2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgIGhvb2tEaXYuc3R5bGUud2lkdGggPSBESVZfSE9PS19TSVpFICsgXCJweFwiO1xuICAgIGhvb2tEaXYuc3R5bGUuaGVpZ2h0ID0gRElWX0hPT0tfU0laRSArIFwicHhcIjtcbiAgICBob29rRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBob29rRGl2LnN0eWxlLnRvcCA9IERJVl9IT09LX1BPU19YICsgXCJweFwiO1xuICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IERJVl9IT09LX1BPU19ZICsgXCJweFwiO1xuICAgIGhvb2tEaXYuc3R5bGUuekluZGV4ID0gRElWX0hPT0tfWklOREVYO1xuICAgIGhvb2tEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGRjAwMDAnO1xuICAgIGhvb2tEaXYudGl0bGUgPSAnSE9PSyBESVYnO1xuXG4gICAgaG9va0Rpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcyQxLmlzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IHRydWU7XG4gICAgICAgIHRoaXMkMS5hY3RpdmF0ZSgpO1xuICAgICAgICB0aGlzJDEuZGVzdHJveVRvdWNoSG9vaygpO1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbiAgICB0aGlzLl9ob29rRGl2ID0gaG9va0Rpdjtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIHRvdWNoIGhvb2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95VG91Y2hIb29rID0gZnVuY3Rpb24gZGVzdHJveVRvdWNoSG9vayAoKVxue1xuICAgIGlmICghdGhpcy5faG9va0RpdilcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLl9ob29rRGl2KTtcbiAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbn07XG5cbi8qKlxuICogQWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIHNob3duLlxuICogVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgcHJlc3NlcyB0aGUgdGFiIGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiBhY3RpdmF0ZSAoKVxue1xuICAgIGlmICh0aGlzLmlzQWN0aXZlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgdGhpcy5yZW5kZXJlci5vbigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlLCB0aGlzKTtcblxuICAgIGlmICh0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZSlcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi5cbiAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIG1vdmVzIHRoZSBtb3VzZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIGRlYWN0aXZhdGUgKClcbntcbiAgICBpZiAoIXRoaXMuaXNBY3RpdmUgfHwgdGhpcy5pc01vYmlsZUFjY2Vzc2liaWxpdHkpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgdGhpcy5yZW5kZXJlci5vZmYoJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSk7XG5cbiAgICBpZiAodGhpcy5kaXYucGFyZW50Tm9kZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhpcyByZWN1cnNpdmUgZnVuY3Rpb24gd2lsbCBydW4gdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIGFkZCBhbnkgbmV3IGFjY2Vzc2libGUgb2JqZWN0cyB0byB0aGUgRE9NIGxheWVyLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2hlY2suXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyA9IGZ1bmN0aW9uIHVwZGF0ZUFjY2Vzc2libGVPYmplY3RzIChkaXNwbGF5T2JqZWN0KVxue1xuICAgIGlmICghZGlzcGxheU9iamVjdC52aXNpYmxlIHx8ICFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVDaGlsZHJlbilcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpXG4gICAge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoZGlzcGxheU9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcklkID0gdGhpcy5yZW5kZXJJZDtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoY2hpbGRyZW5baV0pO1xuICAgIH1cbn07XG5cbi8qKlxuICogQmVmb3JlIGVhY2ggcmVuZGVyIHRoaXMgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCBhbGwgZGl2cyBhcmUgbWFwcGVkIGNvcnJlY3RseSB0byB0aGVpciBEaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpXG57XG4gICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBjaGlsZHJlbi4uLlxuICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHModGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkKTtcblxuICAgIHZhciByZWN0ID0gdGhpcy5yZW5kZXJlci52aWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBzeCA9IHJlY3Qud2lkdGggLyB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgIHZhciBzeSA9IHJlY3QuaGVpZ2h0IC8gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICB2YXIgZGl2ID0gdGhpcy5kaXY7XG5cbiAgICBkaXYuc3R5bGUubGVmdCA9IChyZWN0LmxlZnQpICsgXCJweFwiO1xuICAgIGRpdi5zdHlsZS50b3AgPSAocmVjdC50b3ApICsgXCJweFwiO1xuICAgIGRpdi5zdHlsZS53aWR0aCA9ICh0aGlzLnJlbmRlcmVyLndpZHRoKSArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gKHRoaXMucmVuZGVyZXIuaGVpZ2h0KSArIFwicHhcIjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgaWYgKGNoaWxkLnJlbmRlcklkICE9PSB0aGlzLnJlbmRlcklkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZUFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgICAgIHRoaXMuZGl2LnJlbW92ZUNoaWxkKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgIHRoaXMucG9vbC5wdXNoKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcblxuICAgICAgICAgICAgaS0tO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBtYXAgZGl2IHRvIGRpc3BsYXkuLlxuICAgICAgICAgICAgZGl2ID0gY2hpbGQuX2FjY2Vzc2libGVEaXY7XG4gICAgICAgICAgICB2YXIgaGl0QXJlYSA9IGNoaWxkLmhpdEFyZWE7XG4gICAgICAgICAgICB2YXIgd3QgPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLmhpdEFyZWEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAoKHd0LnR4ICsgKGhpdEFyZWEueCAqIHd0LmEpKSAqIHN4KSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gKCh3dC50eSArIChoaXRBcmVhLnkgKiB3dC5kKSkgKiBzeSkgKyBcInB4XCI7XG5cbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSAoaGl0QXJlYS53aWR0aCAqIHd0LmEgKiBzeCkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IChoaXRBcmVhLmhlaWdodCAqIHd0LmQgKiBzeSkgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaGl0QXJlYSA9IGNoaWxkLmdldEJvdW5kcygpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jYXBIaXRBcmVhKGhpdEFyZWEpO1xuXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAoaGl0QXJlYS54ICogc3gpICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSAoaGl0QXJlYS55ICogc3kpICsgXCJweFwiO1xuXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gKGhpdEFyZWEud2lkdGggKiBzeCkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IChoaXRBcmVhLmhlaWdodCAqIHN5KSArIFwicHhcIjtcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBidXR0b24gdGl0bGVzIGFuZCBoaW50cyBpZiB0aGV5IGV4aXN0IGFuZCB0aGV5J3ZlIGNoYW5nZWRcbiAgICAgICAgICAgICAgICBpZiAoZGl2LnRpdGxlICE9PSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgJiYgY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGl2LmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpICE9PSBjaGlsZC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAgICAgICAgICAgICAmJiBjaGlsZC5hY2Nlc3NpYmxlSGludCAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBjaGlsZC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aGUgdGl0bGUgb3IgaW5kZXggbWF5IGhhdmUgY2hhbmdlZCwgaWYgc28gbGV0cyB1cGRhdGUgaXQhXG4gICAgICAgICAgICBpZiAoY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBkaXYudGl0bGUgfHwgY2hpbGQudGFiSW5kZXggIT09IGRpdi50YWJJbmRleClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgICAgICAgZGl2LnRhYkluZGV4ID0gY2hpbGQudGFiSW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIHsgdGhpcy51cGRhdGVEZWJ1Z0hUTUwoZGl2KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gaW5jcmVtZW50IHRoZSByZW5kZXIgaWQuLlxuICAgIHRoaXMucmVuZGVySWQrKztcbn07XG5cbi8qKlxuICogcHJpdmF0ZSBmdW5jdGlvbiB0aGF0IHdpbGwgdmlzdWFsbHkgYWRkIHRoZSBpbmZvcm1hdGlvbiB0byB0aGVcbiAqIGFjY2Vzc2FiaWxpdHkgZGl2XG4gKlxuICogQHBhcmFtIHtIVE1MRGl2RWxlbWVudH0gZGl2XG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVEZWJ1Z0hUTUwgPSBmdW5jdGlvbiB1cGRhdGVEZWJ1Z0hUTUwgKGRpdilcbntcbiAgICBkaXYuaW5uZXJIVE1MID0gXCJ0eXBlOiBcIiArIChkaXYudHlwZSkgKyBcIjwvYnI+IHRpdGxlIDogXCIgKyAoZGl2LnRpdGxlKSArIFwiPC9icj4gdGFiSW5kZXg6IFwiICsgKGRpdi50YWJJbmRleCk7XG59O1xuXG4vKipcbiAqIEFkanVzdCB0aGUgaGl0IGFyZWEgYmFzZWQgb24gdGhlIGJvdW5kcyBvZiBhIGRpc3BsYXkgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gaGl0QXJlYSAtIEJvdW5kcyBvZiB0aGUgY2hpbGRcbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmNhcEhpdEFyZWEgPSBmdW5jdGlvbiBjYXBIaXRBcmVhIChoaXRBcmVhKVxue1xuICAgIGlmIChoaXRBcmVhLnggPCAwKVxuICAgIHtcbiAgICAgICAgaGl0QXJlYS53aWR0aCArPSBoaXRBcmVhLng7XG4gICAgICAgIGhpdEFyZWEueCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGhpdEFyZWEueSA8IDApXG4gICAge1xuICAgICAgICBoaXRBcmVhLmhlaWdodCArPSBoaXRBcmVhLnk7XG4gICAgICAgIGhpdEFyZWEueSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGhpdEFyZWEueCArIGhpdEFyZWEud2lkdGggPiB0aGlzLnJlbmRlcmVyLndpZHRoKVxuICAgIHtcbiAgICAgICAgaGl0QXJlYS53aWR0aCA9IHRoaXMucmVuZGVyZXIud2lkdGggLSBoaXRBcmVhLng7XG4gICAgfVxuXG4gICAgaWYgKGhpdEFyZWEueSArIGhpdEFyZWEuaGVpZ2h0ID4gdGhpcy5yZW5kZXJlci5oZWlnaHQpXG4gICAge1xuICAgICAgICBoaXRBcmVhLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0IC0gaGl0QXJlYS55O1xuICAgIH1cbn07XG5cbi8qKlxuICogQWRkcyBhIERpc3BsYXlPYmplY3QgdG8gdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBjaGlsZCB0byBtYWtlIGFjY2Vzc2libGUuXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIGFkZENoaWxkIChkaXNwbGF5T2JqZWN0KVxue1xuICAgIC8vdGhpcy5hY3RpdmF0ZSgpO1xuXG4gICAgdmFyIGRpdiA9IHRoaXMucG9vbC5wb3AoKTtcblxuICAgIGlmICghZGl2KVxuICAgIHtcbiAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuZGVidWcgPyAncmdiYSgyNTUsMjU1LDI1NSwwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYO1xuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnbm9uZSc7XG5cbiAgICAgICAgLy8gQVJJQSBhdHRyaWJ1dGVzIGVuc3VyZSB0aGF0IGJ1dHRvbiB0aXRsZSBhbmQgaGludCB1cGRhdGVzIGFyZSBhbm5vdW5jZWQgcHJvcGVybHlcbiAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBDaHJvbWUgZG9lc24ndCBuZWVkIGFyaWEtbGl2ZSB0byB3b3JrIGFzIGludGVuZGVkOyBpbiBmYWN0IGl0IGp1c3QgZ2V0cyBtb3JlIGNvbmZ1c2VkLlxuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3J2Oi4qR2Vja29cXC8vKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gRmlyZUZveCBuZWVkcyB0aGlzIHRvIGFubm91bmNlIG9ubHkgdGhlIG5ldyBidXR0b24gbmFtZVxuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICdhZGRpdGlvbnMnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIGJ5IElFLCBvdGhlciBicm93c2VycyBkb24ndCBtdWNoIGNhcmVcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAndGV4dCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5fb25Gb2N1c091dC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvLyBzZXQgcG9pbnRlciBldmVudHNcbiAgICBkaXYuc3R5bGUucG9pbnRlckV2ZW50cyA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVBvaW50ZXJFdmVudHM7XG4gICAgLy8gc2V0IHRoZSB0eXBlLCB0aGlzIGRlZmF1bHRzIHRvIGJ1dHRvbiFcbiAgICBkaXYudHlwZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVR5cGU7XG5cbiAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpXG4gICAge1xuICAgICAgICBkaXYudGl0bGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICB8fCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgZGl2LnRpdGxlID0gXCJkaXNwbGF5T2JqZWN0IFwiICsgKGRpc3BsYXlPYmplY3QudGFiSW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpXG4gICAge1xuICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGVidWcpIHsgdGhpcy51cGRhdGVEZWJ1Z0hUTUwoZGl2KTsgfVxuXG4gICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSA9IHRydWU7XG4gICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdiA9IGRpdjtcbiAgICBkaXYuZGlzcGxheU9iamVjdCA9IGRpc3BsYXlPYmplY3Q7XG5cbiAgICB0aGlzLmNoaWxkcmVuLnB1c2goZGlzcGxheU9iamVjdCk7XG4gICAgdGhpcy5kaXYuYXBwZW5kQ2hpbGQoZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdik7XG4gICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdi50YWJJbmRleCA9IGRpc3BsYXlPYmplY3QudGFiSW5kZXg7XG59O1xuXG4vKipcbiAqIE1hcHMgdGhlIGRpdiBidXR0b24gcHJlc3MgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAoY2xpY2spXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBjbGljayBldmVudC5cbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkNsaWNrID0gZnVuY3Rpb24gX29uQ2xpY2sgKGUpXG57XG4gICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdjbGljaycsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdwb2ludGVydGFwJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ3RhcCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xufTtcblxuLyoqXG4gKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3ZlcilcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3VzIGV2ZW50LlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXMgPSBmdW5jdGlvbiBfb25Gb2N1cyAoZSlcbntcbiAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpKVxuICAgIHtcbiAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgfVxuICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG59O1xuXG4vKipcbiAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdXQpXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1c291dCBldmVudC5cbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzT3V0ID0gZnVuY3Rpb24gX29uRm9jdXNPdXQgKGUpXG57XG4gICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKSlcbiAgICB7XG4gICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgIH1cbiAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG59O1xuXG4vKipcbiAqIElzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gVGhlIGtleWRvd24gZXZlbnQuXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25LZXlEb3duID0gZnVuY3Rpb24gX29uS2V5RG93biAoZSlcbntcbiAgICBpZiAoZS5rZXlDb2RlICE9PSBLRVlfQ09ERV9UQUIpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5hY3RpdmF0ZSgpO1xufTtcblxuLyoqXG4gKiBJcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBtb3VzZSBldmVudC5cbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIF9vbk1vdXNlTW92ZSAoZSlcbntcbiAgICBpZiAoZS5tb3ZlbWVudFggPT09IDAgJiYgZS5tb3ZlbWVudFkgPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5kZWFjdGl2YXRlKCk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAqXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMuZGVzdHJveVRvdWNoSG9vaygpO1xuICAgIHRoaXMuZGl2ID0gbnVsbDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZGl2ID0gbnVsbDtcbiAgICB9XG5cbiAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcblxuICAgIHRoaXMucG9vbCA9IG51bGw7XG4gICAgdGhpcy5jaGlsZHJlbiA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG59O1xuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIGFuIGFjY2Vzc2liaWxpdHkgcGx1Z2luIGZvciBhbGxvd2luZyBpbnRlcmFjdGlvbiB2aWEgdGhlIGtleWJvYXJkLlxuICpcbiAqIERvIG5vdCBpbnN0YW50aWF0ZSB0aGlzIHBsdWdpbiBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBuYW1lc3BhY2UgUElYSS5hY2Nlc3NpYmlsaXR5XG4gKi9cblxuZXhwb3J0IHsgQWNjZXNzaWJpbGl0eU1hbmFnZXIsIGFjY2Vzc2libGVUYXJnZXQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFjY2Vzc2liaWxpdHkuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3J1bm5lciAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9ydW5uZXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIEEgUnVubmVyIGlzIGEgaGlnaGx5IHBlcmZvcm1hbnQgYW5kIHNpbXBsZSBhbHRlcm5hdGl2ZSB0byBzaWduYWxzLiBCZXN0IHVzZWQgaW4gc2l0dWF0aW9uc1xuICogd2hlcmUgZXZlbnRzIGFyZSBkaXNwYXRjaGVkIHRvIG1hbnkgb2JqZWN0cyBhdCBoaWdoIGZyZXF1ZW5jeSAoc2F5IGV2ZXJ5IGZyYW1lISlcbiAqXG4gKlxuICogbGlrZSBhIHNpZ25hbC4uXG4gKiBgYGBcbiAqIGltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG4gKlxuICogY29uc3QgbXlPYmplY3QgPSB7XG4gKiAgICAgbG9hZGVkOiBuZXcgUnVubmVyKCdsb2FkZWQnKVxuICogfVxuICpcbiAqIGNvbnN0IGxpc3RlbmVyID0ge1xuICogICAgIGxvYWRlZDogZnVuY3Rpb24oKXtcbiAqICAgICAgICAgLy8gdGhpblxuICogICAgIH1cbiAqIH1cbiAqXG4gKiBteU9iamVjdC51cGRhdGUuYWRkKGxpc3RlbmVyKTtcbiAqXG4gKiBteU9iamVjdC5sb2FkZWQuZW1pdCgpO1xuICogYGBgXG4gKlxuICogT3IgZm9yIGhhbmRsaW5nIGNhbGxpbmcgdGhlIHNhbWUgZnVuY3Rpb24gb24gbWFueSBpdGVtc1xuICogYGBgXG4gKiBpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuICpcbiAqIGNvbnN0IG15R2FtZSA9IHtcbiAqICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpXG4gKiB9XG4gKlxuICogY29uc3QgZ2FtZU9iamVjdCA9IHtcbiAqICAgICB1cGRhdGU6IGZ1bmN0aW9uKHRpbWUpe1xuICogICAgICAgICAvLyB1cGRhdGUgbXkgZ2FtZXkgc3RhdGVcbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlHYW1lLnVwZGF0ZS5hZGQoZ2FtZU9iamVjdDEpO1xuICpcbiAqIG15R2FtZS51cGRhdGUuZW1pdCh0aW1lKTtcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUnVubmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqICBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgZnVuY3Rpb24gbmFtZSB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgb24gdGhlIGxpc3RlbmVycyBhZGRlZCB0byB0aGlzIFJ1bm5lci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSdW5uZXIobmFtZSkge1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLl9hbGlhc0NvdW50ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2gvQnJvYWRjYXN0IFJ1bm5lciB0byBhbGwgbGlzdGVuZXJzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gey4uLmFueX0gcGFyYW1zIC0gb3B0aW9uYWwgcGFyYW1ldGVycyB0byBwYXNzIHRvIGVhY2ggbGlzdGVuZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJ1bm5lcn1cbiAgICAgKi9cbiAgICBSdW5uZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gOCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXggYXJndW1lbnRzIHJlYWNoZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBuYW1lID0gX2EubmFtZSwgaXRlbXMgPSBfYS5pdGVtcztcbiAgICAgICAgdGhpcy5fYWxpYXNDb3VudCsrO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaXRlbXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGl0ZW1zW2ldW25hbWVdKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW1zID09PSB0aGlzLml0ZW1zKSB7XG4gICAgICAgICAgICB0aGlzLl9hbGlhc0NvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBSdW5uZXIucHJvdG90eXBlLmVuc3VyZU5vbkFsaWFzZWRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FsaWFzQ291bnQgPiAwICYmIHRoaXMuaXRlbXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5zbGljZSgwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgbGlzdGVuZXIgdG8gdGhlIFJ1bm5lclxuICAgICAqXG4gICAgICogUnVubmVycyBkbyBub3QgbmVlZCB0byBoYXZlIHNjb3BlIG9yIGZ1bmN0aW9ucyBwYXNzZWQgdG8gdGhlbS5cbiAgICAgKiBBbGwgdGhhdCBpcyByZXF1aXJlZCBpcyB0byBwYXNzIHRoZSBsaXN0ZW5pbmcgb2JqZWN0IGFuZCBlbnN1cmUgdGhhdCBpdCBoYXMgY29udGFpbnMgYSBmdW5jdGlvbiB0aGF0IGhhcyB0aGUgc2FtZSBuYW1lXG4gICAgICogYXMgdGhlIG5hbWUgcHJvdmlkZWQgdG8gdGhlIFJ1bm5lciB3aGVuIGl0IHdhcyBjcmVhdGVkLlxuICAgICAqXG4gICAgICogRWcgQSBsaXN0ZW5lciBwYXNzZWQgdG8gdGhpcyBSdW5uZXIgd2lsbCByZXF1aXJlIGEgJ2NvbXBsZXRlJyBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIGltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG4gICAgICpcbiAgICAgKiBjb25zdCBjb21wbGV0ZSA9IG5ldyBSdW5uZXIoJ2NvbXBsZXRlJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGUgc2NvcGUgdXNlZCB3aWxsIGJlIHRoZSBvYmplY3QgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgb2JqZWN0IHRoYXQgd2lsbCBiZSBsaXN0ZW5pbmcuXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBpZiAoaXRlbVt0aGlzLl9uYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgc2luZ2xlIGxpc3RlbmVyIGZyb20gdGhlIGRpc3BhdGNoIHF1ZXVlLlxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIGxpc3RlbnIgdGhhdCB5b3Ugd291bGQgbGlrZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgdGhlIGxpc3RlbmVyIGlzIGFscmVhZHkgaW4gdGhlIFJ1bm5lclxuICAgICAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIGxpc3RlbmVyIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gY2hlY2suXG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSkgIT09IC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZnJvbSB0aGUgUnVubmVyXG4gICAgICogQHJldHVybiB7UElYSS5SdW5uZXJ9XG4gICAgICovXG4gICAgUnVubmVyLnByb3RvdHlwZS5yZW1vdmVBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgIHRoaXMuaXRlbXMubGVuZ3RoID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIHJlZmVyZW5jZXMsIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqL1xuICAgIFJ1bm5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX25hbWUgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bm5lci5wcm90b3R5cGUsIFwiZW1wdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoZXJlIGFyZSBubyB0aGlzIFJ1bm5lciBjb250YWlucyBubyBsaXN0ZW5lcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bm5lci5wcm90b3R5cGUsIFwibmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcnVubmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFJ1bm5lcjtcbn0oKSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhSdW5uZXIucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGBlbWl0YFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLlJ1bm5lciNcbiAgICAgKiBAbWV0aG9kIGRpc3BhdGNoXG4gICAgICogQHNlZSBQSVhJLlJ1bm5lciNlbWl0XG4gICAgICovXG4gICAgZGlzcGF0Y2g6IHsgdmFsdWU6IFJ1bm5lci5wcm90b3R5cGUuZW1pdCB9LFxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgZW1pdGBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5SdW5uZXIjXG4gICAgICogQG1ldGhvZCBydW5cbiAgICAgKiBAc2VlIFBJWEkuUnVubmVyI2VtaXRcbiAgICAgKi9cbiAgICBydW46IHsgdmFsdWU6IFJ1bm5lci5wcm90b3R5cGUuZW1pdCB9LFxufSk7XG5cbmV4cG9ydCB7IFJ1bm5lciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVubmVyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90aWNrZXIgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvdGlja2VyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogVGFyZ2V0IGZyYW1lcyBwZXIgbWlsbGlzZWNvbmQuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUX0ZQTVNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMC4wNlxuICovXG5zZXR0aW5ncy5UQVJHRVRfRlBNUyA9IDAuMDY7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgdXBkYXRlIHByaW9yaXRpZXMgdXNlZCBieSBpbnRlcm5hbCBQSVhJIGNsYXNzZXMgd2hlbiByZWdpc3RlcmVkIHdpdGhcbiAqIHRoZSB7QGxpbmsgUElYSS5UaWNrZXJ9IG9iamVjdC4gSGlnaGVyIHByaW9yaXR5IGl0ZW1zIGFyZSB1cGRhdGVkIGZpcnN0IGFuZCBsb3dlclxuICogcHJpb3JpdHkgaXRlbXMsIHN1Y2ggYXMgcmVuZGVyLCBzaG91bGQgZ28gbGF0ZXIuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBVUERBVEVfUFJJT1JJVFlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IElOVEVSQUNUSU9OPTUwIEhpZ2hlc3QgcHJpb3JpdHksIHVzZWQgZm9yIHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIPTI1IEhpZ2ggcHJpb3JpdHkgdXBkYXRpbmcsIHtAbGluayBQSVhJLlZpZGVvQmFzZVRleHR1cmV9IGFuZCB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUw9MCBEZWZhdWx0IHByaW9yaXR5IGZvciB0aWNrZXIgZXZlbnRzLCBzZWUge0BsaW5rIFBJWEkuVGlja2VyI2FkZH0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XPS0yNSBMb3cgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkuQXBwbGljYXRpb259IHJlbmRlcmluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVVElMSVRZPS01MCBMb3dlc3QgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gdXRpbGl0eS5cbiAqL1xudmFyIFVQREFURV9QUklPUklUWTtcbihmdW5jdGlvbiAoVVBEQVRFX1BSSU9SSVRZKSB7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIklOVEVSQUNUSU9OXCJdID0gNTBdID0gXCJJTlRFUkFDVElPTlwiO1xuICAgIFVQREFURV9QUklPUklUWVtVUERBVEVfUFJJT1JJVFlbXCJISUdIXCJdID0gMjVdID0gXCJISUdIXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIk5PUk1BTFwiXSA9IDBdID0gXCJOT1JNQUxcIjtcbiAgICBVUERBVEVfUFJJT1JJVFlbVVBEQVRFX1BSSU9SSVRZW1wiTE9XXCJdID0gLTI1XSA9IFwiTE9XXCI7XG4gICAgVVBEQVRFX1BSSU9SSVRZW1VQREFURV9QUklPUklUWVtcIlVUSUxJVFlcIl0gPSAtNTBdID0gXCJVVElMSVRZXCI7XG59KShVUERBVEVfUFJJT1JJVFkgfHwgKFVQREFURV9QUklPUklUWSA9IHt9KSk7XG5cbi8qKlxuICogSW50ZXJuYWwgY2xhc3MgZm9yIGhhbmRsaW5nIHRoZSBwcmlvcml0eSBzb3J0aW5nIG9mIHRpY2tlciBoYW5kbGVycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlja2VyTGlzdGVuZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dD1udWxsXSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT0wXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvbmNlPWZhbHNlXSAtIElmIHRoZSBoYW5kbGVyIHNob3VsZCBmaXJlIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHksIG9uY2UpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICBpZiAocHJpb3JpdHkgPT09IHZvaWQgMCkgeyBwcmlvcml0eSA9IDA7IH1cbiAgICAgICAgaWYgKG9uY2UgPT09IHZvaWQgMCkgeyBvbmNlID0gZmFsc2U7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbGxpbmcgdG8gZXhlY3V0ZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Kn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBwcmlvcml0eS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBzaG91bGQgb25seSBleGVjdXRlIG9uY2UuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uY2UgPSBvbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5leHQgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByZXZpb3VzIGl0ZW0gaW4gY2hhaW4uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhpcyBsaXN0ZW5lciBoYXMgYmVlbiBkZXN0cm95ZWQgYWxyZWFkeS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaW1wbGUgY29tcGFyZSBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IGlmIGEgZnVuY3Rpb24gYW5kIGNvbnRleHQgbWF0Y2guXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7YW55fSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgbGlzdGVuZXIgbWF0Y2ggdGhlIGFyZ3VtZW50c1xuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiB0aGlzLmZuID09PSBmbiAmJiB0aGlzLmNvbnRleHQgPT09IGNvbnRleHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbWl0IGJ5IGNhbGxpbmcgdGhlIGN1cnJlbnQgZnVuY3Rpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBzaW5jZSB0aGUgbGFzdCBlbWl0LlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBOZXh0IHRpY2tlclxuICAgICAqL1xuICAgIFRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGRlbHRhVGltZSkge1xuICAgICAgICBpZiAodGhpcy5mbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZuKGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuICAgICAgICBpZiAodGhpcy5vbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29mdC1kZXN0cm95aW5nIHNob3VsZCByZW1vdmVcbiAgICAgICAgLy8gdGhlIG5leHQgcmVmZXJlbmNlXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgbGlzdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IHByZXZpb3VzIC0gSW5wdXQgbm9kZSwgcHJldmlvdXMgbGlzdGVuZXJcbiAgICAgKi9cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChwcmV2aW91cykge1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG4gICAgICAgIGlmIChwcmV2aW91cy5uZXh0KSB7XG4gICAgICAgICAgICBwcmV2aW91cy5uZXh0LnByZXZpb3VzID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHQgPSBwcmV2aW91cy5uZXh0O1xuICAgICAgICBwcmV2aW91cy5uZXh0ID0gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaGFyZCA9IGZhbHNlXSBgdHJ1ZWAgdG8gcmVtb3ZlIHRoZSBgbmV4dGAgcmVmZXJlbmNlLCB0aGlzXG4gICAgICogICAgICAgIGlzIGNvbnNpZGVyZWQgYSBoYXJkIGRlc3Ryb3kuIFNvZnQgZGVzdHJveSBtYWludGFpbnMgdGhlIG5leHQgcmVmZXJlbmNlLlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBUaGUgbGlzdGVuZXIgdG8gcmVkaXJlY3Qgd2hpbGUgZW1pdHRpbmcgb3IgcmVtb3ZpbmcuXG4gICAgICovXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoaGFyZCkge1xuICAgICAgICBpZiAoaGFyZCA9PT0gdm9pZCAwKSB7IGhhcmQgPSBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmZuID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgLy8gRGlzY29ubmVjdCwgaG9vayB1cCBuZXh0IGFuZCBwcmV2aW91c1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91cykge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5leHQpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dC5wcmV2aW91cyA9IHRoaXMucHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVkaXJlY3QgdG8gdGhlIG5leHQgaXRlbVxuICAgICAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG4gICAgICAgIC8vIFJlbW92ZSByZWZlcmVuY2VzXG4gICAgICAgIHRoaXMubmV4dCA9IGhhcmQgPyBudWxsIDogcmVkaXJlY3Q7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfTtcbiAgICByZXR1cm4gVGlja2VyTGlzdGVuZXI7XG59KCkpO1xuXG4vKipcbiAqIEEgVGlja2VyIGNsYXNzIHRoYXQgcnVucyBhbiB1cGRhdGUgbG9vcCB0aGF0IG90aGVyIG9iamVjdHMgbGlzdGVuIHRvLlxuICpcbiAqIFRoaXMgY2xhc3MgaXMgY29tcG9zZWQgYXJvdW5kIGxpc3RlbmVycyBtZWFudCBmb3IgZXhlY3V0aW9uIG9uIHRoZSBuZXh0IHJlcXVlc3RlZCBhbmltYXRpb24gZnJhbWUuXG4gKiBBbmltYXRpb24gZnJhbWVzIGFyZSByZXF1ZXN0ZWQgb25seSB3aGVuIG5lY2Vzc2FyeSwgZS5nLiBXaGVuIHRoZSB0aWNrZXIgaXMgc3RhcnRlZCBhbmQgdGhlIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGlja2VyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZpcnN0IGxpc3RlbmVyLiBBbGwgbmV3IGxpc3RlbmVycyBhZGRlZCBhcmUgY2hhaW5lZCBvbiB0aGlzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWFkID0gbmV3IFRpY2tlckxpc3RlbmVyKG51bGwsIG51bGwsIEluZmluaXR5KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGN1cnJlbnQgZnJhbWUgcmVxdWVzdCBJRFxuICAgICAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB2YWx1ZSBtYW5hZ2VkIGJ5IG1pbkZQUyBwcm9wZXJ0eSBzZXR0ZXIgYW5kIGdldHRlci5cbiAgICAgICAgICogVGhpcyBpcyB0aGUgbWF4aW11bSBhbGxvd2VkIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxMDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB2YWx1ZSBtYW5hZ2VkIGJ5IG1heEZQUyBwcm9wZXJ0eSBzZXR0ZXIgYW5kIGdldHRlci5cbiAgICAgICAgICogVGhpcyBpcyB0aGUgbWluaW11bSBhbGxvd2VkIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgc2hvdWxkIGludm9rZSB0aGUgbWV0aG9kXG4gICAgICAgICAqIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gYXV0b21hdGljYWxseVxuICAgICAgICAgKiB3aGVuIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9TdGFydCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGFyIHRpbWUgdmFsdWUgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgY2FwcGVkIGJ5IHNldHRpbmcge0BsaW5rIFBJWEkuVGlja2VyI21pbkZQU31cbiAgICAgICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0uXG4gICAgICAgICAqICoqTm90ZToqKiBUaGUgY2FwIG1heSBiZSBleGNlZWRlZCBieSBzY2FsaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVsdGFUaW1lID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxlciB0aW1lIGVsYXBzZWQgaW4gbWlsbGlzZWNvbmRzIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGNhcHBlZCBieSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNtaW5GUFN9XG4gICAgICAgICAqIGFuZCBpcyBzY2FsZWQgd2l0aCB7QGxpbmsgUElYSS5UaWNrZXIjc3BlZWR9LlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhlIGNhcCBtYXkgYmUgZXhjZWVkZWQgYnkgc2NhbGluZy5cbiAgICAgICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAgICAgKiBEZWZhdWx0cyB0byB0YXJnZXQgZnJhbWUgdGltZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDE2LjY2XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhTVMgPSAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lIGVsYXBzZWQgaW4gbWlsbGlzZWNvbmRzIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBPcHBvc2VkIHRvIHdoYXQgdGhlIHNjYWxhciB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfVxuICAgICAgICAgKiBpcyBiYXNlZCwgdGhpcyB2YWx1ZSBpcyBuZWl0aGVyIGNhcHBlZCBub3Igc2NhbGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxhcHNlZE1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfSB3YXMgaW52b2tlZC5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBhbHNvIHJlc2V0IGludGVybmFsbHkgb3V0c2lkZSBvZiBpbnZva2luZ1xuICAgICAgICAgKiB1cGRhdGUsIGJ1dCBvbmx5IHdoZW4gYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RUaW1lID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGYWN0b3Igb2YgY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU2NhbGVzIHRpY2tlci5kZWx0YVRpbWUgdG8gd2hhdCB3b3VsZCBiZVxuICAgICAgICAgKiAvLyB0aGUgZXF1aXZhbGVudCBvZiBhcHByb3hpbWF0ZWx5IDEyMCBGUFNcbiAgICAgICAgICogdGlja2VyLnNwZWVkID0gMjtcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNwZWVkID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQuXG4gICAgICAgICAqIGB0cnVlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RhcnR9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICogYGZhbHNlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RvcH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBXaGlsZSBgZmFsc2VgLCB0aGlzIHZhbHVlIG1heSBjaGFuZ2UgdG8gYHRydWVgIGluIHRoZVxuICAgICAgICAgKiBldmVudCBvZiB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBiZWluZyBgdHJ1ZWBcbiAgICAgICAgICogYW5kIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQsIGRlbGV0aW5nIGlzIGRpc2FibGVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvdGVjdGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIGtleWZyYW1lIHdhcyBleGVjdXRlZC5cbiAgICAgICAgICogTWFpbnRhaW5zIGEgcmVsYXRpdmVseSBmaXhlZCBpbnRlcnZhbCB3aXRoIHRoZSBwcmV2aW91cyB2YWx1ZS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gLTE7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCB0aWNrIG1ldGhvZCBib3VuZCB0byB0aWNrZXIgaW5zdGFuY2UuXG4gICAgICAgICAqIFRoaXMgaXMgYmVjYXVzZSBpbiBlYXJseSAyMDE1LCBGdW5jdGlvbi5iaW5kXG4gICAgICAgICAqIGlzIHN0aWxsIDYwJSBzbG93ZXIgaW4gaGlnaCBwZXJmb3JtYW5jZSBzY2VuYXJpb3MuXG4gICAgICAgICAqIEFsc28gc2VwYXJhdGluZyBmcmFtZSByZXF1ZXN0cyBmcm9tIHVwZGF0ZSBtZXRob2RcbiAgICAgICAgICogc28gbGlzdGVuZXJzIG1heSBiZSBjYWxsZWQgYXQgYW55IHRpbWUgYW5kIHdpdGhcbiAgICAgICAgICogYW55IGFuaW1hdGlvbiBBUEksIGp1c3QgaW52b2tlIHRpY2tlci51cGRhdGUodGltZSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgICAgIF90aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKF90aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIG5vd1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW5lciBzaWRlIGVmZmVjdHMgbWF5IGhhdmUgbW9kaWZpZWQgdGlja2VyIHN0YXRlLlxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGFydGVkICYmIF90aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgX3RoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLl90aWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIElmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsXG4gICAgICogZW1pdHRlciBoYXMgbGlzdGVuZXJzLCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuX3JlcXVlc3RJZk5lZWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiB0aGlzLl9oZWFkLm5leHQpIHtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjYWxsYmFja3MgZ2V0IGNvcnJlY3QgZGVsdGFcbiAgICAgICAgICAgIHRoaXMubGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RGcmFtZSA9IHRoaXMubGFzdFRpbWU7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgY2FuY2VscyBhIHBlbmRpbmcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9jYW5jZWxJZk5lZWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIElmIHRoZSB0aWNrZXIgaGFzIGJlZW4gc3RhcnRlZCBpdCBjaGVja3MgaWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHlcbiAgICAgKiBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbCBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuIElmIHRoZXNlXG4gICAgICogY29uZGl0aW9ucyBhcmUgbWV0LCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuIElmIHRoZSB0aWNrZXIgaGFzIG5vdFxuICAgICAqIGJlZW4gc3RhcnRlZCwgYnV0IGF1dG9TdGFydCBpcyBgdHJ1ZWAsIHRoZW4gdGhlIHRpY2tlciBzdGFydHMgbm93LFxuICAgICAqIGFuZCBjb250aW51ZXMgd2l0aCB0aGUgcHJldmlvdXMgY29uZGl0aW9ucyB0byByZXF1ZXN0IGEgbmV3IGZyYW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLl9zdGFydElmUG9zc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0b1N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3IgdGljayBldmVudHMuIENhbGxzIGNvbnRpbnVvdXNseSB1bmxlc3NcbiAgICAgKiBpdCBpcyByZW1vdmVkIG9yIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciB1cGRhdGVzXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChmbiwgY29udGV4dCwgcHJpb3JpdHkpIHtcbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSB2b2lkIDApIHsgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMOyB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgVGlja2VyTGlzdGVuZXIoZm4sIGNvbnRleHQsIHByaW9yaXR5KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBoYW5kbGVyIGZvciB0aGUgdGljayBldmVudCB3aGljaCBpcyBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZE9uY2UgPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQsIHByaW9yaXR5KSB7XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgdHJ1ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWxseSBhZGRzIHRoZSBldmVudCBoYW5kbGVyIHNvIHRoYXQgaXQgY2FuIGJlIHNvcnRlZCBieSBwcmlvcml0eS5cbiAgICAgKiBQcmlvcml0eSBhbGxvd3MgY2VydGFpbiBoYW5kbGVyICh1c2VyLCBBbmltYXRlZFNwcml0ZSwgSW50ZXJhY3Rpb24pIHRvIGJlIHJ1blxuICAgICAqIGJlZm9yZSB0aGUgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RpY2tlckxpc3RlbmVyfSBsaXN0ZW5lciAtIEN1cnJlbnQgbGlzdGVuZXIgYmVpbmcgYWRkZWQuXG4gICAgICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5fYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgLy8gRm9yIGF0dGFjaGluZyB0byBoZWFkXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICB2YXIgcHJldmlvdXMgPSB0aGlzLl9oZWFkO1xuICAgICAgICAvLyBBZGQgdGhlIGZpcnN0IGl0ZW1cbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEdvIGZyb20gaGlnaGVzdCB0byBsb3dlc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLnByaW9yaXR5ID4gY3VycmVudC5wcmlvcml0eSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm90IHlldCBjb25uZWN0ZWRcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXIucHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFydElmUG9zc2libGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFueSBoYW5kbGVycyBtYXRjaGluZyB0aGUgZnVuY3Rpb24gYW5kIGNvbnRleHQgcGFyYW1ldGVycy5cbiAgICAgKiBJZiBubyBoYW5kbGVycyBhcmUgbGVmdCBhZnRlciByZW1vdmluZywgdGhlbiBpdCBjYW5jZWxzIHRoZSBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSByZW1vdmVkXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dCB0byBiZSByZW1vdmVkXG4gICAgICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZm4sIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2gsIGxldHMgcmVtb3ZlIGl0XG4gICAgICAgICAgICAvLyBubyBicmVhayB0byBkZWxldGUgYWxsIHBvc3NpYmxlIG1hdGNoZXNcbiAgICAgICAgICAgIC8vIGluY2FzZSBhIGxpc3RlbmVyIHdhcyBhZGRlZCAyKyB0aW1lc1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm1hdGNoKGZuLCBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIGxpc3RlbmVyc1xuICAgICAqIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQgYXQgdGhpcyBwb2ludC5cbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyByZXF1ZXN0ZWRcbiAgICAgKiBhbiBhbmltYXRpb24gZnJhbWUgaXQgaXMgY2FuY2VsZWQgYXQgdGhpcyBwb2ludC5cbiAgICAgKi9cbiAgICBUaWNrZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgdGlja2VyIGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy4gQ2FsbGluZ1xuICAgICAqIHRoaXMgbWV0aG9kIHJlbW92ZXMgYWxsIHJlZmVyZW5jZXMgdG8gaW50ZXJuYWwgZXZlbnRzLlxuICAgICAqL1xuICAgIFRpY2tlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm90ZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICAgICAgd2hpbGUgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGVhZC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYW4gdXBkYXRlLiBBbiB1cGRhdGUgZW50YWlscyBzZXR0aW5nIHRoZVxuICAgICAqIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2VsYXBzZWRNU30sXG4gICAgICogdGhlIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICogaW52b2tpbmcgYWxsIGxpc3RlbmVycyB3aXRoIGN1cnJlbnQgZGVsdGFUaW1lLFxuICAgICAqIGFuZCB0aGVuIGZpbmFsbHkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbGFzdFRpbWV9XG4gICAgICogd2l0aCB0aGUgdmFsdWUgb2YgY3VycmVudFRpbWUgdGhhdCB3YXMgcHJvdmlkZWQuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSBhbmltYXRpb25cbiAgICAgKiBmcmFtZSBjYWxsYmFja3MgaWYgdGhlIHRpY2tlciBpbnN0YW5jZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICogYW5kIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2N1cnJlbnRUaW1lPXBlcmZvcm1hbmNlLm5vdygpXSAtIHRoZSBjdXJyZW50IHRpbWUgb2YgZXhlY3V0aW9uXG4gICAgICovXG4gICAgVGlja2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoY3VycmVudFRpbWUpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lID09PSB2b2lkIDApIHsgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTsgfVxuICAgICAgICB2YXIgZWxhcHNlZE1TO1xuICAgICAgICAvLyBJZiB0aGUgZGlmZmVyZW5jZSBpbiB0aW1lIGlzIHplcm8gb3IgbmVnYXRpdmUsIHdlIGlnbm9yZSBtb3N0IG9mIHRoZSB3b3JrIGRvbmUgaGVyZS5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gdmFsaWQgZGlmZmVyZW5jZSwgdGhlbiBzaG91bGQgYmUgbm8gcmVhc29uIHRvIGxldCBhbnlvbmUga25vdyBhYm91dCBpdC5cbiAgICAgICAgLy8gQSB6ZXJvIGRlbHRhLCBpcyBleGFjdGx5IHRoYXQsIG5vdGhpbmcgc2hvdWxkIHVwZGF0ZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlIGRpZmZlcmVuY2UgaW4gdGltZSBjYW4gYmUgbmVnYXRpdmUsIGFuZCBubyB0aGlzIGRvZXMgbm90IG1lYW4gdGltZSB0cmF2ZWxpbmcuXG4gICAgICAgIC8vIFRoaXMgY2FuIGJlIHRoZSByZXN1bHQgb2YgYSByYWNlIGNvbmRpdGlvbiBiZXR3ZWVuIHdoZW4gYW4gYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZFxuICAgICAgICAvLyBvbiB0aGUgY3VycmVudCBKYXZhU2NyaXB0IGVuZ2luZSBldmVudCBsb29wLCBhbmQgd2hlbiB0aGUgdGlja2VyJ3Mgc3RhcnQgbWV0aG9kIGlzIGludm9rZWRcbiAgICAgICAgLy8gKHdoaWNoIGludm9rZXMgdGhlIGludGVybmFsIF9yZXF1ZXN0SWZOZWVkZWQgbWV0aG9kKS4gSWYgYSBmcmFtZSBpcyByZXF1ZXN0ZWQgYmVmb3JlXG4gICAgICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQgaXMgaW52b2tlZCwgdGhlbiB0aGUgY2FsbGJhY2sgZm9yIHRoZSBhbmltYXRpb24gZnJhbWUgdGhlIHRpY2tlciByZXF1ZXN0cyxcbiAgICAgICAgLy8gY2FuIHJlY2VpdmUgYSB0aW1lIGFyZ3VtZW50IHRoYXQgY2FuIGJlIGxlc3MgdGhhbiB0aGUgbGFzdFRpbWUgdmFsdWUgdGhhdCB3YXMgc2V0IHdpdGhpblxuICAgICAgICAvLyBfcmVxdWVzdElmTmVlZGVkLiBUaGlzIGRpZmZlcmVuY2UgaXMgaW4gbWljcm9zZWNvbmRzLCBidXQgdGhpcyBpcyBlbm91Z2ggdG8gY2F1c2UgcHJvYmxlbXMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgY2hlY2sgY292ZXJzIHRoaXMgYnJvd3NlciBlbmdpbmUgdGltaW5nIGlzc3VlLCBhcyB3ZWxsIGFzIGlmIGNvbnN1bWVycyBwYXNzIGFuIGludmFsaWRcbiAgICAgICAgLy8gY3VycmVudFRpbWUgdmFsdWUuIFRoaXMgbWF5IGhhcHBlbiBpZiBjb25zdW1lcnMgb3B0LW91dCBvZiB0aGUgYXV0b1N0YXJ0LCBhbmQgdXBkYXRlIHRoZW1zZWx2ZXMuXG4gICAgICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdFRpbWUpIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdW5jYXBwZWQgZWxhcHNlZE1TIGZvciBtZWFzdXJlbWVudFxuICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5lbGFwc2VkTVMgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWU7XG4gICAgICAgICAgICAvLyBjYXAgdGhlIG1pbGxpc2Vjb25kcyBlbGFwc2VkIHVzZWQgZm9yIGRlbHRhVGltZVxuICAgICAgICAgICAgaWYgKGVsYXBzZWRNUyA+IHRoaXMuX21heEVsYXBzZWRNUykge1xuICAgICAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuX21heEVsYXBzZWRNUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsYXBzZWRNUyAqPSB0aGlzLnNwZWVkO1xuICAgICAgICAgICAgLy8gSWYgbm90IGVub3VnaCB0aW1lIGhhcyBwYXNzZWQsIGV4aXQgdGhlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgLy8gR2V0IHJlYWR5IGZvciBuZXh0IGZyYW1lIGJ5IHNldHRpbmcgX2xhc3RGcmFtZSwgYnV0IGJhc2VkIG9uIF9taW5FbGFwc2VkTVNcbiAgICAgICAgICAgIC8vIGFkanVzdG1lbnQgdG8gZW5zdXJlIGEgcmVsYXRpdmVseSBzdGFibGUgaW50ZXJ2YWwuXG4gICAgICAgICAgICBpZiAodGhpcy5fbWluRWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gY3VycmVudFRpbWUgLSB0aGlzLl9sYXN0RnJhbWUgfCAwO1xuICAgICAgICAgICAgICAgIGlmIChkZWx0YSA8IHRoaXMuX21pbkVsYXBzZWRNUykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RGcmFtZSA9IGN1cnJlbnRUaW1lIC0gKGRlbHRhICUgdGhpcy5fbWluRWxhcHNlZE1TKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVsdGFNUyA9IGVsYXBzZWRNUztcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5kZWx0YU1TICogc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG4gICAgICAgICAgICAvLyBDYWNoZSBhIGxvY2FsIHJlZmVyZW5jZSwgaW4tY2FzZSB0aWNrZXIgaXMgZGVzdHJveWVkXG4gICAgICAgICAgICAvLyBkdXJpbmcgdGhlIGVtaXQsIHdlIGNhbiBzdGlsbCBjaGVjayBmb3IgaGVhZC5uZXh0XG4gICAgICAgICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIGFkZGVkIHRvIGludGVybmFsIGVtaXR0ZXJcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGhlYWQubmV4dDtcbiAgICAgICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZW1pdCh0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhlYWQubmV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZGVsdGFNUyA9IHRoaXMuZWxhcHNlZE1TID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJGUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZyYW1lcyBwZXIgc2Vjb25kIGF0IHdoaWNoIHRoaXMgdGlja2VyIGlzIHJ1bm5pbmcuXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGlzIGFwcHJveGltYXRlbHkgNjAgaW4gbW9zdCBtb2Rlcm4gYnJvd3NlcnMuXG4gICAgICAgICAqICoqTm90ZToqKiBUaGlzIGRvZXMgbm90IGZhY3RvciBpbiB0aGUgdmFsdWUgb2ZcbiAgICAgICAgICoge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfSwgd2hpY2ggaXMgc3BlY2lmaWNcbiAgICAgICAgICogdG8gc2NhbGluZyB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDEwMDAgLyB0aGlzLmVsYXBzZWRNUztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlci5wcm90b3R5cGUsIFwibWluRlBTXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyBhbGxvd2VkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIHVzZWQgdG8gY2FwIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LFxuICAgICAgICAgKiBidXQgZG9lcyBub3QgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogV2hlbiBzZXR0aW5nIHRoaXMgcHJvcGVydHkgaXQgaXMgY2xhbXBlZCB0byBhIHZhbHVlIGJldHdlZW5cbiAgICAgICAgICogYDBgIGFuZCBgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUyAqIDEwMDBgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmcHMpIHtcbiAgICAgICAgICAgIC8vIE1pbmltdW0gbXVzdCBiZSBiZWxvdyB0aGUgbWF4RlBTXG4gICAgICAgICAgICB2YXIgbWluRlBTID0gTWF0aC5taW4odGhpcy5tYXhGUFMsIGZwcyk7XG4gICAgICAgICAgICAvLyBNdXN0IGJlIGF0IGxlYXN0IDAsIGJ1dCBiZWxvdyAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVNcbiAgICAgICAgICAgIHZhciBtaW5GUE1TID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgbWluRlBTKSAvIDEwMDAsIHNldHRpbmdzLlRBUkdFVF9GUE1TKTtcbiAgICAgICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEgLyBtaW5GUE1TO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLnByb3RvdHlwZSwgXCJtYXhGUFNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgbWluaW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIHJlcXVpcmVkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICAgICAgICAgKiBUaGlzIHdpbGwgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogSWYgaXQgaXMgc2V0IHRvIGAwYCwgdGhlbiB0aGVyZSBpcyBubyBsaW1pdDsgUGl4aUpTIHdpbGwgcmVuZGVyIGFzIG1hbnkgZnJhbWVzIGFzIGl0IGNhbi5cbiAgICAgICAgICogT3RoZXJ3aXNlIGl0IHdpbGwgYmUgYXQgbGVhc3QgYG1pbkZQU2BcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgxMDAwIC8gdGhpcy5fbWluRWxhcHNlZE1TKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmcHMpIHtcbiAgICAgICAgICAgIGlmIChmcHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTWF4IG11c3QgYmUgYXQgbGVhc3QgdGhlIG1pbkZQU1xuICAgICAgICAgICAgICAgIHZhciBtYXhGUFMgPSBNYXRoLm1heCh0aGlzLm1pbkZQUywgZnBzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAxIC8gKG1heEZQUyAvIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGlja2VyLCBcInNoYXJlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhcmVkIHRpY2tlciBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfSBhbmQgYnlcbiAgICAgICAgICoge0BsaW5rIFBJWEkuVmlkZW9SZXNvdXJjZX0gdG8gdXBkYXRlIGFuaW1hdGlvbiBmcmFtZXMgLyB2aWRlbyB0ZXh0dXJlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogSXQgbWF5IGFsc28gYmUgdXNlZCBieSB7QGxpbmsgUElYSS5BcHBsaWNhdGlvbn0gaWYgY3JlYXRlZCB3aXRoIHRoZSBgc2hhcmVkVGlja2VyYCBvcHRpb24gcHJvcGVydHkgc2V0IHRvIHRydWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBpcyBzZXQgdG8gYHRydWVgIGZvciB0aGlzIGluc3RhbmNlLlxuICAgICAgICAgKiBQbGVhc2UgZm9sbG93IHRoZSBleGFtcGxlcyBmb3IgdXNhZ2UsIGluY2x1ZGluZyBob3cgdG8gb3B0LW91dCBvZiBhdXRvLXN0YXJ0aW5nIHRoZSBzaGFyZWQgdGlja2VyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBsZXQgdGlja2VyID0gUElYSS5UaWNrZXIuc2hhcmVkO1xuICAgICAgICAgKiAvLyBTZXQgdGhpcyB0byBwcmV2ZW50IHN0YXJ0aW5nIHRoaXMgdGlja2VyIHdoZW4gbGlzdGVuZXJzIGFyZSBhZGRlZC5cbiAgICAgICAgICogLy8gQnkgZGVmYXVsdCB0aGlzIGlzIHRydWUgb25seSBmb3IgdGhlIFBJWEkuVGlja2VyLnNoYXJlZCBpbnN0YW5jZS5cbiAgICAgICAgICogdGlja2VyLmF1dG9TdGFydCA9IGZhbHNlO1xuICAgICAgICAgKiAvLyBGWUksIGNhbGwgdGhpcyB0byBlbnN1cmUgdGhlIHRpY2tlciBpcyBzdG9wcGVkLiBJdCBzaG91bGQgYmUgc3RvcHBlZFxuICAgICAgICAgKiAvLyBpZiB5b3UgaGF2ZSBub3QgYXR0ZW1wdGVkIHRvIHJlbmRlciBhbnl0aGluZyB5ZXQuXG4gICAgICAgICAqIHRpY2tlci5zdG9wKCk7XG4gICAgICAgICAqIC8vIENhbGwgdGhpcyB3aGVuIHlvdSBhcmUgcmVhZHkgZm9yIGEgcnVubmluZyBzaGFyZWQgdGlja2VyLlxuICAgICAgICAgKiB0aWNrZXIuc3RhcnQoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gWW91IG1heSB1c2UgdGhlIHNoYXJlZCB0aWNrZXIgdG8gcmVuZGVyLi4uXG4gICAgICAgICAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKCk7XG4gICAgICAgICAqIGxldCBzdGFnZSA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICAgKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLnZpZXcpO1xuICAgICAgICAgKiB0aWNrZXIuYWRkKGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAqICAgICByZW5kZXJlci5yZW5kZXIoc3RhZ2UpO1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gT3IgeW91IGNhbiBqdXN0IHVwZGF0ZSBpdCBtYW51YWxseS5cbiAgICAgICAgICogdGlja2VyLmF1dG9TdGFydCA9IGZhbHNlO1xuICAgICAgICAgKiB0aWNrZXIuc3RvcCgpO1xuICAgICAgICAgKiBmdW5jdGlvbiBhbmltYXRlKHRpbWUpIHtcbiAgICAgICAgICogICAgIHRpY2tlci51cGRhdGUodGltZSk7XG4gICAgICAgICAqICAgICByZW5kZXJlci5yZW5kZXIoc3RhZ2UpO1xuICAgICAgICAgKiAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgICAgKiB9XG4gICAgICAgICAqIGFuaW1hdGUocGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIVRpY2tlci5fc2hhcmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlZCA9IFRpY2tlci5fc2hhcmVkID0gbmV3IFRpY2tlcigpO1xuICAgICAgICAgICAgICAgIHNoYXJlZC5hdXRvU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNoYXJlZC5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBUaWNrZXIuX3NoYXJlZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpY2tlciwgXCJzeXN0ZW1cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN5c3RlbSB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IGFuZCBieVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gZm9yIGNvcmUgdGltaW5nIGZ1bmN0aW9uYWxpdHkgdGhhdCBzaG91bGRuJ3QgdXN1YWxseSBuZWVkIHRvIGJlIHBhdXNlZCxcbiAgICAgICAgICogdW5saWtlIHRoZSBgc2hhcmVkYCB0aWNrZXIgd2hpY2ggZHJpdmVzIHZpc3VhbCBhbmltYXRpb25zIGFuZCByZW5kZXJpbmcgd2hpY2ggbWF5IHdhbnQgdG8gYmUgcGF1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYCBmb3IgdGhpcyBpbnN0YW5jZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFUaWNrZXIuX3N5c3RlbSkge1xuICAgICAgICAgICAgICAgIHZhciBzeXN0ZW0gPSBUaWNrZXIuX3N5c3RlbSA9IG5ldyBUaWNrZXIoKTtcbiAgICAgICAgICAgICAgICBzeXN0ZW0uYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzeXN0ZW0uX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVGlja2VyLl9zeXN0ZW07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUaWNrZXI7XG59KCkpO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbiBUaWNrZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7VGlja2VyUGx1Z2lufSBmcm9tICdAcGl4aS90aWNrZXInO1xuICogaW1wb3J0IHtBcHBsaWNhdGlvbn0gZnJvbSAnQHBpeGkvYXBwJztcbiAqIEFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFRpY2tlclBsdWdpbik7XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlja2VyUGx1Z2luID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpY2tlclBsdWdpbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2luIHdpdGggc2NvcGUgb2YgYXBwbGljYXRpb24gaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBTZWUgYXBwbGljYXRpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIFRpY2tlclBsdWdpbi5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIENyZWF0ZSB0aWNrZXIgc2V0dGVyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndGlja2VyJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodGlja2VyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICAgICAgICAgIGlmICh0aWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlja2VyLmFkZCh0aGlzLnJlbmRlciwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkxPVyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RvcHBpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3N0b3BcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl90aWNrZXIuc3RvcCgpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdGFydGluZyB0aGUgcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuQXBwbGljYXRpb24jc3RhcnRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGlja2VyLnN0YXJ0KCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByZWZlcmVuY2UgdG8gdGhlIHRpY2tlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAbmFtZSBfdGlja2VyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGlja2VyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpY2tlciBmb3IgZG9pbmcgcmVuZGVyIHVwZGF0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQG5hbWUgdGlja2VyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2VyID0gb3B0aW9ucy5zaGFyZWRUaWNrZXIgPyBUaWNrZXIuc2hhcmVkIDogbmV3IFRpY2tlcigpO1xuICAgICAgICAvLyBTdGFydCB0aGUgcmVuZGVyaW5nXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9TdGFydCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0aGUgdGlja2VyLCBzY29wZWQgdG8gYXBwbGljYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWNrZXJQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgdmFyIG9sZFRpY2tlciA9IHRoaXMuX3RpY2tlcjtcbiAgICAgICAgICAgIHRoaXMudGlja2VyID0gbnVsbDtcbiAgICAgICAgICAgIG9sZFRpY2tlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUaWNrZXJQbHVnaW47XG59KCkpO1xuXG5leHBvcnQgeyBUaWNrZXIsIFRpY2tlclBsdWdpbiwgVVBEQVRFX1BSSU9SSVRZIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aWNrZXIuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2NvcmUgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvY29yZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5pbXBvcnQgeyBkZXRlcm1pbmVDcm9zc09yaWdpbiwgaXNQb3cyLCBCYXNlVGV4dHVyZUNhY2hlLCBUZXh0dXJlQ2FjaGUsIHVpZCwgRXZlbnRFbWl0dGVyLCBnZXRSZXNvbHV0aW9uT2ZVcmwsIG5leHRQb3cyLCBpc01vYmlsZSwgUHJvZ3JhbUNhY2hlLCByZW1vdmVJdGVtcywgaGV4MnN0cmluZywgaGV4MnJnYiwgZGVwcmVjYXRpb24sIGlzV2ViR0xTdXBwb3J0ZWQsIHNheUhlbGxvLCBwcmVtdWx0aXBseUJsZW5kTW9kZSwgbG9nMiwgcHJlbXVsdGlwbHlUaW50IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgQUxQSEFfTU9ERVMsIFNDQUxFX01PREVTLCBGT1JNQVRTLCBUWVBFUywgVEFSR0VUUywgRFJBV19NT0RFUywgRU5WLCBNQVNLX1RZUEVTLCBQUkVDSVNJT04sIEJMRU5EX01PREVTLCBHQ19NT0RFUywgTUlQTUFQX01PREVTLCBXUkFQX01PREVTLCBSRU5ERVJFUl9UWVBFIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IGdyb3VwRDgsIFJlY3RhbmdsZSwgUG9pbnQsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8qKlxuICogQmFzZSByZXNvdXJjZSBjbGFzcyBmb3IgdGV4dHVyZXMgdGhhdCBtYW5hZ2VzIHZhbGlkYXRpb24gYW5kIHVwbG9hZGluZywgZGVwZW5kaW5nIG9uIGl0cyB0eXBlLlxuICpcbiAqIFVwbG9hZGluZyBvZiBhIGJhc2UgdGV4dHVyZSB0byB0aGUgR1BVIGlzIHJlcXVpcmVkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBSZXNvdXJjZSA9IGZ1bmN0aW9uIFJlc291cmNlKHdpZHRoLCBoZWlnaHQpXG57XG4gICAgaWYgKCB3aWR0aCA9PT0gdm9pZCAwICkgd2lkdGggPSAwO1xuICAgIGlmICggaGVpZ2h0ID09PSB2b2lkIDAgKSBoZWlnaHQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgd2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgLyoqXG4gICAgICogSWYgcmVzb3VyY2UgaGFzIGJlZW4gZGVzdHJveWVkXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgcmVzb3VyY2UgaXMgY3JlYXRlZCBieSBCYXNlVGV4dHVyZVxuICAgICAqIHVzZWZ1bCBmb3IgZG9pbmcgY2xlYW51cCB3aXRoIEJhc2VUZXh0dXJlIGRlc3Ryb3lcbiAgICAgKiBhbmQgbm90IGNsZWFuaW5nIHVwIHJlc291cmNlcyB0aGF0IHdlcmUgY3JlYXRlZFxuICAgICAqIGV4dGVybmFsbHkuXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy5pbnRlcm5hbCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogTWluaS1ydW5uZXIgZm9yIGhhbmRsaW5nIHJlc2l6ZSBldmVudHNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMub25SZXNpemUgPSBuZXcgUnVubmVyKCdzZXRSZWFsU2l6ZScsIDIpO1xuXG4gICAgLyoqXG4gICAgICogTWluaS1ydW5uZXIgZm9yIGhhbmRsaW5nIHVwZGF0ZSBldmVudHNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMub25VcGRhdGUgPSBuZXcgUnVubmVyKCd1cGRhdGUnKTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBpbnRlcm5hbCBlcnJvcnMsIHN1Y2ggYXMgbG9hZGluZyBlcnJvcnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMub25FcnJvciA9IG5ldyBSdW5uZXIoJ29uRXJyb3InLCAxKTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHZhbGlkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIEJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAqXG4gKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUGFyZW50IHRleHR1cmVcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChiYXNlVGV4dHVyZSlcbntcbiAgICB0aGlzLm9uUmVzaXplLmFkZChiYXNlVGV4dHVyZSk7XG4gICAgdGhpcy5vblVwZGF0ZS5hZGQoYmFzZVRleHR1cmUpO1xuICAgIHRoaXMub25FcnJvci5hZGQoYmFzZVRleHR1cmUpO1xuXG4gICAgLy8gQ2FsbCBhIHJlc2l6ZSBpbW1lZGlhdGUgaWYgd2UgYWxyZWFkeVxuICAgIC8vIGhhdmUgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgaWYgKHRoaXMuX3dpZHRoIHx8IHRoaXMuX2hlaWdodClcbiAgICB7XG4gICAgICAgIHRoaXMub25SZXNpemUucnVuKHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQpO1xuICAgIH1cbn07XG5cbi8qKlxuICogVW5iaW5kIHRvIGEgcGFyZW50IEJhc2VUZXh0dXJlXG4gKlxuICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gKi9cblJlc291cmNlLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQgKGJhc2VUZXh0dXJlKVxue1xuICAgIHRoaXMub25SZXNpemUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZShiYXNlVGV4dHVyZSk7XG4gICAgdGhpcy5vbkVycm9yLnJlbW92ZShiYXNlVGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIFRyaWdnZXIgYSByZXNpemUgZXZlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBYIGRpbWVuc2lvblxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBZIGRpbWVuc2lvblxuICovXG5SZXNvdXJjZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICh3aWR0aCwgaGVpZ2h0KVxue1xuICAgIGlmICh3aWR0aCAhPT0gdGhpcy5fd2lkdGggfHwgaGVpZ2h0ICE9PSB0aGlzLl9oZWlnaHQpXG4gICAge1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMub25SZXNpemUucnVuKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbn07XG5cbi8qKlxuICogSGFzIGJlZW4gdmFsaWRhdGVkXG4gKiBAcmVhZG9ubHlcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy52YWxpZC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0O1xufTtcblxuLyoqXG4gKiBIYXMgYmVlbiB1cGRhdGVkIHRyaWdnZXIgZXZlbnRcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxue1xuICAgIGlmICghdGhpcy5kZXN0cm95ZWQpXG4gICAge1xuICAgICAgICB0aGlzLm9uVXBkYXRlLnJ1bigpO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB0byBzdGFydCBwcmVsb2FkaW5nIGEgcmVzb3VyY2VcbiAqIG9yIGRvIGFueSBvdGhlciBwcmVwYXJlIHN0ZXAuXG4gKiBAcHJvdGVjdGVkXG4gKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBIYW5kbGUgdGhlIHZhbGlkYXRlIGV2ZW50XG4gKi9cblJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoKVxue1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cbi8qKlxuICogVGhlIHdpZHRoIG9mIHRoZSByZXNvdXJjZS5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAcmVhZG9ubHlcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xufTtcblxuLyoqXG4gKiBUaGUgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZS5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAcmVhZG9ubHlcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG59O1xuXG4vKipcbiAqIFVwbG9hZHMgdGhlIHRleHR1cmUgb3IgcmV0dXJucyBmYWxzZSBpZiBpdCBjYW50IGZvciBzb21lIHJlYXNvbi4gT3ZlcnJpZGUgdGhpcy5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0geWVhaCwgcmVuZGVyZXIhXG4gKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIHRleHR1cmUgaW5zdGFuY2UgZm9yIHRoaXMgd2ViZ2wgY29udGV4dFxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICovXG5SZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xue1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBzdHlsZSwgb3B0aW9uYWwgdG8gb3ZlcnJpZGVcbiAqXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0geWVhaCwgcmVuZGVyZXIhXG4gKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSAtIHRleHR1cmUgaW5zdGFuY2UgZm9yIHRoaXMgd2ViZ2wgY29udGV4dFxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpcyBzdWNjZXNzXG4gKi9cblJlc291cmNlLnByb3RvdHlwZS5zdHlsZSA9IGZ1bmN0aW9uIHN0eWxlIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xue1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogQ2xlYW4gdXAgYW55dGhpbmcsIHRoaXMgaGFwcGVucyB3aGVuIGRlc3Ryb3lpbmcgaXMgcmVhZHkuXG4gKlxuICogQHByb3RlY3RlZFxuICovXG5SZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbntcbiAgICAvLyBvdmVycmlkZVxufTtcblxuLyoqXG4gKiBDYWxsIHdoZW4gZGVzdHJveWluZyByZXNvdXJjZSwgdW5iaW5kIGFueSBCYXNlVGV4dHVyZSBvYmplY3RcbiAqIGJlZm9yZSBjYWxsaW5nIHRoaXMgbWV0aG9kLCBhcyByZWZlcmVuY2UgY291bnRzIGFyZSBtYWludGFpbmVkXG4gKiBpbnRlcm5hbGx5LlxuICovXG5SZXNvdXJjZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICBpZiAoIXRoaXMuZGVzdHJveWVkKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLm9uUmVzaXplLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLm9uUmVzaXplID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG51bGw7XG4gICAgfVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFJlc291cmNlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbi8qKlxuICogQmFzZSBmb3IgYWxsIHRoZSBpbWFnZS9jYW52YXMgcmVzb3VyY2VzXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIEJhc2VJbWFnZVJlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBCYXNlSW1hZ2VSZXNvdXJjZShzb3VyY2UpXG4gICAge1xuICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UubmF0dXJhbFdpZHRoIHx8IHNvdXJjZS52aWRlb1dpZHRoIHx8IHNvdXJjZS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5uYXR1cmFsSGVpZ2h0IHx8IHNvdXJjZS52aWRlb0hlaWdodCB8fCBzb3VyY2UuaGVpZ2h0O1xuXG4gICAgICAgIFJlc291cmNlLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2UgZWxlbWVudFxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgc2V0IHRvIGB0cnVlYCwgd2lsbCBmb3JjZSBgdGV4SW1hZ2UyRGAgb3ZlciBgdGV4U3ViSW1hZ2UyRGAgZm9yIHVwbG9hZGluZy5cbiAgICAgICAgICogQ2VydGFpbiB0eXBlcyBvZiBtZWRpYSAoZS5nLiB2aWRlbykgdXNpbmcgYHRleEltYWdlMkRgIGlzIG1vcmUgcGVyZm9ybWFudC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubm9TdWJJbWFnZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICggUmVzb3VyY2UgKSBCYXNlSW1hZ2VSZXNvdXJjZS5fX3Byb3RvX18gPSBSZXNvdXJjZTtcbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBSZXNvdXJjZSAmJiBSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCYXNlSW1hZ2VSZXNvdXJjZTtcblxuICAgIC8qKlxuICAgICAqIFNldCBjcm9zcyBvcmlnaW4gYmFzZWQgZGV0ZWN0aW5nIHRoZSB1cmwgYW5kIHRoZSBjcm9zc29yaWdpblxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSBjcm9zc09yaWdpblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBbY3Jvc3NvcmlnaW49dHJ1ZV0gLSBDcm9zcyBvcmlnaW4gdmFsdWUgdG8gdXNlXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4gPSBmdW5jdGlvbiBjcm9zc09yaWdpbiAoZWxlbWVudCwgdXJsLCBjcm9zc29yaWdpbilcbiAgICB7XG4gICAgICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkICYmIHVybC5pbmRleE9mKCdkYXRhOicpICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjcm9zc29yaWdpbiAhPT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSB0eXBlb2YgY3Jvc3NvcmlnaW4gPT09ICdzdHJpbmcnID8gY3Jvc3NvcmlnaW4gOiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9IFtzb3VyY2VdIChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUsIHNvdXJjZSlcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgd2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0O1xuXG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZSB8fCB0aGlzLnNvdXJjZTtcblxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuVU5QQUNLKTtcblxuICAgICAgICBpZiAoIXRoaXMubm9TdWJJbWFnZVxuICAgICAgICAgICAgJiYgYmFzZVRleHR1cmUudGFyZ2V0ID09PSBnbC5URVhUVVJFXzJEXG4gICAgICAgICAgICAmJiBnbFRleHR1cmUud2lkdGggPT09IHdpZHRoXG4gICAgICAgICAgICAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBoZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHNvdXJjZSB3aWR0aC9oZWlnaHQgd2FzIGNoYW5nZWQsIHJlc2l6ZSBjYW4gY2F1c2UgZXh0cmEgYmFzZVRleHR1cmUgdXBkYXRlLlxuICAgICAqIFRyaWdnZXJzIG9uZSB1cGRhdGUgaW4gYW55IGNhc2UuXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnNvdXJjZS5uYXR1cmFsV2lkdGggfHwgdGhpcy5zb3VyY2UudmlkZW9XaWR0aCB8fCB0aGlzLnNvdXJjZS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgdGhpcy5zb3VyY2UudmlkZW9IZWlnaHQgfHwgdGhpcy5zb3VyY2UuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIFJlc291cmNlLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGlzIEJhc2VJbWFnZVJlc291cmNlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBbZnJvbVRleHR1cmVdIE9wdGlvbmFsIGJhc2UgdGV4dHVyZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IERlc3Ryb3kgd2FzIHN1Y2Nlc3NmdWxcbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJhc2VJbWFnZVJlc291cmNlO1xufShSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxJbWFnZUVsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIEltYWdlUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlSW1hZ2VSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIEltYWdlUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4oaW1hZ2VFbGVtZW50LCBzb3VyY2UsIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuXG4gICAgICAgICAgICBpbWFnZUVsZW1lbnQuc3JjID0gc291cmNlO1xuICAgICAgICAgICAgc291cmNlID0gaW1hZ2VFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY2FsbCh0aGlzLCBzb3VyY2UpO1xuXG4gICAgICAgIC8vIEZpcmVGb3ggNjgsIGFuZCBwb3NzaWJseSBvdGhlciB2ZXJzaW9ucywgc2VlbXMgbGlrZSBzZXR0aW5nIHRoZSBIVE1MSW1hZ2VFbGVtZW50I3dpZHRoIGFuZCAjaGVpZ2h0XG4gICAgICAgIC8vIHRvIG5vbi16ZXJvIHZhbHVlcyBiZWZvcmUgaXRzIGxvYWRpbmcgY29tcGxldGVzIGlmIGltYWdlcyBhcmUgaW4gYSBjYWNoZS5cbiAgICAgICAgLy8gQmVjYXVzZSBvZiB0aGlzLCBuZWVkIHRvIHNldCB0aGUgYF93aWR0aGAgYW5kIHRoZSBgX2hlaWdodGAgdG8gemVybyB0byBhdm9pZCB1cGxvYWRpbmcgaW5jb21wbGV0ZSBpbWFnZXMuXG4gICAgICAgIC8vIFBsZWFzZSByZWZlciB0byB0aGUgaXNzdWUgIzU5NjggKGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTk2OCkuXG4gICAgICAgIGlmICghc291cmNlLmNvbXBsZXRlICYmICEhdGhpcy5fd2lkdGggJiYgISF0aGlzLl9oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVVJMIG9mIHRoZSBpbWFnZSBzb3VyY2VcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cmwgPSBzb3VyY2Uuc3JjO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHByb2Nlc3MgaXMgY29tcGxldGVkXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm9jZXNzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIGltYWdlIHNob3VsZCBiZSBkaXNwb3NlZCBhZnRlciB1cGxvYWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJlc2VydmVCaXRtYXAgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgY2FwYWJsZSwgY29udmVydCB0aGUgaW1hZ2UgdXNpbmcgY3JlYXRlSW1hZ2VCaXRtYXAgQVBJXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jcmVhdGVCaXRtYXAgPSAob3B0aW9ucy5jcmVhdGVCaXRtYXAgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLmNyZWF0ZUJpdG1hcCA6IHNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVApICYmICEhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250cm9scyB0ZXh0dXJlIGFscGhhTW9kZSBmaWVsZFxuICAgICAgICAgKiBDb3BpZXMgZnJvbSBvcHRpb25zXG4gICAgICAgICAqIERlZmF1bHQgaXMgYG51bGxgLCBjb3BpZXMgb3B0aW9uIGZyb20gYmFzZVRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BTFBIQV9NT0RFU3xudWxsfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGFNb2RlID0gdHlwZW9mIG9wdGlvbnMuYWxwaGFNb2RlID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuYWxwaGFNb2RlIDogbnVsbDtcblxuICAgICAgICBpZiAob3B0aW9ucy5wcmVtdWx0aXBseUFscGhhICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRyaWdnZXJzIGRlcHJlY2F0aW9uXG4gICAgICAgICAgICB0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBvcHRpb25zLnByZW11bHRpcGx5QWxwaGE7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIEltYWdlQml0bWFwIGVsZW1lbnQgY3JlYXRlZCBmb3IgSFRNTEltYWdlRWxlbWVudFxuICAgICAgICAgKiBAbWVtYmVyIHtJbWFnZUJpdG1hcH1cbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcblxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBCYXNlSW1hZ2VSZXNvdXJjZSApIEltYWdlUmVzb3VyY2UuX19wcm90b19fID0gQmFzZUltYWdlUmVzb3VyY2U7XG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlSW1hZ2VSZXNvdXJjZSAmJiBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEltYWdlUmVzb3VyY2U7XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgcHJvbWlzZSB3aGVuIGltYWdlIHdpbGwgYmUgbG9hZGVkIGFuZCBwcm9jZXNzZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NyZWF0ZUJpdG1hcD10cnVlXSB3aGV0aGVyIHByb2Nlc3MgaW1hZ2UgaW50byBiaXRtYXBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoY3JlYXRlQml0bWFwKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGNyZWF0ZUJpdG1hcCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJpdG1hcCA9IGNyZWF0ZUJpdG1hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgdGhpcyQxLnVybCA9IHRoaXMkMS5zb3VyY2Uuc3JjO1xuICAgICAgICAgICAgdmFyIHJlZiA9IHRoaXMkMTtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSByZWYuc291cmNlO1xuXG4gICAgICAgICAgICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzJDEuZGVzdHJveWVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICB0aGlzJDEucmVzaXplKHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgdGhpcyQxLl9sb2FkID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzJDEuY3JlYXRlQml0bWFwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzJDEucHJvY2VzcygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzJDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChzb3VyY2UuY29tcGxldGUgJiYgc291cmNlLnNyYylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gY29tcGxldGVkO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiB0aGlzJDEub25FcnJvci5ydW4oZXZlbnQpOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gd2UgbmVlZCB0byBjb252ZXJ0IGltYWdlIGludG8gQml0bWFwSW1hZ2UuXG4gICAgICogQ2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgcmVhbCBwcm9taXNlIGlzIGNhY2hlZCBpbnNpZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gY2FjaGVkIHByb21pc2UgdG8gZmlsbCB0aGF0IGJpdG1hcFxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiBwcm9jZXNzICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5fcHJvY2VzcyAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYml0bWFwICE9PSBudWxsIHx8ICF3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcm9jZXNzID0gd2luZG93LmNyZWF0ZUltYWdlQml0bWFwKHRoaXMuc291cmNlLFxuICAgICAgICAgICAgMCwgMCwgdGhpcy5zb3VyY2Uud2lkdGgsIHRoaXMuc291cmNlLmhlaWdodCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcmVtdWx0aXBseUFscGhhOiB0aGlzLnByZW11bHRpcGx5QWxwaGEgPT09IEFMUEhBX01PREVTLlVOUEFDSyA/ICdwcmVtdWx0aXBseScgOiAnbm9uZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJpdG1hcCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzJDEuZGVzdHJveWVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMkMS5iaXRtYXAgPSBiaXRtYXA7XG4gICAgICAgICAgICAgICAgdGhpcyQxLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fcHJvY2VzcyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMkMSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSBpbWFnZSByZXNvdXJjZSB0byBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gUmVuZGVyZXIgdG8gdXBsb2FkIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEJhc2VUZXh0dXJlIGZvciB0aGlzIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gR0xUZXh0dXJlIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmFscGhhTW9kZSA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGJpdG1hcCBzdG9yZXMgdW5wYWNrIHByZW11bHRpcGx5IGZsYWcsIHdlIGRvbnQgaGF2ZSB0byBub3RpZnkgdGV4SW1hZ2UyRCBhYm91dCBpdFxuXG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPSB0aGlzLmFscGhhTW9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5jcmVhdGVCaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkLmNhbGwodGhpcywgcmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHllYWgsIGlnbm9yZSB0aGUgb3V0cHV0XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iaXRtYXApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZC5jYWxsKHRoaXMsIHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCB0aGlzLmJpdG1hcCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnByZXNlcnZlQml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBjaGVja3MgaWYgdGhlcmUgYXJlIG90aGVyIHJlbmRlcmVycyB0aGF0IHBvc3NpYmx5IG5lZWQgdGhpcyBiaXRtYXBcblxuICAgICAgICAgICAgdmFyIGZsYWcgPSB0cnVlO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYmFzZVRleHR1cmUuX2dsVGV4dHVyZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIG90aGVyVGV4ID0gYmFzZVRleHR1cmUuX2dsVGV4dHVyZXNba2V5XTtcblxuICAgICAgICAgICAgICAgIGlmIChvdGhlclRleCAhPT0gZ2xUZXh0dXJlICYmIG90aGVyVGV4LmRpcnR5SWQgIT09IGJhc2VUZXh0dXJlLmRpcnR5SWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZsYWcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0bWFwLmNsb3NlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIHRoaXMuc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuYml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJpdG1hcC5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEltYWdlUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcmVzb3VyY2UgdHlwZXMsIGNsYXNzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0uXG4gKiBAZXhhbXBsZVxuICogY2xhc3MgQ3VzdG9tUmVzb3VyY2UgZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZSB7XG4gKiAgIC8vIE1VU1QgaGF2ZSBzb3VyY2UsIG9wdGlvbnMgY29uc3RydWN0b3Igc2lnbmF0dXJlXG4gKiAgIC8vIGZvciBhdXRvLWRldGVjdGVkIHJlc291cmNlcyB0byBiZSBjcmVhdGVkLlxuICogICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpIHtcbiAqICAgICBzdXBlcigpO1xuICogICB9XG4gKiAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICogICAgIC8vIHVwbG9hZCB3aXRoIEdMXG4gKiAgICAgcmV0dXJuIHRydWU7XG4gKiAgIH1cbiAqICAgLy8gdXNlZCB0byBhdXRvLWRldGVjdCByZXNvdXJjZVxuICogICBzdGF0aWMgdGVzdChzb3VyY2UsIGV4dGVuc2lvbikge1xuICogICAgIHJldHVybiBleHRlbnNpb24gPT09ICd4eXonfHwgc291cmNlIGluc3RhbmNlb2YgU29tZUNsYXNzO1xuICogICB9XG4gKiB9XG4gKiAvLyBJbnN0YWxsIHRoZSBuZXcgcmVzb3VyY2UgdHlwZVxuICogUElYSS5yZXNvdXJjZXMuSU5TVEFMTEVELnB1c2goQ3VzdG9tUmVzb3VyY2UpO1xuICpcbiAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLklOU1RBTExFRFxuICogQHR5cGUge0FycmF5PCo+fVxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKi9cbnZhciBJTlNUQUxMRUQgPSBbXTtcblxuLyoqXG4gKiBDcmVhdGUgYSByZXNvdXJjZSBlbGVtZW50IGZyb20gYSBzaW5nbGUgc291cmNlIGVsZW1lbnQuIFRoaXNcbiAqIGF1dG8tZGV0ZWN0cyB3aGljaCB0eXBlIG9mIHJlc291cmNlIHRvIGNyZWF0ZS4gQWxsIHJlc291cmNlcyB0aGF0XG4gKiBhcmUgYXV0by1kZXRlY3RhYmxlIG11c3QgaGF2ZSBhIHN0YXRpYyBgdGVzdGAgbWV0aG9kIGFuZCBhIGNvbnN0cnVjdG9yXG4gKiB3aXRoIHRoZSBhcmd1bWVudHMgYChzb3VyY2UsIG9wdGlvbnM/KWAuIEN1cnJlbnRseSwgdGhlIHN1cHBvcnRlZFxuICogcmVzb3VyY2VzIGZvciBhdXRvLWRldGVjdGlvbiBpbmNsdWRlOlxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuQ2FudmFzUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuVmlkZW9SZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5CdWZmZXJSZXNvdXJjZX1cbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfCp9IHNvdXJjZSAtIFJlc291cmNlIHNvdXJjZSwgdGhpcyBjYW4gYmUgdGhlIFVSTCB0byB0aGUgcmVzb3VyY2UsXG4gKiAgICAgICAgYSB0eXBlZC1hcnJheSAoZm9yIEJ1ZmZlclJlc291cmNlKSwgSFRNTFZpZGVvRWxlbWVudCwgU1ZHIGRhdGEtdXJpXG4gKiAgICAgICAgb3IgYW55IG90aGVyIHJlc291cmNlIHRoYXQgY2FuIGJlIGF1dG8tZGV0ZWN0ZWQuIElmIG5vdCByZXNvdXJjZSBpc1xuICogICAgICAgIGRldGVjdGVkLCBpdCdzIGFzc3VtZWQgdG8gYmUgYW4gSW1hZ2VSZXNvdXJjZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBQYXNzLXRocm91Z2ggb3B0aW9ucyB0byB1c2UgZm9yIFJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgQnVmZmVyUmVzb3VyY2Ugb3IgU1ZHIHJhc3Rlcml6YXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gSW1hZ2UsIFNWRyBhbmQgVmlkZW8gZmxhZyB0byBzdGFydCBsb2FkaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gLSBTVkcgc291cmNlIHNjYWxlLiBPdmVycmlkZGVuIGJ5IHdpZHRoLCBoZWlnaHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3JlYXRlQml0bWFwPVBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUF0gLSBJbWFnZSBvcHRpb24gdG8gY3JlYXRlIEJpdG1hcCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBJbWFnZSBhbmQgVmlkZW8gb3B0aW9uIHRvIHNldCBjcm9zc09yaWdpblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFZpZGVvIG9wdGlvbiB0byBzdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gVmlkZW8gb3B0aW9uIHRvIHVwZGF0ZSBob3cgbWFueSB0aW1lcyBhIHNlY29uZCB0aGVcbiAqICAgICAgICB0ZXh0dXJlIHNob3VsZCBiZSB1cGRhdGVkIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXJcbiAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSBUaGUgY3JlYXRlZCByZXNvdXJjZS5cbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbntcbiAgICBpZiAoIXNvdXJjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBleHRlbnNpb24gPSAnJztcblxuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJylcbiAgICB7XG4gICAgICAgIC8vIHNlYXJjaCBmb3IgZmlsZSBleHRlbnNpb246IHBlcmlvZCwgMy00IGNoYXJzLCB0aGVuID8sICMgb3IgRU9MXG4gICAgICAgIHZhciByZXN1bHQgPSAoL1xcLihcXHd7Myw0fSkoPzokfFxcP3wjKS9pKS5leGVjKHNvdXJjZSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAge1xuICAgICAgICAgICAgZXh0ZW5zaW9uID0gcmVzdWx0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gSU5TVEFMTEVELmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKVxuICAgIHtcbiAgICAgICAgdmFyIFJlc291cmNlUGx1Z2luID0gSU5TVEFMTEVEW2ldO1xuXG4gICAgICAgIGlmIChSZXNvdXJjZVBsdWdpbi50ZXN0ICYmIFJlc291cmNlUGx1Z2luLnRlc3Qoc291cmNlLCBleHRlbnNpb24pKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlc291cmNlUGx1Z2luKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXaGVuIGluIGRvdWJ0OiBwcm9iYWJseSBhbiBpbWFnZVxuICAgIC8vIG1pZ2h0IGJlIGFwcHJvcHJpYXRlIHRvIHRocm93IGFuIGVycm9yIG9yIHJldHVybiBudWxsXG4gICAgcmV0dXJuIG5ldyBJbWFnZVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBTaGFyZWRBcnJheUJ1ZmZlclxuICovXG5cbi8qKlxuICogQnVmZmVyIHJlc291cmNlIHdpdGggZGF0YSBvZiB0eXBlZCBhcnJheS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgQnVmZmVyUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIEJ1ZmZlclJlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgd2lkdGggPSByZWYud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWYuaGVpZ2h0O1xuXG4gICAgICAgIGlmICghd2lkdGggfHwgIWhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCdWZmZXJSZXNvdXJjZSB3aWR0aCBvciBoZWlnaHQgaW52YWxpZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgUmVzb3VyY2UuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGFycmF5XG4gICAgICAgICAqIENhbm5vdCBiZSBDbGFtcGVkVWludDhBcnJheSBiZWNhdXNlIGl0IGNhbnQgYmUgdXBsb2FkZWQgdG8gV2ViR0xcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl8VWludDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBzb3VyY2U7XG4gICAgfVxuXG4gICAgaWYgKCBSZXNvdXJjZSApIEJ1ZmZlclJlc291cmNlLl9fcHJvdG9fXyA9IFJlc291cmNlO1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFJlc291cmNlICYmIFJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJ1ZmZlclJlc291cmNlO1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLlVOUEFDSyk7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gYmFzZVRleHR1cmUud2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gYmFzZVRleHR1cmUuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS53aWR0aCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS53aWR0aCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgPGNhbnZhcz5cbiAgICAgKi9cbiAgICBCdWZmZXJSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gdGVzdCAoc291cmNlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheVxuICAgICAgICAgICAgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheVxuICAgICAgICAgICAgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDMyQXJyYXk7XG4gICAgfTtcblxuICAgIHJldHVybiBCdWZmZXJSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxudmFyIGRlZmF1bHRCdWZmZXJPcHRpb25zID0ge1xuICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICBmb3JtYXQ6IEZPUk1BVFMuUkdCQSxcbiAgICBhbHBoYU1vZGU6IEFMUEhBX01PREVTLk5QTSxcbn07XG5cbi8qKlxuICogQSBUZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLlxuICogQWxsIHRleHR1cmVzIGhhdmUgYSBiYXNlIHRleHR1cmUsIHdoaWNoIGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzb3VyY2UuXG4gKiBUaGVyZWZvcmUgeW91IGNhbiBoYXZlIG1hbnkgdGV4dHVyZXMgYWxsIHVzaW5nIGEgc2luZ2xlIEJhc2VUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V8c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW3Jlc291cmNlPW51bGxdXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgcmVzb3VyY2UgdG8gdXNlLCBmb3IgdGhpbmdzIHRoYXQgYXJlbid0IFJlc291cmNlIG9iamVjdHMsIHdpbGwgYmUgY29udmVydGVkXG4gKiAgICAgICAgaW50byBhIFJlc291cmNlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9uc1xuICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW29wdGlvbnMubWlwbWFwPVBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXSAtIElmIG1pcG1hcHBpbmcgaXMgZW5hYmxlZCBmb3IgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWw9UElYSS5zZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTF0gLSBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICogQHBhcmFtIHtQSVhJLldSQVBfTU9ERVN9IFtvcHRpb25zLndyYXBNb2RlPVBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFXSAtIFdyYXAgbW9kZSBmb3IgdGV4dHVyZXNcbiAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBEZWZhdWx0IHNjYWxlIG1vZGUsIGxpbmVhciwgbmVhcmVzdFxuICogQHBhcmFtIHtQSVhJLkZPUk1BVFN9IFtvcHRpb25zLmZvcm1hdD1QSVhJLkZPUk1BVFMuUkdCQV0gLSBHTCBmb3JtYXQgdHlwZVxuICogQHBhcmFtIHtQSVhJLlRZUEVTfSBbb3B0aW9ucy50eXBlPVBJWEkuVFlQRVMuVU5TSUdORURfQllURV0gLSBHTCBkYXRhIHR5cGVcbiAqIEBwYXJhbSB7UElYSS5UQVJHRVRTfSBbb3B0aW9ucy50YXJnZXQ9UElYSS5UQVJHRVRTLlRFWFRVUkVfMkRdIC0gR0wgdGV4dHVyZSB0YXJnZXRcbiAqIEBwYXJhbSB7UElYSS5BTFBIQV9NT0RFU30gW29wdGlvbnMuYWxwaGFNb2RlPVBJWEkuQUxQSEFfTU9ERVMuVU5QQUNLXSAtIFByZSBtdWx0aXBseSB0aGUgaW1hZ2UgYWxwaGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIFdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTBdIC0gSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbl0gLSBSZXNvbHV0aW9uIG9mIHRoZSBiYXNlIHRleHR1cmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnNdIC0gT3B0aW9uYWwgcmVzb3VyY2Ugb3B0aW9ucyxcbiAqICAgICAgICBzZWUge0BsaW5rIFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZSBhdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKi9cbnZhciBCYXNlVGV4dHVyZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50RW1pdHRlcikge1xuICAgIGZ1bmN0aW9uIEJhc2VUZXh0dXJlKHJlc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgaWYgKCByZXNvdXJjZSA9PT0gdm9pZCAwICkgcmVzb3VyY2UgPSBudWxsO1xuICAgICAgICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciBhbHBoYU1vZGUgPSBvcHRpb25zLmFscGhhTW9kZTtcbiAgICAgICAgdmFyIG1pcG1hcCA9IG9wdGlvbnMubWlwbWFwO1xuICAgICAgICB2YXIgYW5pc290cm9waWNMZXZlbCA9IG9wdGlvbnMuYW5pc290cm9waWNMZXZlbDtcbiAgICAgICAgdmFyIHNjYWxlTW9kZSA9IG9wdGlvbnMuc2NhbGVNb2RlO1xuICAgICAgICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIHZhciB3cmFwTW9kZSA9IG9wdGlvbnMud3JhcE1vZGU7XG4gICAgICAgIHZhciBmb3JtYXQgPSBvcHRpb25zLmZvcm1hdDtcbiAgICAgICAgdmFyIHR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgICAgIHZhciB0YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb247XG4gICAgICAgIHZhciByZXNvdXJjZU9wdGlvbnMgPSBvcHRpb25zLnJlc291cmNlT3B0aW9ucztcblxuICAgICAgICAvLyBDb252ZXJ0IHRoZSByZXNvdXJjZSB0byBhIFJlc291cmNlIG9iamVjdFxuICAgICAgICBpZiAocmVzb3VyY2UgJiYgIShyZXNvdXJjZSBpbnN0YW5jZW9mIFJlc291cmNlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb3VyY2UgPSBhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2UsIHJlc291cmNlT3B0aW9ucyk7XG4gICAgICAgICAgICByZXNvdXJjZS5pbnRlcm5hbCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCB8fCAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pcG1hcCBtb2RlIG9mIHRoZSB0ZXh0dXJlLCBhZmZlY3RzIGRvd25zY2FsZWQgaW1hZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taXBtYXAgPSBtaXBtYXAgIT09IHVuZGVmaW5lZCA/IG1pcG1hcCA6IHNldHRpbmdzLk1JUE1BUF9URVhUVVJFUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW5pc290cm9waWMgZmlsdGVyaW5nIGxldmVsIG9mIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuaXNvdHJvcGljTGV2ZWwgPSBhbmlzb3Ryb3BpY0xldmVsICE9PSB1bmRlZmluZWQgPyBhbmlzb3Ryb3BpY0xldmVsIDogc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyB0aGUgdGV4dHVyZSB3cmFwc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBNb2RlID0gd3JhcE1vZGUgfHwgc2V0dGluZ3MuV1JBUF9NT0RFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgbW9kZSB0byBhcHBseSB3aGVuIHNjYWxpbmcgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU0NBTEVfTU9ERVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IHNldHRpbmdzLlNDQUxFX01PREU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXhlbCBmb3JtYXQgb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GT1JNQVRTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkZPUk1BVFMuUkdCQVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb3JtYXQgPSBmb3JtYXQgfHwgRk9STUFUUy5SR0JBO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiByZXNvdXJjZSBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVFlQRVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVFlQRVMuVU5TSUdORURfQllURVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gdHlwZSB8fCBUWVBFUy5VTlNJR05FRF9CWVRFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGFyZ2V0IHR5cGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UQVJHRVRTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRBUkdFVFMuVEVYVFVSRV8yRFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQgfHwgVEFSR0VUUy5URVhUVVJFXzJEO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgdG8gdHJlYXQgcHJlbXVsdGlwbGllZCBhbHBoYSwgc2VlIHtAbGluayBQSVhJLkFMUEhBX01PREVTfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BTFBIQV9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5BTFBIQV9NT0RFUy5VTlBBQ0tcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGFNb2RlID0gYWxwaGFNb2RlICE9PSB1bmRlZmluZWQgPyBhbHBoYU1vZGUgOiBBTFBIQV9NT0RFUy5VTlBBQ0s7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucHJlbXVsdGlwbHlBbHBoYSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0cmlnZ2VycyBkZXByZWNhdGlvblxuICAgICAgICAgICAgdGhpcy5wcmVtdWx0aXBseUFscGhhID0gb3B0aW9ucy5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdsb2JhbCB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBCYXNlVGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudWlkID0gdWlkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgYXV0b21hdGljIHRleHR1cmUgR2FyYmFnZSBDb2xsZWN0aW9uLCBzdG9yZXMgbGFzdCBHQyB0aWNrIHdoZW4gaXQgd2FzIGJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50b3VjaGVkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIHRleHR1cmUgaXMgYSBwb3dlciBvZiB0d28sIHRyeSB0byB1c2UgcG93ZXIgb2YgdHdvIHRleHR1cmVzIGFzIG11Y2hcbiAgICAgICAgICogYXMgeW91IGNhblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNQb3dlck9mVHdvID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiByZW5kZXIgY29udGV4dCB0ZXh0dXJlcyB3aGVyZSB0aGlzIGlzIGJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2dsVGV4dHVyZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBUZXh0dXJlU3lzdGVtIHRvIG9ubHkgdXBkYXRlIHRleHR1cmUgdG8gdGhlIEdQVSB3aGVuIG5lZWRlZC5cbiAgICAgICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZSgpYCB0byBpbmNyZW1lbnQgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IFRleHR1cmVTeXN0ZW0gdG8gb25seSB1cGRhdGUgdGV4dHVyZSBzdHlsZSB3aGVuIG5lZWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnRseSBkZWZhdWx0IGNhY2hlIElELlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlSWQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZW5lcmFsbHkgc3BlYWtpbmcgbWVhbnMgd2hlbiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBhbHRlcm5hdGl2ZSBjYWNoZSBpZHMsIHNpbmNlIHNvbWUgQmFzZVRleHR1cmVzXG4gICAgICAgICAqIGNhbiBoYXZlIG1vcmUgdGhhbiBvbmUgSUQsIHNob3J0IG5hbWUgYW5kIGxvbmdlciBmdWxsIFVSTFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWcgaWYgQmFzZVRleHR1cmUgaGFzIGJlZW4gZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZSB1c2VkIGJ5IHRoaXMgQmFzZVRleHR1cmUsIHRoZXJlIGNhbiBvbmx5XG4gICAgICAgICAqIGJlIG9uZSByZXNvdXJjZSBwZXIgQmFzZVRleHR1cmUsIGJ1dCB0ZXh0dXJlcyBjYW4gc2hhcmVcbiAgICAgICAgICogcmVzb3VyY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc291cmNlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIHRoZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoRW5hYmxlZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvY2F0aW9uIGluc2lkZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoTG9jYXRpb24gPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmYWlscyB0byBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Vycm9yXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBlcnJvcmVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Vycm9yRXZlbnR9IGV2ZW50IC0gTG9hZCBlcnJvciBldmVudC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSN1cGRhdGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgdXBkYXRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvLyBTZXQgdGhlIHJlc291cmNlXG4gICAgICAgIHRoaXMuc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICAgIH1cblxuICAgIGlmICggRXZlbnRFbWl0dGVyICkgQmFzZVRleHR1cmUuX19wcm90b19fID0gRXZlbnRFbWl0dGVyO1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50RW1pdHRlciAmJiBFdmVudEVtaXR0ZXIucHJvdG90eXBlICk7XG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmFzZVRleHR1cmU7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyByZWFsV2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scmVhbEhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogUGl4ZWwgd2lkdGggb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucmVhbFdpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKCh0aGlzLndpZHRoICogdGhpcy5yZXNvbHV0aW9uKSAtIDFlLTQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQaXhlbCBoZWlnaHQgb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucmVhbEhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pIC0gMWUtNCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgc3R5bGUgb3B0aW9ucyBvZiBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbc2NhbGVNb2RlXSAtIFBpeGkgc2NhbGVtb2RlXG4gICAgICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW21pcG1hcF0gLSBlbmFibGUgbWlwbWFwc1xuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gc2V0U3R5bGUgKHNjYWxlTW9kZSwgbWlwbWFwKVxuICAgIHtcbiAgICAgICAgdmFyIGRpcnR5O1xuXG4gICAgICAgIGlmIChzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCAmJiBzY2FsZU1vZGUgIT09IHRoaXMuc2NhbGVNb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZTtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaXBtYXAgIT09IHVuZGVmaW5lZCAmJiBtaXBtYXAgIT09IHRoaXMubWlwbWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1pcG1hcCA9IG1pcG1hcDtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHcvaC9yZXNvbHV0aW9uLiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggVmlzdWFsIHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBWaXN1YWwgaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBPcHRpb25hbGx5IHNldCByZXNvbHV0aW9uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uIHNldFNpemUgKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHJlYWwgc2l6ZSBvZiBiYXNlVGV4dHVyZSwgcHJlc2VydmVzIGN1cnJlbnQgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsV2lkdGggRnVsbCByZW5kZXJlZCB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsSGVpZ2h0IEZ1bGwgcmVuZGVyZWQgaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBPcHRpb25hbGx5IHNldCByZXNvbHV0aW9uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVhbFNpemUgPSBmdW5jdGlvbiBzZXRSZWFsU2l6ZSAocmVhbFdpZHRoLCByZWFsSGVpZ2h0LCByZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSByZWFsV2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVhbEhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoIGNoZWNrIGZvciBpc1Bvd2VyT2ZUd28gdGV4dHVyZSBiYXNlZCBvbiBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fcmVmcmVzaFBPVCA9IGZ1bmN0aW9uIF9yZWZyZXNoUE9UICgpXG4gICAge1xuICAgICAgICB0aGlzLmlzUG93ZXJPZlR3byA9IGlzUG93Mih0aGlzLnJlYWxXaWR0aCkgJiYgaXNQb3cyKHRoaXMucmVhbEhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgcmVzb2x1dGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSByZXNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gc2V0UmVzb2x1dGlvbiAocmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHZhciBvbGRSZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChvbGRSZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLndpZHRoICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByZXNvdXJjZSBpZiBpdCB3YXNuJ3Qgc2V0LiBUaHJvd3MgZXJyb3IgaWYgcmVzb3VyY2UgYWxyZWFkeSBwcmVzZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSByZXNvdXJjZSAtIHRoYXQgaXMgbWFuYWdpbmcgdGhpcyBCYXNlVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFJlc291cmNlID0gZnVuY3Rpb24gc2V0UmVzb3VyY2UgKHJlc291cmNlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UgPT09IHJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc291cmNlIGNhbiBiZSBzZXQgb25seSBvbmNlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvdXJjZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByZXNvdXJjZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW52YWxpZGF0ZXMgdGhlIG9iamVjdC4gVGV4dHVyZSBiZWNvbWVzIHZhbGlkIGlmIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGdyZWF0ZXIgdGhhbiB6ZXJvLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggPiAwICYmIHRoaXMuaGVpZ2h0ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBlcnJvcnMgd2l0aCByZXNvdXJjZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Vycm9yRXZlbnR9IGV2ZW50IC0gRXJyb3IgZXZlbnQgZW1pdHRlZC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIG9uRXJyb3IgKGV2ZW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHRoaXMsIGV2ZW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBiYXNlIHRleHR1cmUuXG4gICAgICogVGhlIG1ldGhvZCBzdG9wcyBpZiByZXNvdXJjZSBkb2Vzbid0IHdhbnQgdGhpcyB0ZXh0dXJlIHRvIGJlIGRlc3Ryb3llZC5cbiAgICAgKiBSZW1vdmVzIHRleHR1cmUgZnJvbSBhbGwgY2FjaGVzLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgLy8gcmVtb3ZlIGFuZCBkZXN0cm95IHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS51bmJpbmQodGhpcyk7XG4gICAgICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgcmVzb3VyY2VkIGNyZWF0ZWQgaW50ZXJuYWxseVxuICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UuaW50ZXJuYWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNhY2hlSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG4gICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5hbGx5IGxldCB0aGUgV2ViR0wgcmVuZGVyZXIga25vdy4uXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB0aGlzLmVtaXQoJ2Rpc3Bvc2UnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gaW1hZ2UgdXJsLCBpbWFnZSBlbGVtZW50LCBjYW52YXMgZWxlbWVudC4gSWYgdGhlXG4gICAgICogc291cmNlIGlzIGFuIGltYWdlIHVybCBvciBhbiBpbWFnZSBlbGVtZW50IGFuZCBub3QgaW4gdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIGNhY2hlLCBpdCB3aWxsIGJlIGNyZWF0ZWQgYW5kIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fFNWR0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gVGhlXG4gICAgICogICAgICAgIHNvdXJjZSB0byBjcmVhdGUgYmFzZSB0ZXh0dXJlIGZyb20uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RyaWN0XSBFbmZvcmNlIHN0cmljdC1tb2RlLCBzZWUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEV9LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbSAoc291cmNlLCBvcHRpb25zLCBzdHJpY3QpXG4gICAge1xuICAgICAgICBpZiAoIHN0cmljdCA9PT0gdm9pZCAwICkgc3RyaWN0ID0gc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEU7XG5cbiAgICAgICAgdmFyIGlzRnJhbWUgPSB0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJztcbiAgICAgICAgdmFyIGNhY2hlSWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChpc0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IFwicGl4aWlkX1wiICsgKHVpZCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gQmFzZVRleHR1cmVDYWNoZVtjYWNoZUlkXTtcblxuICAgICAgICAvLyBTdHJpY3QtbW9kZSByZWplY3RzIGludmFsaWQgY2FjaGVJZHNcbiAgICAgICAgaWYgKGlzRnJhbWUgJiYgc3RyaWN0ICYmICFiYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIlRoZSBjYWNoZUlkIFxcXCJcIiArIGNhY2hlSWQgKyBcIlxcXCIgZG9lcyBub3QgZXhpc3QgaW4gQmFzZVRleHR1cmVDYWNoZS5cIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLmNhY2hlSWQgPSBjYWNoZUlkO1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBCYXNlVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fSBidWZmZXIgVGhlIG9wdGlvbmFsIGFycmF5IHRvIHVzZSwgaWYgbm8gZGF0YVxuICAgICAqICAgICAgICBpcyBwcm92aWRlZCwgYSBuZXcgRmxvYXQzMkFycmF5IGlzIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgcmVzdWx0aW5nIG5ldyBCYXNlVGV4dHVyZVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb21CdWZmZXIgPSBmdW5jdGlvbiBmcm9tQnVmZmVyIChidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBidWZmZXIgPSBidWZmZXIgfHwgbmV3IEZsb2F0MzJBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuXG4gICAgICAgIHZhciByZXNvdXJjZSA9IG5ldyBCdWZmZXJSZXNvdXJjZShidWZmZXIsIHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KTtcbiAgICAgICAgdmFyIHR5cGUgPSBidWZmZXIgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgPyBUWVBFUy5GTE9BVCA6IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwgT2JqZWN0LmFzc2lnbihkZWZhdWx0QnVmZmVyT3B0aW9ucywgb3B0aW9ucyB8fCB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQsIHR5cGU6IHR5cGUgfSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgQmFzZVRleHR1cmUgdG8gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgQmFzZVRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgQmFzZVRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlID0gZnVuY3Rpb24gYWRkVG9DYWNoZSAoYmFzZVRleHR1cmUsIGlkKVxuICAgIHtcbiAgICAgICAgaWYgKGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChCYXNlVGV4dHVyZUNhY2hlW2lkXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigoXCJCYXNlVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbXCIgKyBpZCArIFwiXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5XCIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQmFzZVRleHR1cmVDYWNoZVtpZF0gPSBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBCYXNlVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgQmFzZVRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIGlkIG9mIGEgQmFzZVRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBCYXNlVGV4dHVyZSBpbnN0YW5jZSBpdHNlbGYuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZXxudWxsfSBUaGUgQmFzZVRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiByZW1vdmVGcm9tQ2FjaGUgKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiYXNlVGV4dHVyZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZUZyb21DYWNoZSA9IEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmVGcm9tQ2FjaGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmFzZVRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYmFzZVRleHR1cmUgJiYgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBCYXNlVGV4dHVyZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEJhc2VUZXh0dXJlO1xufShFdmVudEVtaXR0ZXIpKTtcblxuLyoqXG4gKiBHbG9iYWwgbnVtYmVyIG9mIHRoZSB0ZXh0dXJlIGJhdGNoLCB1c2VkIGJ5IG11bHRpLXRleHR1cmUgcmVuZGVyZXJzXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5CYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSAwO1xuXG4vKipcbiAqIEEgcmVzb3VyY2UgdGhhdCBjb250YWlucyBhIG51bWJlciBvZiBzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtudW1iZXJ8QXJyYXk8Kj59IHNvdXJjZSAtIE51bWJlciBvZiBpdGVtcyBpbiBhcnJheSBvciB0aGUgY29sbGVjdGlvblxuICogICAgICAgIG9mIGltYWdlIFVSTHMgdG8gdXNlLiBDYW4gYWxzbyBiZSByZXNvdXJjZXMsIGltYWdlIGVsZW1lbnRzLCBjYW52YXMsIGV0Yy5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBhcHBseSB0byB7QGxpbmsgUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlfVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gKi9cbnZhciBBcnJheVJlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBBcnJheVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciB1cmxzO1xuICAgICAgICB2YXIgbGVuZ3RoID0gc291cmNlO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHVybHMgPSBzb3VyY2U7XG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgUmVzb3VyY2UuY2FsbCh0aGlzLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgcmVzb3VyY2VzLlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxQSVhJLkJhc2VUZXh0dXJlPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpcnR5IElEcyBmb3IgZWFjaCBwYXJ0XG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PG51bWJlcj59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pdGVtRGlydHlJZHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcGFydFRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoKTtcblxuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHBhcnRUZXh0dXJlKTtcbiAgICAgICAgICAgIHRoaXMuaXRlbURpcnR5SWRzLnB1c2goLTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBlbGVtZW50cyBpbiBhcnJheVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2V9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIGlmICh1cmxzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBsZW5ndGg7IGkkMSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUmVzb3VyY2VBdChhdXRvRGV0ZWN0UmVzb3VyY2UodXJsc1tpJDFdLCBvcHRpb25zKSwgaSQxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICggUmVzb3VyY2UgKSBBcnJheVJlc291cmNlLl9fcHJvdG9fXyA9IFJlc291cmNlO1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUmVzb3VyY2UgJiYgUmVzb3VyY2UucHJvdG90eXBlICk7XG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBcnJheVJlc291cmNlO1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGlzIEJhc2VJbWFnZVJlc291cmNlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5pdGVtRGlydHlJZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IGEgcmVzb3VyY2UgYnkgSURcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gWmVyby1iYXNlZCBpbmRleCBvZiByZXNvdXJjZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlfSBJbnN0YW5jZSBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5hZGRSZXNvdXJjZUF0ID0gZnVuY3Rpb24gYWRkUmVzb3VyY2VBdCAocmVzb3VyY2UsIGluZGV4KVxuICAgIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGhpcy5pdGVtc1tpbmRleF07XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIkluZGV4IFwiICsgaW5kZXggKyBcIiBpcyBvdXQgb2YgYm91bmRzXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaGVyaXQgdGhlIGZpcnN0IHJlc291cmNlIGRpbWVuc2lvbnNcbiAgICAgICAgaWYgKHJlc291cmNlLnZhbGlkICYmICF0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZShyZXNvdXJjZS53aWR0aCwgcmVzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdLnNldFJlc291cmNlKHJlc291cmNlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZCAoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBSZXNvdXJjZS5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfMkRfQVJSQVk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLm9uKCd1cGRhdGUnLCBiYXNlVGV4dHVyZS51cGRhdGUsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVbnNldCB0aGUgcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gdW5iaW5kIChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIFJlc291cmNlLnByb3RvdHlwZS51bmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLm9mZigndXBkYXRlJywgYmFzZVRleHR1cmUudXBkYXRlLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZCBhbGwgdGhlIHJlc291cmNlcyBzaW11bHRhbmVvdXNseVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IFdoZW4gbG9hZCBpcyByZXNvbHZlZFxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5fbG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzb3VyY2VzID0gdGhpcy5pdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0ucmVzb3VyY2U7IH0pO1xuXG4gICAgICAgIC8vIFRPRE86IGFsc28gaW1wbGVtZW50IGxvYWQgcGFydC1ieS1wYXJ0IHN0cmF0ZWd5XG4gICAgICAgIHZhciBwcm9taXNlcyA9IHJlc291cmNlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0ubG9hZCgpOyB9KTtcblxuICAgICAgICB0aGlzLl9sb2FkID0gUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlZiA9IHJlc291cmNlc1swXTtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSByZWYud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHJlZi5oZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzJDEucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzJDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSByZXNvdXJjZXMgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgdGV4dHVyZSB3YXMgdXBsb2FkZWRcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGxlbmd0aCA9IHJlZi5sZW5ndGg7XG4gICAgICAgIHZhciBpdGVtRGlydHlJZHMgPSByZWYuaXRlbURpcnR5SWRzO1xuICAgICAgICB2YXIgaXRlbXMgPSByZWYuaXRlbXM7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUuZGlydHlJZCA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleEltYWdlM0QoXG4gICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRF9BUlJBWSxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIHRoaXMuX3dpZHRoLFxuICAgICAgICAgICAgICAgIHRoaXMuX2hlaWdodCxcbiAgICAgICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XG5cbiAgICAgICAgICAgIGlmIChpdGVtRGlydHlJZHNbaV0gPCBpdGVtLmRpcnR5SWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXRlbURpcnR5SWRzW2ldID0gaXRlbS5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbGlkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UzRChcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLlRFWFRVUkVfMkRfQVJSQVksXG4gICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgLy8geG9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgLy8geW9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgaSwgLy8gem9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXNvdXJjZS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2UuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXNvdXJjZS5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEFycmF5UmVzb3VyY2U7XG59KFJlc291cmNlKSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBPZmZzY3JlZW5DYW52YXNcbiAqL1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxDYW52YXNFbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBDYW52YXMgZWxlbWVudCB0byB1c2VcbiAqL1xudmFyIENhbnZhc1Jlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZUltYWdlUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBDYW52YXNSZXNvdXJjZSAoKSB7XG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgaWYgKCBCYXNlSW1hZ2VSZXNvdXJjZSApIENhbnZhc1Jlc291cmNlLl9fcHJvdG9fXyA9IEJhc2VJbWFnZVJlc291cmNlO1xuICAgIENhbnZhc1Jlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VJbWFnZVJlc291cmNlICYmIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIENhbnZhc1Jlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENhbnZhc1Jlc291cmNlO1xuXG4gICAgQ2FudmFzUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIHRlc3QgKHNvdXJjZSlcbiAgICB7XG4gICAgICAgIHZhciBPZmZzY3JlZW5DYW52YXMgPSB3aW5kb3cuT2Zmc2NyZWVuQ2FudmFzO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBicm93c2VycyB0aGF0IGRvbid0IHlldCBzdXBwb3J0IE9mZnNjcmVlbkNhbnZhc1xuICAgICAgICBpZiAoT2Zmc2NyZWVuQ2FudmFzICYmIHNvdXJjZSBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291cmNlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSBmb3IgYSBDdWJlVGV4dHVyZSB3aGljaCBjb250YWlucyBzaXggcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQXJyYXlSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZ3xQSVhJLnJlc291cmNlcy5SZXNvdXJjZT59IFtzb3VyY2VdIENvbGxlY3Rpb24gb2YgVVJMcyBvciByZXNvdXJjZXNcbiAqICAgICAgICB0byB1c2UgYXMgdGhlIHNpZGVzIG9mIHRoZSBjdWJlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIEltYWdlUmVzb3VyY2Ugb3B0aW9uc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiByZXNvdXJjZVxuICovXG52YXIgQ3ViZVJlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQXJyYXlSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIEN1YmVSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBBcnJheVJlc291cmNlLmNhbGwodGhpcywgc291cmNlLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IEN1YmVSZXNvdXJjZS5TSURFUylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIkludmFsaWQgbGVuZ3RoLiBHb3QgXCIgKyAodGhpcy5sZW5ndGgpICsgXCIsIGV4cGVjdGVkIDZcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDdWJlUmVzb3VyY2UuU0lERVM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBBcnJheVJlc291cmNlICkgQ3ViZVJlc291cmNlLl9fcHJvdG9fXyA9IEFycmF5UmVzb3VyY2U7XG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEFycmF5UmVzb3VyY2UgJiYgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3ViZVJlc291cmNlO1xuXG4gICAgLyoqXG4gICAgICogQWRkIGJpbmRpbmdcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZCAoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSByZXNvdXJjZVxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciBkaXJ0eSA9IHRoaXMuaXRlbURpcnR5SWRzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ3ViZVJlc291cmNlLlNJREVTOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzaWRlID0gdGhpcy5pdGVtc1tpXTtcblxuICAgICAgICAgICAgaWYgKGRpcnR5W2ldIDwgc2lkZS5kaXJ0eUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpcnR5W2ldID0gc2lkZS5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIGlmIChzaWRlLnZhbGlkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkZS5yZXNvdXJjZS51cGxvYWQocmVuZGVyZXIsIHNpZGUsIGdsVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHJldHVybiBDdWJlUmVzb3VyY2U7XG59KEFycmF5UmVzb3VyY2UpKTtcblxuLyoqXG4gKiBOdW1iZXIgb2YgdGV4dHVyZSBzaWRlcyB0byBzdG9yZSBmb3IgQ3ViZVJlc291cmNlc1xuICpcbiAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLkN1YmVSZXNvdXJjZS5TSURFU1xuICogQHN0YXRpY1xuICogQG1lbWJlciB7bnVtYmVyfVxuICogQGRlZmF1bHQgNlxuICovXG5DdWJlUmVzb3VyY2UuU0lERVMgPSA2O1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIFNWRyBlbGVtZW50cyBhbmQgZ3JhcGhpY3MuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgLSBCYXNlNjQgZW5jb2RlZCBTVkcgZWxlbWVudCBvciBVUkwgZm9yIFNWRyBmaWxlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gdXNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gU2NhbGUgdG8gYXBwbHkgdG8gU1ZHLiBPdmVycmlkZGVuIGJ5Li4uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIFJhc3Rlcml6ZSBTVkcgdGhpcyB3aWRlLiBBc3BlY3QgcmF0aW8gcHJlc2VydmVkIGlmIGhlaWdodCBub3Qgc3BlY2lmaWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gUmFzdGVyaXplIFNWRyB0aGlzIGhpZ2guIEFzcGVjdCByYXRpbyBwcmVzZXJ2ZWQgaWYgd2lkdGggbm90IHNwZWNpZmllZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gU3RhcnQgbG9hZGluZyByaWdodCBhd2F5LlxuICovXG52YXIgU1ZHUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlSW1hZ2VSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIFNWR1Jlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNhbGwodGhpcywgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpO1xuICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhc2U2NCBlbmNvZGVkIFNWRyBlbGVtZW50IG9yIFVSTCBmb3IgU1ZHIGZpbGVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3ZnID0gc291cmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc291cmNlIHNjYWxlIHRvIGFwcGx5IHdoZW4gcmFzdGVyaXppbmcgb24gbG9hZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZSA9IG9wdGlvbnMuc2NhbGUgfHwgMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB3aWR0aCBvdmVycmlkZSBmb3IgcmFzdGVyaXphdGlvbiBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vdmVycmlkZVdpZHRoID0gb3B0aW9ucy53aWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBoZWlnaHQgb3ZlcnJpZGUgZm9yIHJhc3Rlcml6YXRpb24gb24gbG9hZFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb3ZlcnJpZGVIZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbCB3aGVuIGNvbXBsZXRlbHkgbG9hZGVkXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyb3NzIG9yaWdpbiB2YWx1ZSB0byB1c2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbnxzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jcm9zc29yaWdpbiA9IG9wdGlvbnMuY3Jvc3NvcmlnaW47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIEJhc2VJbWFnZVJlc291cmNlICkgU1ZHUmVzb3VyY2UuX19wcm90b19fID0gQmFzZUltYWdlUmVzb3VyY2U7XG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZUltYWdlUmVzb3VyY2UgJiYgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlICk7XG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU1ZHUmVzb3VyY2U7XG5cbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGlzIHVudGlsIGFmdGVyIGxvYWQgaXMgZmluaXNoZWRcbiAgICAgICAgICAgIHRoaXMkMS5fcmVzb2x2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEucmVzaXplKHRoaXMkMS5zb3VyY2Uud2lkdGgsIHRoaXMkMS5zb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMkMSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IFNWRyBpbmxpbmUgc3RyaW5nIHRvIGRhdGEtdXJpXG4gICAgICAgICAgICBpZiAoKC9eXFw8c3ZnLykudGVzdCh0aGlzJDEuc3ZnLnRyaW0oKSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFidG9hKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgYmFzZTY0IGNvbnZlcnNpb25zLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzJDEuc3ZnID0gXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFwiICsgKGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMkMS5zdmcpKSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzJDEuX2xvYWRTdmcoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIGFuIFNWRyBpbWFnZSBmcm9tIGBpbWFnZVVybGAgb3IgYGRhdGEgVVJMYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkU3ZnID0gZnVuY3Rpb24gX2xvYWRTdmcgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIHZhciB0ZW1wSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbih0ZW1wSW1hZ2UsIHRoaXMuc3ZnLCB0aGlzLl9jcm9zc29yaWdpbik7XG4gICAgICAgIHRlbXBJbWFnZS5zcmMgPSB0aGlzLnN2ZztcblxuICAgICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdGVtcEltYWdlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcyQxLm9uRXJyb3IucnVuKGV2ZW50KTtcbiAgICAgICAgfTtcblxuICAgICAgICB0ZW1wSW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN2Z1dpZHRoID0gdGVtcEltYWdlLndpZHRoO1xuICAgICAgICAgICAgdmFyIHN2Z0hlaWdodCA9IHRlbXBJbWFnZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmICghc3ZnV2lkdGggfHwgIXN2Z0hlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBTVkcgaW1hZ2UgbXVzdCBoYXZlIHdpZHRoIGFuZCBoZWlnaHQgZGVmaW5lZCAoaW4gcGl4ZWxzKSwgY2FudmFzIEFQSSBuZWVkcyB0aGVtLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZXQgcmVuZGVyIHNpemVcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHN2Z1dpZHRoICogdGhpcyQxLnNjYWxlO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHN2Z0hlaWdodCAqIHRoaXMkMS5zY2FsZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMkMS5fb3ZlcnJpZGVXaWR0aCB8fCB0aGlzJDEuX292ZXJyaWRlSGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcyQxLl9vdmVycmlkZVdpZHRoIHx8IHRoaXMkMS5fb3ZlcnJpZGVIZWlnaHQgLyBzdmdIZWlnaHQgKiBzdmdXaWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzJDEuX292ZXJyaWRlSGVpZ2h0IHx8IHRoaXMkMS5fb3ZlcnJpZGVXaWR0aCAvIHN2Z1dpZHRoICogc3ZnSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICAgICAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0KTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgY2FudmFzIGVsZW1lbnRcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSB0aGlzJDEuc291cmNlO1xuXG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBjYW52YXMuX3BpeGlJZCA9IFwiY2FudmFzX1wiICsgKHVpZCgpKTtcblxuICAgICAgICAgICAgLy8gRHJhdyB0aGUgU3ZnIHRvIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGNhbnZhc1xuICAgICAgICAgICAgICAgIC5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgICAgICAgICAgLmRyYXdJbWFnZSh0ZW1wSW1hZ2UsIDAsIDAsIHN2Z1dpZHRoLCBzdmdIZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICB0aGlzJDEuX3Jlc29sdmUoKTtcbiAgICAgICAgICAgIHRoaXMkMS5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBzaXplIGZyb20gYW4gc3ZnIHN0cmluZyB1c2luZyByZWdleHAuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN2Z1N0cmluZyAtIGEgc2VyaWFsaXplZCBzdmcgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuSVNpemV9IGltYWdlIGV4dGVuc2lvblxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLmdldFNpemUgPSBmdW5jdGlvbiBnZXRTaXplIChzdmdTdHJpbmcpXG4gICAge1xuICAgICAgICB2YXIgc2l6ZU1hdGNoID0gU1ZHUmVzb3VyY2UuU1ZHX1NJWkUuZXhlYyhzdmdTdHJpbmcpO1xuICAgICAgICB2YXIgc2l6ZSA9IHt9O1xuXG4gICAgICAgIGlmIChzaXplTWF0Y2gpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzFdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbM10pKTtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzVdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbN10pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICB0aGlzLl9jcm9zc29yaWdpbiA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gLSBUaGUgZXh0ZW5zaW9uIG9mIHNvdXJjZSwgaWYgc2V0XG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIHRlc3QgKHNvdXJjZSwgZXh0ZW5zaW9uKVxuICAgIHtcbiAgICAgICAgLy8gdXJsIGZpbGUgZXh0ZW5zaW9uIGlzIFNWR1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAnc3ZnJ1xuICAgICAgICAgICAgLy8gc291cmNlIGlzIFNWRyBkYXRhLXVyaVxuICAgICAgICAgICAgfHwgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIHNvdXJjZS5pbmRleE9mKCdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0JykgPT09IDApXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMgU1ZHIGlubGluZVxuICAgICAgICAgICAgfHwgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIHNvdXJjZS5pbmRleE9mKCc8c3ZnJykgPT09IDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gU1ZHUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVnRXhwIGZvciBTVkcgc2l6ZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge1JlZ0V4cHxzdHJpbmd9IFNWR19TSVpFXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2VcbiAqIEBleGFtcGxlICZsdDtzdmcgd2lkdGg9XCIxMDBcIiBoZWlnaHQ9XCIxMDBcIiZndDsmbHQ7L3N2ZyZndDtcbiAqL1xuU1ZHUmVzb3VyY2UuU1ZHX1NJWkUgPSAvPHN2Z1tePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSo+L2k7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxWaWRlb0VsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudHxvYmplY3R8c3RyaW5nfEFycmF5PHN0cmluZ3xvYmplY3Q+fSBzb3VyY2UgLSBWaWRlbyBlbGVtZW50IHRvIHVzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIHVzZVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIFN0YXJ0IGxvYWRpbmcgdGhlIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QbGF5PXRydWVdIC0gU3RhcnQgcGxheWluZyB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVwZGF0ZUZQUz0wXSAtIEhvdyBtYW55IHRpbWVzIGEgc2Vjb25kIHRvIHVwZGF0ZSB0aGUgdGV4dHVyZSBmcm9tIHRoZSB2aWRlby5cbiAqIExlYXZlIGF0IDAgdG8gdXBkYXRlIGF0IGV2ZXJ5IHJlbmRlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBMb2FkIGltYWdlIHVzaW5nIGNyb3NzIG9yaWdpblxuICovXG52YXIgVmlkZW9SZXNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhc2VJbWFnZVJlc291cmNlKSB7XG4gICAgZnVuY3Rpb24gVmlkZW9SZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cbiAgICAgICAgICAgIC8vIHdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTk5NlxuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgncHJlbG9hZCcsICdhdXRvJyk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCd3ZWJraXQtcGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICcnKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IFtzb3VyY2VdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbih2aWRlb0VsZW1lbnQsIChzb3VyY2VbMF0uc3JjIHx8IHNvdXJjZVswXSksIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuXG4gICAgICAgICAgICAvLyBhcnJheSBvZiBvYmplY3RzIG9yIHN0cmluZ3NcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVmID0gc291cmNlW2ldO1xuICAgICAgICAgICAgICAgIHZhciBzcmMgPSByZWYuc3JjO1xuICAgICAgICAgICAgICAgIHZhciBtaW1lID0gcmVmLm1pbWU7XG5cbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMgfHwgc291cmNlW2ldO1xuXG4gICAgICAgICAgICAgICAgdmFyIGJhc2VTcmMgPSBzcmMuc3BsaXQoJz8nKS5zaGlmdCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdmFyIGV4dCA9IGJhc2VTcmMuc3Vic3RyKGJhc2VTcmMubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuXG4gICAgICAgICAgICAgICAgbWltZSA9IG1pbWUgfHwgKFwidmlkZW8vXCIgKyBleHQpO1xuXG4gICAgICAgICAgICAgICAgc291cmNlRWxlbWVudC5zcmMgPSBzcmM7XG4gICAgICAgICAgICAgICAgc291cmNlRWxlbWVudC50eXBlID0gbWltZTtcblxuICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5hcHBlbmRDaGlsZChzb3VyY2VFbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gT3ZlcnJpZGUgdGhlIHNvdXJjZVxuICAgICAgICAgICAgc291cmNlID0gdmlkZW9FbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY2FsbCh0aGlzLCBzb3VyY2UpO1xuXG4gICAgICAgIHRoaXMubm9TdWJJbWFnZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl91cGRhdGVGUFMgPSBvcHRpb25zLnVwZGF0ZUZQUyB8fCAwO1xuICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gc2V0IHRvIHRydWUgd2lsbCBhdXRvbWF0aWNhbGx5IHBsYXkgdmlkZW9zIHVzZWQgYnkgdGhpcyB0ZXh0dXJlIG9uY2VcbiAgICAgICAgICogdGhleSBhcmUgbG9hZGVkLiBJZiBmYWxzZSwgaXQgd2lsbCBub3QgbW9kaWZ5IHRoZSBwbGF5aW5nIHN0YXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9QbGF5ID0gb3B0aW9ucy5hdXRvUGxheSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB3aGVuIGNvbXBsZXRlZCB3aXRoIGxvYWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG5cbiAgICAgICAgLy8gQmluZCBmb3IgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMuX29uQ2FuUGxheSA9IHRoaXMuX29uQ2FuUGxheS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9vbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIEJhc2VJbWFnZVJlc291cmNlICkgVmlkZW9SZXNvdXJjZS5fX3Byb3RvX18gPSBCYXNlSW1hZ2VSZXNvdXJjZTtcbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VJbWFnZVJlc291cmNlICYmIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmlkZW9SZXNvdXJjZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGF1dG9VcGRhdGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdXBkYXRlRlBTOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHVwZGF0aW5nIG9mIHRoZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlbHRhVGltZT0wXSAtIHRpbWUgZGVsdGEgc2luY2UgbGFzdCB0aWNrXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChkZWx0YVRpbWUpXG4gICAge1xuICAgICAgICBpZiAoIGRlbHRhVGltZSA9PT0gdm9pZCAwICkgZGVsdGFUaW1lID0gMDtcblxuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBhY2NvdW50IGZvciBpZiB2aWRlbyBoYXMgaGFkIGl0cyBwbGF5YmFja1JhdGUgY2hhbmdlZFxuICAgICAgICAgICAgdmFyIGVsYXBzZWRNUyA9IFRpY2tlci5zaGFyZWQuZWxhcHNlZE1TICogdGhpcy5zb3VyY2UucGxheWJhY2tSYXRlO1xuXG4gICAgICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IE1hdGguZmxvb3IodGhpcy5fbXNUb05leHRVcGRhdGUgLSBlbGFwc2VkTVMpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl91cGRhdGVGUFMgfHwgdGhpcy5fbXNUb05leHRVcGRhdGUgPD0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcywgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA9IHRoaXMuX3VwZGF0ZUZQUyA/IE1hdGguZmxvb3IoMTAwMCAvIHRoaXMuX3VwZGF0ZUZQUykgOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHByZWxvYWRpbmcgdGhlIHZpZGVvIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IEhhbmRsZSB0aGUgdmFsaWRhdGUgZXZlbnRcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuXG4gICAgICAgIGlmICgoc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0VOT1VHSF9EQVRBIHx8IHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9GVVRVUkVfREFUQSlcbiAgICAgICAgICAgICYmIHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBzb3VyY2UuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCB0aGlzLl9vblBsYXlTdGFydC5iaW5kKHRoaXMpKTtcbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgdGhpcy5fb25QbGF5U3RvcC5iaW5kKHRoaXMpKTtcblxuICAgICAgICBpZiAoIXRoaXMuX2lzU291cmNlUmVhZHkoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzJDEudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzJDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fcmVzb2x2ZSA9IHJlc29sdmU7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2UubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHZpZGVvIGVycm9yIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uRXJyb3IgPSBmdW5jdGlvbiBfb25FcnJvciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yLCB0cnVlKTtcbiAgICAgICAgdGhpcy5vbkVycm9yLnJ1bihldmVudCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nLlxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9pc1NvdXJjZVBsYXlpbmcgPSBmdW5jdGlvbiBfaXNTb3VyY2VQbGF5aW5nICgpXG4gICAge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgcmV0dXJuIChzb3VyY2UuY3VycmVudFRpbWUgPiAwICYmIHNvdXJjZS5wYXVzZWQgPT09IGZhbHNlICYmIHNvdXJjZS5lbmRlZCA9PT0gZmFsc2UgJiYgc291cmNlLnJlYWR5U3RhdGUgPiAyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyByZWFkeSBmb3IgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiByZWFkeS5cbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5faXNTb3VyY2VSZWFkeSA9IGZ1bmN0aW9uIF9pc1NvdXJjZVJlYWR5ICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gMyB8fCB0aGlzLnNvdXJjZS5yZWFkeVN0YXRlID09PSA0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSdW5zIHRoZSB1cGRhdGUgbG9vcCB3aGVuIHRoZSB2aWRlbyBpcyByZWFkeSB0byBwbGF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vblBsYXlTdGFydCA9IGZ1bmN0aW9uIF9vblBsYXlTdGFydCAoKVxuICAgIHtcbiAgICAgICAgLy8gSnVzdCBpbiBjYXNlIHRoZSB2aWRlbyBoYXMgbm90IHJlY2VpdmVkIGl0cyBjYW4gcGxheSBldmVuIHlldC4uXG4gICAgICAgIGlmICghdGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2lzQXV0b1VwZGF0aW5nICYmIHRoaXMuYXV0b1VwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwYXVzZSBldmVudCBpcyB0cmlnZ2VyZWQsIHN0b3BzIHRoZSB1cGRhdGUgbG9vcFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25QbGF5U3RvcCA9IGZ1bmN0aW9uIF9vblBsYXlTdG9wICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5faXNBdXRvVXBkYXRpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgdmlkZW8gaXMgbG9hZGVkIGFuZCByZWFkeSB0byBwbGF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vbkNhblBsYXkgPSBmdW5jdGlvbiBfb25DYW5QbGF5ICgpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIHNvdXJjZSA9IHJlZi5zb3VyY2U7XG5cbiAgICAgICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9vbkNhblBsYXkpO1xuXG4gICAgICAgIHZhciB2YWxpZCA9IHRoaXMudmFsaWQ7XG5cbiAgICAgICAgdGhpcy5yZXNpemUoc291cmNlLnZpZGVvV2lkdGgsIHNvdXJjZS52aWRlb0hlaWdodCk7XG5cbiAgICAgICAgLy8gcHJldmVudCBtdWx0aXBsZSBsb2FkZWQgZGlzcGF0Y2hlcy4uXG4gICAgICAgIGlmICghdmFsaWQgJiYgdGhpcy5fcmVzb2x2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzU291cmNlUGxheWluZygpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vblBsYXlTdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0b1BsYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZS5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9pc0F1dG9VcGRhdGluZylcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3VsZCB0aGUgYmFzZSB0ZXh0dXJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlIGl0c2VsZiwgc2V0IHRvIHRydWUgYnkgZGVmYXVsdFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYXV0b1VwZGF0ZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9VcGRhdGU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hdXRvVXBkYXRlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX2F1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNBdXRvVXBkYXRpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIb3cgbWFueSB0aW1lcyBhIHNlY29uZCB0byB1cGRhdGUgdGhlIHRleHR1cmUgZnJvbSB0aGUgdmlkZW8uIExlYXZlIGF0IDAgdG8gdXBkYXRlIGF0IGV2ZXJ5IHJlbmRlci5cbiAgICAgKiBBIGxvd2VyIGZwcyBjYW4gaGVscCBwZXJmb3JtYW5jZSwgYXMgdXBkYXRpbmcgdGhlIHRleHR1cmUgYXQgNjBmcHMgb24gYSAzMHBzIHZpZGVvIG1heSBub3QgYmUgZWZmaWNpZW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy51cGRhdGVGUFMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVGUFM7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy51cGRhdGVGUFMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fdXBkYXRlRlBTKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVGUFMgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2aWRlbyBzb3VyY2VcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiB0ZXN0IChzb3VyY2UsIGV4dGVuc2lvbilcbiAgICB7XG4gICAgICAgIHJldHVybiAoc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudClcbiAgICAgICAgICAgIHx8IFZpZGVvUmVzb3VyY2UuVFlQRVMuaW5kZXhPZihleHRlbnNpb24pID4gLTE7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBWaWRlb1Jlc291cmNlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gVmlkZW9SZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBMaXN0IG9mIGNvbW1vbiB2aWRlbyBmaWxlIGV4dGVuc2lvbnMgc3VwcG9ydGVkIGJ5IFZpZGVvUmVzb3VyY2UuXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge0FycmF5PHN0cmluZz59XG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqL1xuVmlkZW9SZXNvdXJjZS5UWVBFUyA9IFsnbXA0JywgJ200dicsICd3ZWJtJywgJ29nZycsICdvZ3YnLCAnaDI2NCcsICdhdmknLCAnbW92J107XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSW1hZ2VCaXRtYXAuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SW1hZ2VCaXRtYXB9IHNvdXJjZSAtIEltYWdlIGVsZW1lbnQgdG8gdXNlXG4gKi9cbnZhciBJbWFnZUJpdG1hcFJlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZUltYWdlUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBJbWFnZUJpdG1hcFJlc291cmNlICgpIHtcbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIEJhc2VJbWFnZVJlc291cmNlICkgSW1hZ2VCaXRtYXBSZXNvdXJjZS5fX3Byb3RvX18gPSBCYXNlSW1hZ2VSZXNvdXJjZTtcbiAgICBJbWFnZUJpdG1hcFJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VJbWFnZVJlc291cmNlICYmIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIEltYWdlQml0bWFwUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW1hZ2VCaXRtYXBSZXNvdXJjZTtcblxuICAgIEltYWdlQml0bWFwUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIHRlc3QgKHNvdXJjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiAhIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCAmJiBzb3VyY2UgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEltYWdlQml0bWFwUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbklOU1RBTExFRC5wdXNoKFxuICAgIEltYWdlUmVzb3VyY2UsXG4gICAgSW1hZ2VCaXRtYXBSZXNvdXJjZSxcbiAgICBDYW52YXNSZXNvdXJjZSxcbiAgICBWaWRlb1Jlc291cmNlLFxuICAgIFNWR1Jlc291cmNlLFxuICAgIEJ1ZmZlclJlc291cmNlLFxuICAgIEN1YmVSZXNvdXJjZSxcbiAgICBBcnJheVJlc291cmNlXG4pO1xuXG52YXIgaW5kZXggPSAoe1xuICAgIElOU1RBTExFRDogSU5TVEFMTEVELFxuICAgIGF1dG9EZXRlY3RSZXNvdXJjZTogYXV0b0RldGVjdFJlc291cmNlLFxuICAgIEFycmF5UmVzb3VyY2U6IEFycmF5UmVzb3VyY2UsXG4gICAgQnVmZmVyUmVzb3VyY2U6IEJ1ZmZlclJlc291cmNlLFxuICAgIENhbnZhc1Jlc291cmNlOiBDYW52YXNSZXNvdXJjZSxcbiAgICBDdWJlUmVzb3VyY2U6IEN1YmVSZXNvdXJjZSxcbiAgICBJbWFnZVJlc291cmNlOiBJbWFnZVJlc291cmNlLFxuICAgIEltYWdlQml0bWFwUmVzb3VyY2U6IEltYWdlQml0bWFwUmVzb3VyY2UsXG4gICAgU1ZHUmVzb3VyY2U6IFNWR1Jlc291cmNlLFxuICAgIFZpZGVvUmVzb3VyY2U6IFZpZGVvUmVzb3VyY2UsXG4gICAgUmVzb3VyY2U6IFJlc291cmNlLFxuICAgIEJhc2VJbWFnZVJlc291cmNlOiBCYXNlSW1hZ2VSZXNvdXJjZVxufSk7XG5cbi8qKlxuICogU3lzdGVtIGlzIGEgYmFzZSBjbGFzcyB1c2VkIGZvciBleHRlbmRpbmcgc3lzdGVtcyB1c2VkIGJ5IHRoZSB7QGxpbmsgUElYSS5SZW5kZXJlcn1cbiAqXG4gKiBAc2VlIFBJWEkuUmVuZGVyZXIjYWRkU3lzdGVtXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTeXN0ZW0gPSBmdW5jdGlvbiBTeXN0ZW0ocmVuZGVyZXIpXG57XG4gICAgLyoqXG4gICAgICogVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlcmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbn07XG5cbi8qKlxuICogR2VuZXJpYyBkZXN0cm95IG1ldGhvZHMgdG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAqL1xuU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBEZXB0aFRleHR1cmUuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJ1ZmZlclJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIERlcHRoUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCdWZmZXJSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIERlcHRoUmVzb3VyY2UgKCkge1xuICAgICAgICBCdWZmZXJSZXNvdXJjZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGlmICggQnVmZmVyUmVzb3VyY2UgKSBEZXB0aFJlc291cmNlLl9fcHJvdG9fXyA9IEJ1ZmZlclJlc291cmNlO1xuICAgIERlcHRoUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQnVmZmVyUmVzb3VyY2UgJiYgQnVmZmVyUmVzb3VyY2UucHJvdG90eXBlICk7XG4gICAgRGVwdGhSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEZXB0aFJlc291cmNlO1xuXG4gICAgRGVwdGhSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUuYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5VTlBBQ0spO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggPT09IGJhc2VUZXh0dXJlLndpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGJhc2VUZXh0dXJlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUud2lkdGgsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBnbC5ERVBUSF9DT01QT05FTlQxNiwgLy8gTmVlZGVkIGZvciBkZXB0aCB0byByZW5kZXIgcHJvcGVybHkgaW4gd2ViZ2wyLjBcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS53aWR0aCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIERlcHRoUmVzb3VyY2U7XG59KEJ1ZmZlclJlc291cmNlKSk7XG5cbi8qKlxuICogRnJhbWUgYnVmZmVyIHVzZWQgYnkgdGhlIEJhc2VSZW5kZXJUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRnJhbWVidWZmZXIgPSBmdW5jdGlvbiBGcmFtZWJ1ZmZlcih3aWR0aCwgaGVpZ2h0KVxue1xuICAgIHRoaXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGggfHwgMTAwKTtcbiAgICB0aGlzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgfHwgMTAwKTtcblxuICAgIHRoaXMuc3RlbmNpbCA9IGZhbHNlO1xuICAgIHRoaXMuZGVwdGggPSBmYWxzZTtcblxuICAgIHRoaXMuZGlydHlJZCA9IDA7XG4gICAgdGhpcy5kaXJ0eUZvcm1hdCA9IDA7XG4gICAgdGhpcy5kaXJ0eVNpemUgPSAwO1xuXG4gICAgdGhpcy5kZXB0aFRleHR1cmUgPSBudWxsO1xuICAgIHRoaXMuY29sb3JUZXh0dXJlcyA9IFtdO1xuXG4gICAgdGhpcy5nbEZyYW1lYnVmZmVycyA9IHt9O1xuXG4gICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUZyYW1lYnVmZmVyJywgMik7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDEgPSB7IGNvbG9yVGV4dHVyZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIFJlZmVyZW5jZSB0byB0aGUgY29sb3JUZXh0dXJlLlxuICpcbiAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZVtdfVxuICogQHJlYWRvbmx5XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLmNvbG9yVGV4dHVyZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZXNbMF07XG59O1xuXG4vKipcbiAqIEFkZCB0ZXh0dXJlIHRvIHRoZSBjb2xvclRleHR1cmUgYXJyYXlcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW2luZGV4PTBdIC0gSW5kZXggb2YgdGhlIGFycmF5IHRvIGFkZCB0aGUgdGV4dHVyZSB0b1xuICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlXSAtIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBhcnJheVxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuYWRkQ29sb3JUZXh0dXJlID0gZnVuY3Rpb24gYWRkQ29sb3JUZXh0dXJlIChpbmRleCwgdGV4dHVyZSlcbntcbiAgICAgICAgaWYgKCBpbmRleCA9PT0gdm9pZCAwICkgaW5kZXggPSAwO1xuXG4gICAgLy8gVE9ETyBhZGQgc29tZSB2YWxpZGF0aW9uIHRvIHRoZSB0ZXh0dXJlIC0gc2FtZSB3aWR0aCAvIGhlaWdodCBldGM/XG4gICAgdGhpcy5jb2xvclRleHR1cmVzW2luZGV4XSA9IHRleHR1cmUgfHwgbmV3IEJhc2VUZXh0dXJlKG51bGwsIHsgc2NhbGVNb2RlOiAwLFxuICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICBtaXBtYXA6IGZhbHNlLFxuICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCB9KTtcblxuICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIHRoaXMuZGlydHlGb3JtYXQrKztcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgYSBkZXB0aCB0ZXh0dXJlIHRvIHRoZSBmcmFtZSBidWZmZXJcbiAqXG4gKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmVdIC0gVGV4dHVyZSB0byBhZGRcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmFkZERlcHRoVGV4dHVyZSA9IGZ1bmN0aW9uIGFkZERlcHRoVGV4dHVyZSAodGV4dHVyZSlcbntcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgdGhpcy5kZXB0aFRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShuZXcgRGVwdGhSZXNvdXJjZShudWxsLCB7IHdpZHRoOiB0aGlzLndpZHRoLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0IH0pLCB7IHNjYWxlTW9kZTogMCxcbiAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgIG1pcG1hcDogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogRk9STUFUUy5ERVBUSF9DT01QT05FTlQsXG4gICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX1NIT1JUIH0pO1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW5hYmxlIGRlcHRoIG9uIHRoZSBmcmFtZSBidWZmZXJcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmVuYWJsZURlcHRoID0gZnVuY3Rpb24gZW5hYmxlRGVwdGggKClcbntcbiAgICB0aGlzLmRlcHRoID0gdHJ1ZTtcblxuICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIHRoaXMuZGlydHlGb3JtYXQrKztcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBFbmFibGUgc3RlbmNpbCBvbiB0aGUgZnJhbWUgYnVmZmVyXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5lbmFibGVTdGVuY2lsID0gZnVuY3Rpb24gZW5hYmxlU3RlbmNpbCAoKVxue1xuICAgIHRoaXMuc3RlbmNpbCA9IHRydWU7XG5cbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVzaXplIHRoZSBmcmFtZSBidWZmZXJcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgZnJhbWUgYnVmZmVyIHRvIHJlc2l6ZSB0b1xuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgZnJhbWUgYnVmZmVyIHRvIHJlc2l6ZSB0b1xuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICh3aWR0aCwgaGVpZ2h0KVxue1xuICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcblxuICAgIGlmICh3aWR0aCA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgPT09IHRoaXMuaGVpZ2h0KSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgdGhpcy5kaXJ0eVNpemUrKztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLmNvbG9yVGV4dHVyZXNbaV07XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIC8vIHRha2UgaW50byBhY291bnQgdGhlIGZhY3QgdGhlIHRleHR1cmUgbWF5IGhhdmUgYSBkaWZmZXJlbnQgcmVzb2x1dGlvbi4uXG4gICAgICAgIHRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciByZXNvbHV0aW9uJDEgPSB0aGlzLmRlcHRoVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uJDEsIGhlaWdodCAvIHJlc29sdXRpb24kMSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG57XG4gICAgdGhpcy5kaXNwb3NlUnVubmVyLnJ1bih0aGlzLCBmYWxzZSk7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggRnJhbWVidWZmZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkMSApO1xuXG4vKipcbiAqIEEgQmFzZVJlbmRlclRleHR1cmUgaXMgYSBzcGVjaWFsIHRleHR1cmUgdGhhdCBhbGxvd3MgYW55IFBpeGlKUyBkaXNwbGF5IG9iamVjdCB0byBiZSByZW5kZXJlZCB0byBpdC5cbiAqXG4gKiBfX0hpbnRfXzogQWxsIERpc3BsYXlPYmplY3RzIChpLmUuIFNwcml0ZXMpIHRoYXQgcmVuZGVyIHRvIGEgQmFzZVJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIEEgQmFzZVJlbmRlclRleHR1cmUgdGFrZXMgYSBzbmFwc2hvdCBvZiBhbnkgRGlzcGxheSBPYmplY3QgZ2l2ZW4gdG8gaXRzIHJlbmRlciBtZXRob2QuIFRoZSBwb3NpdGlvblxuICogYW5kIHJvdGF0aW9uIG9mIHRoZSBnaXZlbiBEaXNwbGF5IE9iamVjdHMgaXMgaWdub3JlZC4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKCk7XG4gKiBsZXQgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5CYXNlUmVuZGVyVGV4dHVyZSh7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwIH0pO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlKTtcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogMTAwLCBoZWlnaHQ6IDEwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlUmVuZGVyVGV4dHVyZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhc2VUZXh0dXJlKSB7XG4gICAgZnVuY3Rpb24gQmFzZVJlbmRlclRleHR1cmUob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICAgICAgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSBvZiBzaWduYXR1cmVcbiAgICAgICAgICAgIHZhciB3aWR0aCQxID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdmFyIGhlaWdodCQxID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuXG4gICAgICAgICAgICBvcHRpb25zID0geyB3aWR0aDogd2lkdGgkMSwgaGVpZ2h0OiBoZWlnaHQkMSwgc2NhbGVNb2RlOiBzY2FsZU1vZGUsIHJlc29sdXRpb246IHJlc29sdXRpb24gfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cblxuICAgICAgICBCYXNlVGV4dHVyZS5jYWxsKHRoaXMsIG51bGwsIG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciByZWYgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgd2lkdGggPSByZWYud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWYuaGVpZ2h0O1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0c1xuICAgICAgICB0aGlzLm1pcG1hcCA9IGZhbHNlO1xuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoKSB8fCAxMDA7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCkgfHwgMTAwO1xuICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGNhbnZhcyByZW5kZXIgdGFyZ2V0ICh3ZSBvbmx5IG5lZWQgb25lIGFzIHRoaXMgY2FuIGJlIHNoYXJlZCBhY3Jvc3MgcmVuZGVyZXJzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbnZhc1JlbmRlclRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5jbGVhckNvbG9yID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIodGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbiwgdGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pXG4gICAgICAgICAgICAuYWRkQ29sb3JUZXh0dXJlKDAsIHRoaXMpO1xuXG4gICAgICAgIC8vIFRPRE8gLSBjb3VsZCB0aGlzIGJlIGFkZGVkIHRoZSBzeXN0ZW1zP1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgZm9yIHRoZSBzdGVuY2lsIG1hc2tzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tEYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgZm9yIHRoZSBmaWx0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2sgPSBbe31dO1xuICAgIH1cblxuICAgIGlmICggQmFzZVRleHR1cmUgKSBCYXNlUmVuZGVyVGV4dHVyZS5fX3Byb3RvX18gPSBCYXNlVGV4dHVyZTtcbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlVGV4dHVyZSAmJiBCYXNlVGV4dHVyZS5wcm90b3R5cGUgKTtcbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCYXNlUmVuZGVyVGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIEJhc2VSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAod2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIucmVzaXplKHdpZHRoICogdGhpcy5yZXNvbHV0aW9uLCBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBhbmQgZnJhbWVidWZmZXIgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmRpc3Bvc2UoKTtcblxuICAgICAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmUuXG4gICAgICpcbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlUmVuZGVyVGV4dHVyZTtcbn0oQmFzZVRleHR1cmUpKTtcblxuLyoqXG4gKiBTdG9yZXMgYSB0ZXh0dXJlJ3MgZnJhbWUgaW4gVVYgY29vcmRpbmF0ZXMsIGluXG4gKiB3aGljaCBldmVyeXRoaW5nIGxpZXMgaW4gdGhlIHJlY3RhbmdsZSBgWygwLDApLCAoMSwwKSxcbiAqICgxLDEpLCAoMCwxKV1gLlxuICpcbiAqIHwgQ29ybmVyICAgICAgIHwgQ29vcmRpbmF0ZXMgfFxuICogfC0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS18XG4gKiB8IFRvcC1MZWZ0ICAgICB8IGAoeDAseTApYCAgIHxcbiAqIHwgVG9wLVJpZ2h0ICAgIHwgYCh4MSx5MSlgICAgfFxuICogfCBCb3R0b20tUmlnaHQgfCBgKHgyLHkyKWAgICB8XG4gKiB8IEJvdHRvbS1MZWZ0ICB8IGAoeDMseTMpYCAgIHxcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlVXZzID0gZnVuY3Rpb24gVGV4dHVyZVV2cygpXG57XG4gICAgLyoqXG4gICAgICogWC1jb21wb25lbnQgb2YgdG9wLWxlZnQgY29ybmVyIGAoeDAseTApYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLngwID0gMDtcblxuICAgIC8qKlxuICAgICAqIFktY29tcG9uZW50IG9mIHRvcC1sZWZ0IGNvcm5lciBgKHgwLHkwKWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy55MCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBYLWNvbXBvbmVudCBvZiB0b3AtcmlnaHQgY29ybmVyIGAoeDEseTEpYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLngxID0gMTtcblxuICAgIC8qKlxuICAgICAqIFktY29tcG9uZW50IG9mIHRvcC1yaWdodCBjb3JuZXIgYCh4MSx5MSlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMueTEgPSAwO1xuXG4gICAgLyoqXG4gICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy54MiA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBZLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDIseTIpYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnkyID0gMTtcblxuICAgIC8qKlxuICAgICAqIFgtY29tcG9uZW50IG9mIGJvdHRvbS1sZWZ0IGNvcm5lciBgKHgzLHkzKWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy54MyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBZLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnkzID0gMTtcblxuICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHRleHR1cmUgVXZzIGJhc2VkIG9uIHRoZSBnaXZlbiBmcmFtZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAcHJvdGVjdGVkXG4gKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYmFzZUZyYW1lIC0gVGhlIGJhc2UgZnJhbWUgb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGUgLSBSb3RhdGlvbiBvZiBmcmFtZSwgc2VlIHtAbGluayBQSVhJLmdyb3VwRDh9XG4gKi9cblRleHR1cmVVdnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoZnJhbWUsIGJhc2VGcmFtZSwgcm90YXRlKVxue1xuICAgIHZhciB0dyA9IGJhc2VGcmFtZS53aWR0aDtcbiAgICB2YXIgdGggPSBiYXNlRnJhbWUuaGVpZ2h0O1xuXG4gICAgaWYgKHJvdGF0ZSlcbiAgICB7XG4gICAgICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQgZGl2IDIgZGl2IGJhc2VGcmFtZSBzaXplXG4gICAgICAgIHZhciB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgICB2YXIgaDIgPSBmcmFtZS5oZWlnaHQgLyAyIC8gdGg7XG5cbiAgICAgICAgLy8gY29vcmRpbmF0ZXMgb2YgY2VudGVyXG4gICAgICAgIHZhciBjWCA9IChmcmFtZS54IC8gdHcpICsgdzI7XG4gICAgICAgIHZhciBjWSA9IChmcmFtZS55IC8gdGgpICsgaDI7XG5cbiAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCBncm91cEQ4Lk5XKTsgLy8gTlcgaXMgdG9wLWxlZnQgY29ybmVyXG4gICAgICAgIHRoaXMueDAgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgIHRoaXMueTAgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG5cbiAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTsgLy8gcm90YXRlIDkwIGRlZ3JlZXMgY2xvY2t3aXNlXG4gICAgICAgIHRoaXMueDEgPSBjWCArICh3MiAqIGdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgIHRoaXMueTEgPSBjWSArIChoMiAqIGdyb3VwRDgudVkocm90YXRlKSk7XG5cbiAgICAgICAgcm90YXRlID0gZ3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgdGhpcy54MiA9IGNYICsgKHcyICogZ3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgdGhpcy55MiA9IGNZICsgKGgyICogZ3JvdXBEOC51WShyb3RhdGUpKTtcblxuICAgICAgICByb3RhdGUgPSBncm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICB0aGlzLngzID0gY1ggKyAodzIgKiBncm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICB0aGlzLnkzID0gY1kgKyAoaDIgKiBncm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLngwID0gZnJhbWUueCAvIHR3O1xuICAgICAgICB0aGlzLnkwID0gZnJhbWUueSAvIHRoO1xuXG4gICAgICAgIHRoaXMueDEgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICB0aGlzLnkxID0gZnJhbWUueSAvIHRoO1xuXG4gICAgICAgIHRoaXMueDIgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICB0aGlzLnkyID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG5cbiAgICAgICAgdGhpcy54MyA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgdGhpcy55MyA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuICAgIH1cblxuICAgIHRoaXMudXZzRmxvYXQzMlswXSA9IHRoaXMueDA7XG4gICAgdGhpcy51dnNGbG9hdDMyWzFdID0gdGhpcy55MDtcbiAgICB0aGlzLnV2c0Zsb2F0MzJbMl0gPSB0aGlzLngxO1xuICAgIHRoaXMudXZzRmxvYXQzMlszXSA9IHRoaXMueTE7XG4gICAgdGhpcy51dnNGbG9hdDMyWzRdID0gdGhpcy54MjtcbiAgICB0aGlzLnV2c0Zsb2F0MzJbNV0gPSB0aGlzLnkyO1xuICAgIHRoaXMudXZzRmxvYXQzMls2XSA9IHRoaXMueDM7XG4gICAgdGhpcy51dnNGbG9hdDMyWzddID0gdGhpcy55Mztcbn07XG5cbnZhciBERUZBVUxUX1VWUyA9IG5ldyBUZXh0dXJlVXZzKCk7XG5cbi8qKlxuICogQSB0ZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlIG9yIHBhcnQgb2YgYW4gaW1hZ2UuXG4gKlxuICogSXQgY2Fubm90IGJlIGFkZGVkIHRvIHRoZSBkaXNwbGF5IGxpc3QgZGlyZWN0bHk7IGluc3RlYWQgdXNlIGl0IGFzIHRoZSB0ZXh0dXJlIGZvciBhIFNwcml0ZS5cbiAqIElmIG5vIGZyYW1lIGlzIHByb3ZpZGVkIGZvciBhIHRleHR1cmUsIHRoZW4gdGhlIHdob2xlIGltYWdlIGlzIHVzZWQuXG4gKlxuICogWW91IGNhbiBkaXJlY3RseSBjcmVhdGUgYSB0ZXh0dXJlIGZyb20gYW4gaW1hZ2UgYW5kIHRoZW4gcmV1c2UgaXQgbXVsdGlwbGUgdGltZXMgbGlrZSB0aGlzIDpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogbGV0IHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlMiA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIElmIHlvdSBkaWRudCBwYXNzIHRoZSB0ZXh0dXJlIGZyYW1lIHRvIGNvbnN0cnVjdG9yLCBpdCBlbmFibGVzIGBub0ZyYW1lYCBtb2RlOlxuICogaXQgc3Vic2NyaWJlcyBvbiBiYXNlVGV4dHVyZSBldmVudHMsIGl0IGF1dG9tYXRpY2FsbHkgcmVzaXplcyBhdCB0aGUgc2FtZSB0aW1lIGFzIGJhc2VUZXh0dXJlLlxuICpcbiAqIFRleHR1cmVzIG1hZGUgZnJvbSBTVkdzLCBsb2FkZWQgb3Igbm90LCBjYW5ub3QgYmUgdXNlZCBiZWZvcmUgdGhlIGZpbGUgZmluaXNoZXMgcHJvY2Vzc2luZy5cbiAqIFlvdSBjYW4gY2hlY2sgZm9yIHRoaXMgYnkgY2hlY2tpbmcgdGhlIHNwcml0ZSdzIF90ZXh0dXJlSUQgcHJvcGVydHkuXG4gKiBgYGBqc1xuICogdmFyIHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnN2ZycpO1xuICogdmFyIHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiAvL3Nwcml0ZTEuX3RleHR1cmVJRCBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCBpZiB0aGUgdGV4dHVyZSBoYXMgZmluaXNoZWQgcHJvY2Vzc2luZyB0aGUgU1ZHIGZpbGVcbiAqIGBgYFxuICogWW91IGNhbiB1c2UgYSB0aWNrZXIgb3IgckFGIHRvIGVuc3VyZSB5b3VyIHNwcml0ZXMgbG9hZCB0aGUgZmluaXNoZWQgdGV4dHVyZXMgYWZ0ZXIgcHJvY2Vzc2luZy4gU2VlIGlzc3VlICMzMDY4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnRFbWl0dGVyKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZShiYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIHJvdGF0ZSwgYW5jaG9yKVxuICAgIHtcbiAgICAgICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhpcyBUZXh0dXJlIGhhdmUgYW55IGZyYW1lIGRhdGEgYXNzaWduZWQgdG8gaXQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgbW9kZSBpcyBlbmFibGVkIGF1dG9tYXRpY2FsbHkgaWYgbm8gZnJhbWUgd2FzIHBhc3NlZCBpbnNpZGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEluIHRoaXMgbW9kZSB0ZXh0dXJlIGlzIHN1YnNjcmliZWQgdG8gYmFzZVRleHR1cmUgZXZlbnRzLCBhbmQgZmlyZXMgYHVwZGF0ZWAgb24gYW55IGNoYW5nZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQmV3YXJlLCBhZnRlciBsb2FkaW5nIG9yIHJlc2l6ZSBvZiBiYXNlVGV4dHVyZSBldmVudCBjYW4gZmlyZWQgdHdvIHRpbWVzIVxuICAgICAgICAgKiBJZiB5b3Ugd2FudCBtb3JlIGNvbnRyb2wsIHN1YnNjcmliZSBvbiBiYXNlVGV4dHVyZSBpdHNlbGYuXG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIHRleHR1cmUub24oJ3VwZGF0ZScsICgpID0+IHt9KTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEFueSBhc3NpZ25tZW50IG9mIGBmcmFtZWAgc3dpdGNoZXMgb2ZmIGBub0ZyYW1lYCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFmcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ub0ZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIHRoZSBCYXNlVGV4dHVyZSBpbWFnZSB0byBhY3R1YWxseSBjb3B5IHRvIHRoZSBDYW52YXMgLyBXZWJHTCB3aGVuIHJlbmRlcmluZyxcbiAgICAgICAgICogaXJyZXNwZWN0aXZlIG9mIHRoZSBhY3R1YWwgZnJhbWUgc2l6ZSBvciBwbGFjZW1lbnQgKHdoaWNoIGNhbiBiZSBpbmZsdWVuY2VkIGJ5IHRyaW1tZWQgdGV4dHVyZSBhdGxhc2VzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIHRyaW1tZWQgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYHRyaW1gIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpbSA9IHRyaW07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IGEgcmVuZGVyZXIga25vdyB0aGF0IGEgdGV4dHVyZSBoYXMgYmVlbiB1cGRhdGVkICh1c2VkIG1haW5seSBmb3IgV2ViR0wgdXYgdXBkYXRlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVxdWlyZXNVcGRhdGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIFVWIGRhdGEgY2FjaGUuIENhbiBiZSB1c2VkIGFzIHF1YWQgVVZcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlVXZzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl91dnMgPSBERUZBVUxUX1VWUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBUZXh0dXJlTWF0cml4IGluc3RhbmNlIGZvciB0aGlzIHRleHR1cmVcbiAgICAgICAgICogQnkgZGVmYXVsdCB0aGF0IG9iamVjdCBpcyBub3QgY3JlYXRlZCBiZWNhdXNlIGl0cyBoZWF2eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3JpZyA9IG9yaWcgfHwgZnJhbWU7Ly8gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICB0aGlzLl9yb3RhdGUgPSBOdW1iZXIocm90YXRlIHx8IDApO1xuXG4gICAgICAgIGlmIChyb3RhdGUgPT09IHRydWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb2xkIHRleHR1cmVwYWNrZXIgbGVnYWN5LCBzb21lIGdhbWVzL2xpYnJhcmllcyBhcmUgcGFzc2luZyBcInRydWVcIiBmb3Igcm90YXRlZCB0ZXh0dXJlc1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9yb3RhdGUgJSAyICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2F0dGVtcHQgdG8gdXNlIGRpYW1vbmQtc2hhcGVkIFVWcy4gSWYgeW91IGFyZSBzdXJlLCBzZXQgcm90YXRpb24gbWFudWFsbHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmNob3IgcG9pbnQgdGhhdCBpcyB1c2VkIGFzIGRlZmF1bHQgaWYgc3ByaXRlIGlzIGNyZWF0ZWQgd2l0aCB0aGlzIHRleHR1cmUuXG4gICAgICAgICAqIENoYW5naW5nIHRoZSBgZGVmYXVsdEFuY2hvcmAgYXQgYSBsYXRlciBwb2ludCBvZiB0aW1lIHdpbGwgbm90IHVwZGF0ZSBTcHJpdGUncyBhbmNob3IgcG9pbnQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqIEBkZWZhdWx0IHswLDB9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRBbmNob3IgPSBhbmNob3IgPyBuZXcgUG9pbnQoYW5jaG9yLngsIGFuY2hvci55KSA6IG5ldyBQb2ludCgwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIElEIGlzIG9ic2VydmVkIGJ5IHNwcml0ZXMgYW5kIFRleHR1cmVNYXRyaXggaW5zdGFuY2VzLlxuICAgICAgICAgKiBDYWxsIHVwZGF0ZVV2cygpIHRvIGluY3JlbWVudCBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkcyB1bmRlciB3aGljaCB0aGlzIFRleHR1cmUgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIHRleHR1cmUgY2FjaGUuIFRoaXMgaXNcbiAgICAgICAgICogYXV0b21hdGljYWxseSBzZXQgYXMgbG9uZyBhcyBUZXh0dXJlLmFkZFRvQ2FjaGUgaXMgdXNlZCwgYnV0IG1heSBub3QgYmUgc2V0IGlmIGFcbiAgICAgICAgICogVGV4dHVyZSBpcyBhZGRlZCBkaXJlY3RseSB0byB0aGUgVGV4dHVyZUNhY2hlIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub25jZSgnbG9hZGVkJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5ub0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmcmFtZSB3ZSBzaG91bGQgbW9uaXRvciBmb3IgYW55IGJhc2UgdGV4dHVyZSBjaGFuZ2VzLi5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5vRnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICggRXZlbnRFbWl0dGVyICkgVGV4dHVyZS5fX3Byb3RvX18gPSBFdmVudEVtaXR0ZXI7XG4gICAgVGV4dHVyZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudEVtaXR0ZXIgJiYgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSApO1xuICAgIFRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGV4dHVyZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHJlc29sdXRpb246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZnJhbWU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scm90YXRlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGlzIHRleHR1cmUgb24gdGhlIGdwdS5cbiAgICAgKlxuICAgICAqIENhbGxzIHRoZSBUZXh0dXJlUmVzb3VyY2UgdXBkYXRlLlxuICAgICAqXG4gICAgICogSWYgeW91IGFkanVzdGVkIGBmcmFtZWAgbWFudWFsbHksIHBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGJhc2UgdGV4dHVyZSBpcyB1cGRhdGVkXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUuXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUub25CYXNlVGV4dHVyZVVwZGF0ZWQgPSBmdW5jdGlvbiBvbkJhc2VUZXh0dXJlVXBkYXRlZCAoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ub0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyB0aGlzIGNvZGUgbG9va3MgY29uZnVzaW5nLi4gYm9vIHRvIGFidXNpbmcgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAgICAgICAgIC8vIGlmIHVzZXIgZ2F2ZSB1cyBmcmFtZSB0aGF0IGhhcyBiaWdnZXIgc2l6ZSB0aGFuIHJlc2l6ZWQgdGV4dHVyZSBpdCBjYW4gYmUgYSBwcm9ibGVtXG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gdGhpcy5fZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKGRlc3Ryb3lCYXNlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChkZXN0cm95QmFzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVmID0gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSByZWYucmVzb3VyY2U7XG5cbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGhlIHRleHR1cmUgaWYgaXQgZXhpc3RzIGluIHRoZSB0ZXh0dXJlIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIG9ubHkgbmVlZHMgdG8gYmUgcmVtb3ZlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGFjdHVhbGx5IGRlc3Ryb3llZCB0b28uLlxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZSAmJiBUZXh0dXJlQ2FjaGVbcmVzb3VyY2UudXJsXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHJlc291cmNlLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3V2cyA9IG51bGw7XG4gICAgICAgIHRoaXMudHJpbSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSBvYmplY3QgdGhhdCBhY3RzIHRoZSBzYW1lIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3IHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5mcmFtZSwgdGhpcy5vcmlnLCB0aGlzLnRyaW0sIHRoaXMucm90YXRlLCB0aGlzLmRlZmF1bHRBbmNob3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBXZWJHTCBVViBjYWNoZS4gVXNlIGl0IGFmdGVyIHlvdSBjaGFuZ2UgYGZyYW1lYCBvciBgdHJpbWAgb2YgdGhlIHRleHR1cmUuXG4gICAgICogQ2FsbCBpdCBhZnRlciBjaGFuZ2luZyB0aGUgZnJhbWVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS51cGRhdGVVdnMgPSBmdW5jdGlvbiB1cGRhdGVVdnMgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl91dnMgPT09IERFRkFVTFRfVVZTKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl91dnMgPSBuZXcgVGV4dHVyZVV2cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXZzLnNldCh0aGlzLl9mcmFtZSwgdGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5yb3RhdGUpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFBJWEkuQmFzZVRleHR1cmV9IHNvdXJjZVxuICAgICAqICAgICAgICBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0cmljdF0gRW5mb3JjZSBzdHJpY3QtbW9kZSwgc2VlIHtAbGluayBQSVhJLnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFfS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiBmcm9tIChzb3VyY2UsIG9wdGlvbnMsIHN0cmljdClcbiAgICB7XG4gICAgICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuICAgICAgICBpZiAoIHN0cmljdCA9PT0gdm9pZCAwICkgc3RyaWN0ID0gc2V0dGluZ3MuU1RSSUNUX1RFWFRVUkVfQ0FDSEU7XG5cbiAgICAgICAgdmFyIGlzRnJhbWUgPSB0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJztcbiAgICAgICAgdmFyIGNhY2hlSWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChpc0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IFwicGl4aWlkX1wiICsgKHVpZCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG5cbiAgICAgICAgLy8gU3RyaWN0LW1vZGUgcmVqZWN0cyBpbnZhbGlkIGNhY2hlSWRzXG4gICAgICAgIGlmIChpc0ZyYW1lICYmIHN0cmljdCAmJiAhdGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIlRoZSBjYWNoZUlkIFxcXCJcIiArIGNhY2hlSWQgKyBcIlxcXCIgZG9lcyBub3QgZXhpc3QgaW4gVGV4dHVyZUNhY2hlLlwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5yZXNvbHV0aW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucmVzb2x1dGlvbiA9IGdldFJlc29sdXRpb25PZlVybChzb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcblxuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYXNzdW1lIGl0cyBhIGJhc2UgdGV4dHVyZSFcbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21CdWZmZXIgPSBmdW5jdGlvbiBmcm9tQnVmZmVyIChidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoQmFzZVRleHR1cmUuZnJvbUJ1ZmZlcihidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdGV4dHVyZSBmcm9tIGEgc291cmNlIGFuZCBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gVGhlIGlucHV0IHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW1hZ2VVcmwgLSBGaWxlIG5hbWUgb2YgdGV4dHVyZSwgZm9yIGNhY2hlIGFuZCByZXNvbHZpbmcgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gSHVtYW4gcmVhZGFibGUgbmFtZSBmb3IgdGhlIHRleHR1cmUgY2FjaGUuIElmIG5vIG5hbWUgaXNcbiAgICAgKiAgICAgICAgc3BlY2lmaWVkLCBvbmx5IGBpbWFnZVVybGAgd2lsbCBiZSB1c2VkIGFzIHRoZSBjYWNoZSBJRC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IE91dHB1dCB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tTG9hZGVyID0gZnVuY3Rpb24gZnJvbUxvYWRlciAoc291cmNlLCBpbWFnZVVybCwgbmFtZSlcbiAgICB7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IG5ldyBJbWFnZVJlc291cmNlKHNvdXJjZSk7XG5cbiAgICAgICAgcmVzb3VyY2UudXJsID0gaW1hZ2VVcmw7XG5cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCB7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IHNldHRpbmdzLlNDQUxFX01PREUsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBnZXRSZXNvbHV0aW9uT2ZVcmwoaW1hZ2VVcmwpLFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAvLyBObyBuYW1lLCB1c2UgaW1hZ2VVcmwgaW5zdGVhZFxuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBpbWFnZVVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tTG9hZGVyJyBmdW5jdGlvblxuICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgbmFtZSk7XG5cbiAgICAgICAgLy8gYWxzbyBhZGQgcmVmZXJlbmNlcyBieSB1cmwgaWYgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgICBpZiAobmFtZSAhPT0gaW1hZ2VVcmwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgVGV4dHVyZSB0byB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIFRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiBhZGRUb0NhY2hlICh0ZXh0dXJlLCBpZClcbiAgICB7XG4gICAgICAgIGlmIChpZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVtpZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oKFwiVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbXCIgKyBpZCArIFwiXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5XCIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgVGV4dHVyZUNhY2hlW2lkXSA9IHRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIGlkIG9mIGEgVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIFRleHR1cmUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfG51bGx9IFRoZSBUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uIHJlbW92ZUZyb21DYWNoZSAodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dHVyZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlRnJvbUNhY2hlID0gVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZUZyb21DYWNoZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKHRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXh0dXJlICYmIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGV4dHVyZSBtYXRjaGVzIHRoZSBvbmUgYmVpbmcgcGFzc2VkIGluIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIHRoZSBjYWNoZS5cbiAgICAgICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXSA9PT0gdGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlc29sdXRpb24uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFtZSBzcGVjaWZpZXMgdGhlIHJlZ2lvbiBvZiB0aGUgYmFzZSB0ZXh0dXJlIHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGBmcmFtZWAgbWFudWFsbHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuZnJhbWUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmZyYW1lLnNldCA9IGZ1bmN0aW9uIChmcmFtZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuXG4gICAgICAgIHRoaXMubm9GcmFtZSA9IGZhbHNlO1xuXG4gICAgICAgIHZhciB4ID0gZnJhbWUueDtcbiAgICAgICAgdmFyIHkgPSBmcmFtZS55O1xuICAgICAgICB2YXIgd2lkdGggPSBmcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGZyYW1lLmhlaWdodDtcbiAgICAgICAgdmFyIHhOb3RGaXQgPSB4ICsgd2lkdGggPiB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICB2YXIgeU5vdEZpdCA9IHkgKyBoZWlnaHQgPiB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICBpZiAoeE5vdEZpdCB8fCB5Tm90Rml0KVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcmVsYXRpb25zaGlwID0geE5vdEZpdCAmJiB5Tm90Rml0ID8gJ2FuZCcgOiAnb3InO1xuICAgICAgICAgICAgdmFyIGVycm9yWCA9IFwiWDogXCIgKyB4ICsgXCIgKyBcIiArIHdpZHRoICsgXCIgPSBcIiArICh4ICsgd2lkdGgpICsgXCIgPiBcIiArICh0aGlzLmJhc2VUZXh0dXJlLndpZHRoKTtcbiAgICAgICAgICAgIHZhciBlcnJvclkgPSBcIlk6IFwiICsgeSArIFwiICsgXCIgKyBoZWlnaHQgKyBcIiA9IFwiICsgKHkgKyBoZWlnaHQpICsgXCIgPiBcIiArICh0aGlzLmJhc2VUZXh0dXJlLmhlaWdodCk7XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6ICdcbiAgICAgICAgICAgICAgICArIGVycm9yWCArIFwiIFwiICsgcmVsYXRpb25zaGlwICsgXCIgXCIgKyBlcnJvclkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoICYmIGhlaWdodCAmJiB0aGlzLmJhc2VUZXh0dXJlLnZhbGlkO1xuXG4gICAgICAgIGlmICghdGhpcy50cmltICYmICF0aGlzLnJvdGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vcmlnID0gZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGV4dHVyZSBpcyByb3RhdGVkIGluc2lkZSB0aGUgYXRsYXNcbiAgICAgKiBzZXQgdG8gMiB0byBjb21wZW5zYXRlIGZvciB0ZXh0dXJlIHBhY2tlciByb3RhdGlvblxuICAgICAqIHNldCB0byA2IHRvIGNvbXBlbnNhdGUgZm9yIHNwaW5lIHBhY2tlciByb3RhdGlvblxuICAgICAqIGNhbiBiZSB1c2VkIHRvIHJvdGF0ZSBvciBtaXJyb3Igc3ByaXRlc1xuICAgICAqIFNlZSB7QGxpbmsgUElYSS5ncm91cEQ4fSBmb3IgZXhwbGFuYXRpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm90YXRlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm90YXRlLnNldCA9IGZ1bmN0aW9uIChyb3RhdGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fcm90YXRlID0gcm90YXRlO1xuICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZy53aWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZy5oZWlnaHQ7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBUZXh0dXJlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gVGV4dHVyZTtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVdoaXRlVGV4dHVyZSgpXG57XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgY2FudmFzLndpZHRoID0gMTY7XG4gICAgY2FudmFzLmhlaWdodCA9IDE2O1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDE2LCAxNik7XG5cbiAgICByZXR1cm4gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKG5ldyBDYW52YXNSZXNvdXJjZShjYW52YXMpKSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUFsbEhhbmRsZXJzKHRleClcbntcbiAgICB0ZXguZGVzdHJveSA9IGZ1bmN0aW9uIF9lbXB0eURlc3Ryb3koKSB7IC8qIGVtcHR5ICovIH07XG4gICAgdGV4Lm9uID0gZnVuY3Rpb24gX2VtcHR5T24oKSB7IC8qIGVtcHR5ICovIH07XG4gICAgdGV4Lm9uY2UgPSBmdW5jdGlvbiBfZW1wdHlPbmNlKCkgeyAvKiBlbXB0eSAqLyB9O1xuICAgIHRleC5lbWl0ID0gZnVuY3Rpb24gX2VtcHR5RW1pdCgpIHsgLyogZW1wdHkgKi8gfTtcbn1cblxuLyoqXG4gKiBBbiBlbXB0eSB0ZXh0dXJlLCB1c2VkIG9mdGVuIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBtdWx0aXBsZSBlbXB0eSB0ZXh0dXJlcy5cbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLkVNUFRZID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKCkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKTtcblxuLyoqXG4gKiBBIHdoaXRlIHRleHR1cmUgb2YgMTZ4MTYgc2l6ZSwgdXNlZCBmb3IgZ3JhcGhpY3MgYW5kIG90aGVyIHRoaW5nc1xuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gKi9cblRleHR1cmUuV0hJVEUgPSBjcmVhdGVXaGl0ZVRleHR1cmUoKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURS5iYXNlVGV4dHVyZSk7XG5cbi8qKlxuICogQSBSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIFJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIF9fSGludC0yX186IFRoZSBhY3R1YWwgbWVtb3J5IGFsbG9jYXRpb24gd2lsbCBoYXBwZW4gb24gZmlyc3QgcmVuZGVyLlxuICogWW91IHNob3VsZG4ndCBjcmVhdGUgcmVuZGVyVGV4dHVyZXMgZWFjaCBmcmFtZSBqdXN0IHRvIGRlbGV0ZSB0aGVtIGFmdGVyLCB0cnkgdG8gcmV1c2UgdGhlbS5cbiAqXG4gKiBBIFJlbmRlclRleHR1cmUgdGFrZXMgYSBzbmFwc2hvdCBvZiBhbnkgRGlzcGxheSBPYmplY3QgZ2l2ZW4gdG8gaXRzIHJlbmRlciBtZXRob2QuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKDgwMCwgNjAwKTtcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSgxMDAsIDEwMCk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChUZXh0dXJlKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpXG4gICAge1xuICAgICAgICAvLyBzdXBwb3J0IGZvciBsZWdhY3kuLlxuICAgICAgICB2YXIgX2xlZ2FjeVJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICBpZiAoIShiYXNlUmVuZGVyVGV4dHVyZSBpbnN0YW5jZW9mIEJhc2VSZW5kZXJUZXh0dXJlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzRdO1xuXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGFuIG9sZCByZW5kZXIgdGV4dHVyZS4uXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oKFwiUGxlYXNlIHVzZSBSZW5kZXJUZXh0dXJlLmNyZWF0ZShcIiArIHdpZHRoICsgXCIsIFwiICsgaGVpZ2h0ICsgXCIpIGluc3RlYWQgb2YgdGhlIGN0b3IgZGlyZWN0bHkuXCIpKTtcbiAgICAgICAgICAgIF9sZWdhY3lSZW5kZXJlciA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG5cbiAgICAgICAgICAgIGZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgIGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IEJhc2VSZW5kZXJUZXh0dXJlKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBzY2FsZU1vZGUsXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgb2JqZWN0IHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIFRleHR1cmUuY2FsbCh0aGlzLCBiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpO1xuXG4gICAgICAgIHRoaXMubGVnYWN5UmVuZGVyZXIgPSBfbGVnYWN5UmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3JlcyBgc291cmNlRnJhbWVgIHdoZW4gdGhpcyB0ZXh0dXJlIGlzIGluc2lkZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgICAgICogWW91IGNhbiByZWFkIGl0IGluc2lkZSBmaWx0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlckZyYW1lID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGtleSBmb3IgcG9vbGVkIHRleHR1cmUgb2YgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJQb29sS2V5ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgIH1cblxuICAgIGlmICggVGV4dHVyZSApIFJlbmRlclRleHR1cmUuX19wcm90b19fID0gVGV4dHVyZTtcbiAgICBSZW5kZXJUZXh0dXJlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRleHR1cmUgJiYgVGV4dHVyZS5wcm90b3R5cGUgKTtcbiAgICBSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlbmRlclRleHR1cmU7XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVzaXplQmFzZVRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgdGhlIGJhc2VUZXh0dXJlLndpZHRoIGFuZCBoZWlnaHQgdmFsdWVzIGJlIHJlc2l6ZWQgYXMgd2VsbD9cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKHdpZHRoLCBoZWlnaHQsIHJlc2l6ZUJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKCByZXNpemVCYXNlVGV4dHVyZSA9PT0gdm9pZCAwICkgcmVzaXplQmFzZVRleHR1cmUgPSB0cnVlO1xuXG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSAod2lkdGggPiAwICYmIGhlaWdodCA+IDApO1xuXG4gICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gdGhpcy5vcmlnLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IHRoaXMub3JpZy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgaWYgKHJlc2l6ZUJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHJlc29sdXRpb24gb2YgYmFzZVRleHR1cmUsIGJ1dCBkb2VzIG5vdCBjaGFuZ2UgZnJhbWVidWZmZXIgc2l6ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIG5ldyByZXNvbHV0aW9uIHRvIGFwcGx5IHRvIFJlbmRlclRleHR1cmVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gc2V0UmVzb2x1dGlvbiAocmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSByZWYuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPT09IHJlc29sdXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMucmVzaXplKGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICAvLyBmYWxsYmFjaywgb2xkLXN0eWxlOiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUobmV3IEJhc2VSZW5kZXJUZXh0dXJlKG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmU7XG59KFRleHR1cmUpKTtcblxuLyoqXG4gKiBFeHBlcmltZW50YWwhXG4gKlxuICogVGV4dHVyZSBwb29sLCB1c2VkIGJ5IEZpbHRlclN5c3RlbSBhbmQgcGx1Z2luc1xuICogU3RvcmVzIGNvbGxlY3Rpb24gb2YgdGVtcG9yYXJ5IHBvdzIgb3Igc2NyZWVuLXNpemVkIHJlbmRlclRleHR1cmVzXG4gKlxuICogSWYgeW91IHVzZSBjdXN0b20gUmVuZGVyVGV4dHVyZVBvb2wgZm9yIHlvdXIgZmlsdGVycywgeW91IGNhbiB1c2UgbWV0aG9kc1xuICogYGdldEZpbHRlclRleHR1cmVgIGFuZCBgcmV0dXJuRmlsdGVyVGV4dHVyZWAgc2FtZSBhcyBpblxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmVQb29sID0gZnVuY3Rpb24gUmVuZGVyVGV4dHVyZVBvb2wodGV4dHVyZU9wdGlvbnMpXG57XG4gICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xuICAgIHRoaXMudGV4dHVyZU9wdGlvbnMgPSB0ZXh0dXJlT3B0aW9ucyB8fCB7fTtcbiAgICAvKipcbiAgICAgKiBBbGxvdyByZW5kZXJUZXh0dXJlcyBvZiB0aGUgc2FtZSBzaXplIGFzIHNjcmVlbiwgbm90IGp1c3QgcG93MlxuICAgICAqXG4gICAgICogQXV0b21hdGljYWxseSBzZXRzIHRvIHRydWUgYWZ0ZXIgYHNldFNjcmVlblNpemVgXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgdGhpcy5lbmFibGVGdWxsU2NyZWVuID0gZmFsc2U7XG5cbiAgICB0aGlzLl9waXhlbHNXaWR0aCA9IDA7XG4gICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gMDtcbn07XG5cbi8qKlxuICogY3JlYXRlcyBvZiB0ZXh0dXJlIHdpdGggcGFyYW1zIHRoYXQgd2VyZSBzcGVjaWZpZWQgaW4gcG9vbCBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSByZWFsV2lkdGggd2lkdGggb2YgdGV4dHVyZSBpbiBwaXhlbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSByZWFsSGVpZ2h0IGhlaWdodCBvZiB0ZXh0dXJlIGluIHBpeGVsc1xuICogQHJldHVybnMge1JlbmRlclRleHR1cmV9XG4gKi9cblJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5jcmVhdGVUZXh0dXJlID0gZnVuY3Rpb24gY3JlYXRlVGV4dHVyZSAocmVhbFdpZHRoLCByZWFsSGVpZ2h0KVxue1xuICAgIHZhciBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBCYXNlUmVuZGVyVGV4dHVyZShPYmplY3QuYXNzaWduKHtcbiAgICAgICAgd2lkdGg6IHJlYWxXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiByZWFsSGVpZ2h0LFxuICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgIH0sIHRoaXMudGV4dHVyZU9wdGlvbnMpKTtcblxuICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUgb3IgZnVsbFNjcmVlbiB0ZXh0dXJlXG4gKlxuICogQHByb3RlY3RlZFxuICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmUuXG4gKi9cblJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5nZXRPcHRpbWFsVGV4dHVyZSA9IGZ1bmN0aW9uIGdldE9wdGltYWxUZXh0dXJlIChtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uKVxue1xuICAgICAgICBpZiAoIHJlc29sdXRpb24gPT09IHZvaWQgMCApIHJlc29sdXRpb24gPSAxO1xuXG4gICAgdmFyIGtleSA9IFJlbmRlclRleHR1cmVQb29sLlNDUkVFTl9LRVk7XG5cbiAgICBtaW5XaWR0aCAqPSByZXNvbHV0aW9uO1xuICAgIG1pbkhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgaWYgKCF0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gfHwgbWluV2lkdGggIT09IHRoaXMuX3BpeGVsc1dpZHRoIHx8IG1pbkhlaWdodCAhPT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgbWluV2lkdGggPSBuZXh0UG93MihtaW5XaWR0aCk7XG4gICAgICAgIG1pbkhlaWdodCA9IG5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgICAgIGtleSA9ICgobWluV2lkdGggJiAweEZGRkYpIDw8IDE2KSB8IChtaW5IZWlnaHQgJiAweEZGRkYpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy50ZXh0dXJlUG9vbFtrZXldKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldID0gW107XG4gICAgfVxuXG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sW2tleV0ucG9wKCk7XG5cbiAgICBpZiAoIXJlbmRlclRleHR1cmUpXG4gICAge1xuICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5jcmVhdGVUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQpO1xuICAgIH1cblxuICAgIHJlbmRlclRleHR1cmUuZmlsdGVyUG9vbEtleSA9IGtleTtcbiAgICByZW5kZXJUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG5cbiAgICByZXR1cm4gcmVuZGVyVGV4dHVyZTtcbn07XG5cbi8qKlxuICogR2V0cyBleHRyYSB0ZXh0dXJlIG9mIHRoZSBzYW1lIHNpemUgYXMgaW5wdXQgcmVuZGVyVGV4dHVyZVxuICpcbiAqIGBnZXRGaWx0ZXJUZXh0dXJlKGlucHV0LCAwLjUpYCBvciBgZ2V0RmlsdGVyVGV4dHVyZSgwLjUsIGlucHV0KWBcbiAqXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgcmVuZGVyVGV4dHVyZSBmcm9tIHdoaWNoIHNpemUgYW5kIHJlc29sdXRpb24gd2lsbCBiZSBjb3BpZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gb3ZlcnJpZGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyVGV4dHVyZVxuICogIEl0IG92ZXJyaWRlcywgaXQgZG9lcyBub3QgbXVsdGlwbHlcbiAqIEByZXR1cm5zIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gKi9cblJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5nZXRGaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gZ2V0RmlsdGVyVGV4dHVyZSAoaW5wdXQsIHJlc29sdXRpb24pXG57XG4gICAgdmFyIGZpbHRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxUZXh0dXJlKGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQsIHJlc29sdXRpb24gfHwgaW5wdXQucmVzb2x1dGlvbik7XG5cbiAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gaW5wdXQuZmlsdGVyRnJhbWU7XG5cbiAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbn07XG5cbi8qKlxuICogUGxhY2UgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUZXh0dXJlIHRvIGZyZWVcbiAqL1xuUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnJldHVyblRleHR1cmUgPSBmdW5jdGlvbiByZXR1cm5UZXh0dXJlIChyZW5kZXJUZXh0dXJlKVxue1xuICAgIHZhciBrZXkgPSByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXk7XG5cbiAgICByZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gbnVsbDtcbiAgICB0aGlzLnRleHR1cmVQb29sW2tleV0ucHVzaChyZW5kZXJUZXh0dXJlKTtcbn07XG5cbi8qKlxuICogQWxpYXMgZm9yIHJldHVyblRleHR1cmUsIHRvIGJlIGNvbXBsaWFudCB3aXRoIEZpbHRlclN5c3RlbSBpbnRlcmZhY2VcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRleHR1cmUgdG8gZnJlZVxuICovXG5SZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUucmV0dXJuRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIHJldHVybkZpbHRlclRleHR1cmUgKHJlbmRlclRleHR1cmUpXG57XG4gICAgdGhpcy5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xufTtcblxuLyoqXG4gKiBDbGVhcnMgdGhlIHBvb2xcbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95VGV4dHVyZXM9dHJ1ZV0gZGVzdHJveSBhbGwgc3RvcmVkIHRleHR1cmVzXG4gKi9cblJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyIChkZXN0cm95VGV4dHVyZXMpXG57XG4gICAgZGVzdHJveVRleHR1cmVzID0gZGVzdHJveVRleHR1cmVzICE9PSBmYWxzZTtcbiAgICBpZiAoZGVzdHJveVRleHR1cmVzKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRleHR1cmVQb29sKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xufTtcblxuLyoqXG4gKiBJZiBzY3JlZW4gc2l6ZSB3YXMgY2hhbmdlZCwgZHJvcHMgYWxsIHNjcmVlbi1zaXplZCB0ZXh0dXJlcyxcbiAqIHNldHMgbmV3IHNjcmVlbiBzaXplLCBzZXRzIGBlbmFibGVGdWxsU2NyZWVuYCB0byB0cnVlXG4gKlxuICogU2l6ZSBpcyBtZWFzdXJlZCBpbiBwaXhlbHMsIGByZW5kZXJlci52aWV3YCBjYW4gYmUgcGFzc2VkIGhlcmUsIG5vdCBgcmVuZGVyZXIuc2NyZWVuYFxuICpcbiAqIEBwYXJhbSB7UElYSS5JU2l6ZX0gc2l6ZSAtIEluaXRpYWwgc2l6ZSBvZiBzY3JlZW5cbiAqL1xuUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnNldFNjcmVlblNpemUgPSBmdW5jdGlvbiBzZXRTY3JlZW5TaXplIChzaXplKVxue1xuICAgIGlmIChzaXplLndpZHRoID09PSB0aGlzLl9waXhlbHNXaWR0aFxuICAgICAgICAmJiBzaXplLmhlaWdodCA9PT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzY3JlZW5LZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuICAgIHZhciB0ZXh0dXJlcyA9IHRoaXMudGV4dHVyZVBvb2xbc2NyZWVuS2V5XTtcblxuICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IHNpemUud2lkdGggPiAwICYmIHNpemUuaGVpZ2h0ID4gMDtcblxuICAgIGlmICh0ZXh0dXJlcylcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50ZXh0dXJlUG9vbFtzY3JlZW5LZXldID0gW107XG5cbiAgICB0aGlzLl9waXhlbHNXaWR0aCA9IHNpemUud2lkdGg7XG4gICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG59O1xuXG4vKipcbiAqIEtleSB0aGF0IGlzIHVzZWQgdG8gc3RvcmUgZnVsbHNjcmVlbiByZW5kZXJUZXh0dXJlcyBpbiBhIHBvb2xcbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuUmVuZGVyVGV4dHVyZVBvb2wuU0NSRUVOX0tFWSA9ICdzY3JlZW4nO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbi8qKlxuICogSG9sZHMgdGhlIGluZm9ybWF0aW9uIGZvciBhIHNpbmdsZSBhdHRyaWJ1dGUgc3RydWN0dXJlIHJlcXVpcmVkIHRvIHJlbmRlciBnZW9tZXRyeS5cbiAqXG4gKiBUaGlzIGRvZXMgbm90IGNvbnRhaW4gdGhlIGFjdHVhbCBkYXRhLCBidXQgaW5zdGVhZCBoYXMgYSBidWZmZXIgaWQgdGhhdCBtYXBzIHRvIGEge0BsaW5rIFBJWEkuQnVmZmVyfVxuICogVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIEF0dHJpYnV0ZShidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKVxue1xuICAgIGlmICggbm9ybWFsaXplZCA9PT0gdm9pZCAwICkgbm9ybWFsaXplZCA9IGZhbHNlO1xuICAgIGlmICggdHlwZSA9PT0gdm9pZCAwICkgdHlwZSA9IDUxMjY7XG5cbiAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnN0cmlkZSA9IHN0cmlkZTtcbiAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgQXR0cmlidXRlLlxuICovXG5BdHRyaWJ1dGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGFuIEF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gcHJvdmlkZWRcbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVmZmVyICB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydD0wXSBIb3cgZmFyIGludG8gdGhlIGFycmF5IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtAbGluayBQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZT0wXSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gKlxuICogQHJldHVybnMge1BJWEkuQXR0cmlidXRlfSBBIG5ldyB7QGxpbmsgUElYSS5BdHRyaWJ1dGV9IGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICovXG5BdHRyaWJ1dGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKVxue1xuICAgIHJldHVybiBuZXcgQXR0cmlidXRlKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKTtcbn07XG5cbnZhciBVSUQgPSAwO1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4vKipcbiAqIEEgd3JhcHBlciBmb3IgZGF0YSBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGFuZCB1cGxvYWRlZCBieSBXZWJHTFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJ1ZmZlciA9IGZ1bmN0aW9uIEJ1ZmZlcihkYXRhLCBfc3RhdGljLCBpbmRleClcbntcbiAgICBpZiAoIF9zdGF0aWMgPT09IHZvaWQgMCApIF9zdGF0aWMgPSB0cnVlO1xuICAgIGlmICggaW5kZXggPT09IHZvaWQgMCApIGluZGV4ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSBpbiB0aGUgYnVmZmVyLCBhcyBhIHR5cGVkIGFycmF5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fVxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgbmV3IEZsb2F0MzJBcnJheSgxKTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgR0xCdWZmZXI+fVxuICAgICAqL1xuICAgIHRoaXMuX2dsQnVmZmVycyA9IHt9O1xuXG4gICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xuXG4gICAgdGhpcy5zdGF0aWMgPSBfc3RhdGljO1xuXG4gICAgdGhpcy5pZCA9IFVJRCsrO1xuXG4gICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUJ1ZmZlcicsIDIpO1xufTtcblxuLy8gVE9ETyBjb3VsZCBleHBsb3JlIGZsYWdnaW5nIG9ubHkgYSBwYXJ0aWFsIHVwbG9hZD9cbi8qKlxuICogZmxhZ3MgdGhpcyBidWZmZXIgYXMgcmVxdWlyaW5nIGFuIHVwbG9hZCB0byB0aGUgR1BVXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gW2RhdGFdIHRoZSBkYXRhIHRvIHVwZGF0ZSBpbiB0aGUgYnVmZmVyLlxuICovXG5CdWZmZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZGF0YSlcbntcbiAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IHRoaXMuZGF0YTtcbiAgICB0aGlzLl91cGRhdGVJRCsrO1xufTtcblxuLyoqXG4gKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAqL1xuQnVmZmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxue1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5ydW4odGhpcywgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgYnVmZmVyXG4gKi9cbkJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgIHRoaXMuZGF0YSA9IG51bGw7XG59O1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBidWZmZXIgYmFzZWQgb24gYW4gYXJyYXkgb3IgVHlwZWRBcnJheVxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJWaWV3IHwgbnVtYmVyW119IGRhdGEgdGhlIFR5cGVkQXJyYXkgdGhhdCB0aGUgYnVmZmVyIHdpbGwgc3RvcmUuIElmIHRoaXMgaXMgYSByZWd1bGFyIEFycmF5IGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgRmxvYXQzMkFycmF5LlxuICogQHJldHVybiB7UElYSS5CdWZmZXJ9IEEgbmV3IEJ1ZmZlciBiYXNlZCBvbiB0aGUgZGF0YSBwcm92aWRlZC5cbiAqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiBmcm9tIChkYXRhKVxue1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpXG4gICAge1xuICAgICAgICBkYXRhID0gbmV3IEZsb2F0MzJBcnJheShkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihkYXRhKTtcbn07XG5cbmZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpXG57XG4gICAgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSA0KVxuICAgIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ0Zsb2F0MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MzJBcnJheSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ0ludDMyQXJyYXknO1xuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMilcbiAgICB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQxNkFycmF5JztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMSlcbiAgICB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDhBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPIG1hcCBvdXQgdGhlIHJlc3Qgb2YgdGhlIGFycmF5IGVsZW1lbnRzIVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG52YXIgbWFwID0ge1xuICAgIEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LFxuICAgIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSxcbiAgICBJbnQzMkFycmF5OiBJbnQzMkFycmF5LFxuICAgIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXksXG59O1xuXG5mdW5jdGlvbiBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcylcbntcbiAgICB2YXIgb3V0U2l6ZSA9IDA7XG4gICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgdmFyIHZpZXdzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHN0cmlkZSArPSBzaXplc1tpXTtcbiAgICAgICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIob3V0U2l6ZSAqIDQpO1xuXG4gICAgdmFyIG91dCA9IG51bGw7XG4gICAgdmFyIGxpdHRsZU9mZnNldCA9IDA7XG5cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBhcnJheXMubGVuZ3RoOyBpJDErKylcbiAgICB7XG4gICAgICAgIHZhciBzaXplID0gc2l6ZXNbaSQxXTtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2kkMV07XG5cbiAgICAgICAgdmFyIHR5cGUgPSBnZXRCdWZmZXJUeXBlKGFycmF5KTtcblxuICAgICAgICBpZiAoIXZpZXdzW3R5cGVdKVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3c1t0eXBlXSA9IG5ldyBtYXBbdHlwZV0oYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJyYXkubGVuZ3RoOyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpbmRleFN0YXJ0ID0gKChqIC8gc2l6ZSB8IDApICogc3RyaWRlKSArIGxpdHRsZU9mZnNldDtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGogJSBzaXplO1xuXG4gICAgICAgICAgICBvdXRbaW5kZXhTdGFydCArIGluZGV4XSA9IGFycmF5W2pdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbn1cblxudmFyIGJ5dGVTaXplTWFwID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG52YXIgVUlEJDEgPSAwO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG52YXIgbWFwJDEgPSB7XG4gICAgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksXG4gICAgVWludDMyQXJyYXk6IFVpbnQzMkFycmF5LFxuICAgIEludDMyQXJyYXk6IEludDMyQXJyYXksXG4gICAgVWludDhBcnJheTogVWludDhBcnJheSxcbiAgICBVaW50MTZBcnJheTogVWludDE2QXJyYXksXG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbi8qKlxuICogVGhlIEdlb21ldHJ5IHJlcHJlc2VudHMgYSBtb2RlbC4gSXQgY29uc2lzdHMgb2YgdHdvIGNvbXBvbmVudHM6XG4gKiAtIEdlb21ldHJ5U3R5bGUgLSBUaGUgc3RydWN0dXJlIG9mIHRoZSBtb2RlbCBzdWNoIGFzIHRoZSBhdHRyaWJ1dGVzIGxheW91dFxuICogLSBHZW9tZXRyeURhdGEgLSB0aGUgZGF0YSBvZiB0aGUgbW9kZWwgLSB0aGlzIGNvbnNpc3RzIG9mIGJ1ZmZlcnMuXG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKlxuICogR2VvbWV0cnkgY2FuIGJlIGRlZmluZWQgd2l0aG91dCBwYXNzaW5nIGluIGEgc3R5bGUgb3IgZGF0YSBpZiByZXF1aXJlZCAodGhhdHMgaG93IEkgcHJlZmVyISlcbiAqXG4gKiBgYGBqc1xuICogbGV0IGdlb21ldHJ5ID0gbmV3IFBJWEkuR2VvbWV0cnkoKTtcbiAqXG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9ucycsIFswLCAwLCAxMDAsIDAsIDEwMCwgMTAwLCAwLCAxMDBdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgndXZzJywgWzAsMCwxLDAsMSwxLDAsMV0sMilcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pXG4gKlxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHZW9tZXRyeSA9IGZ1bmN0aW9uIEdlb21ldHJ5KGJ1ZmZlcnMsIGF0dHJpYnV0ZXMpXG57XG4gICAgaWYgKCBidWZmZXJzID09PSB2b2lkIDAgKSBidWZmZXJzID0gW107XG4gICAgaWYgKCBhdHRyaWJ1dGVzID09PSB2b2lkIDAgKSBhdHRyaWJ1dGVzID0ge307XG5cbiAgICB0aGlzLmJ1ZmZlcnMgPSBidWZmZXJzO1xuXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIFZBT3NcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuZ2xWZXJ0ZXhBcnJheU9iamVjdHMgPSB7fTtcblxuICAgIHRoaXMuaWQgPSBVSUQkMSsrO1xuXG4gICAgdGhpcy5pbnN0YW5jZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBpbnN0YW5jZXMgaW4gdGhpcyBnZW9tZXRyeSwgcGFzcyBpdCB0byBgR2VvbWV0cnlTeXN0ZW0uZHJhdygpYFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgdGhpcy5pbnN0YW5jZUNvdW50ID0gMTtcblxuICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VHZW9tZXRyeScsIDIpO1xuXG4gICAgLyoqXG4gICAgICogQ291bnQgb2YgZXhpc3RpbmcgKG5vdCBkZXN0cm95ZWQpIG1lc2hlcyB0aGF0IHJlZmVyZW5jZSB0aGlzIGdlb21ldHJ5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVmQ291bnQgPSAwO1xufTtcblxuLyoqXG4qXG4qIEFkZHMgYW4gYXR0cmlidXRlIHRvIHRoZSBnZW9tZXRyeVxuKlxuKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIChtYXRjaGluZyB1cCB0byBhIHNoYWRlcilcbiogQHBhcmFtIHtQSVhJLkJ1ZmZlcnxudW1iZXJbXX0gW2J1ZmZlcl0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBhdHRyaWJ1dGUgLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4qIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDJcbiogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4qIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4qIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydD0wXSBIb3cgZmFyIGludG8gdGhlIGFycmF5IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbipcbiogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5hZGRBdHRyaWJ1dGUgPSBmdW5jdGlvbiBhZGRBdHRyaWJ1dGUgKGlkLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKVxue1xuICAgICAgICBpZiAoIG5vcm1hbGl6ZWQgPT09IHZvaWQgMCApIG5vcm1hbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCBpbnN0YW5jZSA9PT0gdm9pZCAwICkgaW5zdGFuY2UgPSBmYWxzZTtcblxuICAgIGlmICghYnVmZmVyKVxuICAgIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwYXNzIGEgYnVmZmVyIHdoZW4gY3JlYXRpbmcgYW4gYXR0cmlidXRlJyk7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIGJ1ZmZlciFcbiAgICBpZiAoIWJ1ZmZlci5kYXRhKVxuICAgIHtcbiAgICAgICAgLy8gaXRzIGFuIGFycmF5IVxuICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICB9XG5cbiAgICB2YXIgaWRzID0gaWQuc3BsaXQoJ3wnKTtcblxuICAgIGlmIChpZHMubGVuZ3RoID4gMSlcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZShpZHNbaV0sIGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB2YXIgYnVmZmVySW5kZXggPSB0aGlzLmJ1ZmZlcnMuaW5kZXhPZihidWZmZXIpO1xuXG4gICAgaWYgKGJ1ZmZlckluZGV4ID09PSAtMSlcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgdGhpcy5hdHRyaWJ1dGVzW2lkXSA9IG5ldyBBdHRyaWJ1dGUoYnVmZmVySW5kZXgsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKTtcblxuICAgIC8vIGFzc3VtaW5nIHRoYXQgaWYgdGhlcmUgaXMgaW5zdGFuY2VkIGRhdGEgdGhlbiB0aGlzIHdpbGwgYmUgZHJhd24gd2l0aCBpbnN0YW5jaW5nIVxuICAgIHRoaXMuaW5zdGFuY2VkID0gdGhpcy5pbnN0YW5jZWQgfHwgaW5zdGFuY2U7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGF0dHJpYnV0ZVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBpZCAgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSByZXF1aXJlZFxuICogQHJldHVybiB7UElYSS5BdHRyaWJ1dGV9IHRoZSBhdHRyaWJ1dGUgcmVxdWVzdGVkLlxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24gZ2V0QXR0cmlidXRlIChpZClcbntcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2lkXTtcbn07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBpZCAgdGhlIG5hbWUgb2YgdGhlIGJ1ZmZlciByZXF1aXJlZFxuICogQHJldHVybiB7UElYSS5CdWZmZXJ9IHRoZSBidWZmZXIgcmVxdWVzdGVkLlxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gZ2V0QnVmZmVyIChpZClcbntcbiAgICByZXR1cm4gdGhpcy5idWZmZXJzW3RoaXMuZ2V0QXR0cmlidXRlKGlkKS5idWZmZXJdO1xufTtcblxuLyoqXG4qXG4qIEFkZHMgYW4gaW5kZXggYnVmZmVyIHRvIHRoZSBnZW9tZXRyeVxuKiBUaGUgaW5kZXggYnVmZmVyIGNvbnRhaW5zIGludGVnZXJzLCB0aHJlZSBmb3IgZWFjaCB0cmlhbmdsZSBpbiB0aGUgZ2VvbWV0cnksIHdoaWNoIHJlZmVyZW5jZSB0aGUgdmFyaW91cyBhdHRyaWJ1dGUgYnVmZmVycyAocG9zaXRpb24sIGNvbG91ciwgVVYgY29vcmRpbmF0ZXMsIG90aGVyIFVWIGNvb3JkaW5hdGVzLCBub3JtYWwsIOKApikuIFRoZXJlIGlzIG9ubHkgT05FIGluZGV4IGJ1ZmZlci5cbipcbiogQHBhcmFtIHtQSVhJLkJ1ZmZlcnxudW1iZXJbXX0gW2J1ZmZlcl0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBpbmRleCBidWZmZXIuIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIEFycmF5IGFuZCBhIGJ1ZmZlciB3aWxsIGJlIGNyZWF0ZWQgZnJvbSBpdC5cbiogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5hZGRJbmRleCA9IGZ1bmN0aW9uIGFkZEluZGV4IChidWZmZXIpXG57XG4gICAgaWYgKCFidWZmZXIuZGF0YSlcbiAgICB7XG4gICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICBidWZmZXIgPSBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICB9XG5cbiAgICBidWZmZXIuaW5kZXggPSB0cnVlO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBidWZmZXI7XG5cbiAgICBpZiAodGhpcy5idWZmZXJzLmluZGV4T2YoYnVmZmVyKSA9PT0gLTEpXG4gICAge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSBpbmRleCBidWZmZXJcbiAqXG4gKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGluZGV4IGJ1ZmZlci5cbiAqL1xuR2VvbWV0cnkucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gZ2V0SW5kZXggKClcbntcbiAgICByZXR1cm4gdGhpcy5pbmRleEJ1ZmZlcjtcbn07XG5cbi8qKlxuICogdGhpcyBmdW5jdGlvbiBtb2RpZmllcyB0aGUgc3RydWN0dXJlIHNvIHRoYXQgYWxsIGN1cnJlbnQgYXR0cmlidXRlcyBiZWNvbWUgaW50ZXJsZWF2ZWQgaW50byBhIHNpbmdsZSBidWZmZXJcbiAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBpZiB5b3VyIG1vZGVsIHJlbWFpbnMgc3RhdGljIGFzIGl0IG9mZmVycyBhIGxpdHRsZSBwZXJmb3JtYW5jZSBib29zdFxuICpcbiAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAqL1xuR2VvbWV0cnkucHJvdG90eXBlLmludGVybGVhdmUgPSBmdW5jdGlvbiBpbnRlcmxlYXZlICgpXG57XG4gICAgLy8gYSBzaW1wbGUgY2hlY2sgdG8gc2VlIGlmIGJ1ZmZlcnMgYXJlIGFscmVhZHkgaW50ZXJsZWF2ZWQuLlxuICAgIGlmICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSAxIHx8ICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSAyICYmIHRoaXMuaW5kZXhCdWZmZXIpKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICAvLyBhc3N1bWUgYWxyZWFkeSB0aGF0IG5vIGJ1ZmZlcnMgYXJlIGludGVybGVhdmVkXG4gICAgdmFyIGFycmF5cyA9IFtdO1xuICAgIHZhciBzaXplcyA9IFtdO1xuICAgIHZhciBpbnRlcmxlYXZlZEJ1ZmZlciA9IG5ldyBCdWZmZXIoKTtcbiAgICB2YXIgaTtcblxuICAgIGZvciAoaSBpbiB0aGlzLmF0dHJpYnV0ZXMpXG4gICAge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuXG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgYXJyYXlzLnB1c2goYnVmZmVyLmRhdGEpO1xuXG4gICAgICAgIHNpemVzLnB1c2goKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKSAvIDQpO1xuXG4gICAgICAgIGF0dHJpYnV0ZS5idWZmZXIgPSAwO1xuICAgIH1cblxuICAgIGludGVybGVhdmVkQnVmZmVyLmRhdGEgPSBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcyk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyc1tpXSAhPT0gdGhpcy5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYnVmZmVycyA9IFtpbnRlcmxlYXZlZEJ1ZmZlcl07XG5cbiAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuR2VvbWV0cnkucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiBnZXRTaXplICgpXG57XG4gICAgZm9yICh2YXIgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpXG4gICAge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuXG4gICAgICAgIHJldHVybiBidWZmZXIuZGF0YS5sZW5ndGggLyAoKGF0dHJpYnV0ZS5zdHJpZGUgLyA0KSB8fCBhdHRyaWJ1dGUuc2l6ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIGRpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeVxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbntcbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIucnVuKHRoaXMsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGdlb21ldHJ5LlxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgIHRoaXMuYnVmZmVycyA9IG51bGw7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbn07XG5cbi8qKlxuICogcmV0dXJucyBhIGNsb25lIG9mIHRoZSBnZW9tZXRyeVxuICpcbiAqIEByZXR1cm5zIHtQSVhJLkdlb21ldHJ5fSBhIG5ldyBjbG9uZSBvZiB0aGlzIGdlb21ldHJ5XG4gKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG57XG4gICAgdmFyIGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGdlb21ldHJ5LmJ1ZmZlcnNbaV0gPSBuZXcgQnVmZmVyKHRoaXMuYnVmZmVyc1tpXS5kYXRhLnNsaWNlKCkpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkkMSBpbiB0aGlzLmF0dHJpYnV0ZXMpXG4gICAge1xuICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzW2kkMV07XG5cbiAgICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlc1tpJDFdID0gbmV3IEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGF0dHJpYi5idWZmZXIsXG4gICAgICAgICAgICBhdHRyaWIuc2l6ZSxcbiAgICAgICAgICAgIGF0dHJpYi5ub3JtYWxpemVkLFxuICAgICAgICAgICAgYXR0cmliLnR5cGUsXG4gICAgICAgICAgICBhdHRyaWIuc3RyaWRlLFxuICAgICAgICAgICAgYXR0cmliLnN0YXJ0LFxuICAgICAgICAgICAgYXR0cmliLmluc3RhbmNlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAge1xuICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbdGhpcy5idWZmZXJzLmluZGV4T2YodGhpcy5pbmRleEJ1ZmZlcildO1xuICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdlb21ldHJ5O1xufTtcblxuLyoqXG4gKiBtZXJnZXMgYW4gYXJyYXkgb2YgZ2VvbWV0cmllcyBpbnRvIGEgbmV3IHNpbmdsZSBvbmVcbiAqIGdlb21ldHJ5IGF0dHJpYnV0ZSBzdHlsZXMgbXVzdCBtYXRjaCBmb3IgdGhpcyBvcGVyYXRpb24gdG8gd29ya1xuICpcbiAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeVtdfSBnZW9tZXRyaWVzIGFycmF5IG9mIGdlb21ldHJpZXMgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtQSVhJLkdlb21ldHJ5fSBzaGlueSBuZXcgZ2VvbWV0cnkhXG4gKi9cbkdlb21ldHJ5Lm1lcmdlID0gZnVuY3Rpb24gbWVyZ2UgKGdlb21ldHJpZXMpXG57XG4gICAgLy8gdG9kbyBhZGQgYSBnZW9tZXRyeSBjaGVjayFcbiAgICAvLyBhbHNvIGEgc2l6ZSBjaGVjay4uIGNhbnQgYmUgdG9vIGJpZyFdXG5cbiAgICB2YXIgZ2VvbWV0cnlPdXQgPSBuZXcgR2VvbWV0cnkoKTtcblxuICAgIHZhciBhcnJheXMgPSBbXTtcbiAgICB2YXIgc2l6ZXMgPSBbXTtcbiAgICB2YXIgb2Zmc2V0cyA9IFtdO1xuXG4gICAgdmFyIGdlb21ldHJ5O1xuXG4gICAgLy8gcGFzcyBvbmUuLiBnZXQgc2l6ZXMuLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNpemVzW2pdID0gc2l6ZXNbal0gfHwgMDtcbiAgICAgICAgICAgIHNpemVzW2pdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBvZmZzZXRzW2pdID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGJ1aWxkIHRoZSBjb3JyZWN0IHNpemUgYXJyYXlzLi5cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSQxKyspXG4gICAge1xuICAgICAgICAvLyBUT0RPIHR5cGVzIVxuICAgICAgICBhcnJheXNbaSQxXSA9IG5ldyBtYXAkMVtnZXRCdWZmZXJUeXBlKGdlb21ldHJ5LmJ1ZmZlcnNbaSQxXS5kYXRhKV0oc2l6ZXNbaSQxXSk7XG4gICAgICAgIGdlb21ldHJ5T3V0LmJ1ZmZlcnNbaSQxXSA9IG5ldyBCdWZmZXIoYXJyYXlzW2kkMV0pO1xuICAgIH1cblxuICAgIC8vIHBhc3MgdG8gc2V0IGRhdGEuLlxuICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IGdlb21ldHJpZXMubGVuZ3RoOyBpJDIrKylcbiAgICB7XG4gICAgICAgIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpJDJdO1xuXG4gICAgICAgIGZvciAodmFyIGokMSA9IDA7IGokMSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBqJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgYXJyYXlzW2okMV0uc2V0KGdlb21ldHJ5LmJ1ZmZlcnNbaiQxXS5kYXRhLCBvZmZzZXRzW2okMV0pO1xuICAgICAgICAgICAgb2Zmc2V0c1tqJDFdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbaiQxXS5kYXRhLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdlb21ldHJ5T3V0LmF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuXG4gICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKVxuICAgIHtcbiAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIgPSBnZW9tZXRyeU91dC5idWZmZXJzW2dlb21ldHJ5LmJ1ZmZlcnMuaW5kZXhPZihnZW9tZXRyeS5pbmRleEJ1ZmZlcildO1xuICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlci5pbmRleCA9IHRydWU7XG5cbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIHZhciBzdHJpZGUgPSAwO1xuICAgICAgICB2YXIgb2Zmc2V0MiA9IDA7XG4gICAgICAgIHZhciBidWZmZXJJbmRleFRvQ291bnQgPSAwO1xuXG4gICAgICAgIC8vIGdldCBhIGJ1ZmZlclxuICAgICAgICBmb3IgKHZhciBpJDMgPSAwOyBpJDMgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSQzKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChnZW9tZXRyeS5idWZmZXJzW2kkM10gIT09IGdlb21ldHJ5LmluZGV4QnVmZmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlckluZGV4VG9Db3VudCA9IGkkMztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpZ3VyZSBvdXQgdGhlIHN0cmlkZSBvZiBvbmUgYnVmZmVyLi5cbiAgICAgICAgZm9yICh2YXIgaSQ0IGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzW2kkNF07XG5cbiAgICAgICAgICAgIGlmICgoYXR0cmlidXRlLmJ1ZmZlciB8IDApID09PSBidWZmZXJJbmRleFRvQ291bnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaWRlICs9ICgoYXR0cmlidXRlLnNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGUudHlwZV0pIC8gNCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aW1lIHRvIG9mZiBzZXQgYWxsIGluZGV4ZXMuLlxuICAgICAgICBmb3IgKHZhciBpJDUgPSAwOyBpJDUgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSQ1KyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpbmRleEJ1ZmZlckRhdGEgPSBnZW9tZXRyaWVzW2kkNV0uaW5kZXhCdWZmZXIuZGF0YTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiQyID0gMDsgaiQyIDwgaW5kZXhCdWZmZXJEYXRhLmxlbmd0aDsgaiQyKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuZGF0YVtqJDIgKyBvZmZzZXQyXSArPSBvZmZzZXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBnZW9tZXRyeS5idWZmZXJzW2J1ZmZlckluZGV4VG9Db3VudF0uZGF0YS5sZW5ndGggLyAoc3RyaWRlKTtcbiAgICAgICAgICAgIG9mZnNldDIgKz0gaW5kZXhCdWZmZXJEYXRhLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBnZW9tZXRyeU91dDtcbn07XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHF1YWRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBRdWFkID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoR2VvbWV0cnkpIHtcbiAgICBmdW5jdGlvbiBRdWFkKClcbiAgICB7XG4gICAgICAgIEdlb21ldHJ5LmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIFtcbiAgICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgICAxLCAwLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIDAsIDEgXSlcbiAgICAgICAgICAgIC5hZGRJbmRleChbMCwgMSwgMywgMl0pO1xuICAgIH1cblxuICAgIGlmICggR2VvbWV0cnkgKSBRdWFkLl9fcHJvdG9fXyA9IEdlb21ldHJ5O1xuICAgIFF1YWQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggR2VvbWV0cnkgJiYgR2VvbWV0cnkucHJvdG90eXBlICk7XG4gICAgUXVhZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBRdWFkO1xuXG4gICAgcmV0dXJuIFF1YWQ7XG59KEdlb21ldHJ5KSk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHF1YWQgd2l0aCB1dnMgbGlrZSBpbiB2NFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuR2VvbWV0cnlcbiAqL1xudmFyIFF1YWRVdiA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEdlb21ldHJ5KSB7XG4gICAgZnVuY3Rpb24gUXVhZFV2KClcbiAgICB7XG4gICAgICAgIEdlb21ldHJ5LmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0xLCAtMSxcbiAgICAgICAgICAgIDEsIC0xLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIC0xLCAxIF0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVXZzIG9mIHRoZSBxdWFkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxIF0pO1xuXG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnZlcnRpY2VzKTtcbiAgICAgICAgdGhpcy51dkJ1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy51dnMpO1xuXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCB0aGlzLnZlcnRleEJ1ZmZlcilcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCB0aGlzLnV2QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAyLCAwLCAyLCAzXSk7XG4gICAgfVxuXG4gICAgaWYgKCBHZW9tZXRyeSApIFF1YWRVdi5fX3Byb3RvX18gPSBHZW9tZXRyeTtcbiAgICBRdWFkVXYucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggR2VvbWV0cnkgJiYgR2VvbWV0cnkucHJvdG90eXBlICk7XG4gICAgUXVhZFV2LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFF1YWRVdjtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgdHdvIFJlY3RhbmdsZSB0byB0aGUgcXVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHRhcmdldFRleHR1cmVGcmFtZSAtIHRoZSBmaXJzdCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gdGhlIHNlY29uZCByZWN0YW5nbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlF1YWR9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFF1YWRVdi5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwICh0YXJnZXRUZXh0dXJlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpXG4gICAge1xuICAgICAgICB2YXIgeCA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIHkgPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnkgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudXZzWzBdID0geDtcbiAgICAgICAgdGhpcy51dnNbMV0gPSB5O1xuXG4gICAgICAgIHRoaXMudXZzWzJdID0geCArIChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoKTtcbiAgICAgICAgdGhpcy51dnNbM10gPSB5O1xuXG4gICAgICAgIHRoaXMudXZzWzRdID0geCArIChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoKTtcbiAgICAgICAgdGhpcy51dnNbNV0gPSB5ICsgKGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy51dnNbNl0gPSB4O1xuICAgICAgICB0aGlzLnV2c1s3XSA9IHkgKyAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICB4ID0gZGVzdGluYXRpb25GcmFtZS54O1xuICAgICAgICB5ID0gZGVzdGluYXRpb25GcmFtZS55O1xuXG4gICAgICAgIHRoaXMudmVydGljZXNbMF0gPSB4O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzFdID0geTtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWzJdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMudmVydGljZXNbM10gPSB5O1xuXG4gICAgICAgIHRoaXMudmVydGljZXNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s1XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWzZdID0geDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcblxuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogbGVnYWN5IHVwbG9hZCBtZXRob2QsIGp1c3QgbWFya3MgYnVmZmVycyBkaXJ0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlF1YWRVdn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUXVhZFV2LnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24gaW52YWxpZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgICAgIHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEKys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIHJldHVybiBRdWFkVXY7XG59KEdlb21ldHJ5KSk7XG5cbnZhciBVSUQkMiA9IDA7XG5cbi8qKlxuICogVW5pZm9ybSBncm91cCBob2xkcyB1bmlmb3JtIG1hcCBhbmQgc29tZSBJRCdzIGZvciB3b3JrXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVW5pZm9ybUdyb3VwID0gZnVuY3Rpb24gVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKVxue1xuICAgIC8qKlxuICAgICAqIHVuaWZvcm0gdmFsdWVzXG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMudW5pZm9ybXMgPSB1bmlmb3JtcztcblxuICAgIC8qKlxuICAgICAqIEl0cyBhIGdyb3VwIGFuZCBub3QgYSBzaW5nbGUgdW5pZm9ybXNcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICB0aGlzLmdyb3VwID0gdHJ1ZTtcblxuICAgIC8vIGxldHMgZ2VuZXJhdGUgdGhpcyB3aGVuIHRoZSBzaGFkZXIgP1xuICAgIHRoaXMuc3luY1VuaWZvcm1zID0ge307XG5cbiAgICAvKipcbiAgICAgKiBkaXJ0eSB2ZXJzaW9uXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRpcnR5SWQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogdW5pcXVlIGlkXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmlkID0gVUlEJDIrKztcblxuICAgIC8qKlxuICAgICAqIFVuaWZvcm1zIHdvbnQgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvblxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5zdGF0aWMgPSAhIV9zdGF0aWM7XG59O1xuXG5Vbmlmb3JtR3JvdXAucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxue1xuICAgIHRoaXMuZGlydHlJZCsrO1xufTtcblxuVW5pZm9ybUdyb3VwLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQgKG5hbWUsIHVuaWZvcm1zLCBfc3RhdGljKVxue1xuICAgIHRoaXMudW5pZm9ybXNbbmFtZV0gPSBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbn07XG5cblVuaWZvcm1Hcm91cC5mcm9tID0gZnVuY3Rpb24gZnJvbSAodW5pZm9ybXMsIF9zdGF0aWMpXG57XG4gICAgcmV0dXJuIG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMsIF9zdGF0aWMpO1xufTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgZmlsdGVyIHN0YXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBGaWx0ZXJTdGF0ZSA9IGZ1bmN0aW9uIEZpbHRlclN0YXRlKClcbntcbiAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGFyZ2V0IG9mIHRoZSBmaWx0ZXJzXG4gICAgICogV2Ugc3RvcmUgZm9yIGNhc2Ugd2hlbiBjdXN0b20gZmlsdGVyIHdhbnRzIHRvIGtub3cgdGhlIGVsZW1lbnQgaXQgd2FzIGFwcGxpZWQgb25cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXRpYmlsaXR5IHdpdGggUGl4aUpTIHY0IGZpbHRlcnNcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmxlZ2FjeSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogUmVzb2x1dGlvbiBvZiBmaWx0ZXJzXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG5cbiAgICAvLyBuZXh0IHRocmVlIGZpZWxkcyBhcmUgY3JlYXRlZCBvbmx5IGZvciByb290XG4gICAgLy8gcmUtYXNzaWduZWQgZm9yIGV2ZXJ5dGhpbmcgZWxzZVxuXG4gICAgLyoqXG4gICAgICogU291cmNlIGZyYW1lXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnNvdXJjZUZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgLyoqXG4gICAgICogRGVzdGluYXRpb24gZnJhbWVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgZmlsdGVyc1xuICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyW119XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZpbHRlcnMgPSBbXTtcbn07XG5cbi8qKlxuICogY2xlYXJzIHRoZSBzdGF0ZVxuICogQHByaXZhdGVcbiAqL1xuRmlsdGVyU3RhdGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKClcbntcbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xufTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIGZpbHRlcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgRmlsdGVyU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gRmlsdGVyU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIGZpbHRlcnMgZm9yIHRoZSBGaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2sgPSBbe31dO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdG9yZXMgYSBidW5jaCBvZiBQTzIgdGV4dHVyZXMgdXNlZCBmb3IgZmlsdGVyaW5nXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSBuZXcgUmVuZGVyVGV4dHVyZVBvb2woKTtcblxuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUocmVuZGVyZXIudmlldyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgcG9vbCBmb3Igc3RvcmluZyBmaWx0ZXIgc3RhdGVzLCBzYXZlIHVzIGNyZWF0aW5nIG5ldyBvbmVzIGVhY2ggdGlja1xuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGVQb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdmVyeSBzaW1wbGUgZ2VvbWV0cnkgdXNlZCB3aGVuIGRyYXdpbmcgYSBmaWx0ZXIgZWZmZWN0IHRvIHRoZSBzY3JlZW5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5RdWFkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWFkID0gbmV3IFF1YWQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUXVhZCBVVnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5RdWFkVXZ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnF1YWRVdiA9IG5ldyBRdWFkVXYoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGVtcG9yYXJ5IHJlY3QgZm9yIG1hdGhzXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZSBzdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgdW5pZm9ybSBncm91cCBpcyBhdHRhY2hlZCB0byBmaWx0ZXIgdW5pZm9ybXMgd2hlbiB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVW5pZm9ybUdyb3VwfVxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUmVjdGFuZ2xlfSBvdXRwdXRGcmFtZVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRTaXplXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dFBpeGVsXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dENsYW1wXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSByZXNvbHV0aW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBmaWx0ZXJBcmVhXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYWQzMkFycmF5fSBmaWx0ZXJDbGFtcFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgICAgb3V0cHV0RnJhbWU6IHRoaXMudGVtcFJlY3QsXG4gICAgICAgICAgICBpbnB1dFNpemU6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBpbnB1dFBpeGVsOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgaW5wdXRDbGFtcDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIHJlc29sdXRpb246IDEsXG5cbiAgICAgICAgICAgIC8vIGxlZ2FjeSB2YXJpYWJsZXNcbiAgICAgICAgICAgIGZpbHRlckFyZWE6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBmaWx0ZXJDbGFtcDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSByZW5kZXJlci52aWV3LndpZHRoO1xuICAgICAgICB0aGlzLl9waXhlbHNIZWlnaHQgPSByZW5kZXJlci52aWV3LmhlaWdodDtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIEZpbHRlclN5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW07XG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZpbHRlclN5c3RlbTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgZmlsdGVyIHRvIHRoZSBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gVGhlIHRhcmdldCBvZiB0aGUgZmlsdGVyIHRvIHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyW119IGZpbHRlcnMgLSBUaGUgZmlsdGVycyB0byBhcHBseS5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoICh0YXJnZXQsIGZpbHRlcnMpXG4gICAge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZmlsdGVyU3RhY2sgPSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjaztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZVBvb2wucG9wKCkgfHwgbmV3IEZpbHRlclN0YXRlKCk7XG5cbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBmaWx0ZXJzWzBdLnJlc29sdXRpb247XG4gICAgICAgIHZhciBwYWRkaW5nID0gZmlsdGVyc1swXS5wYWRkaW5nO1xuICAgICAgICB2YXIgYXV0b0ZpdCA9IGZpbHRlcnNbMF0uYXV0b0ZpdDtcbiAgICAgICAgdmFyIGxlZ2FjeSA9IGZpbHRlcnNbMF0ubGVnYWN5O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9ICBmaWx0ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgbG93ZXN0IHJlc29sdXRpb24uLlxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IE1hdGgubWluKHJlc29sdXRpb24sIGZpbHRlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIC8vIGFuZCB0aGUgbGFyZ2VzdCBhbW91bnQgb2YgcGFkZGluZyFcbiAgICAgICAgICAgIHBhZGRpbmcgPSBNYXRoLm1heChwYWRkaW5nLCBmaWx0ZXIucGFkZGluZyk7XG4gICAgICAgICAgICAvLyBvbmx5IGF1dG8gZml0IGlmIGFsbCBmaWx0ZXJzIGFyZSBhdXRvZml0XG4gICAgICAgICAgICBhdXRvRml0ID0gYXV0b0ZpdCB8fCBmaWx0ZXIuYXV0b0ZpdDtcblxuICAgICAgICAgICAgbGVnYWN5ID0gbGVnYWN5IHx8IGZpbHRlci5sZWdhY3k7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyU3RhY2subGVuZ3RoID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFja1swXS5yZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZmlsdGVyU3RhY2sucHVzaChzdGF0ZSk7XG5cbiAgICAgICAgc3RhdGUucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgc3RhdGUubGVnYWN5ID0gbGVnYWN5O1xuXG4gICAgICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldDtcblxuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5jb3B5RnJvbSh0YXJnZXQuZmlsdGVyQXJlYSB8fCB0YXJnZXQuZ2V0Qm91bmRzKHRydWUpKTtcblxuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5wYWQocGFkZGluZyk7XG4gICAgICAgIGlmIChhdXRvRml0KVxuICAgICAgICB7XG4gICAgICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5maXQodGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJvdW5kIHRvIHdob2xlIG51bWJlciBiYXNlZCBvbiByZXNvbHV0aW9uXG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLmNlaWwocmVzb2x1dGlvbik7XG5cbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZSA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUoc3RhdGUuc291cmNlRnJhbWUud2lkdGgsIHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgICAgIHN0YXRlLmZpbHRlcnMgPSBmaWx0ZXJzO1xuXG4gICAgICAgIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzdGF0ZS5yZW5kZXJUZXh0dXJlLndpZHRoO1xuICAgICAgICBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IHN0YXRlLnJlbmRlclRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgIHN0YXRlLnJlbmRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBzdGF0ZS5zb3VyY2VGcmFtZTtcblxuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoc3RhdGUucmVuZGVyVGV4dHVyZSwgc3RhdGUuc291cmNlRnJhbWUpOy8vIC8sIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmNsZWFyKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcHMgb2ZmIHRoZSBmaWx0ZXIgYW5kIGFwcGxpZXMgaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAoKVxuICAgIHtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IGZpbHRlclN0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnM7XG5cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZSA9IHN0YXRlO1xuXG4gICAgICAgIHZhciBnbG9iYWxVbmlmb3JtcyA9IHRoaXMuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXM7XG5cbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMub3V0cHV0RnJhbWUgPSBzdGF0ZS5zb3VyY2VGcmFtZTtcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMucmVzb2x1dGlvbiA9IHN0YXRlLnJlc29sdXRpb247XG5cbiAgICAgICAgdmFyIGlucHV0U2l6ZSA9IGdsb2JhbFVuaWZvcm1zLmlucHV0U2l6ZTtcbiAgICAgICAgdmFyIGlucHV0UGl4ZWwgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFBpeGVsO1xuICAgICAgICB2YXIgaW5wdXRDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG5cbiAgICAgICAgaW5wdXRTaXplWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgaW5wdXRTaXplWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgIGlucHV0U2l6ZVsyXSA9IDEuMCAvIGlucHV0U2l6ZVswXTtcbiAgICAgICAgaW5wdXRTaXplWzNdID0gMS4wIC8gaW5wdXRTaXplWzFdO1xuXG4gICAgICAgIGlucHV0UGl4ZWxbMF0gPSBpbnB1dFNpemVbMF0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzFdID0gaW5wdXRTaXplWzFdICogc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgaW5wdXRQaXhlbFsyXSA9IDEuMCAvIGlucHV0UGl4ZWxbMF07XG4gICAgICAgIGlucHV0UGl4ZWxbM10gPSAxLjAgLyBpbnB1dFBpeGVsWzFdO1xuXG4gICAgICAgIGlucHV0Q2xhbXBbMF0gPSAwLjUgKiBpbnB1dFBpeGVsWzJdO1xuICAgICAgICBpbnB1dENsYW1wWzFdID0gMC41ICogaW5wdXRQaXhlbFszXTtcbiAgICAgICAgaW5wdXRDbGFtcFsyXSA9IChzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCAqIGlucHV0U2l6ZVsyXSkgLSAoMC41ICogaW5wdXRQaXhlbFsyXSk7XG4gICAgICAgIGlucHV0Q2xhbXBbM10gPSAoc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0ICogaW5wdXRTaXplWzNdKSAtICgwLjUgKiBpbnB1dFBpeGVsWzNdKTtcblxuICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0aGUgcmVjdCBpZiBpdHMgbGVnYWN5Li5cbiAgICAgICAgaWYgKHN0YXRlLmxlZ2FjeSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGZpbHRlckFyZWEgPSBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJBcmVhO1xuXG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMl0gPSBzdGF0ZS5zb3VyY2VGcmFtZS54O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVszXSA9IHN0YXRlLnNvdXJjZUZyYW1lLnk7XG5cbiAgICAgICAgICAgIGdsb2JhbFVuaWZvcm1zLmZpbHRlckNsYW1wID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRDbGFtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG5cbiAgICAgICAgdmFyIGxhc3RTdGF0ZSA9IGZpbHRlclN0YWNrW2ZpbHRlclN0YWNrLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBzdGF0ZS5yZW5kZXJUZXh0dXJlLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgZmFsc2UsIHN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKHN0YXRlLnJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlO1xuICAgICAgICAgICAgdmFyIGZsb3AgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKFxuICAgICAgICAgICAgICAgIGZsaXAud2lkdGgsXG4gICAgICAgICAgICAgICAgZmxpcC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgc3RhdGUucmVzb2x1dGlvblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZmxvcC5maWx0ZXJGcmFtZSA9IGZsaXAuZmlsdGVyRnJhbWU7XG5cbiAgICAgICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoIC0gMTsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgZmxvcCwgdHJ1ZSwgc3RhdGUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHQgPSBmbGlwO1xuXG4gICAgICAgICAgICAgICAgZmxpcCA9IGZsb3A7XG4gICAgICAgICAgICAgICAgZmxvcCA9IHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgbGFzdFN0YXRlLnJlbmRlclRleHR1cmUsIGZhbHNlLCBzdGF0ZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShmbGlwKTtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShmbG9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuc3RhdGVQb29sLnB1c2goc3RhdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJ9IGZpbHRlciAtIFRoZSBmaWx0ZXIgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuYXBwbHlGaWx0ZXIgPSBmdW5jdGlvbiBhcHBseUZpbHRlciAoZmlsdGVyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcilcbiAgICB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG91dHB1dCwgb3V0cHV0ID8gb3V0cHV0LmZpbHRlckZyYW1lIDogbnVsbCk7XG5cbiAgICAgICAgaWYgKGNsZWFyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmNsZWFyKCk7XG4gICAgICAgICAgICAvLyBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCB0aGUgdW5pZm9ybXMuLlxuICAgICAgICBmaWx0ZXIudW5pZm9ybXMudVNhbXBsZXIgPSBpbnB1dDtcbiAgICAgICAgZmlsdGVyLnVuaWZvcm1zLmZpbHRlckdsb2JhbHMgPSB0aGlzLmdsb2JhbFVuaWZvcm1zO1xuXG4gICAgICAgIC8vIFRPRE8gbWFrZSBpdCBzbyB0aGF0IHRoZSBvcmRlciBvZiB0aGlzIGRvZXMgbm90IG1hdHRlci4uXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgZG9lcyBhdCB0aGUgbW9tZW50IGNvcyBvZiBnbG9iYWwgdW5pZm9ybXMuXG4gICAgICAgIC8vIHRoZXkgbmVlZCB0byBnZXQgcmVzeW5jZWRcblxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQoZmlsdGVyLnN0YXRlKTtcbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoZmlsdGVyKTtcblxuICAgICAgICBpZiAoZmlsdGVyLmxlZ2FjeSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5xdWFkVXYubWFwKGlucHV0Ll9mcmFtZSwgaW5wdXQuZmlsdGVyRnJhbWUpO1xuXG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMucXVhZFV2KTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRVMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWQpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhEUkFXX01PREVTLlRSSUFOR0xFX1NUUklQKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSBfaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlc18gdG8gdGhpcyBtYXRyaXggdG8gZ2V0IF9zcHJpdGUgdGV4dHVyZSBub3JtYWxpemVkIGNvb3JkaW5hdGVzXy5cbiAgICAgKlxuICAgICAqIFVzZSBgb3V0cHV0TWF0cml4ICogdlRleHR1cmVDb29yZGAgaW4gdGhlIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIFRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIFRoZSBzcHJpdGUgdG8gbWFwIHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVNwcml0ZU1hdHJpeCAob3V0cHV0TWF0cml4LCBzcHJpdGUpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcy5hY3RpdmVTdGF0ZTtcbiAgICAgICAgdmFyIHNvdXJjZUZyYW1lID0gcmVmLnNvdXJjZUZyYW1lO1xuICAgICAgICB2YXIgZGVzdGluYXRpb25GcmFtZSA9IHJlZi5kZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICB2YXIgcmVmJDEgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgIHZhciBvcmlnID0gcmVmJDEub3JpZztcbiAgICAgICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQoZGVzdGluYXRpb25GcmFtZS53aWR0aCwgMCwgMCxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0LCBzb3VyY2VGcmFtZS54LCBzb3VyY2VGcmFtZS55KTtcbiAgICAgICAgdmFyIHdvcmxkVHJhbnNmb3JtID0gc3ByaXRlLndvcmxkVHJhbnNmb3JtLmNvcHlUbyhNYXRyaXguVEVNUF9NQVRSSVgpO1xuXG4gICAgICAgIHdvcmxkVHJhbnNmb3JtLmludmVydCgpO1xuICAgICAgICBtYXBwZWRNYXRyaXgucHJlcGVuZCh3b3JsZFRyYW5zZm9ybSk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC5zY2FsZSgxLjAgLyBvcmlnLndpZHRoLCAxLjAgLyBvcmlnLmhlaWdodCk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc3ByaXRlLmFuY2hvci54LCBzcHJpdGUuYW5jaG9yLnkpO1xuXG4gICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgRmlsdGVyIFN5c3RlbS5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICAvLyBUaG9zZSB0ZXh0dXJlcyBoYXMgdG8gYmUgZGVzdHJveWVkIGJ5IFJlbmRlclRleHR1cmVTeXN0ZW0gb3IgRnJhbWVidWZmZXJTeXN0ZW1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5jbGVhcihmYWxzZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUgb3IgZnVsbFNjcmVlbiB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5IZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmUuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIGdldE9wdGltYWxGaWx0ZXJUZXh0dXJlIChtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgaWYgKCByZXNvbHV0aW9uID09PSB2b2lkIDAgKSByZXNvbHV0aW9uID0gMTtcblxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyBleHRyYSByZW5kZXIgdGV4dHVyZSB0byB1c2UgaW5zaWRlIGN1cnJlbnQgZmlsdGVyXG4gICAgICogVG8gYmUgY29tcGxpYW50IHdpdGggb2xkZXIgZmlsdGVycywgeW91IGNhbiB1c2UgcGFyYW1zIGluIGFueSBvcmRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtpbnB1dF0gcmVuZGVyVGV4dHVyZSBmcm9tIHdoaWNoIHNpemUgYW5kIHJlc29sdXRpb24gd2lsbCBiZSBjb3BpZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIG92ZXJyaWRlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlclRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZ2V0RmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIGdldEZpbHRlclRleHR1cmUgKGlucHV0LCByZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzd2FwID0gaW5wdXQ7XG5cbiAgICAgICAgICAgIGlucHV0ID0gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBzd2FwO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXQgPSBpbnB1dCB8fCB0aGlzLmFjdGl2ZVN0YXRlLnJlbmRlclRleHR1cmU7XG5cbiAgICAgICAgdmFyIGZpbHRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQsIHJlc29sdXRpb24gfHwgaW5wdXQucmVzb2x1dGlvbik7XG5cbiAgICAgICAgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IGlucHV0LmZpbHRlckZyYW1lO1xuXG4gICAgICAgIHJldHVybiBmaWx0ZXJUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGcmVlcyBhIHJlbmRlciB0ZXh0dXJlIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRhcmdldCB0byBmcmVlXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5yZXR1cm5GaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gcmV0dXJuRmlsdGVyVGV4dHVyZSAocmVuZGVyVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW1wdGllcyB0aGUgdGV4dHVyZSBwb29sLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZW1wdHlQb29sID0gZnVuY3Rpb24gZW1wdHlQb29sICgpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKHRydWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjYWxscyBgdGV4dHVyZVBvb2wucmVzaXplKClgLCBhZmZlY3RzIGZ1bGxTY3JlZW4gcmVuZGVyVGV4dHVyZXNcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5zZXRTY3JlZW5TaXplKHRoaXMucmVuZGVyZXIudmlldyk7XG4gICAgfTtcblxuICAgIHJldHVybiBGaWx0ZXJTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEJhc2UgZm9yIGEgY29tbW9uIG9iamVjdCByZW5kZXJlciB0aGF0IGNhbiBiZSB1c2VkIGFzIGFcbiAqIHN5c3RlbSByZW5kZXJlciBwbHVnaW4uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gT2JqZWN0UmVuZGVyZXIocmVuZGVyZXIpXG57XG4gICAgLyoqXG4gICAgICogVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlcmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbn07XG5cbi8qKlxuICogU3R1YiBtZXRob2QgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBlbXB0eSB0aGUgY3VycmVudFxuICogYmF0Y2ggYnkgcmVuZGVyaW5nIG9iamVjdHMgbm93LlxuICovXG5PYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCAoKVxue1xuICAgIC8vIGZsdXNoIVxufTtcblxuLyoqXG4gKiBHZW5lcmljIGRlc3RydWN0aW9uIG1ldGhvZCB0aGF0IGZyZWVzIGFsbCByZXNvdXJjZXMuIFRoaXNcbiAqIHNob3VsZCBiZSBjYWxsZWQgYnkgc3ViY2xhc3Nlcy5cbiAqL1xuT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG59O1xuXG4vKipcbiAqIFN0dWIgbWV0aG9kIHRoYXQgaW5pdGlhbGl6ZXMgYW55IHN0YXRlIHJlcXVpcmVkIGJlZm9yZVxuICogcmVuZGVyaW5nIHN0YXJ0cy4gSXQgaXMgZGlmZmVyZW50IGZyb20gdGhlIGBwcmVyZW5kZXJgXG4gKiBzaWduYWwsIHdoaWNoIG9jY3VycyBldmVyeSBmcmFtZSwgaW4gdGhhdCBpdCBpcyBjYWxsZWRcbiAqIHdoZW5ldmVyIGFuIG9iamVjdCByZXF1ZXN0cyBfdGhpc18gcmVuZGVyZXIgc3BlY2lmaWNhbGx5LlxuICovXG5PYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCAoKVxue1xuICAgIC8vIHNldCB0aGUgc2hhZGVyLi5cbn07XG5cbi8qKlxuICogU3RvcHMgdGhlIHJlbmRlcmVyLiBJdCBzaG91bGQgZnJlZSB1cCBhbnkgc3RhdGUgYW5kXG4gKiBiZWNvbWUgZG9ybWFudC5cbiAqL1xuT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wICgpXG57XG4gICAgdGhpcy5mbHVzaCgpO1xufTtcblxuLyoqXG4gKiBLZWVwcyB0aGUgb2JqZWN0IHRvIHJlbmRlci4gSXQgZG9lc24ndCBoYXZlIHRvIGJlXG4gKiByZW5kZXJlZCBpbW1lZGlhdGVseS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byByZW5kZXIuXG4gKi9cbk9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKG9iamVjdCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xue1xuICAgIC8vIHJlbmRlciB0aGUgb2JqZWN0XG59O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBiYXRjaGluZy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBCYXRjaFN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIEJhdGNoU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBlbXB0eSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1wdHlSZW5kZXJlciA9IG5ldyBPYmplY3RSZW5kZXJlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIE9iamVjdFJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9iamVjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIgPSB0aGlzLmVtcHR5UmVuZGVyZXI7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBCYXRjaFN5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW07XG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCYXRjaFN5c3RlbTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgcmVuZGVyZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5PYmplY3RSZW5kZXJlcn0gb2JqZWN0UmVuZGVyZXIgLSBUaGUgb2JqZWN0IHJlbmRlcmVyIHRvIHVzZS5cbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuc2V0T2JqZWN0UmVuZGVyZXIgPSBmdW5jdGlvbiBzZXRPYmplY3RSZW5kZXJlciAob2JqZWN0UmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UmVuZGVyZXIgPT09IG9iamVjdFJlbmRlcmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gb2JqZWN0UmVuZGVyZXI7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBzaG91bGQgYmUgY2FsbGVkIGlmIHlvdSB3aXNoIHRvIGRvIHNvbWUgY3VzdG9tIHJlbmRlcmluZ1xuICAgICAqIEl0IHdpbGwgYmFzaWNhbGx5IHJlbmRlciBhbnl0aGluZyB0aGF0IG1heSBiZSBiYXRjaGVkIHVwIHN1Y2ggYXMgc3ByaXRlc1xuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoICgpXG4gICAge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBzeXN0ZW0gdG8gYW4gZW1wdHkgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5keSBmdW5jdGlvbiBmb3IgYmF0Y2ggcmVuZGVyZXJzOiBjb3BpZXMgYm91bmQgdGV4dHVyZXMgaW4gZmlyc3QgbWF4VGV4dHVyZXMgbG9jYXRpb25zIHRvIGFycmF5XG4gICAgICogc2V0cyBhY3R1YWwgX2JhdGNoTG9jYXRpb24gZm9yIHRoZW1cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcnJcbiAgICAgKiBAcGFyYW0gbWF4VGV4dHVyZXNcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuY29weUJvdW5kVGV4dHVyZXMgPSBmdW5jdGlvbiBjb3B5Qm91bmRUZXh0dXJlcyAoYXJyLCBtYXhUZXh0dXJlcylcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gcmVmLmJvdW5kVGV4dHVyZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IG1heFRleHR1cmVzIC0gMTsgaSA+PSAwOyAtLWkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFycltpXSA9IGJvdW5kVGV4dHVyZXNbaV0gfHwgbnVsbDtcbiAgICAgICAgICAgIGlmIChhcnJbaV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXJyW2ldLl9iYXRjaExvY2F0aW9uID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGJhdGNoIGxvY2F0aW9ucyB0byB0ZXh0dXJlcyBpbiBhcnJheSBiYXNlZCBvbiBib3VuZFRleHR1cmVzIHN0YXRlLlxuICAgICAqIEFsbCB0ZXh0dXJlcyBpbiB0ZXhBcnJheSBzaG91bGQgaGF2ZSBgX2JhdGNoRW5hYmxlZCA9IF9iYXRjaElkYCxcbiAgICAgKiBhbmQgdGhlaXIgY291bnQgc2hvdWxkIGJlIGxlc3MgdGhhbiBgbWF4VGV4dHVyZXNgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoVGV4dHVyZUFycmF5fSB0ZXhBcnJheSB0ZXh0dXJlcyB0byBib3VuZFxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZVtdfSBib3VuZFRleHR1cmVzIGN1cnJlbnQgc3RhdGUgb2YgYm91bmQgdGV4dHVyZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmF0Y2hJZCBtYXJrZXIgZm9yIF9iYXRjaEVuYWJsZWQgcGFyYW0gb2YgdGV4dHVyZXMgaW4gdGV4QXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4VGV4dHVyZXMgbnVtYmVyIG9mIHRleHR1cmUgbG9jYXRpb25zIHRvIG1hbmlwdWxhdGVcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuYm91bmRBcnJheSA9IGZ1bmN0aW9uIGJvdW5kQXJyYXkgKHRleEFycmF5LCBib3VuZFRleHR1cmVzLCBiYXRjaElkLCBtYXhUZXh0dXJlcylcbiAgICB7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IHRleEFycmF5LmVsZW1lbnRzO1xuICAgICAgICB2YXIgaWRzID0gdGV4QXJyYXkuaWRzO1xuICAgICAgICB2YXIgY291bnQgPSB0ZXhBcnJheS5jb3VudDtcbiAgICAgICAgdmFyIGogPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHRleCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGxvYyA9IHRleC5fYmF0Y2hMb2NhdGlvbjtcblxuICAgICAgICAgICAgaWYgKGxvYyA+PSAwICYmIGxvYyA8IG1heFRleHR1cmVzXG4gICAgICAgICAgICAgICAgJiYgYm91bmRUZXh0dXJlc1tsb2NdID09PSB0ZXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWRzW2ldID0gbG9jO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAoaiA8IG1heFRleHR1cmVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBib3VuZCA9IGJvdW5kVGV4dHVyZXNbal07XG5cbiAgICAgICAgICAgICAgICBpZiAoYm91bmQgJiYgYm91bmQuX2JhdGNoRW5hYmxlZCA9PT0gYmF0Y2hJZFxuICAgICAgICAgICAgICAgICAgICAmJiBib3VuZC5fYmF0Y2hMb2NhdGlvbiA9PT0gailcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWRzW2ldID0gajtcbiAgICAgICAgICAgICAgICB0ZXguX2JhdGNoTG9jYXRpb24gPSBqO1xuICAgICAgICAgICAgICAgIGJvdW5kVGV4dHVyZXNbal0gPSB0ZXg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIEJhdGNoU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBUaGUgbWF4aW11bSBzdXBwb3J0IGZvciB1c2luZyBXZWJHTC4gSWYgYSBkZXZpY2UgZG9lcyBub3RcbiAqIHN1cHBvcnQgV2ViR0wgdmVyc2lvbiwgZm9yIGluc3RhbmNlIFdlYkdMIDIsIGl0IHdpbGwgc3RpbGxcbiAqIGF0dGVtcHQgdG8gZmFsbGJhY2sgc3VwcG9ydCB0byBXZWJHTCAxLiBJZiB5b3Ugd2FudCB0b1xuICogZXhwbGljaXRseSByZW1vdmUgZmVhdHVyZSBzdXBwb3J0IHRvIHRhcmdldCBhIG1vcmUgc3RhYmxlXG4gKiBiYXNlbGluZSwgcHJlZmVyIGEgbG93ZXIgZW52aXJvbm1lbnQuXG4gKlxuICogRHVlIHRvIHtAbGluayBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05MzQ4MjN8YnVnIGluIGNocm9taXVtfVxuICogd2UgZGlzYWJsZSB3ZWJnbDIgYnkgZGVmYXVsdCBmb3IgYWxsIG5vbi1hcHBsZSBtb2JpbGUgZGV2aWNlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBQUkVGRVJfRU5WXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IFBJWEkuRU5WLldFQkdMMlxuICovXG5zZXR0aW5ncy5QUkVGRVJfRU5WID0gaXNNb2JpbGUuYW55ID8gRU5WLldFQkdMIDogRU5WLldFQkdMMjtcblxuLyoqXG4gKiBJZiBzZXQgdG8gYHRydWVgLCBUZXh0dXJlcyBhbmQgQmFzZVRleHR1cmUgb2JqZWN0cyBzdG9yZWRcbiAqIGluIHRoZSBjYWNoZXMgKHtAbGluayBQSVhJLnV0aWxzLlRleHR1cmVDYWNoZSBUZXh0dXJlQ2FjaGV9IGFuZFxuICoge0BsaW5rIFBJWEkudXRpbHMuQmFzZVRleHR1cmVDYWNoZSBCYXNlVGV4dHVyZUNhY2hlfSkgY2FuICpvbmx5KiBiZVxuICogdXNlZCB3aGVuIGNhbGxpbmcge0BsaW5rIFBJWEkuVGV4dHVyZS5mcm9tIFRleHR1cmUuZnJvbX0gb3JcbiAqIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlLmZyb20gQmFzZVRleHR1cmUuZnJvbX0uXG4gKiBPdGhlcndpc2UsIHRoZXNlIGBmcm9tYCBjYWxscyB0aHJvdyBhbiBleGNlcHRpb24uIFVzaW5nIHRoaXMgcHJvcGVydHlcbiAqIGNhbiBiZSB1c2VmdWwgaWYgeW91IHdhbnQgdG8gZW5mb3JjZSBwcmVsb2FkaW5nIGFsbCBhc3NldHMgd2l0aFxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0uXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgU1RSSUNUX1RFWFRVUkVfQ0FDSEVcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnNldHRpbmdzLlNUUklDVF9URVhUVVJFX0NBQ0hFID0gZmFsc2U7XG5cbnZhciBDT05URVhUX1VJRCA9IDA7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBjb250ZXh0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIENvbnRleHRTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBDb250ZXh0U3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFaXRoZXIgMSBvciAyIHRvIHJlZmxlY3QgdGhlIFdlYkdMIHZlcnNpb24gYmVpbmcgdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbnNpb25zIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9kcmF3X2J1ZmZlcnN9IGRyYXdCdWZmZXJzIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZGVwdGhfdGV4dHVyZX0gZGVwdGhUZXh0dXJlIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T0VTX3RleHR1cmVfZmxvYXR9IGZsb2F0VGV4dHVyZSAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2xvc2VfY29udGV4dH0gbG9zZUNvbnRleHQgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtPRVNfdmVydGV4X2FycmF5X29iamVjdH0gdmVydGV4QXJyYXlPYmplY3QgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWN9IGFuaXNvdHJvcGljRmlsdGVyaW5nIC0gV2ViR0wgdjEgYW5kIHYyIGV4dGVuc2lvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5leHRlbnNpb25zID0ge307XG5cbiAgICAgICAgLy8gQmluZCBmdW5jdGlvbnNcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCA9IHRoaXMuaGFuZGxlQ29udGV4dExvc3QuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QsIGZhbHNlKTtcbiAgICAgICAgcmVuZGVyZXIudmlldy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBDb250ZXh0U3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb250ZXh0U3lzdGVtO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgaXNMb3N0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgdGhlIGNvbnRleHQgaXMgbG9zdFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmlzTG9zdC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICghdGhpcy5nbCB8fCB0aGlzLmdsLmlzQ29udGV4dExvc3QoKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgY29udGV4dCBjaGFuZ2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgbmV3IHdlYmdsIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoZ2wpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEKys7XG5cbiAgICAgICAgLy8gcmVzdG9yZSBhIGNvbnRleHQgaWYgaXQgd2FzIHByZXZpb3VzbHkgbG9zdFxuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpICYmIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmluaXRGcm9tQ29udGV4dCA9IGZ1bmN0aW9uIGluaXRGcm9tQ29udGV4dCAoZ2wpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMudmFsaWRhdGVDb250ZXh0KGdsKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEID0gQ09OVEVYVF9VSUQrKztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UucnVuKGdsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbnRleHQgb3B0aW9uc1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmluaXRGcm9tT3B0aW9ucyA9IGZ1bmN0aW9uIGluaXRGcm9tT3B0aW9ucyAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuY3JlYXRlQ29udGV4dCh0aGlzLnJlbmRlcmVyLnZpZXcsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuaW5pdEZyb21Db250ZXh0KGdsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIFdlYkdMIENvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYW52YXMge0hUTUxDYW52YXNFbGVtZW50fSB0aGUgY2FudmFzIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGdldCB0aGUgY29udGV4dCBmcm9tXG4gICAgICogQHBhcmFtIG9wdGlvbnMge29iamVjdH0gQW4gb3B0aW9ucyBvYmplY3QgdGhhdCBnZXRzIHBhc3NlZCBpbiB0byB0aGUgY2FudmFzIGVsZW1lbnQgY29udGFpbmluZyB0aGUgY29udGV4dCBhdHRyaWJ1dGVzXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dFxuICAgICAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0ID0gZnVuY3Rpb24gY3JlYXRlQ29udGV4dCAoY2FudmFzLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdmFyIGdsO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID49IEVOVi5XRUJHTDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDE7XG5cbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucylcbiAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgaWYgKCFnbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTC4gVHJ5IHVzaW5nIHRoZSBjYW52YXMgcmVuZGVyZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgICAgICB0aGlzLmdldEV4dGVuc2lvbnMoKTtcblxuICAgICAgICByZXR1cm4gZ2w7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEF1dG8tcG9wdWxhdGUgdGhlIGV4dGVuc2lvbnNcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5nZXRFeHRlbnNpb25zID0gZnVuY3Rpb24gZ2V0RXh0ZW5zaW9ucyAoKVxuICAgIHtcbiAgICAgICAgLy8gdGltZSB0byBzZXQgdXAgZGVmYXVsdCBleHRlbnNpb25zIHRoYXQgUGl4aSB1c2VzLlxuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIHtcbiAgICAgICAgICAgICAgICBkcmF3QnVmZmVyczogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKSxcbiAgICAgICAgICAgICAgICBkZXB0aFRleHR1cmU6IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX1dFQkdMX2RlcHRoX3RleHR1cmUnKSxcbiAgICAgICAgICAgICAgICBsb3NlQ29udGV4dDogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSxcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhBcnJheU9iamVjdDogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdmVydGV4X2FycmF5X29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignTU9aX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JylcbiAgICAgICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSxcbiAgICAgICAgICAgICAgICBhbmlzb3Ryb3BpY0ZpbHRlcmluZzogZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKSxcbiAgICAgICAgICAgICAgICB1aW50MzJFbGVtZW50SW5kZXg6IGdsLmdldEV4dGVuc2lvbignT0VTX2VsZW1lbnRfaW5kZXhfdWludCcpLFxuICAgICAgICAgICAgICAgIC8vIEZsb2F0cyBhbmQgaGFsZi1mbG9hdHNcbiAgICAgICAgICAgICAgICBmbG9hdFRleHR1cmU6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICBmbG9hdFRleHR1cmVMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICAgICAgdGV4dHVyZUhhbGZGbG9hdDogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgdGV4dHVyZUhhbGZGbG9hdExpbmVhcjogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy53ZWJHTFZlcnNpb24gPT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5leHRlbnNpb25zLCB7XG4gICAgICAgICAgICAgICAgYW5pc290cm9waWNGaWx0ZXJpbmc6IGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyksXG4gICAgICAgICAgICAgICAgLy8gRmxvYXRzIGFuZCBoYWxmLWZsb2F0c1xuICAgICAgICAgICAgICAgIGNvbG9yQnVmZmVyRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIGZsb2F0VGV4dHVyZUxpbmVhcjogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBsb3N0IHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMQ29udGV4dEV2ZW50fSBldmVudCAtIFRoZSBjb250ZXh0IGxvc3QgZXZlbnQuXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaGFuZGxlQ29udGV4dExvc3QgPSBmdW5jdGlvbiBoYW5kbGVDb250ZXh0TG9zdCAoZXZlbnQpXG4gICAge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgcmVzdG9yZWQgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IGZ1bmN0aW9uIGhhbmRsZUNvbnRleHRSZXN0b3JlZCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UucnVuKHRoaXMuZ2wpO1xuICAgIH07XG5cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLnJlbmRlcmVyLnZpZXc7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkKTtcblxuICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0obnVsbCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZXh0ZW5zaW9ucy5sb3NlQ29udGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0Lmxvc2VDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBwb3N0LXJlbmRlciBydW5uZXIgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5wb3N0cmVuZGVyID0gZnVuY3Rpb24gcG9zdHJlbmRlciAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gUmVuZGVyIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS52YWxpZGF0ZUNvbnRleHQgPSBmdW5jdGlvbiB2YWxpZGF0ZUNvbnRleHQgKGdsKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO1xuXG4gICAgICAgIC8vIHRoaXMgaXMgZ29pbmcgdG8gYmUgZmFpcmx5IHNpbXBsZSBmb3Igbm93Li4gYnV0IGF0IGxlYXN0IHdlIGhhdmUgcm9vbSB0byBncm93IVxuICAgICAgICBpZiAoIWF0dHJpYnV0ZXMuc3RlbmNpbClcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHknKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQ29udGV4dFN5c3RlbS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIENvbnRleHRTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBmcmFtZWJ1ZmZlcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgRnJhbWVidWZmZXJTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBGcmFtZWJ1ZmZlclN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIG1hbmFnZWQgZnJhbWVidWZmZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRnJhbWVidWZmZXJbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnJhbWVidWZmZXIgdmFsdWUgdGhhdCBzaG93cyB0aGF0IHdlIGRvbid0IGtub3cgd2hhdCBpcyBib3VuZFxuICAgICAgICAgKiBAbWVtYmVyIHtGcmFtZWJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVua25vd25GcmFtZWJ1ZmZlciA9IG5ldyBGcmFtZWJ1ZmZlcigxMCwgMTApO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgRnJhbWVidWZmZXJTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRnJhbWVidWZmZXJTeXN0ZW07XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBzaXplOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGhpcy5oYXNNUlQgPSB0cnVlO1xuICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG5cbiAgICAgICAgLy8gd2ViZ2wyXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3ZWJnbCAxIVxuICAgICAgICAgICAgdmFyIG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZHJhd0J1ZmZlcnM7XG4gICAgICAgICAgICB2YXIgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZGVwdGhUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzID0gZnVuY3Rpb24gKGFjdGl2ZVRleHR1cmVzKSB7IHJldHVybiBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbi5kcmF3QnVmZmVyc1dFQkdMKGFjdGl2ZVRleHR1cmVzKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc01SVCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVEZXB0aFRleHR1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIGEgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIGZyYW1lLCBkZWZhdWx0IGlzIGZyYW1lYnVmZmVyIHNpemVcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKGZyYW1lYnVmZmVyLCBmcmFtZSlcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIGNhY2hpbmcgbGF5ZXIhXG5cbiAgICAgICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IGZyYW1lYnVmZmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBhbGwgdGV4dHVyZXMgYXJlIHVuYm91bmQuLlxuXG4gICAgICAgICAgICAvLyBub3cgY2hlY2sgZm9yIHVwZGF0ZXMuLi5cbiAgICAgICAgICAgIGlmIChmYm8uZGlydHlJZCAhPT0gZnJhbWVidWZmZXIuZGlydHlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmYm8uZGlydHlJZCA9IGZyYW1lYnVmZmVyLmRpcnR5SWQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoZmJvLmRpcnR5Rm9ybWF0ICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZiby5kaXJ0eUZvcm1hdCA9IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmJvLmRpcnR5U2l6ZSAhPT0gZnJhbWVidWZmZXIuZGlydHlTaXplKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmJvLmRpcnR5U2l6ZSA9IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV0udGV4dHVyZVBhcnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydCgwLCAwLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydChmcmFtZS54LCBmcmFtZS55LCBmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIHRoaXMucmVuZGVyZXIud2lkdGgsIHRoaXMucmVuZGVyZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dCdzIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggLSBYIHBvc2l0aW9uIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgLSBZIHBvc2l0aW9uIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIC0gV2lkdGggb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHZpZXdwb3J0XG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnNldFZpZXdwb3J0ID0gZnVuY3Rpb24gc2V0Vmlld3BvcnQgKHgsIHksIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICB2YXIgdiA9IHRoaXMudmlld3BvcnQ7XG5cbiAgICAgICAgaWYgKHYud2lkdGggIT09IHdpZHRoIHx8IHYuaGVpZ2h0ICE9PSBoZWlnaHQgfHwgdi54ICE9PSB4IHx8IHYueSAhPT0geSlcbiAgICAgICAge1xuICAgICAgICAgICAgdi54ID0geDtcbiAgICAgICAgICAgIHYueSA9IHk7XG4gICAgICAgICAgICB2LndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB2LmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5nbC52aWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGN1cnJlbnQgd2lkdGggYW5kIGhlaWdodC4gUmV0dXJucyBvYmplY3Qgd2l0aCBgd2lkdGhgIGFuZCBgaGVpZ2h0YCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnNpemUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gc3RvcmUgdGVtcFxuICAgICAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IHRoaXMuY3VycmVudC53aWR0aCwgaGVpZ2h0OiB0aGlzLmN1cnJlbnQuaGVpZ2h0IH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5yZW5kZXJlci53aWR0aCwgaGVpZ2h0OiB0aGlzLnJlbmRlcmVyLmhlaWdodCB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgY29sb3Igb2YgdGhlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByIC0gUmVkIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGcgLSBHcmVlbiB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiIC0gQmx1ZSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIC0gQWxwaGEgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAociwgZywgYiwgYSlcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgLy8gVE9ETyBjbGVhciBjb2xvciBjYW4gYmUgc2V0IG9ubHkgb25lIHJpZ2h0P1xuICAgICAgICBnbC5jbGVhckNvbG9yKHIsIGcsIGIsIGEpO1xuICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmluaXRGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIGluaXRGcmFtZWJ1ZmZlciAoZnJhbWVidWZmZXIpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIC8vIFRPRE8gLSBtYWtlIHRoaXMgYSBjbGFzcz9cbiAgICAgICAgdmFyIGZibyA9IHtcbiAgICAgICAgICAgIGZyYW1lYnVmZmVyOiBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpLFxuICAgICAgICAgICAgc3RlbmNpbDogbnVsbCxcbiAgICAgICAgICAgIGRpcnR5SWQ6IDAsXG4gICAgICAgICAgICBkaXJ0eUZvcm1hdDogMCxcbiAgICAgICAgICAgIGRpcnR5U2l6ZTogMCxcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGZibztcblxuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMucHVzaChmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBmYm87XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gcmVzaXplRnJhbWVidWZmZXIgKGZyYW1lYnVmZmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcblxuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKGZiby5zdGVuY2lsKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbG9yVGV4dHVyZXMgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoY29sb3JUZXh0dXJlc1tpXSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUsIDApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gdXBkYXRlRnJhbWVidWZmZXIgKGZyYW1lYnVmZmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcblxuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgLy8gYmluZCB0aGUgY29sb3IgdGV4dHVyZVxuICAgICAgICB2YXIgY29sb3JUZXh0dXJlcyA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXM7XG5cbiAgICAgICAgdmFyIGNvdW50ID0gY29sb3JUZXh0dXJlcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKCFnbC5kcmF3QnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgY291bnQgPSBNYXRoLm1pbihjb3VudCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aXZlVGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmUudGV4dHVyZVBhcnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQodGV4dHVyZS50ZXh0dXJlLCAwKTtcblxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLFxuICAgICAgICAgICAgICAgICAgICBnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGksXG4gICAgICAgICAgICAgICAgICAgIGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCArIHRleHR1cmUuc2lkZSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleHR1cmUsIDApO1xuXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgICAgICAgICAgIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSxcbiAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWN0aXZlVGV4dHVyZXMucHVzaChnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFjdGl2ZVRleHR1cmVzLmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB3cml0ZURlcHRoVGV4dHVyZSA9IHRoaXMud3JpdGVEZXB0aFRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmICh3cml0ZURlcHRoVGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVwdGhUZXh0dXJlID0gZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoZGVwdGhUZXh0dXJlLCAwKTtcblxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLFxuICAgICAgICAgICAgICAgICAgICBnbC5ERVBUSF9BVFRBQ0hNRU5ULFxuICAgICAgICAgICAgICAgICAgICBnbC5URVhUVVJFXzJELFxuICAgICAgICAgICAgICAgICAgICBkZXB0aFRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZiby5zdGVuY2lsICYmIChmcmFtZWJ1ZmZlci5zdGVuY2lsIHx8IGZyYW1lYnVmZmVyLmRlcHRoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZmJvLnN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcblxuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcblxuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgLy8gVE9ETy4uIHRoaXMgaXMgZGVwdGggQU5EIHN0ZW5jaWw/XG4gICAgICAgICAgICBpZiAoIWZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSlcbiAgICAgICAgICAgIHsgLy8geW91IGNhbid0IGhhdmUgYm90aCwgc28gb25lIHNob3VsZCB0YWtlIHByaW9yaXR5IGlmIGVuYWJsZWRcbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBmcmFtZWJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXIgZnJhbWVidWZmZXIgdGhhdCBoYXMgdG8gYmUgZGlzcG9zZWQgb2ZcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYWxsIGRlbGV0ZSBmdW5jdGlvbiBjYWxsc1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlRnJhbWVidWZmZXIgPSBmdW5jdGlvbiBkaXNwb3NlRnJhbWVidWZmZXIgKGZyYW1lYnVmZmVyLCBjb250ZXh0TG9zdClcbiAgICB7XG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICBpZiAoIWZibylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5pbmRleE9mKGZyYW1lYnVmZmVyKTtcblxuICAgICAgICBpZiAoaW5kZXggPj0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBmcmFtZWJ1ZmZlci5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcblxuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgaWYgKGZiby5zdGVuY2lsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcihmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgYWxsIGZyYW1lYnVmZmVycywgYnV0IG5vdCB0ZXh0dXJlcyBib3VuZCB0byB0aGVtXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGFsbCBkZWxldGUgZnVuY3Rpb24gY2FsbHNcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUFsbCA9IGZ1bmN0aW9uIGRpc3Bvc2VBbGwgKGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgdmFyIGxpc3QgPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnM7XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VGcmFtZWJ1ZmZlcihsaXN0W2ldLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRm9yY2luZyBjcmVhdGlvbiBvZiBzdGVuY2lsIGJ1ZmZlciBmb3IgY3VycmVudCBmcmFtZWJ1ZmZlciwgaWYgaXQgd2Fzbid0IGRvbmUgYmVmb3JlLlxuICAgICAqIFVzZWQgYnkgTWFza1N5c3RlbSwgd2hlbiBpdHMgdGltZSB0byB1c2Ugc3RlbmNpbCBtYXNrIGZvciBHcmFwaGljcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogSXRzIGFuIGFsdGVybmF0aXZlIGZvciBwdWJsaWMgbGF6eSBgZnJhbWVidWZmZXIuZW5hYmxlU3RlbmNpbGAsIGluIGNhc2Ugd2UgbmVlZCBzdGVuY2lsIHdpdGhvdXQgcmViaW5kLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZm9yY2VTdGVuY2lsID0gZnVuY3Rpb24gZm9yY2VTdGVuY2lsICgpXG4gICAge1xuICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSB0aGlzLmN1cnJlbnQ7XG5cbiAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZmJvIHx8IGZiby5zdGVuY2lsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWVidWZmZXIuZW5hYmxlU3RlbmNpbCgpO1xuXG4gICAgICAgIHZhciB3ID0gZnJhbWVidWZmZXIud2lkdGg7XG4gICAgICAgIHZhciBoID0gZnJhbWVidWZmZXIuaGVpZ2h0O1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgc3RlbmNpbCA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuXG4gICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBzdGVuY2lsKTtcbiAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIHcsIGgpO1xuXG4gICAgICAgIGZiby5zdGVuY2lsID0gc3RlbmNpbDtcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCBzdGVuY2lsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmVzZXRzIGZyYW1lYnVmZmVyIHN0b3JlZCBzdGF0ZSwgYmluZHMgc2NyZWVuIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSByZW5kZXJUZXh0dXJlIHJlc2V0KClcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy51bmtub3duRnJhbWVidWZmZXI7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEZyYW1lYnVmZmVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxudmFyIEdMQnVmZmVyID0gZnVuY3Rpb24gR0xCdWZmZXIoYnVmZmVyKVxue1xuICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgIHRoaXMudXBkYXRlSUQgPSAtMTtcbiAgICB0aGlzLmJ5dGVMZW5ndGggPSAtMTtcbiAgICB0aGlzLnJlZkNvdW50ID0gMDtcbn07XG5cbnZhciBieXRlU2l6ZU1hcCQxID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIEdlb21ldHJ5U3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gR2VvbWV0cnlTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgd2UgaGFzIGAqX3ZlcnRleF9hcnJheV9vYmplY3RgIGV4dGVuc2lvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzVmFvID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIGhhcyBgQU5HTEVfaW5zdGFuY2VkX2FycmF5c2AgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYXNJbnN0YW5jZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBzdXBwb3J0IGBnbC5VTlNJR05FRF9JTlRgIGluIGBnbC5kcmF3RWxlbWVudHNgIG9yIGBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWRgXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYWNoZSBvZiBjdXJyZW50bHkgYm91bmQgYnVmZmVyLFxuICAgICAgICAgKiBjb250YWlucyBvbmx5IHR3byBtZW1iZXJzIHdpdGgga2V5cyBBUlJBWV9CVUZGRVIgYW5kIEVMRU1FTlRfQVJSQVlfQlVGRkVSXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48bnVtYmVyLCBQSVhJLkJ1ZmZlcj59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ib3VuZEJ1ZmZlcnMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgZm9yIGFsbCBnZW9tZXRyaWVzIGJ5IGlkLCB1c2VkIGluIGNhc2UgcmVuZGVyZXIgZ2V0cyBkZXN0cm95ZWQgb3IgZm9yIHByb2ZpbGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkR2VvbWV0cmllcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBmb3IgYWxsIGJ1ZmZlcnMgYnkgaWQsIHVzZWQgaW4gY2FzZSByZW5kZXJlciBnZXRzIGRlc3Ryb3llZCBvciBmb3IgcHJvZmlsaW5nXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hbmFnZWRCdWZmZXJzID0ge307XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBHZW9tZXRyeVN5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW07XG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW9tZXRyeVN5c3RlbTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlQWxsKHRydWUpO1xuXG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMucmVuZGVyZXIuY29udGV4dDtcblxuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcblxuICAgICAgICAvLyB3ZWJnbDJcbiAgICAgICAgaWYgKCFnbC5jcmVhdGVWZXJ0ZXhBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2ViZ2wgMSFcbiAgICAgICAgICAgIHZhciBuYXRpdmVWYW9FeHRlbnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy52ZXJ0ZXhBcnJheU9iamVjdDtcblxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmF0aXZlVmFvRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5hdGl2ZVZhb0V4dGVuc2lvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5jcmVhdGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbi5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpOyB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gZnVuY3Rpb24gKHZhbykgeyByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyh2YW8pOyB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAodmFvKSB7IHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb24uZGVsZXRlVmVydGV4QXJyYXlPRVModmFvKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1ZhbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWdsLnZlcnRleEF0dHJpYkRpdmlzb3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZUV4dCA9IGdsLmdldEV4dGVuc2lvbignQU5HTEVfaW5zdGFuY2VkX2FycmF5cycpO1xuXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2VFeHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvciA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBpbnN0YW5jZUV4dC52ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUoYSwgYik7IH07XG5cbiAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkgeyByZXR1cm4gaW5zdGFuY2VFeHQuZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCwgZSk7IH07XG5cbiAgICAgICAgICAgICAgICBnbC5kcmF3QXJyYXlzSW5zdGFuY2VkID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsgcmV0dXJuIGluc3RhbmNlRXh0LmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0luc3RhbmNlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCA9IGNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyIHx8ICEhY29udGV4dC5leHRlbnNpb25zLnVpbnQzMkVsZW1lbnRJbmRleDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgZ2VvbWV0cnkgc28gdGhhdCBpcyBjYW4gYmUgZHJhd24uIENyZWF0aW5nIGEgVmFvIGlmIHJlcXVpcmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IGluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIGJpbmRcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBbc2hhZGVyXSBpbnN0YW5jZSBvZiBzaGFkZXIgdG8gdXNlIHZhbyBmb3JcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKGdlb21ldHJ5LCBzaGFkZXIpXG4gICAge1xuICAgICAgICBzaGFkZXIgPSBzaGFkZXIgfHwgdGhpcy5yZW5kZXJlci5zaGFkZXIuc2hhZGVyO1xuXG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgLy8gbm90IHN1cmUgdGhlIGJlc3Qgd2F5IHRvIGFkZHJlc3MgdGhpcy4uXG4gICAgICAgIC8vIGN1cnJlbnRseSBkaWZmZXJlbnQgc2hhZGVycyByZXF1aXJlIGRpZmZlcmVudCBWQU9zIGZvciB0aGUgc2FtZSBnZW9tZXRyeVxuICAgICAgICAvLyBTdGlsbCBtdWxsaW5nIG92ZXIgdGhlIGJlc3Qgd2F5IHRvIHNvbHZlIHRoaXMgb25lLi5cbiAgICAgICAgLy8gd2lsbCBsaWtlbHkgbmVlZCB0byBtb2RpZnkgdGhlIHNoYWRlciBhdHRyaWJ1dGUgbG9jYXRpb25zIGF0IHJ1biB0aW1lIVxuICAgICAgICB2YXIgdmFvcyA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghdmFvcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF0gPSBnZW9tZXRyeTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgICAgICAgZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF0gPSB2YW9zID0ge307XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdmFvID0gdmFvc1tzaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5pbml0R2VvbWV0cnlWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVHZW9tZXRyeSA9IGdlb21ldHJ5O1xuXG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVWYW8gIT09IHZhbylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gdmFvO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5oYXNWYW8pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5KHZhbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZhbyhnZW9tZXRyeSwgc2hhZGVyLnByb2dyYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyAtIG9wdGltaXNlIGxhdGVyIVxuICAgICAgICAvLyBkb24ndCBuZWVkIHRvIGxvb3AgdGhyb3VnaCBpZiBub3RoaW5nIGNoYW5nZWQhXG4gICAgICAgIC8vIG1heWJlIGxvb2sgdG8gYWRkIGFuICdhdXRvdXBkYXRlJyB0byBnZW9tZXRyeT9cbiAgICAgICAgdGhpcy51cGRhdGVCdWZmZXJzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0IGFuZCB1bmJpbmQgYW55IGFjdGl2ZSBWQU8gYW5kIGdlb21ldHJ5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBidWZmZXJzXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS51cGRhdGVCdWZmZXJzID0gZnVuY3Rpb24gdXBkYXRlQnVmZmVycyAoKVxuICAgIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1tpXTtcblxuICAgICAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgICAgIGlmIChidWZmZXIuX3VwZGF0ZUlEICE9PSBnbEJ1ZmZlci51cGRhdGVJRClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbEJ1ZmZlci51cGRhdGVJRCA9IGJ1ZmZlci5fdXBkYXRlSUQ7XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIGNhbiBjYWNoZSB0aGlzIG9uIGJ1ZmZlciEgbWF5YmUgYWRkZWQgYSBnZXR0ZXIgLyBzZXR0ZXI/XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBidWZmZXIuaW5kZXggPyBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiA6IGdsLkFSUkFZX0JVRkZFUjtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBjb3VsZCBjaGFuZ2UgaWYgdGhlIFZBTyBjaGFuZ2VzLi4uXG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byBjb21lIHVwIHdpdGggYSBiZXR0ZXIgd2F5IHRvIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyBpZiAodGhpcy5ib3VuZEJ1ZmZlcnNbdHlwZV0gIT09IGdsQnVmZmVyKVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmJvdW5kQnVmZmVyc1t0eXBlXSA9IGdsQnVmZmVyO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIodHlwZSwgZ2xCdWZmZXIuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZEJ1ZmZlciA9IGdsQnVmZmVyO1xuXG4gICAgICAgICAgICAgICAgaWYgKGdsQnVmZmVyLmJ5dGVMZW5ndGggPj0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldCBpcyBhbHdheXMgemVybyBmb3Igbm93IVxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJTdWJEYXRhKHR5cGUsIDAsIGJ1ZmZlci5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyYXdUeXBlID0gYnVmZmVyLnN0YXRpYyA/IGdsLlNUQVRJQ19EUkFXIDogZ2wuRFlOQU1JQ19EUkFXO1xuXG4gICAgICAgICAgICAgICAgICAgIGdsQnVmZmVyLmJ5dGVMZW5ndGggPSBidWZmZXIuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKHR5cGUsIGJ1ZmZlci5kYXRhLCBkcmF3VHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGNvbXBhYmlsaXR5IGJldHdlZW4gYSBnZW9tZXRyeSBhbmQgYSBwcm9ncmFtXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBHZW9tZXRyeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gUHJvZ3JhbSBpbnN0YW5jZVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5jaGVja0NvbXBhdGliaWxpdHkgPSBmdW5jdGlvbiBjaGVja0NvbXBhdGliaWxpdHkgKGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgLy8gZ2VvbWV0cnkgbXVzdCBoYXZlIGF0IGxlYXN0IGFsbCB0aGUgYXR0cmlidXRlcyB0aGF0IHRoZSBzaGFkZXIgcmVxdWlyZXMuXG4gICAgICAgIHZhciBnZW9tZXRyeUF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICB2YXIgc2hhZGVyQXR0cmlidXRlcyA9IHByb2dyYW0uYXR0cmlidXRlRGF0YTtcblxuICAgICAgICBmb3IgKHZhciBqIGluIHNoYWRlckF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghZ2VvbWV0cnlBdHRyaWJ1dGVzW2pdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJzaGFkZXIgYW5kIGdlb21ldHJ5IGluY29tcGF0aWJsZSwgZ2VvbWV0cnkgbWlzc2luZyB0aGUgXFxcIlwiICsgaiArIFwiXFxcIiBhdHRyaWJ1dGVcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgZ2VvbWV0cnkgYW5kIHByb2dyYW0gYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IHRvIGdldCBzaWduYXR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIHRvIHRlc3QgZ2VvbWV0cnkgYWdhaW5zdFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFVuaXF1ZSBzaWduYXR1cmUgb2YgdGhlIGdlb21ldHJ5IGFuZCBwcm9ncmFtXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5nZXRTaWduYXR1cmUgPSBmdW5jdGlvbiBnZXRTaWduYXR1cmUgKGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYnMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICB2YXIgc2hhZGVyQXR0cmlidXRlcyA9IHByb2dyYW0uYXR0cmlidXRlRGF0YTtcblxuICAgICAgICB2YXIgc3RyaW5ncyA9IFsnZycsIGdlb21ldHJ5LmlkXTtcblxuICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJpYnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzaGFkZXJBdHRyaWJ1dGVzW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZ3MucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvciBnZXRzIFZhbyB3aXRoIHRoZSBzYW1lIHN0cnVjdHVyZSBhcyB0aGUgZ2VvbWV0cnkgYW5kIHN0b3JlcyBpdCBvbiB0aGUgZ2VvbWV0cnkuXG4gICAgICogSWYgdmFvIGlzIGNyZWF0ZWQsIGl0IGlzIGJvdW5kIGF1dG9tYXRpY2FsbHkuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIHRvIGdlbmVyYXRlIFZhbyBmb3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIEluc3RhbmNlIG9mIHByb2dyYW1cbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuaW5pdEdlb21ldHJ5VmFvID0gZnVuY3Rpb24gaW5pdEdlb21ldHJ5VmFvIChnZW9tZXRyeSwgcHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIHRoaXMuY2hlY2tDb21wYXRpYmlsaXR5KGdlb21ldHJ5LCBwcm9ncmFtKTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuXG4gICAgICAgIHZhciBzaWduYXR1cmUgPSB0aGlzLmdldFNpZ25hdHVyZShnZW9tZXRyeSwgcHJvZ3JhbSk7XG5cbiAgICAgICAgdmFyIHZhb09iamVjdEhhc2ggPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICB2YXIgdmFvID0gdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdO1xuXG4gICAgICAgIGlmICh2YW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBnaXZlIHVzIGVhc3kgYWNjZXNzIHRvIHRoZSB2YW9cbiAgICAgICAgICAgIHZhb09iamVjdEhhc2hbcHJvZ3JhbS5pZF0gPSB2YW87XG5cbiAgICAgICAgICAgIHJldHVybiB2YW87XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHRlbXBTdHJpZGUgPSB7fTtcbiAgICAgICAgdmFyIHRlbXBTdGFydCA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGogaW4gYnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcFN0cmlkZVtqXSA9IDA7XG4gICAgICAgICAgICB0ZW1wU3RhcnRbal0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaiQxIGluIGF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYXR0cmlidXRlc1tqJDFdLnNpemUgJiYgcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2okMV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1tqJDFdLnNpemUgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbaiQxXS5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWF0dHJpYnV0ZXNbaiQxXS5zaXplKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigoXCJQSVhJIEdlb21ldHJ5IGF0dHJpYnV0ZSAnXCIgKyBqJDEgKyBcIicgc2l6ZSBjYW5ub3QgYmUgZGV0ZXJtaW5lZCAobGlrZWx5IHRoZSBib3VuZCBzaGFkZXIgZG9lcyBub3QgaGF2ZSB0aGUgYXR0cmlidXRlKVwiKSk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRlbXBTdHJpZGVbYXR0cmlidXRlc1tqJDFdLmJ1ZmZlcl0gKz0gYXR0cmlidXRlc1tqJDFdLnNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZXNbaiQxXS50eXBlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGokMiBpbiBhdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqJDJdO1xuICAgICAgICAgICAgdmFyIGF0dHJpYlNpemUgPSBhdHRyaWJ1dGUuc2l6ZTtcblxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5zdHJpZGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXSA9PT0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlLnR5cGVdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0cmlkZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSB0ZW1wU3RyaWRlW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5zdGFydCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdGFydCA9IHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyXTtcblxuICAgICAgICAgICAgICAgIHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyXSArPSBhdHRyaWJTaXplICogYnl0ZVNpemVNYXAkMVthdHRyaWJ1dGUudHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YW8gPSBnbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO1xuXG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuXG4gICAgICAgIC8vIGZpcnN0IHVwZGF0ZSAtIGFuZCBjcmVhdGUgdGhlIGJ1ZmZlcnMhXG4gICAgICAgIC8vIG9ubHkgY3JlYXRlIGEgZ2wgYnVmZmVyIGlmIGl0IGFjdHVhbGx5IGdldHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdID0gbmV3IEdMQnVmZmVyKGdsLmNyZWF0ZUJ1ZmZlcigpKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF0gPSBidWZmZXI7XG4gICAgICAgICAgICAgICAgYnVmZmVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0ucmVmQ291bnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gLSBtYXliZSBtYWtlIHRoaXMgYSBkYXRhIG9iamVjdD9cbiAgICAgICAgLy8gbGV0cyB3YWl0IHRvIHNlZSBpZiB3ZSBuZWVkIHRvIGZpcnN0IVxuXG4gICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHByb2dyYW0pO1xuXG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcblxuICAgICAgICAvLyBhZGQgaXQgdG8gdGhlIGNhY2hlIVxuICAgICAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuICAgICAgICB2YW9PYmplY3RIYXNoW3NpZ25hdHVyZV0gPSB2YW87XG5cbiAgICAgICAgcmV0dXJuIHZhbztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gYnVmZmVyIGJ1ZmZlciB3aXRoIGRhdGFcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUJ1ZmZlciA9IGZ1bmN0aW9uIGRpc3Bvc2VCdWZmZXIgKGJ1ZmZlciwgY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXTtcblxuICAgICAgICB2YXIgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICBidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG5cbiAgICAgICAgaWYgKCFnbEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGdlb21ldHJ5XG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSBHZW9tZXRyeSB3aXRoIGJ1ZmZlcnMuIE9ubHkgVkFPIHdpbGwgYmUgZGlzcG9zZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUdlb21ldHJ5ID0gZnVuY3Rpb24gZGlzcG9zZUdlb21ldHJ5IChnZW9tZXRyeSwgY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF07XG5cbiAgICAgICAgdmFyIHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuXG4gICAgICAgIGdlb21ldHJ5LmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuXG4gICAgICAgIGlmICghdmFvcylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYnVmID0gYnVmZmVyc1tpXS5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBidWYucmVmQ291bnQtLTtcbiAgICAgICAgICAgIGlmIChidWYucmVmQ291bnQgPT09IDAgJiYgIWNvbnRleHRMb3N0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZUJ1ZmZlcihidWZmZXJzW2ldLCBjb250ZXh0TG9zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciB2YW9JZCBpbiB2YW9zKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBvbmx5IHNpZ25hdHVyZXMsIGV2ZXJ5dGhpbmcgZWxzZSBhcmUgY29waWVzXG4gICAgICAgICAgICAgICAgaWYgKHZhb0lkWzBdID09PSAnZycpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFvID0gdmFvc1t2YW9JZF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyA9PT0gdmFvKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5KHZhbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBkaXNwb3NlIGFsbCBXZWJHTCByZXNvdXJjZXMgb2YgYWxsIG1hbmFnZWQgZ2VvbWV0cmllcyBhbmQgYnVmZmVyc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBgZ2wuZGVsZXRlYCBjYWxsc1xuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlQWxsID0gZnVuY3Rpb24gZGlzcG9zZUFsbCAoY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICB2YXIgYWxsID0gT2JqZWN0LmtleXModGhpcy5tYW5hZ2VkR2VvbWV0cmllcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGwubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUdlb21ldHJ5KHRoaXMubWFuYWdlZEdlb21ldHJpZXNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgICAgIGFsbCA9IE9iamVjdC5rZXlzKHRoaXMubWFuYWdlZEJ1ZmZlcnMpO1xuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBhbGwubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlQnVmZmVyKHRoaXMubWFuYWdlZEJ1ZmZlcnNbYWxsW2kkMV1dLCBjb250ZXh0TG9zdCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGUgdmVydGV4IGFycmF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBHZW9tZXRyeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gU2hhZGVyIHByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuYWN0aXZhdGVWYW8gPSBmdW5jdGlvbiBhY3RpdmF0ZVZhbyAoZ2VvbWV0cnksIHByb2dyYW0pXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuICAgICAgICB2YXIgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcblxuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IHVwZGF0ZSB0aGUgaW5kZXggYnVmZmVyIGlmIHdlIGhhdmUgb25lLi5cbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGdlb21ldHJ5LmluZGV4QnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLmJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdEJ1ZmZlciA9IG51bGw7XG5cbiAgICAgICAgLy8gYWRkIGEgbmV3IG9uZSFcbiAgICAgICAgZm9yICh2YXIgaiBpbiBhdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAocHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0QnVmZmVyICE9PSBnbEJ1ZmZlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBnbEJ1ZmZlci5idWZmZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxhc3RCdWZmZXIgPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0ubG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIGludHJvZHVjZSBzdGF0ZSBhZ2FpblxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGZvciBvbGRlciBkZXZpY2VzIHRoYXQgaGF2ZSBubyBWQU9zXG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xuXG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnNpemUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS50eXBlIHx8IGdsLkZMT0FULFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUubm9ybWFsaXplZCxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0cmlkZSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0YXJ0KTtcblxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGNhbGN1bGF0ZSBpbnN0YW5jZSBjb3VudCBiYXNlZCBvZiB0aGlzLi4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0luc3RhbmNlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGxvY2F0aW9uLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2VvbWV0cnkgZXJyb3IsIEdQVSBJbnN0YW5jaW5nIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3IHRoZSBnZW9tZXRyeVxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgLSB0aGUgdHlwZSBwcmltaXRpdmUgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzaXplXSAtIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gYmUgcmVuZGVyZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0XSAtIFN0YXJ0aW5nIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbnN0YW5jZUNvdW50XSAtIHRoZSBudW1iZXIgb2YgaW5zdGFuY2VzIG9mIHRoZSBzZXQgb2YgZWxlbWVudHMgdG8gZXhlY3V0ZVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gZHJhdyAodHlwZSwgc2l6ZSwgc3RhcnQsIGluc3RhbmNlQ291bnQpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9hY3RpdmVHZW9tZXRyeTtcblxuICAgICAgICAvLyBUT0RPLi4gdGhpcyBzaG91bGQgbm90IGNoYW5nZSBzbyBtYXliZSBjYWNoZSB0aGUgZnVuY3Rpb24/XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYnl0ZVNpemUgPSBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgICAgICAgICAgdmFyIGdsVHlwZSA9IGJ5dGVTaXplID09PSAyID8gZ2wuVU5TSUdORURfU0hPUlQgOiBnbC5VTlNJR05FRF9JTlQ7XG5cbiAgICAgICAgICAgIGlmIChieXRlU2l6ZSA9PT0gMiB8fCAoYnl0ZVNpemUgPT09IDQgJiYgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZCh0eXBlLCBzaXplIHx8IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbFR5cGUsIChzdGFydCB8fCAwKSAqIGJ5dGVTaXplLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3Vuc3VwcG9ydGVkIGluZGV4IGJ1ZmZlciB0eXBlOiB1aW50MzInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gbmVlZCBhIGJldHRlciB3YXkgdG8gY2FsY3VsYXRlIHNpemUuLlxuICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCksIGluc3RhbmNlQ291bnQgfHwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKHR5cGUsIHN0YXJ0LCBzaXplIHx8IGdlb21ldHJ5LmdldFNpemUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVW5iaW5kL3Jlc2V0IGV2ZXJ5dGhpbmdcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIHVuYmluZCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5iaW5kVmVydGV4QXJyYXkobnVsbCk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEdlb21ldHJ5U3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBDb21wb25lbnQgZm9yIG1hc2tlZCBlbGVtZW50c1xuICpcbiAqIEhvbGRzIG1hc2sgbW9kZSBhbmQgdGVtcG9yYXJ5IGRhdGEgYWJvdXQgY3VycmVudCBtYXNrXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWFza0RhdGEgPSBmdW5jdGlvbiBNYXNrRGF0YShtYXNrT2JqZWN0KVxue1xuICAgIC8qKlxuICAgICAqIE1hc2sgdHlwZVxuICAgICAqIEBtZW1iZXIge1BJWEkuTUFTS19UWVBFU31cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBNQVNLX1RZUEVTLk5PTkU7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHdlIGtub3cgdGhlIG1hc2sgdHlwZSBiZWZvcmVoYW5kXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgdGhpcy5hdXRvRGV0ZWN0ID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoaWNoIGVsZW1lbnQgd2UgdXNlIHRvIG1hc2tcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5tYXNrT2JqZWN0ID0gbWFza09iamVjdCB8fCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBpdCBiZWxvbmdzIHRvIE1hc2tTeXN0ZW0gcG9vbFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5wb29sZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRvciBvZiB0aGUgdHlwZVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pc01hc2tEYXRhID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFN0ZW5jaWwgY291bnRlciBhYm92ZSB0aGUgbWFzayBpbiBzdGFja1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3N0ZW5jaWxDb3VudGVyID0gMDtcbiAgICAvKipcbiAgICAgKiBTY2lzc29yIGNvdW50ZXIgYWJvdmUgdGhlIG1hc2sgaW4gc3RhY2tcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBTY2lzc29yIG9wZXJhdGlvbiBhYm92ZSB0aGUgbWFzayBpbiBzdGFjay5cbiAgICAgKiBOdWxsIGlmIF9zY2lzc29yQ291bnRlciBpcyB6ZXJvLCByZWN0YW5nbGUgaW5zdGFuY2UgaWYgcG9zaXRpdmUuXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICovXG4gICAgdGhpcy5fc2Npc3NvclJlY3QgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGFyZ2V0ZWQgZWxlbWVudC4gVGVtcG9yYXJ5IHZhcmlhYmxlIHNldCBieSBNYXNrU3lzdGVtXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbn07XG5cbi8qKlxuICogcmVzZXRzIHRoZSBtYXNrIGRhdGEgYWZ0ZXIgcG9wTWFzaygpXG4gKi9cbk1hc2tEYXRhLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG57XG4gICAgaWYgKHRoaXMucG9vbGVkKVxuICAgIHtcbiAgICAgICAgdGhpcy5tYXNrT2JqZWN0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnR5cGUgPSBNQVNLX1RZUEVTLk5PTkU7XG5cbiAgICAgICAgdGhpcy5hdXRvRGV0ZWN0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBjb3BpZXMgY291bnRlcnMgZnJvbSBtYXNrRGF0YSBhYm92ZSwgY2FsbGVkIGZyb20gcHVzaE1hc2soKVxuICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfG51bGx9IG1hc2tBYm92ZVxuICovXG5NYXNrRGF0YS5wcm90b3R5cGUuY29weUNvdW50ZXJzT3JSZXNldCA9IGZ1bmN0aW9uIGNvcHlDb3VudGVyc09yUmVzZXQgKG1hc2tBYm92ZSlcbntcbiAgICBpZiAobWFza0Fib3ZlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3RlbmNpbENvdW50ZXIgPSBtYXNrQWJvdmUuX3N0ZW5jaWxDb3VudGVyO1xuICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IG1hc2tBYm92ZS5fc2Npc3NvckNvdW50ZXI7XG4gICAgICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbWFza0Fib3ZlLl9zY2lzc29yUmVjdDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3RlbmNpbENvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLl9zY2lzc29yQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuX3NjaXNzb3JSZWN0ID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIEBtZXRob2QgY29tcGlsZVByb2dyYW1cbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBmcmFnbWVudFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0aW9ucyB7T2JqZWN0fSBBbiBhdHRyaWJ1dGUgbG9jYXRpb24gbWFwIHRoYXQgbGV0cyB5b3UgbWFudWFsbHkgc2V0IHRoZSBhdHRyaWJ1dGUgbG9jYXRpb25zXG4gKiBAcmV0dXJuIHtXZWJHTFByb2dyYW19IHRoZSBzaGFkZXIgcHJvZ3JhbVxuICovXG5mdW5jdGlvbiBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgYXR0cmlidXRlTG9jYXRpb25zKVxue1xuICAgIHZhciBnbFZlcnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTcmMpO1xuICAgIHZhciBnbEZyYWdTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U3JjKTtcblxuICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsVmVydFNoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsRnJhZ1NoYWRlcik7XG5cbiAgICAvLyBvcHRpb25hbGx5LCBzZXQgdGhlIGF0dHJpYnV0ZXMgbWFudWFsbHkgZm9yIHRoZSBwcm9ncmFtIHJhdGhlciB0aGFuIGxldHRpbmcgV2ViR0wgZGVjaWRlLi5cbiAgICBpZiAoYXR0cmlidXRlTG9jYXRpb25zKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBhdHRyaWJ1dGVMb2NhdGlvbnNbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG5cbiAgICAvLyBpZiBsaW5raW5nIGZhaWxzLCB0aGVuIGxvZyBhbmQgY2xlYW51cFxuICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQaXhpLmpzIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLlZBTElEQVRFX1NUQVRVUycsIGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuVkFMSURBVEVfU1RBVFVTKSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLmdldEVycm9yKCknLCBnbC5nZXRFcnJvcigpKTtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHByb2dyYW0gaW5mbyBsb2csIGxvZyBpdFxuICAgICAgICBpZiAoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkgIT09ICcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGkuanMgV2FybmluZzogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKScsIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHByb2dyYW0gPSBudWxsO1xuICAgIH1cblxuICAgIC8vIGNsZWFuIHVwIHNvbWUgc2hhZGVyc1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbEZyYWdTaGFkZXIpO1xuXG4gICAgcmV0dXJuIHByb2dyYW07XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdHlwZSB7TnVtYmVyfSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEByZXR1cm4ge1dlYkdMU2hhZGVyfSB0aGUgc2hhZGVyXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2wsIHR5cGUsIHNyYylcbntcbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuXG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3JjKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybihzcmMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cblxuLyoqXG4gKiBAbWV0aG9kIGRlZmF1bHRWYWx1ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ30gVHlwZSBvZiB2YWx1ZVxuICogQHBhcmFtIHNpemUge051bWJlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRWYWx1ZSh0eXBlLCBzaXplKVxue1xuICAgIHN3aXRjaCAodHlwZSlcbiAgICB7XG4gICAgICAgIGNhc2UgJ2Zsb2F0JzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyRCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyREFycmF5JzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaXZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpdmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2Jvb2wnOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWMyJzpcblxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYnZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYnZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnbWF0Mic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAxXSk7XG5cbiAgICAgICAgY2FzZSAnbWF0Myc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDFdKTtcblxuICAgICAgICBjYXNlICdtYXQ0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAwLCAxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGJvb2xlYW5BcnJheShzaXplKVxue1xuICAgIHZhciBhcnJheSA9IG5ldyBBcnJheShzaXplKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBhcnJheVtpXSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn1cblxudmFyIHVua25vd25Db250ZXh0ID0ge307XG52YXIgY29udGV4dCA9IHVua25vd25Db250ZXh0O1xuXG4vKipcbiAqIHJldHVybnMgYSBsaXR0bGUgV2ViR0wgY29udGV4dCB0byB1c2UgZm9yIHByb2dyYW0gaW5zcGVjdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gYSBnbCBjb250ZXh0IHRvIHRlc3Qgd2l0aFxuICovXG5mdW5jdGlvbiBnZXRUZXN0Q29udGV4dCgpXG57XG4gICAgaWYgKGNvbnRleHQgPT09IHVua25vd25Db250ZXh0IHx8IChjb250ZXh0ICYmIGNvbnRleHQuaXNDb250ZXh0TG9zdCgpKSlcbiAgICB7XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICB2YXIgZ2w7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMilcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywge30pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFnbClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCB7fSlcbiAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCB7fSk7XG5cbiAgICAgICAgICAgIGlmICghZ2wpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICAgICAgICAgIGdsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBmb3Igc2hhZGVyIHRlc3RpbmcuLlxuICAgICAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfZHJhd19idWZmZXJzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0ID0gZ2w7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbnZhciBtYXhGcmFnbWVudFByZWNpc2lvbjtcblxuZnVuY3Rpb24gZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24oKVxue1xuICAgIGlmICghbWF4RnJhZ21lbnRQcmVjaXNpb24pXG4gICAge1xuICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICAgIHZhciBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG5cbiAgICAgICAgaWYgKGdsKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBzaGFkZXJGcmFnbWVudCA9IGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbC5GUkFHTUVOVF9TSEFERVIsIGdsLkhJR0hfRkxPQVQpO1xuXG4gICAgICAgICAgICAgICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBzaGFkZXJGcmFnbWVudC5wcmVjaXNpb24gPyBQUkVDSVNJT04uSElHSCA6IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF4RnJhZ21lbnRQcmVjaXNpb247XG59XG5cbi8qKlxuICogU2V0cyB0aGUgZmxvYXQgcHJlY2lzaW9uIG9uIHRoZSBzaGFkZXIsIGVuc3VyaW5nIHRoZSBkZXZpY2Ugc3VwcG9ydHMgdGhlIHJlcXVlc3QgcHJlY2lzaW9uLlxuICogSWYgdGhlIHByZWNpc2lvbiBpcyBhbHJlYWR5IHByZXNlbnQsIGl0IGp1c3QgZW5zdXJlcyB0aGF0IHRoZSBkZXZpY2UgaXMgYWJsZSB0byBoYW5kbGUgaXQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgLSBUaGUgc2hhZGVyIHNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFByZWNpc2lvbiAtIFRoZSByZXF1ZXN0IGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICogQHBhcmFtIHtzdHJpbmd9IG1heFN1cHBvcnRlZFByZWNpc2lvbiAtIFRoZSBtYXhpbXVtIHByZWNpc2lvbiB0aGUgc2hhZGVyIHN1cHBvcnRzLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gbW9kaWZpZWQgc2hhZGVyIHNvdXJjZVxuICovXG5mdW5jdGlvbiBzZXRQcmVjaXNpb24oc3JjLCByZXF1ZXN0ZWRQcmVjaXNpb24sIG1heFN1cHBvcnRlZFByZWNpc2lvbilcbntcbiAgICBpZiAoc3JjLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpXG4gICAge1xuICAgICAgICAvLyBubyBwcmVjaXNpb24gc3VwcGxpZWQsIHNvIFBpeGlKUyB3aWxsIGFkZCB0aGUgcmVxdWVzdGVkIGxldmVsLlxuICAgICAgICB2YXIgcHJlY2lzaW9uID0gcmVxdWVzdGVkUHJlY2lzaW9uO1xuXG4gICAgICAgIC8vIElmIGhpZ2hwIGlzIHJlcXVlc3RlZCBidXQgbm90IHN1cHBvcnRlZCwgZG93bmdyYWRlIHByZWNpc2lvbiB0byBhIGxldmVsIGFsbCBkZXZpY2VzIHN1cHBvcnQuXG4gICAgICAgIGlmIChyZXF1ZXN0ZWRQcmVjaXNpb24gPT09IFBSRUNJU0lPTi5ISUdIICYmIG1heFN1cHBvcnRlZFByZWNpc2lvbiAhPT0gUFJFQ0lTSU9OLkhJR0gpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByZWNpc2lvbiA9IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFwicHJlY2lzaW9uIFwiICsgcHJlY2lzaW9uICsgXCIgZmxvYXQ7XFxuXCIgKyBzcmMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtYXhTdXBwb3J0ZWRQcmVjaXNpb24gIT09IFBSRUNJU0lPTi5ISUdIICYmIHNyYy5zdWJzdHJpbmcoMCwgMTUpID09PSAncHJlY2lzaW9uIGhpZ2hwJylcbiAgICB7XG4gICAgICAgIC8vIHByZWNpc2lvbiB3YXMgc3VwcGxpZWQsIGJ1dCBhdCBhIGxldmVsIHRoaXMgZGV2aWNlIGRvZXMgbm90IHN1cHBvcnQsIHNvIGRvd25ncmFkaW5nIHRvIG1lZGl1bXAuXG4gICAgICAgIHJldHVybiBzcmMucmVwbGFjZSgncHJlY2lzaW9uIGhpZ2hwJywgJ3ByZWNpc2lvbiBtZWRpdW1wJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn1cblxudmFyIEdMU0xfVE9fU0laRSA9IHtcbiAgICBmbG9hdDogICAgMSxcbiAgICB2ZWMyOiAgICAgMixcbiAgICB2ZWMzOiAgICAgMyxcbiAgICB2ZWM0OiAgICAgNCxcblxuICAgIGludDogICAgICAxLFxuICAgIGl2ZWMyOiAgICAyLFxuICAgIGl2ZWMzOiAgICAzLFxuICAgIGl2ZWM0OiAgICA0LFxuXG4gICAgYm9vbDogICAgIDEsXG4gICAgYnZlYzI6ICAgIDIsXG4gICAgYnZlYzM6ICAgIDMsXG4gICAgYnZlYzQ6ICAgIDQsXG5cbiAgICBtYXQyOiAgICAgNCxcbiAgICBtYXQzOiAgICAgOSxcbiAgICBtYXQ0OiAgICAgMTYsXG5cbiAgICBzYW1wbGVyMkQ6ICAxLFxufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBtYXBTaXplXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gdHlwZSB7U3RyaW5nfVxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5mdW5jdGlvbiBtYXBTaXplKHR5cGUpXG57XG4gICAgcmV0dXJuIEdMU0xfVE9fU0laRVt0eXBlXTtcbn1cblxudmFyIEdMX1RBQkxFID0gbnVsbDtcblxudmFyIEdMX1RPX0dMU0xfVFlQRVMgPSB7XG4gICAgRkxPQVQ6ICAgICAgICdmbG9hdCcsXG4gICAgRkxPQVRfVkVDMjogICd2ZWMyJyxcbiAgICBGTE9BVF9WRUMzOiAgJ3ZlYzMnLFxuICAgIEZMT0FUX1ZFQzQ6ICAndmVjNCcsXG5cbiAgICBJTlQ6ICAgICAgICAgJ2ludCcsXG4gICAgSU5UX1ZFQzI6ICAgICdpdmVjMicsXG4gICAgSU5UX1ZFQzM6ICAgICdpdmVjMycsXG4gICAgSU5UX1ZFQzQ6ICAgICdpdmVjNCcsXG5cbiAgICBCT09MOiAgICAgICAgJ2Jvb2wnLFxuICAgIEJPT0xfVkVDMjogICAnYnZlYzInLFxuICAgIEJPT0xfVkVDMzogICAnYnZlYzMnLFxuICAgIEJPT0xfVkVDNDogICAnYnZlYzQnLFxuXG4gICAgRkxPQVRfTUFUMjogICdtYXQyJyxcbiAgICBGTE9BVF9NQVQzOiAgJ21hdDMnLFxuICAgIEZMT0FUX01BVDQ6ICAnbWF0NCcsXG5cbiAgICBTQU1QTEVSXzJEOiAgJ3NhbXBsZXIyRCcsXG4gICAgU0FNUExFUl9DVUJFOiAgJ3NhbXBsZXJDdWJlJyxcbiAgICBTQU1QTEVSXzJEX0FSUkFZOiAgJ3NhbXBsZXIyREFycmF5Jyxcbn07XG5cbmZ1bmN0aW9uIG1hcFR5cGUoZ2wsIHR5cGUpXG57XG4gICAgaWYgKCFHTF9UQUJMRSlcbiAgICB7XG4gICAgICAgIHZhciB0eXBlTmFtZXMgPSBPYmplY3Qua2V5cyhHTF9UT19HTFNMX1RZUEVTKTtcblxuICAgICAgICBHTF9UQUJMRSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZU5hbWVzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdG4gPSB0eXBlTmFtZXNbaV07XG5cbiAgICAgICAgICAgIEdMX1RBQkxFW2dsW3RuXV0gPSBHTF9UT19HTFNMX1RZUEVTW3RuXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBHTF9UQUJMRVt0eXBlXTtcbn1cblxuLy8gY3YgPSBDYWNoZWRWYWx1ZVxuLy8gdiA9IHZhbHVlXG4vLyB1ZCA9IHVuaWZvcm1EYXRhXG4vLyB1diA9IHVuaWZvcm1WYWx1ZVxuLy8gbCA9IGxvY2F0aW9uXG52YXIgR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQgPSB7XG5cbiAgICBmbG9hdDogXCJcXG4gICAgaWYoY3YgIT09IHYpXFxuICAgIHtcXG4gICAgICAgIGN2LnYgPSB2O1xcbiAgICAgICAgZ2wudW5pZm9ybTFmKGxvY2F0aW9uLCB2KVxcbiAgICB9XCIsXG5cbiAgICB2ZWMyOiBcIlxcbiAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcXG4gICAge1xcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgZ2wudW5pZm9ybTJmKGxvY2F0aW9uLCB2WzBdLCB2WzFdKVxcbiAgICB9XCIsXG5cbiAgICB2ZWMzOiBcIlxcbiAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSlcXG4gICAge1xcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgY3ZbMl0gPSB2WzJdO1xcblxcbiAgICAgICAgZ2wudW5pZm9ybTNmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKVxcbiAgICB9XCIsXG5cbiAgICB2ZWM0OiAgICAgJ2dsLnVuaWZvcm00Zihsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuXG4gICAgaW50OiAgICAgICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBpdmVjMjogICAgJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGl2ZWMzOiAgICAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgaXZlYzQ6ICAgICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcblxuICAgIGJvb2w6ICAgICAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzI6ICAgICdnbC51bmlmb3JtMmkobG9jYXRpb24sIHZbMF0sIHZbMV0pJyxcbiAgICBidmVjMzogICAgJ2dsLnVuaWZvcm0zaShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSknLFxuICAgIGJ2ZWM0OiAgICAnZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG5cbiAgICBtYXQyOiAgICAgJ2dsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MzogICAgICdnbC51bmlmb3JtTWF0cml4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDQ6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcblxuICAgIHNhbXBsZXIyRDogICAgICAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlckN1YmU6ICAgICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkRBcnJheTogJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxufTtcblxudmFyIEdMU0xfVE9fQVJSQVlfU0VUVEVSUyA9IHtcblxuICAgIGZsb2F0OiAgICBcImdsLnVuaWZvcm0xZnYobG9jYXRpb24sIHYpXCIsXG5cbiAgICB2ZWMyOiAgICAgXCJnbC51bmlmb3JtMmZ2KGxvY2F0aW9uLCB2KVwiLFxuICAgIHZlYzM6ICAgICBcImdsLnVuaWZvcm0zZnYobG9jYXRpb24sIHYpXCIsXG4gICAgdmVjNDogICAgICdnbC51bmlmb3JtNGZ2KGxvY2F0aW9uLCB2KScsXG5cbiAgICBtYXQ0OiAgICAgJ2dsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MzogICAgICdnbC51bmlmb3JtTWF0cml4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDI6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcblxuICAgIGludDogICAgICAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAgICAnZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMzOiAgICAnZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWM0OiAgICAnZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdiknLFxuXG4gICAgYm9vbDogICAgICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzI6ICAgICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzM6ICAgICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzQ6ICAgICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG5cbiAgICBzYW1wbGVyMkQ6ICAgICAgJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyQ3ViZTogICAgJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkRBcnJheTogJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbn07XG5cbmZ1bmN0aW9uIGdlbmVyYXRlVW5pZm9ybXNTeW5jKGdyb3VwLCB1bmlmb3JtRGF0YSlcbntcbiAgICB2YXIgdGV4dHVyZUNvdW50ID0gMDtcbiAgICB2YXIgZnVuYyA9IFwidmFyIHYgPSBudWxsO1xcbiAgICB2YXIgY3YgPSBudWxsXFxuICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsXCI7XG5cbiAgICBmb3IgKHZhciBpIGluIGdyb3VwLnVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSB1bmlmb3JtRGF0YVtpXTtcblxuICAgICAgICBpZiAoIWRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS5ncm91cClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cCh1di5cIiArIGkgKyBcIik7XFxuICAgICAgICAgICAgICAgIFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gJiYgdW5pZm9ybURhdGFbaV0udmFsdWUgIT09IDAgPC0tIGRvIHdlIHN0aWxsIG5lZWQgdGhpcz9cbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2Zsb2F0JyAmJiBkYXRhLnNpemUgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICBpZih1di5cIiArIGkgKyBcIiAhPT0gdWQuXCIgKyBpICsgXCIudmFsdWUpXFxuICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICB1ZC5cIiArIGkgKyBcIi52YWx1ZSA9IHV2LlwiICsgaSArIFwiXFxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1ZC5cIiArIGkgKyBcIi5sb2NhdGlvbiwgdXYuXCIgKyBpICsgXCIpXFxuICAgICAgICAgICAgfVxcblwiO1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgZWxzZSBpZiAoKGRhdGEudHlwZSA9PT0gJ3NhbXBsZXIyRCcgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlckN1YmUnIHx8IGRhdGEudHlwZSA9PT0gJ3NhbXBsZXIyREFycmF5JykgJiYgZGF0YS5zaXplID09PSAxICYmICFkYXRhLmlzQXJyYXkpXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAge1xuICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZCh1di5cIiArIGkgKyBcIiwgXCIgKyB0ZXh0dXJlQ291bnQgKyBcIik7XFxuXFxuICAgICAgICAgICAgaWYodWQuXCIgKyBpICsgXCIudmFsdWUgIT09IFwiICsgdGV4dHVyZUNvdW50ICsgXCIpXFxuICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICB1ZC5cIiArIGkgKyBcIi52YWx1ZSA9IFwiICsgdGV4dHVyZUNvdW50ICsgXCI7XFxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1ZC5cIiArIGkgKyBcIi5sb2NhdGlvbiwgXCIgKyB0ZXh0dXJlQ291bnQgKyBcIik7XFxuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cXG4gICAgICAgICAgICB9XFxuXCI7XG5cbiAgICAgICAgICAgIHRleHR1cmVDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ21hdDMnICYmIGRhdGEuc2l6ZSA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLmEgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGFuZCBzb21lIHNtYXJ0IGNhY2hpbmcgZGlydHkgaWRzIGhlcmUhXG4gICAgICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCBmYWxzZSwgdXYuXCIgKyBpICsgXCIudG9BcnJheSh0cnVlKSk7XFxuICAgICAgICAgICAgICAgIFxcblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdih1ZC5cIiArIGkgKyBcIi5sb2NhdGlvbiwgZmFsc2UsIHV2LlwiICsgaSArIFwiKTtcXG4gICAgICAgICAgICAgICAgXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAndmVjMicgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gZG8gd2UgbmVlZCBib3RoIGhlcmU/XG4gICAgICAgICAgICAvLyBtYXliZSB3ZSBjYW4gZ2V0IGF3YXkgd2l0aCBvbmx5IHVzaW5nIHBvaW50cz9cbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS54ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkLlwiICsgaSArIFwiLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXYuXCIgKyBpICsgXCI7XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSlcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2Lng7XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZC5cIiArIGkgKyBcIi5sb2NhdGlvbiwgdi54LCB2LnkpO1xcbiAgICAgICAgICAgICAgICB9XFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkLlwiICsgaSArIFwiLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXYuXCIgKyBpICsgXCI7XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWQuXCIgKyBpICsgXCIubG9jYXRpb24sIHZbMF0sIHZbMV0pO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIFxcblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3ZlYzQnICYmIGRhdGEuc2l6ZSA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyAtIGRvIHdlIG5lZWQgYm90aCBoZXJlP1xuICAgICAgICAgICAgLy8gbWF5YmUgd2UgY2FuIGdldCBhd2F5IHdpdGggb25seSB1c2luZyBwb2ludHM/XG4gICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0ud2lkdGggIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuXCIgKyBpICsgXCIudmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1di5cIiArIGkgKyBcIjtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55IHx8IGN2WzJdICE9PSB2LndpZHRoIHx8IGN2WzNdICE9PSB2LmhlaWdodClcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2Lng7XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzJdID0gdi53aWR0aDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzNdID0gdi5oZWlnaHQ7XFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWQuXCIgKyBpICsgXCIubG9jYXRpb24sIHYueCwgdi55LCB2LndpZHRoLCB2LmhlaWdodClcXG4gICAgICAgICAgICAgICAgfVxcblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZC5cIiArIGkgKyBcIi52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2LlwiICsgaSArIFwiO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSB8fCBjdlszXSAhPT0gdlszXSlcXG4gICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMF0gPSB2WzBdO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2WzFdO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMl0gPSB2WzJdO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbM10gPSB2WzNdO1xcblxcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIFxcblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlVHlwZSA9IChkYXRhLnNpemUgPT09IDEpID8gR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQgOiBHTFNMX1RPX0FSUkFZX1NFVFRFUlM7XG5cbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9ICB0ZW1wbGF0ZVR5cGVbZGF0YS50eXBlXS5yZXBsYWNlKCdsb2NhdGlvbicsIChcInVkLlwiICsgaSArIFwiLmxvY2F0aW9uXCIpKTtcblxuICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgIGN2ID0gdWQuXCIgKyBpICsgXCIudmFsdWU7XFxuICAgICAgICAgICAgdiA9IHV2LlwiICsgaSArIFwiO1xcbiAgICAgICAgICAgIFwiICsgdGVtcGxhdGUgKyBcIjtcXG5cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ3VkJywgJ3V2JywgJ3JlbmRlcmVyJywgZnVuYyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LWZ1bmNcbn1cblxudmFyIGZyYWdUZW1wbGF0ZSA9IFtcbiAgICAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JyxcbiAgICAndm9pZCBtYWluKHZvaWQpeycsXG4gICAgJ2Zsb2F0IHRlc3QgPSAwLjE7JyxcbiAgICAnJWZvcmxvb3AlJyxcbiAgICAnZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsXG4gICAgJ30nIF0uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIobWF4SWZzLCBnbClcbntcbiAgICBpZiAobWF4SWZzID09PSAwKVxuICAgIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIG9mIGAwYCBwYXNzZWQgdG8gYGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXJgJyk7XG4gICAgfVxuXG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuXG4gICAgd2hpbGUgKHRydWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAge1xuICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSBmcmFnVGVtcGxhdGUucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpKTtcblxuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbWF4SWZzID0gKG1heElmcyAvIDIpIHwgMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHZhbGlkIVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF4SWZzO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpXG57XG4gICAgdmFyIHNyYyA9ICcnO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhJZnM7ICsraSlcbiAgICB7XG4gICAgICAgIGlmIChpID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA8IG1heElmcyAtIDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNyYyArPSBcImlmKHRlc3QgPT0gXCIgKyBpICsgXCIuMCl7fVwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn1cblxuLy8gQ2FjaGUgdGhlIHJlc3VsdCB0byBwcmV2ZW50IHJ1bm5pbmcgdGhpcyBvdmVyIGFuZCBvdmVyXG52YXIgdW5zYWZlRXZhbDtcblxuLyoqXG4gKiBOb3QgYWxsIHBsYXRmb3JtcyBhbGxvdyB0byBnZW5lcmF0ZSBmdW5jdGlvbiBjb2RlIChlLmcuLCBgbmV3IEZ1bmN0aW9uYCkuXG4gKiB0aGlzIHByb3ZpZGVzIHRoZSBwbGF0Zm9ybS1sZXZlbCBkZXRlY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiB1bnNhZmVFdmFsU3VwcG9ydGVkKClcbntcbiAgICBpZiAodHlwZW9mIHVuc2FmZUV2YWwgPT09ICdib29sZWFuJylcbiAgICB7XG4gICAgICAgIHJldHVybiB1bnNhZmVFdmFsO1xuICAgIH1cblxuICAgIHRyeVxuICAgIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tbmV3LWZ1bmMgKi9cbiAgICAgICAgdmFyIGZ1bmMgPSBuZXcgRnVuY3Rpb24oJ3BhcmFtMScsICdwYXJhbTInLCAncGFyYW0zJywgJ3JldHVybiBwYXJhbTFbcGFyYW0yXSA9PT0gcGFyYW0zOycpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLW5ldy1mdW5jICovXG5cbiAgICAgICAgdW5zYWZlRXZhbCA9IGZ1bmMoeyBhOiAnYicgfSwgJ2EnLCAnYicpID09PSB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSlcbiAgICB7XG4gICAgICAgIHVuc2FmZUV2YWwgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5zYWZlRXZhbDtcbn1cblxudmFyIGRlZmF1bHRGcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgIGdsX0ZyYWdDb2xvciAqPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbn1cIjtcblxudmFyIGRlZmF1bHRWZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG59XFxuXCI7XG5cbi8vIGltcG9ydCAqIGFzIGZyb20gJy4uL3N5c3RlbXMvc2hhZGVyL3NoYWRlcic7XG5cbnZhciBVSUQkMyA9IDA7XG5cbnZhciBuYW1lQ2FjaGUgPSB7fTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgc2hhZGVyIHByb2dyYW0uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUHJvZ3JhbSA9IGZ1bmN0aW9uIFByb2dyYW0odmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSlcbntcbiAgICBpZiAoIG5hbWUgPT09IHZvaWQgMCApIG5hbWUgPSAncGl4aS1zaGFkZXInO1xuXG4gICAgdGhpcy5pZCA9IFVJRCQzKys7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhTcmM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRGcmFnbWVudFNyYztcblxuICAgIHRoaXMudmVydGV4U3JjID0gdGhpcy52ZXJ0ZXhTcmMudHJpbSgpO1xuICAgIHRoaXMuZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdtZW50U3JjLnRyaW0oKTtcblxuICAgIGlmICh0aGlzLnZlcnRleFNyYy5zdWJzdHJpbmcoMCwgOCkgIT09ICcjdmVyc2lvbicpXG4gICAge1xuICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9cXHMrL2csICctJyk7XG5cbiAgICAgICAgaWYgKG5hbWVDYWNoZVtuYW1lXSlcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZUNhY2hlW25hbWVdKys7XG4gICAgICAgICAgICBuYW1lICs9IFwiLVwiICsgKG5hbWVDYWNoZVtuYW1lXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0gPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhTcmMgPSBcIiNkZWZpbmUgU0hBREVSX05BTUUgXCIgKyBuYW1lICsgXCJcXG5cIiArICh0aGlzLnZlcnRleFNyYyk7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBcIiNkZWZpbmUgU0hBREVSX05BTUUgXCIgKyBuYW1lICsgXCJcXG5cIiArICh0aGlzLmZyYWdtZW50U3JjKTtcblxuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHNldFByZWNpc2lvbih0aGlzLnZlcnRleFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX1ZFUlRFWCwgUFJFQ0lTSU9OLkhJR0gpO1xuICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gc2V0UHJlY2lzaW9uKHRoaXMuZnJhZ21lbnRTcmMsIHNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVCwgZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24oKSk7XG4gICAgfVxuXG4gICAgLy8gY3VycmVudGx5IHRoaXMgZG9lcyBub3QgZXh0cmFjdCBzdHJ1Y3RzIG9ubHkgZGVmYXVsdCB0eXBlc1xuICAgIHRoaXMuZXh0cmFjdERhdGEodGhpcy52ZXJ0ZXhTcmMsIHRoaXMuZnJhZ21lbnRTcmMpO1xuXG4gICAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBzdG9yZSBzaGFkZXIgcmVmZXJlbmNlcy4uXG4gICAgdGhpcy5nbFByb2dyYW1zID0ge307XG5cbiAgICB0aGlzLnN5bmNVbmlmb3JtcyA9IG51bGw7XG59O1xuXG52YXIgc3RhdGljQWNjZXNzb3JzID0geyBkZWZhdWx0VmVydGV4U3JjOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRlZmF1bHRGcmFnbWVudFNyYzogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIEV4dHJhY3RzIHRoZSBkYXRhIGZvciBhIGJ1eSBjcmVhdGluZyBhIHNtYWxsIHRlc3QgcHJvZ3JhbVxuICogb3IgcmVhZGluZyB0aGUgc3JjIGRpcmVjdGx5LlxuICogQHByb3RlY3RlZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAqL1xuUHJvZ3JhbS5wcm90b3R5cGUuZXh0cmFjdERhdGEgPSBmdW5jdGlvbiBleHRyYWN0RGF0YSAodmVydGV4U3JjLCBmcmFnbWVudFNyYylcbntcbiAgICB2YXIgZ2wgPSBnZXRUZXN0Q29udGV4dCgpO1xuXG4gICAgaWYgKGdsKVxuICAgIHtcbiAgICAgICAgdmFyIHByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG5cbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVEYXRhID0gdGhpcy5nZXRBdHRyaWJ1dGVEYXRhKHByb2dyYW0sIGdsKTtcbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybURhdGEocHJvZ3JhbSwgZ2wpO1xuXG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVEYXRhID0ge307XG4gICAgfVxufTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSBhdHRyaWJ1dGUgZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBbcHJvZ3JhbV0gLSB0aGUgV2ViR0wgcHJvZ3JhbVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFtnbF0gLSB0aGUgV2ViR0wgY29udGV4dFxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSBhdHRyaWJ1dGUgZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gKi9cblByb2dyYW0ucHJvdG90eXBlLmdldEF0dHJpYnV0ZURhdGEgPSBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVEYXRhIChwcm9ncmFtLCBnbClcbntcbiAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xuICAgIHZhciBhdHRyaWJ1dGVzQXJyYXkgPSBbXTtcblxuICAgIHZhciB0b3RhbEF0dHJpYnV0ZXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxBdHRyaWJ1dGVzOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgYXR0cmliRGF0YSA9IGdsLmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpKTtcbiAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCBhdHRyaWJEYXRhLnR5cGUpO1xuXG4gICAgICAgIC8qZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgbmFtZTogYXR0cmliRGF0YS5uYW1lLFxuICAgICAgICAgICAgc2l6ZTogbWFwU2l6ZSh0eXBlKSxcbiAgICAgICAgICAgIGxvY2F0aW9uOiAwLFxuICAgICAgICB9O1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgICAgICAgYXR0cmlidXRlc1thdHRyaWJEYXRhLm5hbWVdID0gZGF0YTtcbiAgICAgICAgYXR0cmlidXRlc0FycmF5LnB1c2goZGF0YSk7XG4gICAgfVxuXG4gICAgYXR0cmlidXRlc0FycmF5LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIChhLm5hbWUgPiBiLm5hbWUpID8gMSA6IC0xOyB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25mdXNpbmctYXJyb3dcblxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGF0dHJpYnV0ZXNBcnJheS5sZW5ndGg7IGkkMSsrKVxuICAgIHtcbiAgICAgICAgYXR0cmlidXRlc0FycmF5W2kkMV0ubG9jYXRpb24gPSBpJDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG59O1xuXG4vKipcbiAqIHJldHVybnMgdGhlIHVuaWZvcm0gZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSB7d2ViR0wtcHJvZ3JhbX0gW3Byb2dyYW1dIC0gdGhlIHdlYmdsIHByb2dyYW1cbiAqIEBwYXJhbSB7Y29udGV4dH0gW2dsXSAtIHRoZSBXZWJHTCBjb250ZXh0XG4gKlxuICogQHJldHVybnMge29iamVjdH0gdGhlIHVuaWZvcm0gZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gKi9cblByb2dyYW0ucHJvdG90eXBlLmdldFVuaWZvcm1EYXRhID0gZnVuY3Rpb24gZ2V0VW5pZm9ybURhdGEgKHByb2dyYW0sIGdsKVxue1xuICAgIHZhciB1bmlmb3JtcyA9IHt9O1xuXG4gICAgdmFyIHRvdGFsVW5pZm9ybXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9VTklGT1JNUyk7XG5cbiAgICAvLyBUT0RPIGV4cG9zZSB0aGlzIGFzIGEgcHJvcD9cbiAgICAvLyBjb25zdCBtYXNrUmVnZXggPSBuZXcgUmVnRXhwKCdeKHByb2plY3Rpb25NYXRyaXh8dVNhbXBsZXJ8dHJhbnNsYXRpb25NYXRyaXgpJCcpO1xuICAgIC8vIGNvbnN0IG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnx0cmFuc2xhdGlvbk1hdHJpeCkkJyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsVW5pZm9ybXM7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaSk7XG4gICAgICAgIHZhciBuYW1lID0gdW5pZm9ybURhdGEubmFtZS5yZXBsYWNlKC9cXFsuKj9cXF0vLCAnJyk7XG5cbiAgICAgICAgdmFyIGlzQXJyYXkgPSB1bmlmb3JtRGF0YS5uYW1lLm1hdGNoKC9cXFsuKj9cXF0vLCAnJyk7XG4gICAgICAgIHZhciB0eXBlID0gbWFwVHlwZShnbCwgdW5pZm9ybURhdGEudHlwZSk7XG5cbiAgICAgICAgLyplc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICB1bmlmb3Jtc1tuYW1lXSA9IHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBzaXplOiB1bmlmb3JtRGF0YS5zaXplLFxuICAgICAgICAgICAgaXNBcnJheTppc0FycmF5LFxuICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZSh0eXBlLCB1bmlmb3JtRGF0YS5zaXplKSxcbiAgICAgICAgfTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgIH1cblxuICAgIHJldHVybiB1bmlmb3Jtcztcbn07XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xuc3RhdGljQWNjZXNzb3JzLmRlZmF1bHRWZXJ0ZXhTcmMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbn07XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7c3RyaW5nfVxuICovXG5zdGF0aWNBY2Nlc3NvcnMuZGVmYXVsdEZyYWdtZW50U3JjLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudDtcbn07XG5cbi8qKlxuICogQSBzaG9ydCBoYW5kIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHByb2dyYW0gYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICogdGhpcyBtZXRob2Qgd2lsbCBhbHNvIGNoZWNrIHRvIHNlZSBpZiB0aGVyZSBpcyBhIGNhY2hlZCBwcm9ncmFtLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZT1waXhpLXNoYWRlcl0gLSBOYW1lIGZvciBzaGFkZXJcbiAqXG4gKiBAcmV0dXJucyB7UElYSS5Qcm9ncmFtfSBhbiBzaGlueSBuZXcgUGl4aSBzaGFkZXIhXG4gKi9cblByb2dyYW0uZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpXG57XG4gICAgdmFyIGtleSA9IHZlcnRleFNyYyArIGZyYWdtZW50U3JjO1xuXG4gICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtQ2FjaGVba2V5XTtcblxuICAgIGlmICghcHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIFByb2dyYW1DYWNoZVtrZXldID0gcHJvZ3JhbSA9IG5ldyBQcm9ncmFtKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIG5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9ncmFtO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFByb2dyYW0sIHN0YXRpY0FjY2Vzc29ycyApO1xuXG4vKipcbiAqIEEgaGVscGVyIGNsYXNzIGZvciBzaGFkZXJzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU2hhZGVyID0gZnVuY3Rpb24gU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKVxue1xuICAgIC8qKlxuICAgICAqIFByb2dyYW0gdGhhdCB0aGUgc2hhZGVyIHVzZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUHJvZ3JhbX1cbiAgICAgKi9cbiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuXG4gICAgLy8gbGV0cyBzZWUgd2hhdHMgYmVlbiBwYXNzZWQgaW5cbiAgICAvLyB1bmlmb3JtcyBzaG91bGQgYmUgY29udmVydGVkIHRvIGEgdW5pZm9ybSBncm91cFxuICAgIGlmICh1bmlmb3JtcylcbiAgICB7XG4gICAgICAgIGlmICh1bmlmb3JtcyBpbnN0YW5jZW9mIFVuaWZvcm1Hcm91cClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSB1bmlmb3JtcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3Jtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSBuZXcgVW5pZm9ybUdyb3VwKHt9KTtcbiAgICB9XG5cbiAgICAvLyB0aW1lIHRvIGJ1aWxkIHNvbWUgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAvLyBJIGd1ZXNzIGRvd24gdGhlIGxpbmUgdGhpcyBjb3VsZCBzb3J0IG9mIGdlbmVyYXRlIGFuIGluc3RydWN0aW9uIGxpc3QgcmF0aGVyIHRoYW4gdXNlIGRpcnR5IGlkcz9cbiAgICAvLyBkb2VzIHRoZSB0cmljayBmb3Igbm93IHRob3VnaCFcbiAgICBmb3IgKHZhciBpIGluIHByb2dyYW0udW5pZm9ybURhdGEpXG4gICAge1xuICAgICAgICBpZiAodGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXNbaV0gaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXNbaV0gPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkMiA9IHsgdW5pZm9ybXM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLy8gVE9ETyBtb3ZlIHRvIHNoYWRlciBzeXN0ZW0uLlxuU2hhZGVyLnByb3RvdHlwZS5jaGVja1VuaWZvcm1FeGlzdHMgPSBmdW5jdGlvbiBjaGVja1VuaWZvcm1FeGlzdHMgKG5hbWUsIGdyb3VwKVxue1xuICAgIGlmIChncm91cC51bmlmb3Jtc1tuYW1lXSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgaW4gZ3JvdXAudW5pZm9ybXMpXG4gICAge1xuICAgICAgICB2YXIgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW2ldO1xuXG4gICAgICAgIGlmICh1bmlmb3JtLmdyb3VwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja1VuaWZvcm1FeGlzdHMobmFtZSwgdW5pZm9ybSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5TaGFkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgLy8gdXNhZ2UgY291bnQgb24gcHJvZ3JhbXM/XG4gICAgLy8gcmVtb3ZlIGlmIG5vdCB1c2VkIVxuICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbnVsbDtcbn07XG5cbi8qKlxuICogU2hhZGVyIHVuaWZvcm0gdmFsdWVzLCBzaG9ydGN1dCBmb3IgYHVuaWZvcm1Hcm91cC51bmlmb3Jtc2BcbiAqIEByZWFkb25seVxuICogQG1lbWJlciB7b2JqZWN0fVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMi51bmlmb3Jtcy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtcztcbn07XG5cbi8qKlxuICogQSBzaG9ydCBoYW5kIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHNoYWRlciBiYXNlZCBvZiBhIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVyXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gKlxuICogQHJldHVybnMge1BJWEkuU2hhZGVyfSBhbiBzaGlueSBuZXcgUGl4aSBzaGFkZXIhXG4gKi9cblNoYWRlci5mcm9tID0gZnVuY3Rpb24gZnJvbSAodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpXG57XG4gICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG5cbiAgICByZXR1cm4gbmV3IFNoYWRlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggU2hhZGVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDIgKTtcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG52YXIgQkxFTkQgPSAwO1xudmFyIE9GRlNFVCA9IDE7XG52YXIgQ1VMTElORyA9IDI7XG52YXIgREVQVEhfVEVTVCA9IDM7XG52YXIgV0lORElORyA9IDQ7XG5cbi8qKlxuICogVGhpcyBpcyBhIFdlYkdMIHN0YXRlLCBhbmQgaXMgaXMgcGFzc2VkIFRoZSBXZWJHTCBTdGF0ZU1hbmFnZXIuXG4gKlxuICogRWFjaCBtZXNoIHJlbmRlcmVkIG1heSByZXF1aXJlIFdlYkdMIHRvIGJlIGluIGEgZGlmZmVyZW50IHN0YXRlLlxuICogRm9yIGV4YW1wbGUgeW91IG1heSB3YW50IGRpZmZlcmVudCBibGVuZCBtb2RlIG9yIHRvIGVuYWJsZSBwb2x5Z29uIG9mZnNldHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTdGF0ZSA9IGZ1bmN0aW9uIFN0YXRlKClcbntcbiAgICB0aGlzLmRhdGEgPSAwO1xuXG4gICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcblxuICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgIC8vICB0aGlzLmRlcHRoVGVzdCA9IHRydWU7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDMgPSB7IGJsZW5kOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG9mZnNldHM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sY3VsbGluZzogeyBjb25maWd1cmFibGU6IHRydWUgfSxkZXB0aFRlc3Q6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sY2xvY2t3aXNlRnJvbnRGYWNlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJsZW5kTW9kZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxwb2x5Z29uT2Zmc2V0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogQWN0aXZhdGVzIGJsZW5kaW5nIG9mIHRoZSBjb21wdXRlZCBmcmFnbWVudCBjb2xvciB2YWx1ZXNcbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5ibGVuZC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBCTEVORCkpO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDMuYmxlbmQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKSAhPT0gdmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQkxFTkQpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWN0aXZhdGVzIGFkZGluZyBhbiBvZmZzZXQgdG8gZGVwdGggdmFsdWVzIG9mIHBvbHlnb24ncyBmcmFnbWVudHNcbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMub2Zmc2V0cy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBPRkZTRVQpKTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLm9mZnNldHMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSkgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IE9GRlNFVCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBY3RpdmF0ZXMgY3VsbGluZyBvZiBwb2x5Z29ucy5cbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuY3VsbGluZy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBDVUxMSU5HKSk7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5jdWxsaW5nLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IENVTExJTkcpKSAhPT0gdmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQ1VMTElORyk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBY3RpdmF0ZXMgZGVwdGggY29tcGFyaXNvbnMgYW5kIHVwZGF0ZXMgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuZGVwdGhUZXN0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IERFUFRIX1RFU1QpKTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmRlcHRoVGVzdC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSkgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IERFUFRIX1RFU1QpO1xuICAgIH1cbn07XG5cbi8qKlxuICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IGZyb250IG9yIGJhY2stZmFjaW5nIHBvbHlnb25zIGNhbiBiZSBjdWxsZWQuXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuY2xvY2t3aXNlRnJvbnRGYWNlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IFdJTkRJTkcpKTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmNsb2Nrd2lzZUZyb250RmFjZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSkgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IFdJTkRJTkcpO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB3aGVuIHRoaXMgc3RhdGUgaXMgc2V0LiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gKiBTZXR0aW5nIHRoaXMgbW9kZSB0byBhbnl0aGluZyBvdGhlciB0aGFuIE5PX0JMRU5EIHdpbGwgYXV0b21hdGljYWxseSBzd2l0Y2ggYmxlbmRpbmcgb24uXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5ibGVuZE1vZGUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDMuYmxlbmRNb2RlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5ibGVuZCA9ICh2YWx1ZSAhPT0gQkxFTkRfTU9ERVMuTk9ORSk7XG4gICAgdGhpcy5fYmxlbmRNb2RlID0gdmFsdWU7XG59O1xuXG4vKipcbiAqIFRoZSBwb2x5Z29uIG9mZnNldC4gU2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIGFueXRoaW5nIG90aGVyIHRoYW4gMCB3aWxsIGF1dG9tYXRpY2FsbHkgZW5hYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGwuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICogQGRlZmF1bHQgMFxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5wb2x5Z29uT2Zmc2V0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3BvbHlnb25PZmZzZXQ7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5wb2x5Z29uT2Zmc2V0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5vZmZzZXRzID0gISF2YWx1ZTtcbiAgICB0aGlzLl9wb2x5Z29uT2Zmc2V0ID0gdmFsdWU7XG59O1xuXG5TdGF0ZS5mb3IyZCA9IGZ1bmN0aW9uIGZvcjJkICgpXG57XG4gICAgdmFyIHN0YXRlID0gbmV3IFN0YXRlKCk7XG5cbiAgICBzdGF0ZS5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICBzdGF0ZS5ibGVuZCA9IHRydWU7XG5cbiAgICByZXR1cm4gc3RhdGU7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggU3RhdGUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkMyApO1xuXG52YXIgZGVmYXVsdFZlcnRleCQxID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG59XFxuXCI7XG5cbnZhciBkZWZhdWx0RnJhZ21lbnQkMSA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxufVxcblwiO1xuXG4vKipcbiAqIEZpbHRlciBpcyBhIHNwZWNpYWwgdHlwZSBvZiBXZWJHTCBzaGFkZXIgdGhhdCBpcyBhcHBsaWVkIHRvIHRoZSBzY3JlZW4uXG4gKlxuICoge0BsaW5rIGh0dHA6Ly9waXhpanMuaW8vZXhhbXBsZXMvIy9maWx0ZXJzL2JsdXItZmlsdGVyLmpzIEV4YW1wbGV9IG9mIHRoZVxuICoge0BsaW5rIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyIEJsdXJGaWx0ZXJ9LlxuICpcbiAqICMjIyBVc2FnZVxuICogRmlsdGVycyBjYW4gYmUgYXBwbGllZCB0byBhbnkgRGlzcGxheU9iamVjdCBvciBDb250YWluZXIuXG4gKiBQaXhpSlMnIGBGaWx0ZXJTeXN0ZW1gIHJlbmRlcnMgdGhlIGNvbnRhaW5lciBpbnRvIHRlbXBvcmFyeSBGcmFtZWJ1ZmZlcixcbiAqIHRoZW4gZmlsdGVyIHJlbmRlcnMgaXQgdG8gdGhlIHNjcmVlbi5cbiAqIE11bHRpcGxlIGZpbHRlcnMgY2FuIGJlIGFkZGVkIHRvIHRoZSBgZmlsdGVyc2AgYXJyYXkgcHJvcGVydHkgYW5kIHN0YWNrZWQgb24gZWFjaCBvdGhlci5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0IGZpbHRlciA9IG5ldyBQSVhJLkZpbHRlcihteVNoYWRlclZlcnQsIG15U2hhZGVyRnJhZywgeyBteVVuaWZvcm06IDAuNSB9KTtcbiAqIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogY29udGFpbmVyLmZpbHRlcnMgPSBbZmlsdGVyXTtcbiAqIGBgYFxuICpcbiAqICMjIyBQcmV2aW91cyBWZXJzaW9uIERpZmZlcmVuY2VzXG4gKlxuICogSW4gUGl4aUpTICoqdjMqKiwgYSBmaWx0ZXIgd2FzIGFsd2F5cyBhcHBsaWVkIHRvIF93aG9sZSBzY3JlZW5fLlxuICpcbiAqIEluIFBpeGlKUyAqKnY0KiosIGEgZmlsdGVyIGNhbiBiZSBhcHBsaWVkIF9vbmx5IHBhcnQgb2YgdGhlIHNjcmVlbl8uXG4gKiBEZXZlbG9wZXJzIGhhZCB0byBjcmVhdGUgYSBzZXQgb2YgdW5pZm9ybXMgdG8gZGVhbCB3aXRoIGNvb3JkaW5hdGVzLlxuICpcbiAqIEluIFBpeGlKUyAqKnY1KiogY29tYmluZXMgX2JvdGggYXBwcm9hY2hlc18uXG4gKiBEZXZlbG9wZXJzIGNhbiB1c2Ugbm9ybWFsIGNvb3JkaW5hdGVzIG9mIHYzIGFuZCB0aGVuIGFsbG93IGZpbHRlciB0byB1c2UgcGFydGlhbCBGcmFtZWJ1ZmZlcnMsXG4gKiBicmluZ2luZyB0aG9zZSBleHRyYSB1bmlmb3JtcyBpbnRvIGFjY291bnQuXG4gKlxuICogQWxzbyBiZSBhd2FyZSB0aGF0IHdlIGhhdmUgY2hhbmdlZCBkZWZhdWx0IHZlcnRleCBzaGFkZXIsIHBsZWFzZSBjb25zdWx0XG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3dpa2kvdjUtQ3JlYXRpbmctZmlsdGVycyBXaWtpfS5cbiAqXG4gKiAjIyMgQnVpbHQtaW4gVW5pZm9ybXNcbiAqXG4gKiBQaXhpSlMgdmlld3BvcnQgdXNlcyBzY3JlZW4gKENTUykgY29vcmRpbmF0ZXMsIGAoMCwgMCwgcmVuZGVyZXIuc2NyZWVuLndpZHRoLCByZW5kZXJlci5zY3JlZW4uaGVpZ2h0KWAsXG4gKiBhbmQgYHByb2plY3Rpb25NYXRyaXhgIHVuaWZvcm0gbWFwcyBpdCB0byB0aGUgZ2wgdmlld3BvcnQuXG4gKlxuICogKip1U2FtcGxlcioqXG4gKlxuICogVGhlIG1vc3QgaW1wb3J0YW50IHVuaWZvcm0gaXMgdGhlIGlucHV0IHRleHR1cmUgdGhhdCBjb250YWluZXIgd2FzIHJlbmRlcmVkIGludG8uXG4gKiBfSW1wb3J0YW50IG5vdGU6IGFzIHdpdGggYWxsIEZyYW1lYnVmZmVycyBpbiBQaXhpSlMsIGJvdGggaW5wdXQgYW5kIG91dHB1dCBhcmVcbiAqIHByZW11bHRpcGxpZWQgYnkgYWxwaGEuX1xuICpcbiAqIEJ5IGRlZmF1bHQsIGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXMgYXJlIHBhc3NlZCB0byBmcmFnbWVudCBzaGFkZXIgd2l0aCBgdlRleHR1cmVDb29yZGAuXG4gKiBVc2UgaXQgdG8gc2FtcGxlIHRoZSBpbnB1dC5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0IGZyYWdtZW50ID0gYFxuICogdmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG4gKiB1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcbiAqIHZvaWQgbWFpbih2b2lkKVxuICoge1xuICogICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcbiAqIH1cbiAqIGA7XG4gKlxuICogY29uc3QgbXlGaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobnVsbCwgZnJhZ21lbnQpO1xuICogYGBgXG4gKlxuICogVGhpcyBmaWx0ZXIgaXMganVzdCBvbmUgdW5pZm9ybSBsZXNzIHRoYW4ge0BsaW5rIFBJWEkuZmlsdGVycy5BbHBoYUZpbHRlciBBbHBoYUZpbHRlcn0uXG4gKlxuICogKipvdXRwdXRGcmFtZSoqXG4gKlxuICogVGhlIGBvdXRwdXRGcmFtZWAgaG9sZHMgdGhlIHJlY3RhbmdsZSB3aGVyZSBmaWx0ZXIgaXMgYXBwbGllZCBpbiBzY3JlZW4gKENTUykgY29vcmRpbmF0ZXMuXG4gKiBJdCdzIHRoZSBzYW1lIGFzIGByZW5kZXJlci5zY3JlZW5gIGZvciBhIGZ1bGxzY3JlZW4gZmlsdGVyLlxuICogT25seSBhIHBhcnQgb2YgIGBvdXRwdXRGcmFtZS56d2Agc2l6ZSBvZiB0ZW1wb3JhcnkgRnJhbWVidWZmZXIgaXMgdXNlZCxcbiAqIGAoMCwgMCwgb3V0cHV0RnJhbWUud2lkdGgsIG91dHB1dEZyYW1lLmhlaWdodClgLFxuICpcbiAqIEZpbHRlcnMgdXNlcyB0aGlzIHF1YWQgdG8gbm9ybWFsaXplZCAoMC0xKSBzcGFjZSwgaXRzIHBhc3NlZCBpbnRvIGBhVmVydGV4UG9zaXRpb25gIGF0dHJpYnV0ZS5cbiAqIFRvIGNhbGN1bGF0ZSB2ZXJ0ZXggcG9zaXRpb24gaW4gc2NyZWVuIHNwYWNlIHVzaW5nIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2U6XG4gKlxuICogYGBgXG4gKiB2ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcbiAqIHtcbiAqICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcbiAqICAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiAqKmlucHV0U2l6ZSoqXG4gKlxuICogVGVtcG9yYXJ5IGZyYW1lYnVmZmVyIGlzIGRpZmZlcmVudCwgaXQgY2FuIGJlIGVpdGhlciB0aGUgc2l6ZSBvZiBzY3JlZW4sIGVpdGhlciBwb3dlci1vZi10d28uXG4gKiBUaGUgYGlucHV0U2l6ZS54eWAgYXJlIHNpemUgb2YgdGVtcG9yYXJ5IGZyYW1lYnVmZmVyIHRoYXQgaG9sZHMgaW5wdXQuXG4gKiBUaGUgYGlucHV0U2l6ZS56d2AgaXMgaW52ZXJ0ZWQsIGl0J3MgYSBzaG9ydGN1dCB0byBldmFkZSBkaXZpc2lvbiBpbnNpZGUgdGhlIHNoYWRlci5cbiAqXG4gKiBTZXQgYGlucHV0U2l6ZS54eSA9IG91dHB1dEZyYW1lLnp3YCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqXG4gKiBUbyBjYWxjdWxhdGUgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlLCB5b3UgaGF2ZSB0byBtYXAgaXQgdG8gZmlsdGVyIG5vcm1hbGl6ZWQgc3BhY2UuXG4gKiBNdWx0aXBseSBieSBgb3V0cHV0RnJhbWUuendgIHRvIGdldCBpbnB1dCBjb29yZGluYXRlLlxuICogRGl2aWRlIGJ5IGBpbnB1dFNpemUueHlgIHRvIGdldCBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGUuXG4gKlxuICogYGBgXG4gKiB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXG4gKiB7XG4gKiAgICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7IC8vIHNhbWUgYXMgL2lucHV0U2l6ZS54eVxuICogfVxuICogYGBgXG4gKiAqKnJlc29sdXRpb24qKlxuICpcbiAqIFRoZSBgcmVzb2x1dGlvbmAgaXMgdGhlIHJhdGlvIG9mIHNjcmVlbiAoQ1NTKSBwaXhlbHMgdG8gcmVhbCBwaXhlbHMuXG4gKlxuICogKippbnB1dFBpeGVsKipcbiAqXG4gKiBgaW5wdXRQaXhlbC54eWAgaXMgdGhlIHNpemUgb2YgZnJhbWVidWZmZXIgaW4gcmVhbCBwaXhlbHMsIHNhbWUgYXMgYGlucHV0U2l6ZS54eSAqIHJlc29sdXRpb25gXG4gKiBgaW5wdXRQaXhlbC56d2AgaXMgaW52ZXJ0ZWQgYGlucHV0UGl4ZWwueHlgLlxuICpcbiAqIEl0J3MgaGFuZHkgZm9yIGZpbHRlcnMgdGhhdCB1c2UgbmVpZ2hib3VyIHBpeGVscywgbGlrZSB7QGxpbmsgUElYSS5maWx0ZXJzLkZYQUFGaWx0ZXIgRlhBQUZpbHRlcn0uXG4gKlxuICogKippbnB1dENsYW1wKipcbiAqXG4gKiBJZiB5b3UgdHJ5IHRvIGdldCBpbmZvIGZyb20gb3V0c2lkZSBvZiB1c2VkIHBhcnQgb2YgRnJhbWVidWZmZXIgLSB5b3UnbGwgZ2V0IHVuZGVmaW5lZCBiZWhhdmlvdXIuXG4gKiBGb3IgZGlzcGxhY2VtZW50cywgY29vcmRpbmF0ZXMgaGFzIHRvIGJlIGNsYW1wZWQuXG4gKlxuICogVGhlIGBpbnB1dENsYW1wLnh5YCBpcyBsZWZ0LXRvcCBwaXhlbCBjZW50ZXIsIHlvdSBtYXkgaWdub3JlIGl0LCBiZWNhdXNlIHdlIHVzZSBsZWZ0LXRvcCBwYXJ0IG9mIEZyYW1lYnVmZmVyXG4gKiBgaW5wdXRDbGFtcC56d2AgaXMgYm90dG9tLXJpZ2h0IHBpeGVsIGNlbnRlci5cbiAqXG4gKiBgYGBcbiAqIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNsYW1wKG1vZGlmaWdlZFRleHR1cmVDb29yZCwgaW5wdXRDbGFtcC54eSwgaW5wdXRDbGFtcC56dykpXG4gKiBgYGBcbiAqIE9SXG4gKiBgYGBcbiAqIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIG1pbihtb2RpZmlnZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKlxuICogIyMjIEFkZGl0aW9uYWwgSW5mb3JtYXRpb25cbiAqXG4gKiBDb21wbGV0ZSBkb2N1bWVudGF0aW9uIG9uIEZpbHRlciB1c2FnZSBpcyBsb2NhdGVkIGluIHRoZVxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogU2luY2UgUGl4aUpTIG9ubHkgaGFkIGEgaGFuZGZ1bCBvZiBidWlsdC1pbiBmaWx0ZXJzLCBhZGRpdGlvbmFsIGZpbHRlcnMgY2FuIGJlIGRvd25sb2FkZWRcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZmlsdGVycyBoZXJlfSBmcm9tIHRoZSBQaXhpSlMgRmlsdGVycyByZXBvc2l0b3J5LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBGaWx0ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTaGFkZXIpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXIodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpXG4gICAge1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMgfHwgRmlsdGVyLmRlZmF1bHRWZXJ0ZXhTcmMsXG4gICAgICAgICAgICBmcmFnbWVudFNyYyB8fCBGaWx0ZXIuZGVmYXVsdEZyYWdtZW50U3JjKTtcblxuICAgICAgICBTaGFkZXIuY2FsbCh0aGlzLCBwcm9ncmFtLCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwYWRkaW5nIG9mIHRoZSBmaWx0ZXIuIFNvbWUgZmlsdGVycyByZXF1aXJlIGV4dHJhIHNwYWNlIHRvIGJyZWF0aCBzdWNoIGFzIGEgYmx1ci5cbiAgICAgICAgICogSW5jcmVhc2luZyB0aGlzIHdpbGwgYWRkIGV4dHJhIHdpZHRoIGFuZCBoZWlnaHQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlXG4gICAgICAgICAqIGZpbHRlciBpcyBhcHBsaWVkIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZGRpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgZmlsdGVyLiBTZXR0aW5nIHRoaXMgdG8gYmUgbG93ZXIgd2lsbCBsb3dlciB0aGUgcXVhbGl0eSBidXRcbiAgICAgICAgICogaW5jcmVhc2UgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBmaWx0ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkIGlzIHRydWUgdGhlIGZpbHRlciBpcyBhcHBsaWVkLCBpZiBmYWxzZSBpdCB3aWxsIG5vdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQsIFBpeGlKUyB3aWxsIGZpdCB0aGUgZmlsdGVyIGFyZWEgaW50byBib3VuZGFyaWVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqIFN3aXRjaCBpdCBvZmYgaWYgaXQgZG9lcyBub3Qgd29yayBmb3Igc3BlY2lmaWMgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvRml0ID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGVnYWN5IGZpbHRlcnMgdXNlIHBvc2l0aW9uIGFuZCB1dnMgZnJvbSBhdHRyaWJ1dGVzXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sZWdhY3kgPSAhIXRoaXMucHJvZ3JhbS5hdHRyaWJ1dGVEYXRhLmFUZXh0dXJlQ29vcmQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSB0aGUgZmlsdGVyIHJlcXVpcmVzIHRvIHJlbmRlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgIH1cblxuICAgIGlmICggU2hhZGVyICkgRmlsdGVyLl9fcHJvdG9fXyA9IFNoYWRlcjtcbiAgICBGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2hhZGVyICYmIFNoYWRlci5wcm90b3R5cGUgKTtcbiAgICBGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRmlsdGVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYmxlbmRNb2RlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG4gICAgdmFyIHN0YXRpY0FjY2Vzc29ycyA9IHsgZGVmYXVsdFZlcnRleFNyYzogeyBjb25maWd1cmFibGU6IHRydWUgfSxkZWZhdWx0RnJhZ21lbnRTcmM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtjdXJyZW50U3RhdGVdIC0gSXQncyBjdXJyZW50IHN0YXRlIG9mIGZpbHRlci5cbiAgICAgKiAgICAgICAgVGhlcmUgYXJlIHNvbWUgdXNlZnVsIHByb3BlcnRpZXMgaW4gdGhlIGN1cnJlbnRTdGF0ZSA6XG4gICAgICogICAgICAgIHRhcmdldCwgZmlsdGVycywgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUsIHJlbmRlclRhcmdldCwgcmVzb2x1dGlvblxuICAgICAqL1xuICAgIEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseSAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIsIGN1cnJlbnRTdGF0ZSlcbiAgICB7XG4gICAgICAgIC8vIGRvIGFzIHlvdSBwbGVhc2UhXG5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhciwgY3VycmVudFN0YXRlKTtcblxuICAgICAgICAvLyBvciBqdXN0IGRvIGEgcmVndWxhciByZW5kZXIuLlxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmxlbmRNb2RlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgc3RhdGljQWNjZXNzb3JzLmRlZmF1bHRWZXJ0ZXhTcmMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmVydGV4JDE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IGZyYWdtZW50IHNoYWRlciBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIHN0YXRpY0FjY2Vzc29ycy5kZWZhdWx0RnJhZ21lbnRTcmMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQkMTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEZpbHRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBGaWx0ZXIsIHN0YXRpY0FjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEZpbHRlcjtcbn0oU2hhZGVyKSk7XG5cbi8qKlxuICogVXNlZCBmb3IgY2FjaGluZyBzaGFkZXIgSURzXG4gKlxuICogQHN0YXRpY1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm90ZWN0ZWRcbiAqL1xuRmlsdGVyLlNPVVJDRV9LRVlfTUFQID0ge307XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBvdGhlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdk1hc2tDb29yZCA9ICggb3RoZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXNrO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGE7XFxudW5pZm9ybSBmbG9hdCBucG1BbHBoYTtcXG51bmlmb3JtIHZlYzQgbWFza0NsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZmxvYXQgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueCwgdk1hc2tDb29yZC54KSArXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC55LCB2TWFza0Nvb3JkLnkpICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC54LCBtYXNrQ2xhbXAueikgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLnksIG1hc2tDbGFtcC53KSk7XFxuXFxuICAgIHZlYzQgb3JpZ2luYWwgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZTJEKG1hc2ssIHZNYXNrQ29vcmQpO1xcbiAgICBmbG9hdCBhbHBoYU11bCA9IDEuMCAtIG5wbUFscGhhICogKDEuMCAtIG1hc2t5LmEpO1xcblxcbiAgICBvcmlnaW5hbCAqPSAoYWxwaGFNdWwgKiBtYXNreS5yICogYWxwaGEgKiBjbGlwKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gb3JpZ2luYWw7XFxufVxcblwiO1xuXG52YXIgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcblxuLyoqXG4gKiBDbGFzcyBjb250cm9scyB1diBtYXBwaW5nIGZyb20gVGV4dHVyZSBub3JtYWwgc3BhY2UgdG8gQmFzZVRleHR1cmUgbm9ybWFsIHNwYWNlLlxuICpcbiAqIFRha2VzIGB0cmltYCBhbmQgYHJvdGF0ZWAgaW50byBhY2NvdW50LiBNYXkgY29udGFpbiBjbGFtcCBzZXR0aW5ncyBmb3IgTWVzaGVzIGFuZCBUaWxpbmdTcHJpdGUuXG4gKlxuICogQ2FuIGJlIHVzZWQgaW4gVGV4dHVyZSBgdXZNYXRyaXhgIGZpZWxkLCBvciBzZXBhcmF0ZWx5LCB5b3UgY2FuIHVzZSBkaWZmZXJlbnQgY2xhbXAgc2V0dGluZ3Mgb24gdGhlIHNhbWUgdGV4dHVyZS5cbiAqIElmIHlvdSB3YW50IHRvIGFkZCBzdXBwb3J0IGZvciB0ZXh0dXJlIHJlZ2lvbiBvZiBjZXJ0YWluIGZlYXR1cmUgb3IgZmlsdGVyLCB0aGF0J3Mgd2hhdCB5b3UncmUgbG9va2luZyBmb3IuXG4gKlxuICogVGFrZXMgdHJhY2sgb2YgVGV4dHVyZSBjaGFuZ2VzIHRocm91Z2ggYF9sYXN0VGV4dHVyZUlEYCBwcml2YXRlIGZpZWxkLlxuICogVXNlIGB1cGRhdGUoKWAgbWV0aG9kIGNhbGwgdG8gdHJhY2sgaXQgZnJvbSBvdXRzaWRlLlxuICpcbiAqIEBzZWUgUElYSS5UZXh0dXJlXG4gKiBAc2VlIFBJWEkuTWVzaFxuICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZU1hdHJpeCA9IGZ1bmN0aW9uIFRleHR1cmVNYXRyaXgodGV4dHVyZSwgY2xhbXBNYXJnaW4pXG57XG4gICAgdGhpcy5fdGV4dHVyZSA9IHRleHR1cmU7XG5cbiAgICAvKipcbiAgICAgKiBNYXRyaXggb3BlcmF0aW9uIHRoYXQgY29udmVydHMgdGV4dHVyZSByZWdpb24gY29vcmRzIHRvIHRleHR1cmUgY29vcmRzXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgdGhpcy5tYXBDb29yZCA9IG5ldyBNYXRyaXgoKTtcblxuICAgIC8qKlxuICAgICAqIENsYW1wIHJlZ2lvbiBmb3Igbm9ybWFsaXplZCBjb29yZHMsIGxlZnQtdG9wIHBpeGVsIGNlbnRlciBpbiB4eSAsIGJvdHRvbS1yaWdodCBpbiB6dy5cbiAgICAgKiBDYWxjdWxhdGVkIGJhc2VkIG9uIGNsYW1wT2Zmc2V0LlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLnVDbGFtcEZyYW1lID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcblxuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZWQgY2xhbXAgb2Zmc2V0LlxuICAgICAqIENhbGN1bGF0ZWQgYmFzZWQgb24gY2xhbXBPZmZzZXQuXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMudUNsYW1wT2Zmc2V0ID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcblxuICAgIC8qKlxuICAgICAqIFRyYWNrcyBUZXh0dXJlIGZyYW1lIGNoYW5nZXNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuX3VwZGF0ZUlEID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgKiBDaGFuZ2UgdG8gMS41IGlmIHlvdSB0ZXh0dXJlIGhhcyByZXBlYXRlZCByaWdodCBhbmQgYm90dG9tIGxpbmVzLCB0aGF0IGxlYWRzIHRvIHNtb290aGVyIGJvcmRlcnNcbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jbGFtcE9mZnNldCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmNsYW1wTWFyZ2luID0gKHR5cGVvZiBjbGFtcE1hcmdpbiA9PT0gJ3VuZGVmaW5lZCcpID8gMC41IDogY2xhbXBNYXJnaW47XG5cbiAgICAvKipcbiAgICAgKiBJZiB0ZXh0dXJlIHNpemUgaXMgdGhlIHNhbWUgYXMgYmFzZVRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgdGhpcy5pc1NpbXBsZSA9IGZhbHNlO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQ0ID0geyB0ZXh0dXJlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogdGV4dHVyZSBwcm9wZXJ0eVxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkNC50ZXh0dXJlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkNC50ZXh0dXJlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgIHRoaXMuX3VwZGF0ZUlEID0gLTE7XG59O1xuXG4vKipcbiAqIE11bHRpcGxpZXMgdXZzIGFycmF5IHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHV2cyBtZXNoIHV2c1xuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9dXZzXSBvdXRwdXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IG91dHB1dFxuICovXG5UZXh0dXJlTWF0cml4LnByb3RvdHlwZS5tdWx0aXBseVV2cyA9IGZ1bmN0aW9uIG11bHRpcGx5VXZzICh1dnMsIG91dClcbntcbiAgICBpZiAob3V0ID09PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICBvdXQgPSB1dnM7XG4gICAgfVxuXG4gICAgdmFyIG1hdCA9IHRoaXMubWFwQ29vcmQ7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHV2cy5sZW5ndGg7IGkgKz0gMilcbiAgICB7XG4gICAgICAgIHZhciB4ID0gdXZzW2ldO1xuICAgICAgICB2YXIgeSA9IHV2c1tpICsgMV07XG5cbiAgICAgICAgb3V0W2ldID0gKHggKiBtYXQuYSkgKyAoeSAqIG1hdC5jKSArIG1hdC50eDtcbiAgICAgICAgb3V0W2kgKyAxXSA9ICh4ICogbWF0LmIpICsgKHkgKiBtYXQuZCkgKyBtYXQudHk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogdXBkYXRlcyBtYXRyaWNlcyBpZiB0ZXh0dXJlIHdhcyBjaGFuZ2VkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZT1mYWxzZV0gaWYgdHJ1ZSwgbWF0cmljZXMgd2lsbCBiZSB1cGRhdGVkIGFueSBjYXNlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgaXQgd2FzIHVwZGF0ZWRcbiAqL1xuVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChmb3JjZVVwZGF0ZSlcbntcbiAgICB2YXIgdGV4ID0gdGhpcy5fdGV4dHVyZTtcblxuICAgIGlmICghdGV4IHx8ICF0ZXgudmFsaWQpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFmb3JjZVVwZGF0ZVxuICAgICAgICAmJiB0aGlzLl91cGRhdGVJRCA9PT0gdGV4Ll91cGRhdGVJRClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVJRCA9IHRleC5fdXBkYXRlSUQ7XG5cbiAgICB2YXIgdXZzID0gdGV4Ll91dnM7XG5cbiAgICB0aGlzLm1hcENvb3JkLnNldCh1dnMueDEgLSB1dnMueDAsIHV2cy55MSAtIHV2cy55MCwgdXZzLngzIC0gdXZzLngwLCB1dnMueTMgLSB1dnMueTAsIHV2cy54MCwgdXZzLnkwKTtcblxuICAgIHZhciBvcmlnID0gdGV4Lm9yaWc7XG4gICAgdmFyIHRyaW0gPSB0ZXgudHJpbTtcblxuICAgIGlmICh0cmltKVxuICAgIHtcbiAgICAgICAgdGVtcE1hdC5zZXQob3JpZy53aWR0aCAvIHRyaW0ud2lkdGgsIDAsIDAsIG9yaWcuaGVpZ2h0IC8gdHJpbS5oZWlnaHQsXG4gICAgICAgICAgICAtdHJpbS54IC8gdHJpbS53aWR0aCwgLXRyaW0ueSAvIHRyaW0uaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5tYXBDb29yZC5hcHBlbmQodGVtcE1hdCk7XG4gICAgfVxuXG4gICAgdmFyIHRleEJhc2UgPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgdmFyIGZyYW1lID0gdGhpcy51Q2xhbXBGcmFtZTtcbiAgICB2YXIgbWFyZ2luID0gdGhpcy5jbGFtcE1hcmdpbiAvIHRleEJhc2UucmVzb2x1dGlvbjtcbiAgICB2YXIgb2Zmc2V0ID0gdGhpcy5jbGFtcE9mZnNldDtcblxuICAgIGZyYW1lWzBdID0gKHRleC5fZnJhbWUueCArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgIGZyYW1lWzFdID0gKHRleC5fZnJhbWUueSArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICBmcmFtZVsyXSA9ICh0ZXguX2ZyYW1lLnggKyB0ZXguX2ZyYW1lLndpZHRoIC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgZnJhbWVbM10gPSAodGV4Ll9mcmFtZS55ICsgdGV4Ll9mcmFtZS5oZWlnaHQgLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgdGhpcy51Q2xhbXBPZmZzZXRbMF0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxXaWR0aDtcbiAgICB0aGlzLnVDbGFtcE9mZnNldFsxXSA9IG9mZnNldCAvIHRleEJhc2UucmVhbEhlaWdodDtcblxuICAgIHRoaXMuaXNTaW1wbGUgPSB0ZXguX2ZyYW1lLndpZHRoID09PSB0ZXhCYXNlLndpZHRoXG4gICAgICAgICYmIHRleC5fZnJhbWUuaGVpZ2h0ID09PSB0ZXhCYXNlLmhlaWdodFxuICAgICAgICAmJiB0ZXgucm90YXRlID09PSAwO1xuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQ0ICk7XG5cbi8qKlxuICogVGhpcyBoYW5kbGVzIGEgU3ByaXRlIGFjdGluZyBhcyBhIG1hc2ssIGFzIG9wcG9zZWQgdG8gYSBHcmFwaGljLlxuICpcbiAqIFdlYkdMIG9ubHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZU1hc2tGaWx0ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChGaWx0ZXIpIHtcbiAgICBmdW5jdGlvbiBTcHJpdGVNYXNrRmlsdGVyKHNwcml0ZSlcbiAgICB7XG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIEZpbHRlci5jYWxsKHRoaXMsIHZlcnRleCwgZnJhZ21lbnQpO1xuXG4gICAgICAgIHNwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwcml0ZSBtYXNrXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXNrU3ByaXRlID0gc3ByaXRlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIG1hdHJpeFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG4gICAgfVxuXG4gICAgaWYgKCBGaWx0ZXIgKSBTcHJpdGVNYXNrRmlsdGVyLl9fcHJvdG9fXyA9IEZpbHRlcjtcbiAgICBTcHJpdGVNYXNrRmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEZpbHRlciAmJiBGaWx0ZXIucHJvdG90eXBlICk7XG4gICAgU3ByaXRlTWFza0ZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTcHJpdGVNYXNrRmlsdGVyO1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgcmVuZGVyZXIgdG8gcmV0cmlldmUgdGhlIGZpbHRlciBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXQuXG4gICAgICovXG4gICAgU3ByaXRlTWFza0ZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseSAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpXG4gICAge1xuICAgICAgICB2YXIgbWFza1Nwcml0ZSA9IHRoaXMubWFza1Nwcml0ZTtcbiAgICAgICAgdmFyIHRleCA9IHRoaXMubWFza1Nwcml0ZS50ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4LnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0ZXgudHJhbnNmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBtYXJnaW4gPSAwLjAsIGxldCBpdCBibGVlZCBhIGJpdCwgc2hhZGVyIGNvZGUgYmVjb21lcyBlYXNpZXJcbiAgICAgICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgYXRsYXMgdGV4dHVyZXMgd2VyZSBtYWRlIHdpdGggMS1waXhlbCBwYWRkaW5nXG4gICAgICAgICAgICB0ZXgudHJhbnNmb3JtID0gbmV3IFRleHR1cmVNYXRyaXgodGV4LCAwLjApO1xuICAgICAgICB9XG4gICAgICAgIHRleC50cmFuc2Zvcm0udXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5ucG1BbHBoYSA9IHRleC5iYXNlVGV4dHVyZS5hbHBoYU1vZGUgPyAwLjAgOiAxLjA7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFzayA9IHRleDtcbiAgICAgICAgLy8gZ2V0IF9ub3JtYWxpemVkIHNwcml0ZSB0ZXh0dXJlIGNvb3Jkc18gYW5kIGNvbnZlcnQgdGhlbSB0byBfbm9ybWFsaXplZCBhdGxhcyB0ZXh0dXJlIGNvb3Jkc18gd2l0aCBgcHJlcGVuZGBcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5vdGhlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgbWFza1Nwcml0ZSlcbiAgICAgICAgICAgIC5wcmVwZW5kKHRleC50cmFuc2Zvcm0ubWFwQ29vcmQpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmFscGhhID0gbWFza1Nwcml0ZS53b3JsZEFscGhhO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2tDbGFtcCA9IHRleC50cmFuc2Zvcm0udUNsYW1wRnJhbWU7XG5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgfTtcblxuICAgIHJldHVybiBTcHJpdGVNYXNrRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgbWFza3MuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgTWFza1N5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIE1hc2tTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRhcmdldCB0byBtYXNrXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjaXNzb3JSZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbmFibGUgc2Npc3NvclxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW5hYmxlU2Npc3NvciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIHVzZWQgc3ByaXRlIG1hc2sgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZU1hc2tGaWx0ZXJbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFscGhhTWFza1Bvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBtYXNrIGRhdGFcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXNrRGF0YVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFza0RhdGFQb29sID0gW107XG5cbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBpbmRleCBvZiBhbHBoYSBtYXNrIHBvb2xcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBNYXNrU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXNrU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWFza0RhdGFbXX0gbWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5zZXRNYXNrU3RhY2sgPSBmdW5jdGlvbiBzZXRNYXNrU3RhY2sgKG1hc2tTdGFjaylcbiAgICB7XG4gICAgICAgIHRoaXMubWFza1N0YWNrID0gbWFza1N0YWNrO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3Iuc2V0TWFza1N0YWNrKG1hc2tTdGFjayk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2sobWFza1N0YWNrKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICogUmVuZGVyZXIgYmF0Y2ggbXVzdCBiZSBmbHVzaGVkIGJlZm9yZWhhbmQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YXxQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfFBJWEkuRGlzcGxheU9iamVjdH0gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoICh0YXJnZXQsIG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgaWYgKCFtYXNrRGF0YS5pc01hc2tEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZCA9IHRoaXMubWFza0RhdGFQb29sLnBvcCgpIHx8IG5ldyBNYXNrRGF0YSgpO1xuXG4gICAgICAgICAgICBkLnBvb2xlZCA9IHRydWU7XG4gICAgICAgICAgICBkLm1hc2tPYmplY3QgPSBtYXNrRGF0YTtcbiAgICAgICAgICAgIG1hc2tEYXRhID0gZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXNrRGF0YS5hdXRvRGV0ZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRldGVjdChtYXNrRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBtYXNrRGF0YS5jb3B5Q291bnRlcnNPclJlc2V0KHRoaXMubWFza1N0YWNrW3RoaXMubWFza1N0YWNrLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgbWFza0RhdGEuX3RhcmdldCA9IHRhcmdldDtcblxuICAgICAgICBzd2l0Y2ggKG1hc2tEYXRhLnR5cGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TQ0lTU09SOlxuICAgICAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2Npc3Nvci5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TVEVOQ0lMOlxuICAgICAgICAgICAgICAgIHRoaXMubWFza1N0YWNrLnB1c2gobWFza0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTUFTS19UWVBFUy5TUFJJVEU6XG4gICAgICAgICAgICAgICAgbWFza0RhdGEuY29weUNvdW50ZXJzT3JSZXNldChudWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hTcHJpdGVNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2tTdGFjay5wdXNoKG1hc2tEYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIG1hc2sgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqIFJlbmRlcmVyIGJhdGNoIG11c3QgYmUgZmx1c2hlZCBiZWZvcmVoYW5kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHBvcCB0aGUgbWFzayBmcm9tXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gcG9wICh0YXJnZXQpXG4gICAge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFjay5wb3AoKTtcblxuICAgICAgICBpZiAoIW1hc2tEYXRhIHx8IG1hc2tEYXRhLl90YXJnZXQgIT09IHRhcmdldClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETzogYWRkIGFuIGFzc2VydCB3aGVuIHdlIGhhdmUgaXRcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChtYXNrRGF0YS50eXBlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU0NJU1NPUjpcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjaXNzb3IucG9wKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1BU0tfVFlQRVMuU1RFTkNJTDpcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucG9wKG1hc2tEYXRhLm1hc2tPYmplY3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNQVNLX1RZUEVTLlNQUklURTpcbiAgICAgICAgICAgICAgICB0aGlzLnBvcFNwcml0ZU1hc2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBtYXNrRGF0YS5yZXNldCgpO1xuXG4gICAgICAgIGlmIChtYXNrRGF0YS5wb29sZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWFza0RhdGFQb29sLnB1c2gobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdHlwZSBvZiBNYXNrRGF0YSBiYXNlZCBvbiBpdHMgbWFza09iamVjdFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGFcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiBkZXRlY3QgKG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuXG4gICAgICAgIGlmIChtYXNrT2JqZWN0LmlzU3ByaXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TUFJJVEU7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtYXNrRGF0YS50eXBlID0gTUFTS19UWVBFUy5TVEVOQ0lMO1xuICAgICAgICAvLyBkZXRlY3Qgc2Npc3NvciBpbiBncmFwaGljc1xuICAgICAgICBpZiAodGhpcy5lbmFibGVTY2lzc29yXG4gICAgICAgICAgICAmJiBtYXNrT2JqZWN0LmlzRmFzdFJlY3RcbiAgICAgICAgICAgICYmIG1hc2tPYmplY3QuaXNGYXN0UmVjdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbWF0cml4ID0gbWFza09iamVjdC53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgLy8gVE9ETzogbW92ZSB0aGUgY2hlY2sgdG8gdGhlIG1hdHJpeCBpdHNlbGZcbiAgICAgICAgICAgIC8vIHdlIGFyZSBjaGVja2luZyB0aGF0IGl0cyBvcnRob2dvbmFsIGFuZCB4IHJvdGF0aW9uIGlzIDAgOTAgMTgwIG9yIDI3MFxuXG4gICAgICAgICAgICB2YXIgcm90WCA9IE1hdGguYXRhbjIobWF0cml4LmIsIG1hdHJpeC5hKTtcbiAgICAgICAgICAgIHZhciByb3RYWSA9IE1hdGguYXRhbjIobWF0cml4LmQsIG1hdHJpeC5jKTtcblxuICAgICAgICAgICAgLy8gdXNlIHRoZSBuZWFyZXN0IGRlZ3JlZSB0byAwLjAxXG4gICAgICAgICAgICByb3RYID0gTWF0aC5yb3VuZChyb3RYICogKDE4MCAvIE1hdGguUEkpICogMTAwKTtcbiAgICAgICAgICAgIHJvdFhZID0gTWF0aC5yb3VuZChyb3RYWSAqICgxODAgLyBNYXRoLlBJKSAqIDEwMCkgLSByb3RYO1xuXG4gICAgICAgICAgICByb3RYID0gKChyb3RYICUgOTAwMCkgKyA5MDAwKSAlIDkwMDA7XG4gICAgICAgICAgICByb3RYWSA9ICgocm90WFkgJSAxODAwMCkgKyAxODAwMCkgJSAxODAwMDtcblxuICAgICAgICAgICAgaWYgKHJvdFggPT09IDAgJiYgcm90WFkgPT09IDkwMDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWFza0RhdGEudHlwZSA9IE1BU0tfVFlQRVMuU0NJU1NPUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGEgLSBTcHJpdGUgdG8gYmUgdXNlZCBhcyB0aGUgbWFza1xuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnB1c2hTcHJpdGVNYXNrID0gZnVuY3Rpb24gcHVzaFNwcml0ZU1hc2sgKG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuICAgICAgICB2YXIgdGFyZ2V0ID0gbWFza0RhdGEuX3RhcmdldDtcbiAgICAgICAgdmFyIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XTtcblxuICAgICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdID0gW25ldyBTcHJpdGVNYXNrRmlsdGVyKG1hc2tPYmplY3QpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5yZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ubWFza1Nwcml0ZSA9IG1hc2tPYmplY3Q7XG5cbiAgICAgICAgdmFyIHN0YXNoRmlsdGVyQXJlYSA9IHRhcmdldC5maWx0ZXJBcmVhO1xuXG4gICAgICAgIHRhcmdldC5maWx0ZXJBcmVhID0gbWFza09iamVjdC5nZXRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyLnB1c2godGFyZ2V0LCBhbHBoYU1hc2tGaWx0ZXIpO1xuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IHN0YXNoRmlsdGVyQXJlYTtcblxuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4Kys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucG9wU3ByaXRlTWFzayA9IGZ1bmN0aW9uIHBvcFNwcml0ZU1hc2sgKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4LS07XG4gICAgfTtcblxuICAgIHJldHVybiBNYXNrU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgbWFza3Mgb2YgY2VydGFpbiB0eXBlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgQWJzdHJhY3RNYXNrU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNYXNrU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFzayBzdGFja1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tEYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdGFudCBmb3IgZ2wuZW5hYmxlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xDb25zdCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBBYnN0cmFjdE1hc2tTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0gJiYgU3lzdGVtLnByb3RvdHlwZSApO1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdE1hc2tTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBnZXRzIGNvdW50IG9mIG1hc2tzIG9mIGNlcnRhaW4gdHlwZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgQWJzdHJhY3RNYXNrU3lzdGVtLnByb3RvdHlwZS5nZXRTdGFja0xlbmd0aCA9IGZ1bmN0aW9uIGdldFN0YWNrTGVuZ3RoICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXNrU3RhY2subGVuZ3RoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBtYXNrIHN0YWNrIHRoYXQgaXMgdXNlZCBieSB0aGlzIFN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YVtdfSBtYXNrU3RhY2sgLSBUaGUgbWFzayBzdGFja1xuICAgICAqL1xuICAgIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUuc2V0TWFza1N0YWNrID0gZnVuY3Rpb24gc2V0TWFza1N0YWNrIChtYXNrU3RhY2spXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuICAgICAgICB2YXIgY3VyU3RhY2tMZW4gPSB0aGlzLmdldFN0YWNrTGVuZ3RoKCk7XG5cbiAgICAgICAgdGhpcy5tYXNrU3RhY2sgPSBtYXNrU3RhY2s7XG5cbiAgICAgICAgdmFyIG5ld1N0YWNrTGVuID0gdGhpcy5nZXRTdGFja0xlbmd0aCgpO1xuXG4gICAgICAgIGlmIChuZXdTdGFja0xlbiAhPT0gY3VyU3RhY2tMZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChuZXdTdGFja0xlbiA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKHRoaXMuZ2xDb25zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlKHRoaXMuZ2xDb25zdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBtYXNrIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gX3VzZUN1cnJlbnQgKClcbiAgICB7XG4gICAgICAgIC8vIE9WRVJXUklURTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIG1hc2sgc3RhY2suXG4gICAgICpcbiAgICAgKi9cbiAgICBBYnN0cmFjdE1hc2tTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICBTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCB0aGlzKTtcblxuICAgICAgICB0aGlzLm1hc2tTdGFjayA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBBYnN0cmFjdE1hc2tTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzY2lzc29yIHJlY3RzICh1c2VkIGZvciBtYXNrcykuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgU2Npc3NvclN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEFic3RyYWN0TWFza1N5c3RlbSkge1xuICAgIGZ1bmN0aW9uIFNjaXNzb3JTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBBYnN0cmFjdE1hc2tTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5nbENvbnN0ID0gV2ViR0xSZW5kZXJpbmdDb250ZXh0LlNDSVNTT1JfVEVTVDtcbiAgICB9XG5cbiAgICBpZiAoIEFic3RyYWN0TWFza1N5c3RlbSApIFNjaXNzb3JTeXN0ZW0uX19wcm90b19fID0gQWJzdHJhY3RNYXNrU3lzdGVtO1xuICAgIFNjaXNzb3JTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQWJzdHJhY3RNYXNrU3lzdGVtICYmIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNjaXNzb3JTeXN0ZW07XG5cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5nZXRTdGFja0xlbmd0aCA9IGZ1bmN0aW9uIGdldFN0YWNrTGVuZ3RoICgpXG4gICAge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAobWFza0RhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBtYXNrRGF0YS5fc2Npc3NvckNvdW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLiBAYWx2aW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXNrRGF0YX0gbWFza0RhdGEgLSBUaGUgbWFzayBkYXRhXG4gICAgICovXG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2ggKG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tPYmplY3QgPSBtYXNrRGF0YS5tYXNrT2JqZWN0O1xuXG4gICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG5cbiAgICAgICAgdmFyIHByZXZEYXRhID0gbWFza0RhdGEuX3NjaXNzb3JSZWN0O1xuICAgICAgICB2YXIgYm91bmRzID0gbWFza09iamVjdC5nZXRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHZhciByZWYgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHByZXZEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBib3VuZHMuZml0KHByZXZEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFza0RhdGEuX3NjaXNzb3JDb3VudGVyKys7XG4gICAgICAgIG1hc2tEYXRhLl9zY2lzc29yUmVjdCA9IGJvdW5kcztcbiAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3BzIHNjaXNzb3IgbWFzay4gTWFza0RhdGEgaXMgYWxyZWFkeSByZW1vdmVkIGZyb20gc3RhY2tcbiAgICAgKi9cbiAgICBTY2lzc29yU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiBwb3AgKClcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCByZW5kZXJlciB0byB1c2UgdGhlIGN1cnJlbnQgc2Npc3NvciBkYXRhLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2Npc3NvclN5c3RlbS5wcm90b3R5cGUuX3VzZUN1cnJlbnQgPSBmdW5jdGlvbiBfdXNlQ3VycmVudCAoKVxuICAgIHtcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXS5fc2Npc3NvclJlY3Q7XG4gICAgICAgIHZhciBydCA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgICAgICB2YXIgcmVmID0gdGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gcmVmLnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHNvdXJjZUZyYW1lID0gcmVmLnNvdXJjZUZyYW1lO1xuICAgICAgICB2YXIgZGVzdGluYXRpb25GcmFtZSA9IHJlZi5kZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHJ0ID8gcnQucmVzb2x1dGlvbiA6IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHggPSAoKHJlY3QueCAtIHNvdXJjZUZyYW1lLngpICogcmVzb2x1dGlvbikgKyBkZXN0aW5hdGlvbkZyYW1lLng7XG4gICAgICAgIHZhciB5ID0gKChyZWN0LnkgLSBzb3VyY2VGcmFtZS55KSAqIHJlc29sdXRpb24pICsgZGVzdGluYXRpb25GcmFtZS55O1xuICAgICAgICB2YXIgd2lkdGggPSByZWN0LndpZHRoICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJlY3QuaGVpZ2h0ICogcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAodHJhbnNmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICB4ICs9IHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb247XG4gICAgICAgICAgICB5ICs9IHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFydClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZmxpcFkuIEluIGZ1dHVyZSB3ZSdsbCBoYXZlIGl0IG92ZXIgcmVuZGVyVGV4dHVyZXMgYXMgYW4gb3B0aW9uXG4gICAgICAgICAgICB5ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLSBoZWlnaHQgLSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2Npc3NvclN5c3RlbTtcbn0oQWJzdHJhY3RNYXNrU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHN0ZW5jaWxzICh1c2VkIGZvciBtYXNrcykuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgU3RlbmNpbFN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEFic3RyYWN0TWFza1N5c3RlbSkge1xuICAgIGZ1bmN0aW9uIFN0ZW5jaWxTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBBYnN0cmFjdE1hc2tTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5nbENvbnN0ID0gV2ViR0xSZW5kZXJpbmdDb250ZXh0LlNURU5DSUxfVEVTVDtcbiAgICB9XG5cbiAgICBpZiAoIEFic3RyYWN0TWFza1N5c3RlbSApIFN0ZW5jaWxTeXN0ZW0uX19wcm90b19fID0gQWJzdHJhY3RNYXNrU3lzdGVtO1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQWJzdHJhY3RNYXNrU3lzdGVtICYmIEFic3RyYWN0TWFza1N5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0ZW5jaWxTeXN0ZW07XG5cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5nZXRTdGFja0xlbmd0aCA9IGZ1bmN0aW9uIGdldFN0YWNrTGVuZ3RoICgpXG4gICAge1xuICAgICAgICB2YXIgbWFza0RhdGEgPSB0aGlzLm1hc2tTdGFja1t0aGlzLm1hc2tTdGFjay5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAobWFza0RhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBtYXNrRGF0YS5fc3RlbmNpbENvdW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hc2tEYXRhfSBtYXNrRGF0YSAtIFRoZSBtYXNrIGRhdGFcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAobWFza0RhdGEpXG4gICAge1xuICAgICAgICB2YXIgbWFza09iamVjdCA9IG1hc2tEYXRhLm1hc2tPYmplY3Q7XG4gICAgICAgIHZhciByZWYgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG4gICAgICAgIHZhciBwcmV2TWFza0NvdW50ID0gbWFza0RhdGEuX3N0ZW5jaWxDb3VudGVyO1xuXG4gICAgICAgIGlmIChwcmV2TWFza0NvdW50ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBmb3JjZSB1c2Ugc3RlbmNpbCB0ZXh0dXJlIGluIGN1cnJlbnQgZnJhbWVidWZmZXJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuZm9yY2VTdGVuY2lsKCk7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hc2tEYXRhLl9zdGVuY2lsQ291bnRlcisrO1xuXG4gICAgICAgIC8vIEluY3JlbWVudCB0aGUgcmVmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIG5ldyBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG9sZCBvbmVzLlxuICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgcHJldk1hc2tDb3VudCwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5JTkNSKTtcblxuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcHMgc3RlbmNpbCBtYXNrLiBNYXNrRGF0YSBpcyBhbHJlYWR5IHJlbW92ZWQgZnJvbSBzdGFja1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG1hc2tPYmplY3QgLSBvYmplY3Qgb2YgcG9wcGVkIG1hc2sgZGF0YVxuICAgICAqL1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAobWFza09iamVjdClcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhY2tMZW5ndGgoKSA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhlIHN0YWNrIGlzIGVtcHR5IVxuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyU3RlbmNpbCgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIERlY3JlbWVudCB0aGUgcmVmZXJlbmNlIHN0ZW5jaWwgdmFsdWUgd2hlcmUgdGhlIHBvcHBlZCBtYXNrIG92ZXJsYXBzIHdpdGggdGhlIG90aGVyIG9uZXNcbiAgICAgICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuREVDUik7XG5cbiAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICBtYXNrT2JqZWN0LnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHN0ZW5jaWwgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gX3VzZUN1cnJlbnQgKClcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wuY29sb3JNYXNrKHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgdGhpcy5nZXRTdGFja0xlbmd0aCgpLCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLktFRVApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaWxsIDFzIGVxdWFsIHRvIHRoZSBudW1iZXIgb2YgYWNpdHZlIHN0ZW5jaWwgbWFza3MuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBiaXR3aXNlIG1hc2suXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuX2dldEJpdHdpc2VNYXNrID0gZnVuY3Rpb24gX2dldEJpdHdpc2VNYXNrICgpXG4gICAge1xuICAgICAgICByZXR1cm4gKDEgPDwgdGhpcy5nZXRTdGFja0xlbmd0aCgpKSAtIDE7XG4gICAgfTtcblxuICAgIHJldHVybiBTdGVuY2lsU3lzdGVtO1xufShBYnN0cmFjdE1hc2tTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIHByb2plY3Rpb24gbWF0cml4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuXG52YXIgUHJvamVjdGlvblN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIFByb2plY3Rpb25TeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBkZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRGcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2plY3QgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB0cmFuc2Zvcm0gdGhhdCB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAgICAgKiBpZiBudWxsLCBub3RoaW5nIHdpbGwgYmUgYXBwbGllZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFByb2plY3Rpb25TeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBQcm9qZWN0aW9uU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByb2plY3Rpb25TeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBiYXNlZCBvbiBhIHByb2plY3Rpb24gZnJhbWUgKHdoaWNoIGlzIGEgcmVjdGFuZ2xlKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc29sdXRpb24gLSBSZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb290IC0gSWYgaXMgcm9vdFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHJvb3QpXG4gICAge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlZmF1bHRGcmFtZTtcbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IHRoaXMuc291cmNlRnJhbWUgfHwgZGVzdGluYXRpb25GcmFtZTtcblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24odGhpcy5kZXN0aW5hdGlvbkZyYW1lLCB0aGlzLnNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KTtcblxuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeC5hcHBlbmQodGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gIHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgICAgICAvLyBidXQgd291bGQgYmUgc3dlZXQgdG8gc3RpY2sgYW5kIGV2ZW4gb24gdGhlIGdsb2JhbCB1bmlmb3Jtcy4uXG4gICAgICAgIGlmIChyZW5kZXJlci5zaGFkZXIuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cChyZW5kZXJlci5zaGFkZXIuc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHByb2plY3Rpb24gbWF0cml4IGJhc2VkIG9uIGEgcHJvamVjdGlvbiBmcmFtZSAod2hpY2ggaXMgYSByZWN0YW5nbGUpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzb2x1dGlvbiAtIFJlc29sdXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvb3QgLSBJZiBpcyByb290XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuY2FsY3VsYXRlUHJvamVjdGlvbiA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVByb2plY3Rpb24gKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KVxuICAgIHtcbiAgICAgICAgdmFyIHBtID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuXG4gICAgICAgIC8vIEkgZG9uJ3QgdGhpbmsgd2Ugd2lsbCBuZWVkIHRoaXMgbGluZS4uXG4gICAgICAgIC8vIHBtLmlkZW50aXR5KCk7XG5cbiAgICAgICAgaWYgKCFyb290KVxuICAgICAgICB7XG4gICAgICAgICAgICBwbS5hID0gKDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMikgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcG0uZCA9ICgxIC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiAyKSAqIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgIHBtLnR4ID0gLTEgLSAoc291cmNlRnJhbWUueCAqIHBtLmEpO1xuICAgICAgICAgICAgcG0udHkgPSAtMSAtIChzb3VyY2VGcmFtZS55ICogcG0uZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBwbS5hID0gKDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMikgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcG0uZCA9ICgtMSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogMikgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBwbS50eCA9IC0xIC0gKHNvdXJjZUZyYW1lLnggKiBwbS5hKTtcbiAgICAgICAgICAgIHBtLnR5ID0gMSAtIChzb3VyY2VGcmFtZS55ICogcG0uZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdHJhbnNmb3JtIG9mIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCB0byB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtICgpLy8gbWF0cml4KVxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFByb2plY3Rpb25TeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgdGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHJlbmRlciB0ZXh0dXJlcy5cbiAqXG4gKiBTaG91bGQgYmUgYWRkZWQgYWZ0ZXIgRnJhbWVidWZmZXJTeXN0ZW1cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cblxudmFyIFJlbmRlclRleHR1cmVTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xlYXIgYmFja2dyb3VuZCBjb2xvciBhcyByZ2JhXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhckNvbG9yID0gcmVuZGVyZXIuX2JhY2tncm91bmRDb2xvclJnYmE7XG5cbiAgICAgICAgLy8gVE9ETyBtb3ZlIHRoaXMgcHJvcGVydHkgc29tZXdoZXJlIGVsc2UhXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIG1hc2tzIGZvciB0aGUgU3RlbmNpbFN5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0TWFza1N0YWNrID0gW107XG5cbiAgICAgICAgLy8gZW1wdHkgcmVuZGVyIHRleHR1cmU/XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFJlbmRlclRleHR1cmVTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlbmRlclRleHR1cmVTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoZSBjdXJyZW50IHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIFJlbmRlclRleHR1cmUgdG8gYmluZCwgYnkgZGVmYXVsdCBpdHMgYG51bGxgLCB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3NvdXJjZUZyYW1lXSAtIHBhcnQgb2Ygc2NyZWVuIHRoYXQgaXMgbWFwcGVkIHRvIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2Rlc3RpbmF0aW9uRnJhbWVdIC0gcGFydCBvZiByZW5kZXJUZXh0dXJlLCBieSBkZWZhdWx0IGl0IGhhcyB0aGUgc2FtZSBzaXplIGFzIHNvdXJjZUZyYW1lXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKHJlbmRlclRleHR1cmUsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKVxuICAgIHtcbiAgICAgICAgaWYgKCByZW5kZXJUZXh0dXJlID09PSB2b2lkIDAgKSByZW5kZXJUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmN1cnJlbnQgPSByZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgdmFyIHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcblxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmluZChiYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlciwgZGVzdGluYXRpb25GcmFtZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi51cGRhdGUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIubWFzay5zZXRNYXNrU3RhY2soYmFzZVRleHR1cmUubWFza1N0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIC8vIFRPRE8gdGhlc2UgdmFsaWRhdGlvbiBjaGVja3MgaGFwcGVuIGRlZXBlciBkb3duLi5cbiAgICAgICAgICAgIC8vIHRoaW5nIHRoZXkgY2FuIGJlIGF2b2lkZWQuLlxuICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbkZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gcmVuZGVyZXIuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZSA9IHRlbXBSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXNvdXJjZUZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNvdXJjZUZyYW1lID0gZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVuZGVyZXIuZnJhbWVidWZmZXIuYmluZChudWxsLCBkZXN0aW5hdGlvbkZyYW1lKTtcblxuICAgICAgICAgICAgLy8gVE9ETyBzdG9yZSB0aGlzLi5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi51cGRhdGUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5tYXNrLnNldE1hc2tTdGFjayh0aGlzLmRlZmF1bHRNYXNrU3RhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZS5jb3B5RnJvbShzb3VyY2VGcmFtZSk7XG5cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnggPSBkZXN0aW5hdGlvbkZyYW1lLnggLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUueSA9IGRlc3RpbmF0aW9uRnJhbWUueSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHNvdXJjZUZyYW1lID09PSBkZXN0aW5hdGlvbkZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUZyYW1lLmNvcHlGcm9tKHRoaXMuZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2VzIHRoZSByZW5kZXIgdGV4dHVyZSBhbmQgZmlsbHMgdGhlIGRyYXdpbmcgYXJlYSB3aXRoIGEgY29sb3VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbY2xlYXJDb2xvcl0gLSBUaGUgY29sb3IgYXMgcmdiYSwgZGVmYXVsdCB0byB1c2UgdGhlIHJlbmRlcmVyIGJhY2tncm91bmRDb2xvclxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKGNsZWFyQ29sb3IpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmN1cnJlbnQuYmFzZVRleHR1cmUuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuY2xlYXIoY2xlYXJDb2xvclswXSwgY2xlYXJDb2xvclsxXSwgY2xlYXJDb2xvclsyXSwgY2xlYXJDb2xvclszXSk7XG4gICAgfTtcblxuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAoKS8vIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpXG4gICAge1xuICAgICAgICAvLyByZXNpemUgdGhlIHJvb3Qgb25seSFcbiAgICAgICAgdGhpcy5iaW5kKG51bGwpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgcmVuZGVyVGV4dHVyZSBzdGF0ZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBQcm9ncmFtXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR0xQcm9ncmFtID0gZnVuY3Rpb24gR0xQcm9ncmFtKHByb2dyYW0sIHVuaWZvcm1EYXRhKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBzaGFkZXIgcHJvZ3JhbVxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xQcm9ncmFtfVxuICAgICAqL1xuICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG5cbiAgICAvKipcbiAgICAgKiBob2xkcyB0aGUgdW5pZm9ybSBkYXRhIHdoaWNoIGNvbnRhaW5zIHVuaWZvcm0gbG9jYXRpb25zXG4gICAgICogYW5kIGN1cnJlbnQgdW5pZm9ybSB2YWx1ZXMgdXNlZCBmb3IgY2FjaGluZyBhbmQgcHJldmVudGluZyB1bm5lZWRlZCBHUFUgY29tbWFuZHNcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy51bmlmb3JtRGF0YSA9IHVuaWZvcm1EYXRhO1xuXG4gICAgLyoqXG4gICAgICogdW5pZm9ybUdyb3VwcyBob2xkcyB0aGUgdmFyaW91cyB1cGxvYWQgZnVuY3Rpb25zIGZvciB0aGUgc2hhZGVyLiBFYWNoIHVuaWZvcm0gZ3JvdXBcbiAgICAgKiBhbmQgcHJvZ3JhbSBoYXZlIGEgdW5pcXVlIHVwbG9hZCBmdW5jdGlvbiBnZW5lcmF0ZWQuXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IHt9O1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGlzIHByb2dyYW1cbiAqL1xuR0xQcm9ncmFtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMudW5pZm9ybURhdGEgPSBudWxsO1xuICAgIHRoaXMudW5pZm9ybUdyb3VwcyA9IG51bGw7XG4gICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcbn07XG5cbnZhciBVSUQkNCA9IDA7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHNoYWRlcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgU2hhZGVyU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gU2hhZGVyU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIFZhbGlkYXRpb24gY2hlY2sgdGhhdCB0aGlzIGVudmlyb25tZW50IHN1cHBvcnQgYG5ldyBGdW5jdGlvbmBcbiAgICAgICAgdGhpcy5zeXN0ZW1DaGVjaygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIHRvIGhvbGRzIHRoZSBnZW5lcmF0ZWQgZnVuY3Rpb25zLiBTdG9yZWQgYWdhaW5zdCBVbmlmb3JtT2JqZWN0cyB1bmlxdWUgc2lnbmF0dXJlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlID0ge307XG5cbiAgICAgICAgdGhpcy5pZCA9IFVJRCQ0Kys7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBTaGFkZXJTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0gJiYgU3lzdGVtLnByb3RvdHlwZSApO1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTaGFkZXJTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZWFibGUgZnVuY3Rpb24gYnkgYEBwaXhpL3Vuc2FmZS1ldmFsYCB0byBzaWxlbmNlXG4gICAgICogdGhyb3dpbmcgYW4gZXJyb3IgaWYgcGxhdGZvcm0gZG9lc24ndCBzdXBwb3J0IHVuc2FmZS1ldmFscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeXN0ZW1DaGVjayA9IGZ1bmN0aW9uIHN5c3RlbUNoZWNrICgpXG4gICAge1xuICAgICAgICBpZiAoIXVuc2FmZUV2YWxTdXBwb3J0ZWQoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IGFsbG93IHVuc2FmZS1ldmFsLCAnXG4gICAgICAgICAgICAgICAgKyAncGxlYXNlIHVzZSBAcGl4aS91bnNhZmUtZXZhbCBtb2R1bGUgdG8gZW5hYmxlIHN1cHBvcnQuJyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoZ2wpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCBzaGFkZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIHRoZSBuZXcgc2hhZGVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkb250U3luYyAtIGZhbHNlIGlmIHRoZSBzaGFkZXIgc2hvdWxkIGF1dG9tYXRpY2FsbHkgc3luYyBpdHMgdW5pZm9ybXMuXG4gICAgICogQHJldHVybnMge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIHRoYXQgYmVsb25ncyB0byB0aGUgc2hhZGVyLlxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKHNoYWRlciwgZG9udFN5bmMpXG4gICAge1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMuZ2xvYmFscyA9IHRoaXMucmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXM7XG5cbiAgICAgICAgdmFyIHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmdlbmVyYXRlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG5cbiAgICAgICAgLy8gVE9ETyAtIHNvbWUgY3VycmVudCBQaXhpIHBsdWdpbnMgYnlwYXNzIHRoaXMuLiBzbyBpdCBub3Qgc2FmZSB0byB1c2UgeWV0Li5cbiAgICAgICAgaWYgKHRoaXMucHJvZ3JhbSAhPT0gcHJvZ3JhbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShnbFByb2dyYW0ucHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRvbnRTeW5jKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN5bmNVbmlmb3JtR3JvdXAoc2hhZGVyLnVuaWZvcm1Hcm91cCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB1bmlmb3JtcyB2YWx1ZXMgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdW5pZm9ybXMgLSB0aGUgdW5pZm9ybXMgdmFsdWVzIHRoYXQgYmUgYXBwbGllZCB0byB0aGUgY3VycmVudCBzaGFkZXJcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnNldFVuaWZvcm1zID0gZnVuY3Rpb24gc2V0VW5pZm9ybXMgKHVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBzaGFkZXIuZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBzaGFkZXIuc3luY1VuaWZvcm1zKGdsUHJvZ3JhbS51bmlmb3JtRGF0YSwgdW5pZm9ybXMsIHRoaXMucmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5bmNVbmlmb3JtR3JvdXAgPSBmdW5jdGlvbiBzeW5jVW5pZm9ybUdyb3VwIChncm91cClcbiAgICB7XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSB0aGlzLmdldGdsUHJvZ3JhbSgpO1xuXG4gICAgICAgIGlmICghZ3JvdXAuc3RhdGljIHx8IGdyb3VwLmRpcnR5SWQgIT09IGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdID0gZ3JvdXAuZGlydHlJZDtcblxuICAgICAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMoZ3JvdXAsIGdsUHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGJ5IHRoZSBAcGl4aS91bnNhZmUtZXZhbCBwYWNrYWdlIHRvIHVzZSBzdGF0aWNcbiAgICAgKiBzeW5jVW5mb3JtcyBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5bmNVbmlmb3JtcyA9IGZ1bmN0aW9uIHN5bmNVbmlmb3JtcyAoZ3JvdXAsIGdsUHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIHZhciBzeW5jRnVuYyA9IGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXSB8fCB0aGlzLmNyZWF0ZVN5bmNHcm91cHMoZ3JvdXApO1xuXG4gICAgICAgIHN5bmNGdW5jKGdsUHJvZ3JhbS51bmlmb3JtRGF0YSwgZ3JvdXAudW5pZm9ybXMsIHRoaXMucmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmNyZWF0ZVN5bmNHcm91cHMgPSBmdW5jdGlvbiBjcmVhdGVTeW5jR3JvdXBzIChncm91cClcbiAgICB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuZ2V0U2lnbmF0dXJlKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhKTtcblxuICAgICAgICBpZiAoIXRoaXMuY2FjaGVbaWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlW2lkXSA9IGdlbmVyYXRlVW5pZm9ybXNTeW5jKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXSA9IHRoaXMuY2FjaGVbaWRdO1xuXG4gICAgICAgIHJldHVybiBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgdW5pZm9ybSBncm91cCBhbmQgZGF0YSBhbmQgZ2VuZXJhdGVzIGEgdW5pcXVlIHNpZ25hdHVyZSBmb3IgdGhlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Vbmlmb3JtR3JvdXB9IGdyb3VwIHRoZSB1bmlmb3JtIGdyb3VwIHRvIGdldCBzaWduYXR1cmUgb2ZcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybURhdGEgdW5pZm9ybSBpbmZvcm1hdGlvbiBnZW5lcmF0ZWQgYnkgdGhlIHNoYWRlclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFVuaXF1ZSBzaWduYXR1cmUgb2YgdGhlIHVuaWZvcm0gZ3JvdXBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gZ2V0U2lnbmF0dXJlIChncm91cCwgdW5pZm9ybURhdGEpXG4gICAge1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSBncm91cC51bmlmb3JtcztcblxuICAgICAgICB2YXIgc3RyaW5ncyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgaW4gdW5pZm9ybXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0cmluZ3MucHVzaChpKTtcblxuICAgICAgICAgICAgaWYgKHVuaWZvcm1EYXRhW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZ3MucHVzaCh1bmlmb3JtRGF0YVtpXS50eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyBHTFNoYWRlIHJvZiB0aGUgY3VycmVudGx5IGJvdW5kIHNoYWRlci5cbiAgICAgKiBUaGlzIGNhbiBiZSBoYW5keSBmb3Igd2hlbiB5b3UgdG8gaGF2ZSBhIGxpdHRsZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgc2V0dGluZyBvZiB5b3VyIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HTFByb2dyYW19IHRoZSBnbFByb2dyYW0gZm9yIHRoZSBjdXJyZW50bHkgYm91bmQgU2hhZGVyIGZvciB0aGlzIGNvbnRleHRcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdldGdsUHJvZ3JhbSA9IGZ1bmN0aW9uIGdldGdsUHJvZ3JhbSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIucHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGdsUHJvZ3JhbSB2ZXJzaW9uIG9mIHRoZSBTaGFkZXIgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciB0aGUgc2hhZGVyIHRoYXQgdGhlIGdsUHJvZ3JhbSB3aWxsIGJlIGJhc2VkIG9uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0xQcm9ncmFtfSBBIHNoaW55IG5ldyBnbFByb2dyYW0hXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZW5lcmF0ZVNoYWRlciA9IGZ1bmN0aW9uIGdlbmVyYXRlU2hhZGVyIChzaGFkZXIpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIHZhciBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG5cbiAgICAgICAgdmFyIGF0dHJpYk1hcCA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgaW4gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJNYXBbaV0gPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbaV0ubG9jYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2hhZGVyUHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCBwcm9ncmFtLnZlcnRleFNyYywgcHJvZ3JhbS5mcmFnbWVudFNyYywgYXR0cmliTWFwKTtcbiAgICAgICAgdmFyIHVuaWZvcm1EYXRhID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgaSQxIGluIHByb2dyYW0udW5pZm9ybURhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gcHJvZ3JhbS51bmlmb3JtRGF0YVtpJDFdO1xuXG4gICAgICAgICAgICB1bmlmb3JtRGF0YVtpJDFdID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgaSQxKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKGRhdGEudHlwZSwgZGF0YS5zaXplKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gbmV3IEdMUHJvZ3JhbShzaGFkZXJQcm9ncmFtLCB1bmlmb3JtRGF0YSk7XG5cbiAgICAgICAgcHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xQcm9ncmFtO1xuXG4gICAgICAgIHJldHVybiBnbFByb2dyYW07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBTaGFkZXJTeXN0ZW0gc3RhdGUsIGRvZXMgbm90IGFmZmVjdCBXZWJHTCBzdGF0ZVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIFN5c3RlbSBhbmQgcmVtb3ZlcyBhbGwgaXRzIHRleHR1cmVzXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyBpbXBsZW1lbnQgZGVzdHJveSBtZXRob2QgZm9yIFNoYWRlclN5c3RlbVxuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcblxuICAgIHJldHVybiBTaGFkZXJTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIE1hcHMgZ2wgYmxlbmQgY29tYmluYXRpb25zIHRvIFdlYkdMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJbXVtdfSBbYXJyYXk9W11dIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7bnVtYmVyW11bXX0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wsIGFycmF5KVxue1xuICAgIGlmICggYXJyYXkgPT09IHZvaWQgMCApIGFycmF5ID0gW107XG5cbiAgICAvLyBUT0RPIC0gcHJlbXVsdGlwbHkgYWxwaGEgd291bGQgYmUgZGlmZmVyZW50LlxuICAgIC8vIGFkZCBhIGJvb2xlYW4gZm9yIHRoYXQhXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9STUFMXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkFERF0gPSBbZ2wuT05FLCBnbC5PTkVdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk1VTFRJUExZXSA9IFtnbC5EU1RfQ09MT1IsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuT1ZFUkxBWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EQVJLRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTElHSFRFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9CVVJOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkhBUkRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU09GVF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5ESUZGRVJFTkNFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkVYQ0xVU0lPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5IVUVdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0FUVVJBVElPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5MVU1JTk9TSVRZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk5PTkVdID0gWzAsIDBdO1xuXG4gICAgLy8gbm90LXByZW11bHRpcGxpZWQgYmxlbmQgbW9kZXNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG5cbiAgICAvLyBjb21wb3NpdGUgb3BlcmF0aW9uc1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNSQ19JTl0gPSBbZ2wuRFNUX0FMUEhBLCBnbC5aRVJPXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfT1VUXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5aRVJPXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfQVRPUF0gPSBbZ2wuRFNUX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EU1RfT1ZFUl0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EU1RfSU5dID0gW2dsLlpFUk8sIGdsLlNSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09VVF0gPSBbZ2wuWkVSTywgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0FUT1BdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLlNSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuWE9SXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcblxuICAgIC8vIFNVQlRSQUNUIGZyb20gZmxhc2hcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TVUJUUkFDVF0gPSBbZ2wuT05FLCBnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5GVU5DX1JFVkVSU0VfU1VCVFJBQ1QsIGdsLkZVTkNfQUREXTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cblxudmFyIEJMRU5EJDEgPSAwO1xudmFyIE9GRlNFVCQxID0gMTtcbnZhciBDVUxMSU5HJDEgPSAyO1xudmFyIERFUFRIX1RFU1QkMSA9IDM7XG52YXIgV0lORElORyQxID0gNDtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgV2ViR0wgc3RhdGUgbWFjaGluZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgU3RhdGVTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBTdGF0ZVN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR0wgY29udGV4dFxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXRlIElEXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlSWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb2x5Z29uIG9mZnNldFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmxlbmQgbW9kZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9ORVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9ORTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBjdXJyZW50IGJsZW5kIGVxdWF0aW9uIGlzIGRpZmZlcmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ibGVuZEVxID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgY2FsbHNcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hcCA9IFtdO1xuXG4gICAgICAgIC8vIG1hcCBmdW5jdGlvbnMgZm9yIHdoZW4gd2Ugc2V0IHN0YXRlLi5cbiAgICAgICAgdGhpcy5tYXBbQkxFTkQkMV0gPSB0aGlzLnNldEJsZW5kO1xuICAgICAgICB0aGlzLm1hcFtPRkZTRVQkMV0gPSB0aGlzLnNldE9mZnNldDtcbiAgICAgICAgdGhpcy5tYXBbQ1VMTElORyQxXSA9IHRoaXMuc2V0Q3VsbEZhY2U7XG4gICAgICAgIHRoaXMubWFwW0RFUFRIX1RFU1QkMV0gPSB0aGlzLnNldERlcHRoVGVzdDtcbiAgICAgICAgdGhpcy5tYXBbV0lORElORyQxXSA9IHRoaXMuc2V0RnJvbnRGYWNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGNoZWNrIGNhbGxzXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGVja3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBXZWJHTCBTdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIHRoaXMuZGVmYXVsdFN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUuZGVwdGggPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgU3RhdGVTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3RhdGVTeXN0ZW07XG5cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlcyA9IG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aShnbCk7XG5cbiAgICAgICAgdGhpcy5zZXQodGhpcy5kZWZhdWx0U3RhdGUpO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXQuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoc3RhdGUpXG4gICAge1xuICAgICAgICBzdGF0ZSA9IHN0YXRlIHx8IHRoaXMuZGVmYXVsdFN0YXRlO1xuXG4gICAgICAgIC8vIFRPRE8gbWF5YmUgdG8gYW4gb2JqZWN0IGNoZWNrPyAoIHRoaXMuc3RhdGUgPT09IHN0YXRlICk/XG4gICAgICAgIGlmICh0aGlzLnN0YXRlSWQgIT09IHN0YXRlLmRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkaWZmID0gdGhpcy5zdGF0ZUlkIF4gc3RhdGUuZGF0YTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICAgICAgLy8gb3JkZXIgZnJvbSBsZWFzdCB0byBtb3N0IGNvbW1vblxuICAgICAgICAgICAgd2hpbGUgKGRpZmYpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGRpZmYgJiAxKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhdGUgY2hhbmdlIVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRpZmYgPSBkaWZmID4+IDE7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmFzZWQgb24gdGhlIGFib3ZlIHNldHRpbmdzIHdlIGNoZWNrIGZvciBzcGVjaWZpYyBtb2Rlcy4uXG4gICAgICAgIC8vIGZvciBleGFtcGxlIGlmIGJsZW5kIGlzIGFjdGl2ZSB3ZSBjaGVjayBhbmQgc2V0IHRoZSBibGVuZCBtb2Rlc1xuICAgICAgICAvLyBvciBvZiBwb2x5Z29uIG9mZnNldCBpcyBhY3RpdmUgd2UgY2hlY2sgdGhlIHBvbHkgZGVwdGguXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRoaXMuY2hlY2tzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2kkMV0odGhpcywgc3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YXRlLCB3aGVuIHByZXZpb3VzIHN0YXRlIGlzIHVua25vd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0XG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLmZvcmNlU3RhdGUgPSBmdW5jdGlvbiBmb3JjZVN0YXRlIChzdGF0ZSlcbiAgICB7XG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwgdGhpcy5kZWZhdWx0U3RhdGU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tYXAubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWFwW2ldLmNhbGwodGhpcywgISEoc3RhdGUuZGF0YSAmICgxIDw8IGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja3NbaSQxXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlSWQgPSBzdGF0ZS5kYXRhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIG9yIGRpc2FibGVkIGJsZW5kaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGJsZW5kaW5nLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRCbGVuZCA9IGZ1bmN0aW9uIHNldEJsZW5kICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hlY2soU3RhdGVTeXN0ZW0uY2hlY2tCbGVuZE1vZGUsIHZhbHVlKTtcblxuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQkxFTkQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIG9yIGRpc2FibGUgcG9seWdvbiBvZmZzZXQgZmlsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIHBvbHlnb24gb2Zmc2V0IHRlc3RpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldE9mZnNldCA9IGZ1bmN0aW9uIHNldE9mZnNldCAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZUNoZWNrKFN0YXRlU3lzdGVtLmNoZWNrUG9seWdvbk9mZnNldCwgdmFsdWUpO1xuXG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5QT0xZR09OX09GRlNFVF9GSUxMKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGRlcHRoIHRlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgZGVwdGggdGVzdGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0RGVwdGhUZXN0ID0gZnVuY3Rpb24gc2V0RGVwdGhUZXN0ICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5ERVBUSF9URVNUKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGN1bGwgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBjdWxsIGZhY2UuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEN1bGxGYWNlID0gZnVuY3Rpb24gc2V0Q3VsbEZhY2UgKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkNVTExfRkFDRSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdsIGZyb250IGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdHJ1ZSBpcyBjbG9ja3dpc2UgYW5kIGZhbHNlIGlzIGNvdW50ZXItY2xvY2t3aXNlXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEZyb250RmFjZSA9IGZ1bmN0aW9uIHNldEZyb250RmFjZSAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdsLmZyb250RmFjZSh0aGlzLmdsW3ZhbHVlID8gJ0NXJyA6ICdDQ1cnXSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgYmxlbmQgbW9kZSB0byBzZXQgdG8uXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEJsZW5kTW9kZSA9IGZ1bmN0aW9uIHNldEJsZW5kTW9kZSAodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuYmxlbmRNb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IHZhbHVlO1xuXG4gICAgICAgIHZhciBtb2RlID0gdGhpcy5ibGVuZE1vZGVzW3ZhbHVlXTtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICBpZiAobW9kZS5sZW5ndGggPT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJsZW5kRnVuYyhtb2RlWzBdLCBtb2RlWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJsZW5kRnVuY1NlcGFyYXRlKG1vZGVbMF0sIG1vZGVbMV0sIG1vZGVbMl0sIG1vZGVbM10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gNilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRFcSA9IHRydWU7XG4gICAgICAgICAgICBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUobW9kZVs0XSwgbW9kZVs1XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYmxlbmRFcSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRFcSA9IGZhbHNlO1xuICAgICAgICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKGdsLkZVTkNfQURELCBnbC5GVU5DX0FERCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9seWdvbiBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSB0aGUgcG9seWdvbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB0aGUgcG9seWdvbiBvZmZzZXQgc2NhbGVcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0UG9seWdvbk9mZnNldCA9IGZ1bmN0aW9uIHNldFBvbHlnb25PZmZzZXQgKHZhbHVlLCBzY2FsZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wucG9seWdvbk9mZnNldCh2YWx1ZSwgc2NhbGUpO1xuICAgIH07XG5cbiAgICAvLyB1c2VkXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCB0aGUgbG9naWMgYW5kIGRpc2FibGVzIHRoZSB2YW9zXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5mb3JjZVN0YXRlKDApO1xuXG4gICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IC0xO1xuICAgICAgICB0aGlzLnNldEJsZW5kTW9kZSgwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2hlY2tzIHRvIHNlZSB3aGljaCB1cGRhdGVzIHNob3VsZCBiZSBjaGVja2VkIGJhc2VkIG9uIHdoaWNoIHNldHRpbmdzIGhhdmUgYmVlbiBhY3RpdmF0ZWQuXG4gICAgICogRm9yIGV4YW1wbGUsIGlmIGJsZW5kIGlzIGVuYWJsZWQgdGhlbiB3ZSBzaG91bGQgY2hlY2sgdGhlIGJsZW5kIG1vZGVzIGVhY2ggdGltZSB0aGUgc3RhdGUgaXMgY2hhbmdlZFxuICAgICAqIG9yIGlmIHBvbHlnb24gZmlsbCBpcyBhY3RpdmF0ZWQgdGhlbiB3ZSBuZWVkIHRvIGNoZWNrIGlmIHRoZSBwb2x5Z29uIG9mZnNldCBjaGFuZ2VzLlxuICAgICAqIFRoZSBpZGVhIGlzIHRoYXQgd2Ugb25seSBjaGVjayB3aGF0IHdlIGhhdmUgdG9vLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAgdGhlIGNoZWNraW5nIGZ1bmN0aW9uIHRvIGFkZCBvciByZW1vdmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlICBzaG91bGQgdGhlIGNoZWNrIGZ1bmN0aW9uIGJlIGFkZGVkIG9yIHJlbW92ZWQuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUNoZWNrID0gZnVuY3Rpb24gdXBkYXRlQ2hlY2sgKGZ1bmMsIHZhbHVlKVxuICAgIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGVja3MuaW5kZXhPZihmdW5jKTtcblxuICAgICAgICBpZiAodmFsdWUgJiYgaW5kZXggPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrcy5wdXNoKGZ1bmMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF2YWx1ZSAmJiBpbmRleCAhPT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBwcml2YXRlIGxpdHRsZSB3cmFwcGVyIGZ1bmN0aW9uIHRoYXQgd2UgY2FsbCB0byBjaGVjayB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZVN5c3RlbX0gU3lzdGVtICB0aGUgU3lzdGVtIHRvIHBlcmZvcm0gdGhlIHN0YXRlIGNoZWNrIG9uXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlfSBzdGF0ZSAgdGhlIHN0YXRlIHRoYXQgdGhlIGJsZW5kTW9kZSB3aWxsIHB1bGxlZCBmcm9tXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0uY2hlY2tCbGVuZE1vZGUgPSBmdW5jdGlvbiBjaGVja0JsZW5kTW9kZSAoc3lzdGVtLCBzdGF0ZSlcbiAgICB7XG4gICAgICAgIHN5c3RlbS5zZXRCbGVuZE1vZGUoc3RhdGUuYmxlbmRNb2RlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBwcml2YXRlIGxpdHRsZSB3cmFwcGVyIGZ1bmN0aW9uIHRoYXQgd2UgY2FsbCB0byBjaGVjayB0aGUgcG9seWdvbiBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGVTeXN0ZW19IFN5c3RlbSAgdGhlIFN5c3RlbSB0byBwZXJmb3JtIHRoZSBzdGF0ZSBjaGVjayBvblxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZX0gc3RhdGUgIHRoZSBzdGF0ZSB0aGF0IHRoZSBibGVuZE1vZGUgd2lsbCBwdWxsZWQgZnJvbVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLmNoZWNrUG9seWdvbk9mZnNldCA9IGZ1bmN0aW9uIGNoZWNrUG9seWdvbk9mZnNldCAoc3lzdGVtLCBzdGF0ZSlcbiAgICB7XG4gICAgICAgIHN5c3RlbS5zZXRQb2x5Z29uT2Zmc2V0KHN0YXRlLnBvbHlnb25PZmZzZXQsIDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3RhdGVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0ZXh0dXJlIGdhcmJhZ2UgY29sbGVjdGlvbiBvbiB0aGUgR1BVLFxuICogZW5zdXJpbmcgdGhhdCBpdCBkb2VzIG5vdCBnZXQgY2xvZ2dlZCB1cCB3aXRoIHRleHR1cmVzIHRoYXQgYXJlIG5vIGxvbmdlciBiZWluZyB1c2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIFRleHR1cmVHQ1N5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIFRleHR1cmVHQ1N5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ291bnRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVjayBjb3VudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBpZGxlIHRpbWUsIGluIHNlY29uZHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0lETEVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4SWRsZSA9IHNldHRpbmdzLkdDX01BWF9JRExFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIG51bWJlciBvZiBpdGVtIHRvIGNoZWNrXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01BWF9DSEVDS19DT1VOVFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGVja0NvdW50TWF4ID0gc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGdhcmFiYWdlIGNvbGxlY3Rpb24gbW9kZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdDX01PREVTfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTU9ERVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb2RlID0gc2V0dGluZ3MuR0NfTU9ERTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFRleHR1cmVHQ1N5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW07XG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRleHR1cmVHQ1N5c3RlbTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5wb3N0cmVuZGVyID0gZnVuY3Rpb24gcG9zdHJlbmRlciAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gR0NfTU9ERVMuTUFOVUFMKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoZWNrQ291bnQrKztcblxuICAgICAgICBpZiAodGhpcy5jaGVja0NvdW50ID4gdGhpcy5jaGVja0NvdW50TWF4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuXG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4gKClcbiAgICB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgdmFyIG1hbmFnZWRUZXh0dXJlcyA9ICB0bS5tYW5hZ2VkVGV4dHVyZXM7XG4gICAgICAgIHZhciB3YXNSZW1vdmVkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICAvLyBvbmx5IHN1cHBvcnRzIG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXMgYXQgdGhlIG1vbWVudCFcbiAgICAgICAgICAgIGlmICghdGV4dHVyZS5mcmFtZWJ1ZmZlciAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS50b3VjaGVkID4gdGhpcy5tYXhJZGxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FzUmVtb3ZlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGogPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobWFuYWdlZFRleHR1cmVzW2kkMV0gIT09IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXNbaisrXSA9IG1hbmFnZWRUZXh0dXJlc1tpJDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzLmxlbmd0aCA9IGo7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIHRleHR1cmVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgYW5kIGl0cyBjaGlsZHJlbiBmcm9tIHRoZSBHUFVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3QgdG8gcmVtb3ZlIHRoZSB0ZXh0dXJlcyBmcm9tLlxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gdW5sb2FkIChkaXNwbGF5T2JqZWN0KVxuICAgIHtcbiAgICAgICAgdmFyIHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlU3lzdGVtO1xuXG4gICAgICAgIC8vIG9ubHkgZGVzdHJveSBub24gZ2VuZXJhdGVkIHRleHR1cmVzXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlICYmIGRpc3BsYXlPYmplY3QuX3RleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cylcbiAgICAgICAge1xuICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUoZGlzcGxheU9iamVjdC5fdGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmxvYWQoZGlzcGxheU9iamVjdC5jaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFRleHR1cmVHQ1N5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogSW50ZXJuYWwgdGV4dHVyZSBmb3IgV2ViR0wgY29udGV4dFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR0xUZXh0dXJlID0gZnVuY3Rpb24gR0xUZXh0dXJlKHRleHR1cmUpXG57XG4gICAgLyoqXG4gICAgICogVGhlIFdlYkdMIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFRleHR1cmV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIHRleHR1cmUgdGhhdCB3YXMgdXNlZCBpbiB0ZXhJbWFnZTJEXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEhlaWdodCBvZiB0ZXh0dXJlIHRoYXQgd2FzIHVzZWQgaW4gdGV4SW1hZ2UyRFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogVGV4dHVyZSBjb250ZW50cyBkaXJ0eSBmbGFnXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGlydHlJZCA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogVGV4dHVyZSBzdHlsZSBkaXJ0eSBmbGFnXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGlydHlTdHlsZUlkID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG1pcCBsZXZlbHMgaGFzIHRvIGJlIGdlbmVyYXRlZFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFdyYXBNb2RlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud3JhcE1vZGUgPSAzMzA3MTtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gNjQwODtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbnRlcm5hbEZvcm1hdCA9IDUxMjE7XG59O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0ZXh0dXJlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBUZXh0dXJlU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZVN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBUT0RPIHNldCB0byBtYXggdGV4dHVyZXMuLi5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgbG9jYXRpb25cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFuYWdlZCB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlkIHNvbWVvbmUgdGVtcGVyIHdpdGggdGV4dHVyZXMgc3RhdGU/IFdlJ2xsIG92ZXJ3cml0ZSB0aGVtIHdoZW4gd2UgbmVlZCB0byB1bmJpbmQgc29tZXRoaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZVRleHR1cmUgdmFsdWUgdGhhdCBzaG93cyB0aGF0IHdlIGRvbid0IGtub3cgd2hhdCBpcyBib3VuZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5rbm93blRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoKTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFRleHR1cmVTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRleHR1cmVTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uO1xuXG4gICAgICAgIHZhciBtYXhUZXh0dXJlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG5cbiAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aCA9IG1heFRleHR1cmVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gbW92ZSB0aGlzLi4gdG8gYSBuaWNlIG1ha2UgZW1wdHkgdGV4dHVyZXMgY2xhc3MuLlxuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXMgPSB7fTtcblxuICAgICAgICB2YXIgZW1wdHlUZXh0dXJlMkQgPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZW1wdHlUZXh0dXJlMkQudGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbmV3IFVpbnQ4QXJyYXkoNCkpO1xuXG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFXzJEXSA9IGVtcHR5VGV4dHVyZTJEO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0gPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdLnRleHR1cmUpO1xuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IDY7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGkkMSwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG5cbiAgICAgICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSQyKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmluZChudWxsLCBpJDIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJpbmQgYSB0ZXh0dXJlIHRvIGEgc3BlY2lmaWMgbG9jYXRpb25cbiAgICAgKlxuICAgICAqIElmIHlvdSB3YW50IHRvIHVuYmluZCBzb21ldGhpbmcsIHBsZWFzZSB1c2UgYHVuYmluZCh0ZXh0dXJlKWAgaW5zdGVhZCBvZiBgYmluZChudWxsLCB0ZXh0dXJlTG9jYXRpb24pYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV8UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG9jYXRpb249MF0gLSBMb2NhdGlvbiB0byBiaW5kIGF0XG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKHRleHR1cmUsIGxvY2F0aW9uKVxuICAgIHtcbiAgICAgICAgaWYgKCBsb2NhdGlvbiA9PT0gdm9pZCAwICkgbG9jYXRpb24gPSAwO1xuXG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgaWYgKHRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlIHx8IHRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHR1cmUudG91Y2hlZCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuXG4gICAgICAgICAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0VGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dICE9PSB0ZXh0dXJlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBsb2NhdGlvbilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUodGV4dHVyZS50YXJnZXQsIGdsVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgIT09IHRleHR1cmUuZGlydHlJZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGV4dHVyZSBsb2NhdGlvbiBhbmQgYm91bmQgdGV4dHVyZXNcbiAgICAgKlxuICAgICAqIEFjdHVhbCBgYmluZChudWxsLCBpKWAgY2FsbHMgd2lsbCBiZSBwZXJmb3JtZWQgYXQgbmV4dCBgdW5iaW5kKClgIGNhbGxcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMudW5rbm93blRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVW5iaW5kIGEgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfFBJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGJpbmRcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQgKHRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuICAgICAgICB2YXIgYm91bmRUZXh0dXJlcyA9IHJlZi5ib3VuZFRleHR1cmVzO1xuXG4gICAgICAgIGlmICh0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHNvbWVvbmUgY2hhbmdlZCB3ZWJHTCBzdGF0ZSxcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgdG8gYmUgc3VyZSB0aGF0IG91ciB0ZXh0dXJlIGRvZXMgbm90IGFwcGVhciBpbiBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyIHNhbXBsZXJzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRoaXMudW5rbm93blRleHR1cmUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpJDFdID09PSB0ZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gaSQxKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkkMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gaSQxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1t0ZXh0dXJlLnRhcmdldF0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpJDFdID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5pbml0VGV4dHVyZSA9IGZ1bmN0aW9uIGluaXRUZXh0dXJlICh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IG5ldyBHTFRleHR1cmUodGhpcy5nbC5jcmVhdGVUZXh0dXJlKCkpO1xuXG4gICAgICAgIC8vIGd1YXJhbnRlZSBhbiB1cGRhdGUuLlxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IC0xO1xuXG4gICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBnbFRleHR1cmU7XG4gICAgfTtcblxuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmluaXRUZXh0dXJlVHlwZSA9IGZ1bmN0aW9uIGluaXRUZXh0dXJlVHlwZSAodGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gdGV4dHVyZS5mb3JtYXQ7XG4gICAgICAgIGdsVGV4dHVyZS50eXBlID0gdGV4dHVyZS50eXBlO1xuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gIT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IGdsLkZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTMyRjtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGF0J3MgV2ViR0wxIEhBTEZfRkxPQVRfT0VTXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gY29udmVydCBpdCB0byBXZWJHTCBIQUxGX0ZMT0FUXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IFRZUEVTLkhBTEZfRkxPQVQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlID0gZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xUZXh0dXJlLnR5cGUgPT09IGdsLkhBTEZfRkxPQVRcbiAgICAgICAgICAgICYmIHRleHR1cmUuZm9ybWF0ID09PSBnbC5SR0JBKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBMTZGO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBpbml0aWFsaXplXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIHVwZGF0ZVRleHR1cmUgKHRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICB0aGlzLmluaXRUZXh0dXJlVHlwZSh0ZXh0dXJlLCBnbFRleHR1cmUpO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpKVxuICAgICAgICA7XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZGVmYXVsdCwgcmVuZGVyVGV4dHVyZS1saWtlIGxvZ2ljXG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0ZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0ZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCAhPT0gd2lkdGhcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuaGVpZ2h0ICE9PSBoZWlnaHRcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuZGlydHlJZCA8IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgICAgIGdsLnRleEltYWdlMkQodGV4dHVyZS50YXJnZXQsIDAsXG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgb25seSB1cGRhdGUgd2hhdCBjaGFuZ2VzLi5cbiAgICAgICAgaWYgKHRleHR1cmUuZGlydHlTdHlsZUlkICE9PSBnbFRleHR1cmUuZGlydHlTdHlsZUlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IHRleHR1cmUuZGlydHlJZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgcmVtb3ZpbmcgdGhlIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZU1hbmFnZXIuXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuZGVzdHJveVRleHR1cmUgPSBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZSAodGV4dHVyZSwgc2tpcFJlbW92ZSlcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmJpbmQodGV4dHVyZSk7XG5cbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAoIXNraXBSZW1vdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSB0aGlzLm1hbmFnZWRUZXh0dXJlcy5pbmRleE9mKHRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGV4dHVyZSBzdHlsZSBzdWNoIGFzIG1pcG1hcCBmbGFnXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZVN0eWxlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZVN0eWxlICh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFnbFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgodGV4dHVyZS5taXBtYXAgPT09IE1JUE1BUF9NT0RFUy5QT1cyIHx8IHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKSAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLm1pcG1hcCA9IHRleHR1cmUubWlwbWFwID49IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gIT09IDIgJiYgIXRleHR1cmUuaXNQb3dlck9mVHdvKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUud3JhcE1vZGUgPSBXUkFQX01PREVTLkNMQU1QO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gdGV4dHVyZS53cmFwTW9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2Uuc3R5bGUodGhpcy5yZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSlcbiAgICAgICAgO1xuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsVGV4dHVyZS5kaXJ0eVN0eWxlSWQgPSB0ZXh0dXJlLmRpcnR5U3R5bGVJZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHN0eWxlIGZvciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiBzZXRTdHlsZSAodGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLm1pcG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZ2VuZXJhdGVNaXBtYXAodGV4dHVyZS50YXJnZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsVGV4dHVyZS53cmFwTW9kZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbFRleHR1cmUud3JhcE1vZGUpO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID8gZ2wuTElORUFSX01JUE1BUF9MSU5FQVIgOiBnbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgdmFyIGFuaXNvdHJvcGljRXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuYW5pc290cm9waWNGaWx0ZXJpbmc7XG5cbiAgICAgICAgICAgIGlmIChhbmlzb3Ryb3BpY0V4dCAmJiB0ZXh0dXJlLmFuaXNvdHJvcGljTGV2ZWwgPiAwICYmIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gTWF0aC5taW4odGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsLCBnbC5nZXRQYXJhbWV0ZXIoYW5pc290cm9waWNFeHQuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSk7XG5cbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJmKHRleHR1cmUudGFyZ2V0LCBhbmlzb3Ryb3BpY0V4dC5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCwgbGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dHVyZVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtcyBhcmUgaW5kaXZpZHVhbCBjb21wb25lbnRzIHRvIHRoZSBSZW5kZXJlciBwaXBlbGluZS5cbiAqIEBuYW1lc3BhY2UgUElYSS5zeXN0ZW1zXG4gKi9cblxudmFyIHN5c3RlbXMgPSAoe1xuICAgIEZpbHRlclN5c3RlbTogRmlsdGVyU3lzdGVtLFxuICAgIEJhdGNoU3lzdGVtOiBCYXRjaFN5c3RlbSxcbiAgICBDb250ZXh0U3lzdGVtOiBDb250ZXh0U3lzdGVtLFxuICAgIEZyYW1lYnVmZmVyU3lzdGVtOiBGcmFtZWJ1ZmZlclN5c3RlbSxcbiAgICBHZW9tZXRyeVN5c3RlbTogR2VvbWV0cnlTeXN0ZW0sXG4gICAgTWFza1N5c3RlbTogTWFza1N5c3RlbSxcbiAgICBTY2lzc29yU3lzdGVtOiBTY2lzc29yU3lzdGVtLFxuICAgIFN0ZW5jaWxTeXN0ZW06IFN0ZW5jaWxTeXN0ZW0sXG4gICAgUHJvamVjdGlvblN5c3RlbTogUHJvamVjdGlvblN5c3RlbSxcbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtOiBSZW5kZXJUZXh0dXJlU3lzdGVtLFxuICAgIFNoYWRlclN5c3RlbTogU2hhZGVyU3lzdGVtLFxuICAgIFN0YXRlU3lzdGVtOiBTdGF0ZVN5c3RlbSxcbiAgICBUZXh0dXJlR0NTeXN0ZW06IFRleHR1cmVHQ1N5c3RlbSxcbiAgICBUZXh0dXJlU3lzdGVtOiBUZXh0dXJlU3lzdGVtXG59KTtcblxudmFyIHRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbi8qKlxuICogVGhlIEFic3RyYWN0UmVuZGVyZXIgaXMgdGhlIGJhc2UgZm9yIGEgUGl4aUpTIFJlbmRlcmVyLiBJdCBpcyBleHRlbmRlZCBieSB0aGUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gKiBhbmQge0BsaW5rIFBJWEkuUmVuZGVyZXJ9IHdoaWNoIGNhbiBiZSB1c2VkIGZvciByZW5kZXJpbmcgYSBQaXhpSlMgc2NlbmUuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQWJzdHJhY3RSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50RW1pdHRlcikge1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0UmVuZGVyZXIoc3lzdGVtLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBzZXR0aW5ncy5SRU5ERVJfT1BUSU9OUywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gRGVwcmVjYXRpb24gbm90aWNlIGZvciByZW5kZXJlciByb3VuZFBpeGVscyBvcHRpb25cbiAgICAgICAgaWYgKG9wdGlvbnMucm91bmRQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNldHRpbmdzLlJPVU5EX1BJWEVMUyA9IG9wdGlvbnMucm91bmRQaXhlbHM7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4wLjAnLCAnUmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFMnLCAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3VwcGxpZWQgY29uc3RydWN0b3Igb3B0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlJFTkRFUkVSX1RZUEUuVU5LTk9XTlxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNZWFzdXJlbWVudHMgb2YgdGhlIHNjcmVlbi4gKDAsIDAsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdHMgc2FmZSB0byB1c2UgYXMgZmlsdGVyQXJlYSBvciBoaXRBcmVhIGZvciB0aGUgd2hvbGUgc3RhZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY3JlZW4gPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpZXcgPSBvcHRpb25zLnZpZXcgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyYW5zcGFyZW50ID0gb3B0aW9ucy50cmFuc3BhcmVudDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBDU1MgZGltZW5zaW9ucyBvZiBjYW52YXMgdmlldyBzaG91bGQgYmUgcmVzaXplZCB0byBzY3JlZW4gZGltZW5zaW9ucyBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvRGVuc2l0eSA9IG9wdGlvbnMuYXV0b0RlbnNpdHkgfHwgb3B0aW9ucy5hdXRvUmVzaXplIHx8IGZhbHNlO1xuICAgICAgICAvLyBhdXRvUmVzaXplIGlzIGRlcHJlY2F0ZWQsIHByb3ZpZGVzIGZhbGxiYWNrIHN1cHBvcnRcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoZSBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgZmxhZyBhZmZlY3RzIHdoZXRoZXIgb3Igbm90IHRoZSBjb250ZW50cyBvZlxuICAgICAgICAgKiB0aGUgc3RlbmNpbCBidWZmZXIgaXMgcmV0YWluZWQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzZXRzIGlmIHRoZSBDYW52YXNSZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3Igbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAgICAgKiBJZiB0aGUgc2NlbmUgaXMgTk9UIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBhIGNhbnZhcyBzaXplZCBmaWxsUmVjdCBvcGVyYXRpb24gZXZlcnlcbiAgICAgICAgICogZnJhbWUgdG8gc2V0IHRoZSBjYW52YXMgYmFja2dyb3VuZCBjb2xvci4gSWYgdGhlIHNjZW5lIGlzIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBjbGVhclJlY3RcbiAgICAgICAgICogdG8gY2xlYXIgdGhlIGNhbnZhcyBldmVyeSBmcmFtZS4gRGlzYWJsZSB0aGlzIGJ5IHNldHRpbmcgdGhpcyB0byBmYWxzZS4gRm9yIGV4YW1wbGUsIGlmXG4gICAgICAgICAqIHlvdXIgZ2FtZSBoYXMgYSBjYW52YXMgZmlsbGluZyBiYWNrZ3JvdW5kIGltYWdlIHlvdSBvZnRlbiBkb24ndCBuZWVkIHRoaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IG9wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgbnVtYmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IDB4MDAwMDAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIHN0cmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSAnIzAwMDAwMCc7XG5cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7IC8vIHJ1biBiZyBjb2xvciBzZXR0ZXJcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB0ZW1wb3JhcnkgZGlzcGxheSBvYmplY3QgdXNlZCBhcyB0aGUgcGFyZW50IG9mIHRoZSBjdXJyZW50bHkgYmVpbmcgcmVuZGVyZWQgaXRlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBDb250YWluZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3Qgcm9vdCBvYmplY3QgdGhhdCB0aGUgcmVuZGVyZXIgdHJpZWQgdG8gcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHBsdWdpbnMuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsdWdpbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIEV2ZW50RW1pdHRlciApIEFic3RyYWN0UmVuZGVyZXIuX19wcm90b19fID0gRXZlbnRFbWl0dGVyO1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRFbWl0dGVyICYmIEV2ZW50RW1pdHRlci5wcm90b3R5cGUgKTtcbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFic3RyYWN0UmVuZGVyZXI7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB3aWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxoZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYmFja2dyb3VuZENvbG9yOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0aWNNYXAgLSBUaGUgZGljdGlvbmFyeSBvZiBzdGF0aWNhbGx5IHNhdmVkIHBsdWdpbnMuXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuaW5pdFBsdWdpbnMgPSBmdW5jdGlvbiBpbml0UGx1Z2lucyAoc3RhdGljTWFwKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgbyBpbiBzdGF0aWNNYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG5ldyAoc3RhdGljTWFwW29dKSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHZpZXcud2lkdGgsIGFjdHVhbCBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZSBjYW52YXMgYnkgaG9yaXpvbnRhbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCA4MDBcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcud2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgdmlldy5oZWlnaHQsIGFjdHVhbCBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZSBjYW52YXMgYnkgdmVydGljYWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgNjAwXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5oZWlnaHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIHNjcmVlbiBhbmQgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKiBDYW52YXMgZGltZW5zaW9ucyBhcmUgbXVsdGlwbGllZCBieSByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodClcbiAgICB7XG4gICAgICAgIHRoaXMuc2NyZWVuLndpZHRoID0gc2NyZWVuV2lkdGg7XG4gICAgICAgIHRoaXMuc2NyZWVuLmhlaWdodCA9IHNjcmVlbkhlaWdodDtcblxuICAgICAgICB0aGlzLnZpZXcud2lkdGggPSBzY3JlZW5XaWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy52aWV3LmhlaWdodCA9IHNjcmVlbkhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAodGhpcy5hdXRvRGVuc2l0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLndpZHRoID0gc2NyZWVuV2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWZ1bCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0ZXh0dXJlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGNhbiB0aGVuIGJlIHVzZWQgdG8gY3JlYXRlIHNwcml0ZXNcbiAgICAgKiBUaGlzIGNhbiBiZSBxdWl0ZSB1c2VmdWwgaWYgeW91ciBkaXNwbGF5T2JqZWN0IGlzIGNvbXBsaWNhdGVkIGFuZCBuZWVkcyB0byBiZSByZXVzZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5T2JqZWN0IHRoZSBvYmplY3Qgd2lsbCBiZSBnZW5lcmF0ZWQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gU2hvdWxkIGJlIG9uZSBvZiB0aGUgc2NhbGVNb2RlIGNvbnN0cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVnaW9uXSAtIFRoZSByZWdpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QsIHRoYXQgc2hhbGwgYmUgcmVuZGVyZWQsXG4gICAgICogICAgICAgIGlmIG5vIHJlZ2lvbiBpcyBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBBIHRleHR1cmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmUgKGRpc3BsYXlPYmplY3QsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbiwgcmVnaW9uKVxuICAgIHtcbiAgICAgICAgcmVnaW9uID0gcmVnaW9uIHx8IGRpc3BsYXlPYmplY3QuZ2V0TG9jYWxCb3VuZHMoKTtcblxuICAgICAgICAvLyBtaW5pbXVtIHRleHR1cmUgc2l6ZSBpcyAxeDEsIDB4MCB3aWxsIHRocm93IGFuIGVycm9yXG4gICAgICAgIGlmIChyZWdpb24ud2lkdGggPT09IDApIHsgcmVnaW9uLndpZHRoID0gMTsgfVxuICAgICAgICBpZiAocmVnaW9uLmhlaWdodCA9PT0gMCkgeyByZWdpb24uaGVpZ2h0ID0gMTsgfVxuXG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUocmVnaW9uLndpZHRoIHwgMCwgcmVnaW9uLmhlaWdodCB8IDAsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbik7XG5cbiAgICAgICAgdGVtcE1hdHJpeC50eCA9IC1yZWdpb24ueDtcbiAgICAgICAgdGVtcE1hdHJpeC50eSA9IC1yZWdpb24ueTtcblxuICAgICAgICB0aGlzLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBmYWxzZSwgdGVtcE1hdHJpeCwgISFkaXNwbGF5T2JqZWN0LnBhcmVudCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciBhbmQgb3B0aW9uYWxseSByZW1vdmVzIHRoZSBDYW52YXMgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAocmVtb3ZlVmlldylcbiAgICB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gdGhpcy5wbHVnaW5zKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW1vdmVWaWV3ICYmIHRoaXMudmlldy5wYXJlbnROb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnZpZXcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbHVnaW5zID0gbnVsbDtcblxuICAgICAgICB0aGlzLnR5cGUgPSBSRU5ERVJFUl9UWVBFLlVOS05PV047XG5cbiAgICAgICAgdGhpcy52aWV3ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNjcmVlbiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gMDtcblxuICAgICAgICB0aGlzLnRyYW5zcGFyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5hdXRvRGVuc2l0eSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gbnVsbDtcblxuICAgICAgICB0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gMDtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5iYWNrZ3JvdW5kQ29sb3IuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5iYWNrZ3JvdW5kQ29sb3Iuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBoZXgyc3RyaW5nKHZhbHVlKTtcbiAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQWJzdHJhY3RSZW5kZXJlcjtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogVGhlIFJlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSBXZWJHTCBlbmFibGVkIGNhbnZhcy5cbiAqXG4gKiBUaGlzIHJlbmRlcmVyIHNob3VsZCBiZSB1c2VkIGZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgV2ViR0wuXG4gKlxuICogVGhpcyByZW5kZXJlciB3b3JrcyBieSBhdXRvbWF0aWNhbGx5IG1hbmFnaW5nIFdlYkdMQmF0Y2hlc20sIHNvIG5vIG5lZWQgZm9yIFNwcml0ZSBCYXRjaGVzIG9yIFNwcml0ZSBDbG91ZHMuXG4gKiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSB2aWV3IHRvIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmchXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5BYnN0cmFjdFJlbmRlcmVyXG4gKi9cbnZhciBSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEFic3RyYWN0UmVuZGVyZXIpIHtcbiAgICBmdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKVxuICAgIHtcbiAgICAgICAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0ge307XG5cbiAgICAgICAgQWJzdHJhY3RSZW5kZXJlci5jYWxsKHRoaXMsICdXZWJHTCcsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIHRoZSBvcHRpb25zIHdpbGwgaGF2ZSBiZWVuIG1vZGlmaWVkIGhlcmUgaW4gdGhlIHN1cGVyIGNvbnN0cnVjdG9yIHdpdGggcGl4aSdzIGRlZmF1bHQgc2V0dGluZ3MuLlxuICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGlzIHJlbmRlcmVyIGFzIGEgc3RhbmRhcmRpemVkIGNvbnN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLlJFTkRFUkVSX1RZUEVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFJFTkRFUkVSX1RZUEUuV0VCR0w7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlYkdMIGNvbnRleHQsIHNldCBieSB0aGUgY29udGV4dFN5c3RlbSAodGhpcy5jb250ZXh0KVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IDA7XG5cbiAgICAgICAgLy8gVE9ETyBsZWdhY3khXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHNpZ25hbCBpbnN0YW5jZXMgb2YgKipydW5uZXIqKiwgdGhlc2VcbiAgICAgICAgICogYXJlIGFzc2lnbmVkIHRvIGVhY2ggc3lzdGVtIGNyZWF0ZWQuXG4gICAgICAgICAqIEBzZWUgUElYSS5SdW5uZXJcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJlciNydW5uZXJzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBkZXN0cm95IC0gRGVzdHJveSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gY29udGV4dENoYW5nZSAtIENvbnRleHQgY2hhbmdlIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSByZXNldCAtIFJlc2V0IHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSB1cGRhdGUgLSBVcGRhdGUgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHBvc3RyZW5kZXIgLSBQb3N0LXJlbmRlciBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcHJlcmVuZGVyIC0gUHJlLXJlbmRlciBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcmVzaXplIC0gUmVzaXplIHJ1bm5lclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ydW5uZXJzID0ge1xuICAgICAgICAgICAgZGVzdHJveTogbmV3IFJ1bm5lcignZGVzdHJveScpLFxuICAgICAgICAgICAgY29udGV4dENoYW5nZTogbmV3IFJ1bm5lcignY29udGV4dENoYW5nZScsIDEpLFxuICAgICAgICAgICAgcmVzZXQ6IG5ldyBSdW5uZXIoJ3Jlc2V0JyksXG4gICAgICAgICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpLFxuICAgICAgICAgICAgcG9zdHJlbmRlcjogbmV3IFJ1bm5lcigncG9zdHJlbmRlcicpLFxuICAgICAgICAgICAgcHJlcmVuZGVyOiBuZXcgUnVubmVyKCdwcmVyZW5kZXInKSxcbiAgICAgICAgICAgIHJlc2l6ZTogbmV3IFJ1bm5lcigncmVzaXplJywgMiksXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdsb2JhbCB1bmlmb3Jtc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlVuaWZvcm1Hcm91cH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5NYXNrU3lzdGVtfSBtYXNrXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkU3lzdGVtKE1hc2tTeXN0ZW0sICdtYXNrJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ29udGV4dCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5Db250ZXh0U3lzdGVtfSBjb250ZXh0XG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKENvbnRleHRTeXN0ZW0sICdjb250ZXh0JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RhdGUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW19IHN0YXRlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFN0YXRlU3lzdGVtLCAnc3RhdGUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaGFkZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU2hhZGVyU3lzdGVtfSBzaGFkZXJcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU2hhZGVyU3lzdGVtLCAnc2hhZGVyJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGV4dHVyZSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5UZXh0dXJlU3lzdGVtfSB0ZXh0dXJlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVTeXN0ZW0sICd0ZXh0dXJlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR2VvbWV0cnkgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuR2VvbWV0cnlTeXN0ZW19IGdlb21ldHJ5XG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEdlb21ldHJ5U3lzdGVtLCAnZ2VvbWV0cnknKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGcmFtZWJ1ZmZlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5GcmFtZWJ1ZmZlclN5c3RlbX0gZnJhbWVidWZmZXJcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oRnJhbWVidWZmZXJTeXN0ZW0sICdmcmFtZWJ1ZmZlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNjaXNzb3Igc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU2Npc3NvclN5c3RlbX0gc2Npc3NvclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTY2lzc29yU3lzdGVtLCAnc2Npc3NvcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0ZW5jaWwgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU3RlbmNpbFN5c3RlbX0gc3RlbmNpbFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGVuY2lsU3lzdGVtLCAnc3RlbmNpbCcpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFByb2plY3Rpb24gc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuUHJvamVjdGlvblN5c3RlbX0gcHJvamVjdGlvblxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShQcm9qZWN0aW9uU3lzdGVtLCAncHJvamVjdGlvbicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHR1cmUgZ2FyYmFnZSBjb2xsZWN0b3Igc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZUdDU3lzdGVtfSB0ZXh0dXJlR0NcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oVGV4dHVyZUdDU3lzdGVtLCAndGV4dHVyZUdDJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmlsdGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZpbHRlclN5c3RlbSwgJ2ZpbHRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlbmRlclRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuUmVuZGVyVGV4dHVyZVN5c3RlbX0gcmVuZGVyVGV4dHVyZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShSZW5kZXJUZXh0dXJlU3lzdGVtLCAncmVuZGVyVGV4dHVyZScpXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmF0Y2ggc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuQmF0Y2hTeXN0ZW19IGJhdGNoXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEJhdGNoU3lzdGVtLCAnYmF0Y2gnKTtcblxuICAgICAgICB0aGlzLmluaXRQbHVnaW5zKFJlbmRlcmVyLl9fcGx1Z2lucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcHRpb25zIHBhc3NlZCBpbiB0byBjcmVhdGUgYSBuZXcgV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5pbml0RnJvbUNvbnRleHQob3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5pbml0RnJvbU9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIGFscGhhOiB0aGlzLnRyYW5zcGFyZW50LFxuICAgICAgICAgICAgICAgIGFudGlhbGlhczogb3B0aW9ucy5hbnRpYWxpYXMsXG4gICAgICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiB0aGlzLnRyYW5zcGFyZW50ICYmIHRoaXMudHJhbnNwYXJlbnQgIT09ICdub3RNdWx0aXBsaWVkJyxcbiAgICAgICAgICAgICAgICBzdGVuY2lsOiB0cnVlLFxuICAgICAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiB0aGlzLm9wdGlvbnMucG93ZXJQcmVmZXJlbmNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiB3ZSBhcmUgcmVuZGVyaW5nIHRvIHRoZSBzY3JlZW4gdnMgcmVuZGVyVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IHRydWU7XG5cbiAgICAgICAgc2F5SGVsbG8odGhpcy5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMiA/ICdXZWJHTCAyJyA6ICdXZWJHTCAxJyk7XG5cbiAgICAgICAgdGhpcy5yZXNpemUodGhpcy5vcHRpb25zLndpZHRoLCB0aGlzLm9wdGlvbnMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAoIEFic3RyYWN0UmVuZGVyZXIgKSBSZW5kZXJlci5fX3Byb3RvX18gPSBBYnN0cmFjdFJlbmRlcmVyO1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEFic3RyYWN0UmVuZGVyZXIgJiYgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUgKTtcbiAgICBSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZW5kZXJlcjtcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIG5ldyBzeXN0ZW0gdG8gdGhlIHJlbmRlcmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IENsYXNzUmVmIC0gQ2xhc3MgcmVmZXJlbmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAtIFByb3BlcnR5IG5hbWUgZm9yIHN5c3RlbSwgaWYgbm90IHNwZWNpZmllZFxuICAgICAqICAgICAgICB3aWxsIHVzZSBhIHN0YXRpYyBgbmFtZWAgcHJvcGVydHkgb24gdGhlIGNsYXNzIGl0c2VsZi4gVGhpc1xuICAgICAqICAgICAgICBuYW1lIHdpbGwgYmUgYXNzaWduZWQgYXMgcyBwcm9wZXJ0eSBvbiB0aGUgUmVuZGVyZXIgc28gbWFrZVxuICAgICAqICAgICAgICBzdXJlIGl0IGRvZXNuJ3QgY29sbGlkZSB3aXRoIHByb3BlcnRpZXMgb24gUmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJuIGluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUmVuZGVyZXIuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgaWYgKGlzV2ViR0xTdXBwb3J0ZWQoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJlcihvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wgdW5zdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLCB1c2UgXCJwaXhpLmpzLWxlZ2FjeVwiIGZvciBmYWxsYmFjayBjYW52YXMyZCBzdXBwb3J0LicpO1xuICAgIH07XG5cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuYWRkU3lzdGVtID0gZnVuY3Rpb24gYWRkU3lzdGVtIChDbGFzc1JlZiwgbmFtZSlcbiAgICB7XG4gICAgICAgIGlmICghbmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZSA9IENsYXNzUmVmLm5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3lzdGVtID0gbmV3IENsYXNzUmVmKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzW25hbWVdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiV2hvb3BzISBUaGUgbmFtZSBcXFwiXCIgKyBuYW1lICsgXCJcXFwiIGlzIGFscmVhZHkgaW4gdXNlXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXNbbmFtZV0gPSBzeXN0ZW07XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnJ1bm5lcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucnVubmVyc1tpXS5hZGQoc3lzdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciByZW5kZXJpbmcgZmluaXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3Bvc3RyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcgc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNjb250ZXh0XG4gICAgICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFdlYkdMIGNvbnRleHQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdG8gaXRzIFdlYkdMIHZpZXdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIG9iamVjdCB0byBiZSByZW5kZXJlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW3JlbmRlclRleHR1cmVdIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlciB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcj10cnVlXSAtIFNob3VsZCB0aGUgY2FudmFzIGJlIGNsZWFyZWQgYmVmb3JlIHRoZSBuZXcgcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFt0cmFuc2Zvcm1dIC0gQSB0cmFuc2Zvcm0gdG8gYXBwbHkgdG8gdGhlIHJlbmRlciB0ZXh0dXJlIGJlZm9yZSByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZVRyYW5zZm9ybT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybSBwYXNzP1xuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUsIGNsZWFyLCB0cmFuc2Zvcm0sIHNraXBVcGRhdGVUcmFuc2Zvcm0pXG4gICAge1xuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMucnVubmVycy5wcmVyZW5kZXIucnVuKCk7XG4gICAgICAgIHRoaXMuZW1pdCgncHJlcmVuZGVyJyk7XG5cbiAgICAgICAgLy8gYXBwbHkgYSB0cmFuc2Zvcm0gYXQgYSBHUFUgbGV2ZWxcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcblxuICAgICAgICAvLyBubyBwb2ludCByZW5kZXJpbmcgaWYgb3VyIGNvbnRleHQgaGFzIGJlZW4gYmxvd24gdXAhXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuaXNMb3N0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBVcGRhdGVUcmFuc2Zvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgc2NlbmUgZ3JhcGhcbiAgICAgICAgICAgIHZhciBjYWNoZVBhcmVudCA9IGRpc3BsYXlPYmplY3QucGFyZW50O1xuXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gY2FjaGVQYXJlbnQ7XG4gICAgICAgICAgICAvLyBkaXNwbGF5T2JqZWN0LmhpdEFyZWEgPSAvL1RPRE8gYWRkIGEgdGVtcCBoaXQgYXJlYVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIHRoaXMuYmF0Y2guY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG5cbiAgICAgICAgaWYgKGNsZWFyICE9PSB1bmRlZmluZWQgPyBjbGVhciA6IHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXIodGhpcyk7XG5cbiAgICAgICAgLy8gYXBwbHkgdHJhbnNmb3JtLi5cbiAgICAgICAgdGhpcy5iYXRjaC5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucnVubmVycy5wb3N0cmVuZGVyLnJ1bigpO1xuXG4gICAgICAgIC8vIHJlc2V0IHRyYW5zZm9ybSBhZnRlciByZW5kZXJcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb3N0cmVuZGVyJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpXG4gICAge1xuICAgICAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzaXplLnJ1bihzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBXZWJHTCBzdGF0ZSBzbyB5b3UgY2FuIHJlbmRlciB0aGluZ3MgaG93ZXZlciB5b3UgZmFuY3khXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5ydW5uZXJzLnJlc2V0LnJ1bigpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuYmluZCgpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmNsZWFyKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciAoZXZlbnQgbGlzdGVuZXJzLCBzcHJpdGViYXRjaCwgZXRjLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICogIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yMjMzXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChyZW1vdmVWaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5ydW5uZXJzLmRlc3Ryb3kucnVuKCk7XG5cbiAgICAgICAgZm9yICh2YXIgciBpbiB0aGlzLnJ1bm5lcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucnVubmVyc1tyXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYWxsIGJhc2UgZGVzdHJveVxuICAgICAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgcmVtb3ZlVmlldyk7XG5cbiAgICAgICAgLy8gVE9ETyBudWxsaWZ5IGFsbCB0aGUgbWFuYWdlcnMuLlxuICAgICAgICB0aGlzLmdsID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcGx1Z2lucy4gVGhlc2UgYXJlIGluY2x1ZGVkIGJ5IGRlZmF1bHQgaW4gUElYSSwgYnV0IGNhbiBiZSBleGNsdWRlZFxuICAgICAqIGJ5IGNyZWF0aW5nIGEgY3VzdG9tIGJ1aWxkLiBDb25zdWx0IHRoZSBSRUFETUUgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgY3JlYXRpbmcgY3VzdG9tXG4gICAgICogYnVpbGRzIGFuZCBleGNsdWRpbmcgcGx1Z2lucy5cbiAgICAgKiBAbmFtZSBQSVhJLlJlbmRlcmVyI3BsdWdpbnNcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBwcm9wZXJ0eSB7UElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfSBhY2Nlc3NpYmlsaXR5IFN1cHBvcnQgdGFiYmluZyBpbnRlcmFjdGl2ZSBlbGVtZW50cy5cbiAgICAgKiBAcHJvcGVydHkge1BJWEkuZXh0cmFjdC5FeHRyYWN0fSBleHRyYWN0IEV4dHJhY3QgaW1hZ2UgZGF0YSBmcm9tIHJlbmRlcmVyLlxuICAgICAqIEBwcm9wZXJ0eSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IGludGVyYWN0aW9uIEhhbmRsZXMgbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAgICAgKiBAcHJvcGVydHkge1BJWEkucHJlcGFyZS5QcmVwYXJlfSBwcmVwYXJlIFByZS1yZW5kZXIgZGlzcGxheSBvYmplY3RzLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN0b3IgLSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gb3IgY2xhc3MgZm9yIHRoZSBwbHVnaW4uXG4gICAgICovXG4gICAgUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiByZWdpc3RlclBsdWdpbiAocGx1Z2luTmFtZSwgY3RvcilcbiAgICB7XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2lucyA9IFJlbmRlcmVyLl9fcGx1Z2lucyB8fCB7fTtcbiAgICAgICAgUmVuZGVyZXIuX19wbHVnaW5zW3BsdWdpbk5hbWVdID0gY3RvcjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJlbmRlcmVyO1xufShBYnN0cmFjdFJlbmRlcmVyKSk7XG5cbi8qKlxuICogVGhpcyBoZWxwZXIgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGRldGVjdCB3aGljaCByZW5kZXJlciB5b3Ugc2hvdWxkIGJlIHVzaW5nLlxuICogV2ViR0wgaXMgdGhlIHByZWZlcnJlZCByZW5kZXJlciBhcyBpdCBpcyBhIGxvdCBmYXN0ZXIuIElmIFdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQgYnlcbiAqIHRoZSBicm93c2VyIHRoZW4gdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBhIGNhbnZhcyByZW5kZXJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAqICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnQsIHRoaXNcbiAqICAgb3B0aW9uIG9ubHkgaXMgYXZhaWxhYmxlIHdoZW4gdXNpbmcgKipwaXhpLmpzLWxlZ2FjeSoqIG9yICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogbW9kdWxlcywgb3RoZXJ3aXNlXG4gKiAgIGl0IGlzIGlnbm9yZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlRlhBQT1mYWxzZV0gLSBmb3JjZXMgRlhBQSBhbnRpYWxpYXNpbmcgdG8gYmUgdXNlZCBvdmVyIG5hdGl2ZS5cbiAqICBGWEFBIGlzIGZhc3RlciwgYnV0IG1heSBub3QgYWx3YXlzIGxvb2sgYXMgZ3JlYXQgKip3ZWJnbCBvbmx5KipcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZCAqKndlYmdsIG9ubHkqKlxuICogQHJldHVybiB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfSBSZXR1cm5zIFdlYkdMIHJlbmRlcmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIENhbnZhc1JlbmRlcmVyXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zKVxue1xuICAgIHJldHVybiBSZW5kZXJlci5jcmVhdGUob3B0aW9ucyk7XG59XG5cbnZhciBfZGVmYXVsdCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufVwiO1xuXG52YXIgZGVmYXVsdEZpbHRlciA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbntcXG4gICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxufVxcblwiO1xuXG4vKipcbiAqIEEgVGV4dHVyZSB0aGF0IGRlcGVuZHMgb24gc2l4IG90aGVyIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDdWJlVGV4dHVyZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhc2VUZXh0dXJlKSB7XG4gICAgZnVuY3Rpb24gQ3ViZVRleHR1cmUgKCkge1xuICAgICAgICBCYXNlVGV4dHVyZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGlmICggQmFzZVRleHR1cmUgKSBDdWJlVGV4dHVyZS5fX3Byb3RvX18gPSBCYXNlVGV4dHVyZTtcbiAgICBDdWJlVGV4dHVyZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlVGV4dHVyZSAmJiBCYXNlVGV4dHVyZS5wcm90b3R5cGUgKTtcbiAgICBDdWJlVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDdWJlVGV4dHVyZTtcblxuICAgIEN1YmVUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiBmcm9tIChyZXNvdXJjZXMsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IEN1YmVUZXh0dXJlKG5ldyBDdWJlUmVzb3VyY2UocmVzb3VyY2VzLCBvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBDdWJlVGV4dHVyZTtcbn0oQmFzZVRleHR1cmUpKTtcblxuLyoqXG4gKiBVc2VkIGJ5IHRoZSBiYXRjaGVyIHRvIGRyYXcgYmF0Y2hlcy5cbiAqIEVhY2ggb25lIG9mIHRoZXNlIGNvbnRhaW5zIGFsbCBpbmZvcm1hdGlvbiByZXF1aXJlZCB0byBkcmF3IGEgYm91bmQgZ2VvbWV0cnkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hEcmF3Q2FsbCA9IGZ1bmN0aW9uIEJhdGNoRHJhd0NhbGwoKVxue1xuICAgIHRoaXMudGV4QXJyYXkgPSBudWxsO1xuICAgIHRoaXMuYmxlbmQgPSAwO1xuICAgIHRoaXMudHlwZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuXG4gICAgdGhpcy5zdGFydCA9IDA7XG4gICAgdGhpcy5zaXplID0gMDtcblxuICAgIC8qKlxuICAgICAqIGRhdGEgZm9yIHVuaWZvcm1zIG9yIGN1c3RvbSB3ZWJnbCBzdGF0ZVxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmRhdGEgPSBudWxsO1xufTtcblxuLyoqXG4gKiBVc2VkIGJ5IHRoZSBiYXRjaGVyIHRvIGJ1aWxkIHRleHR1cmUgYmF0Y2hlcy5cbiAqIEhvbGRzIGxpc3Qgb2YgdGV4dHVyZXMgYW5kIHRoZWlyIHJlc3BlY3RpdmUgbG9jYXRpb25zLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoVGV4dHVyZUFycmF5ID0gZnVuY3Rpb24gQmF0Y2hUZXh0dXJlQXJyYXkoKVxue1xuICAgIC8qKlxuICAgICAqIGluc2lkZSB0ZXh0dXJlcyBhcnJheVxuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgKi9cbiAgICB0aGlzLmVsZW1lbnRzID0gW107XG4gICAgLyoqXG4gICAgICogUmVzcGVjdGl2ZSBsb2NhdGlvbnMgZm9yIHRleHR1cmVzXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5pZHMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBudW1iZXIgb2YgZmlsbGVkIGVsZW1lbnRzXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuY291bnQgPSAwO1xufTtcblxuQmF0Y2hUZXh0dXJlQXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKClcbntcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY291bnQ7IGkrKylcbiAgICB7XG4gICAgICAgIHRoaXMuZWxlbWVudHNbaV0gPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmNvdW50ID0gMDtcbn07XG5cbi8qKlxuICogRmxleGlibGUgd3JhcHBlciBhcm91bmQgYEFycmF5QnVmZmVyYCB0aGF0IGFsc28gcHJvdmlkZXNcbiAqIHR5cGVkIGFycmF5IHZpZXdzIG9uIGRlbWFuZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBWaWV3YWJsZUJ1ZmZlciA9IGZ1bmN0aW9uIFZpZXdhYmxlQnVmZmVyKHNpemUpXG57XG4gICAgLyoqXG4gICAgICogVW5kZXJseWluZyBgQXJyYXlCdWZmZXJgIHRoYXQgaG9sZHMgYWxsIHRoZSBkYXRhXG4gICAgICogYW5kIGlzIG9mIGNhcGFjaXR5IGBzaXplYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0FycmF5QnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMucmF3QmluYXJ5RGF0YSA9IG5ldyBBcnJheUJ1ZmZlcihzaXplKTtcblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50MzJBcnJheWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtVaW50MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnVpbnQzMlZpZXcgPSBuZXcgVWludDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcblxuICAgIC8qKlxuICAgICAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBGbG9hdDMyQXJyYXlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMuZmxvYXQzMlZpZXcgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDUgPSB7IGludDhWaWV3OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHVpbnQ4VmlldzogeyBjb25maWd1cmFibGU6IHRydWUgfSxpbnQxNlZpZXc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdWludDE2VmlldzogeyBjb25maWd1cmFibGU6IHRydWUgfSxpbnQzMlZpZXc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgSW50OEFycmF5YC5cbiAqXG4gKiBAbWVtYmVyIHtJbnQ4QXJyYXl9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQ1LmludDhWaWV3LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgaWYgKCF0aGlzLl9pbnQ4VmlldylcbiAgICB7XG4gICAgICAgIHRoaXMuX2ludDhWaWV3ID0gbmV3IEludDhBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pbnQ4Vmlldztcbn07XG5cbi8qKlxuICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQ4QXJyYXlgLlxuICpcbiAqIEBtZW1iZXIge1VpbnQ4QXJyYXl9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQ1LnVpbnQ4Vmlldy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIGlmICghdGhpcy5fdWludDhWaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5fdWludDhWaWV3ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fdWludDhWaWV3O1xufTtcblxuLyoqXG4gKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgSW50MTZBcnJheWAuXG4gKlxuICogQG1lbWJlciB7SW50MTZBcnJheX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDUuaW50MTZWaWV3LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgaWYgKCF0aGlzLl9pbnQxNlZpZXcpXG4gICAge1xuICAgICAgICB0aGlzLl9pbnQxNlZpZXcgPSBuZXcgSW50MTZBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pbnQxNlZpZXc7XG59O1xuXG4vKipcbiAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBVaW50MTZBcnJheWAuXG4gKlxuICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQ1LnVpbnQxNlZpZXcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICBpZiAoIXRoaXMuX3VpbnQxNlZpZXcpXG4gICAge1xuICAgICAgICB0aGlzLl91aW50MTZWaWV3ID0gbmV3IFVpbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3VpbnQxNlZpZXc7XG59O1xuXG4vKipcbiAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQzMkFycmF5YC5cbiAqXG4gKiBAbWVtYmVyIHtJbnQzMkFycmF5fVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkNS5pbnQzMlZpZXcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICBpZiAoIXRoaXMuX2ludDMyVmlldylcbiAgICB7XG4gICAgICAgIHRoaXMuX2ludDMyVmlldyA9IG5ldyBJbnQzMkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2ludDMyVmlldztcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdmlldyBvZiB0aGUgZ2l2ZW4gdHlwZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIE9uZSBvZiBgaW50OGAsIGB1aW50OGAsIGBpbnQxNmAsXG4gKmB1aW50MTZgLCBgaW50MzJgLCBgdWludDMyYCwgYW5kIGBmbG9hdDMyYC5cbiAqIEByZXR1cm4ge29iamVjdH0gdHlwZWQgYXJyYXkgb2YgZ2l2ZW4gdHlwZVxuICovXG5WaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUudmlldyA9IGZ1bmN0aW9uIHZpZXcgKHR5cGUpXG57XG4gICAgcmV0dXJuIHRoaXNbKHR5cGUgKyBcIlZpZXdcIildO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyBhbGwgYnVmZmVyIHJlZmVyZW5jZXMuIERvIG5vdCB1c2UgYWZ0ZXIgY2FsbGluZ1xuICogdGhpcy5cbiAqL1xuVmlld2FibGVCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gbnVsbDtcbiAgICB0aGlzLl9pbnQ4VmlldyA9IG51bGw7XG4gICAgdGhpcy5fdWludDhWaWV3ID0gbnVsbDtcbiAgICB0aGlzLl9pbnQxNlZpZXcgPSBudWxsO1xuICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBudWxsO1xuICAgIHRoaXMuX2ludDMyVmlldyA9IG51bGw7XG4gICAgdGhpcy51aW50MzJWaWV3ID0gbnVsbDtcbiAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbnVsbDtcbn07XG5cblZpZXdhYmxlQnVmZmVyLnNpemVPZiA9IGZ1bmN0aW9uIHNpemVPZiAodHlwZSlcbntcbiAgICBzd2l0Y2ggKHR5cGUpXG4gICAge1xuICAgICAgICBjYXNlICdpbnQ4JzpcbiAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGNhc2UgJ2ludDE2JzpcbiAgICAgICAgY2FzZSAndWludDE2JzpcbiAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICBjYXNlICdpbnQzMic6XG4gICAgICAgIGNhc2UgJ3VpbnQzMic6XG4gICAgICAgIGNhc2UgJ2Zsb2F0MzInOlxuICAgICAgICAgICAgcmV0dXJuIDQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKHR5cGUgKyBcIiBpc24ndCBhIHZhbGlkIHZpZXcgdHlwZVwiKSk7XG4gICAgfVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDUgKTtcblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgc3ByaXRlcy5cbiAqXG4gKiBUaGlzIGlzIHRoZSBkZWZhdWx0IGJhdGNoIHJlbmRlcmVyLiBJdCBidWZmZXJzIG9iamVjdHNcbiAqIHdpdGggdGV4dHVyZS1iYXNlZCBnZW9tZXRyaWVzIGFuZCByZW5kZXJzIHRoZW0gaW5cbiAqIGJhdGNoZXMuIEl0IHVwbG9hZHMgbXVsdGlwbGUgdGV4dHVyZXMgdG8gdGhlIEdQVSB0b1xuICogcmVkdWNlIHRvIHRoZSBudW1iZXIgb2YgZHJhdyBjYWxscy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBBYnN0cmFjdEJhdGNoUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChPYmplY3RSZW5kZXJlcikge1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0QmF0Y2hSZW5kZXJlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZ2VuZXJhdGUgYSBzaGFkZXIgdGhhdCBjYW5cbiAgICAgICAgICogY29sb3IgZWFjaCB2ZXJ0ZXggYmFzZWQgb24gYSBgYVRleHR1cmVJZGBcbiAgICAgICAgICogYXR0cmlidXRlIHRoYXQgcG9pbnRzIHRvIGFuIHRleHR1cmUgaW4gYHVTYW1wbGVyYC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBlbmFibGVzIHRoZSBvYmplY3RzIHdpdGggZGlmZmVyZW50IHRleHR1cmVzXG4gICAgICAgICAqIHRvIGJlIGRyYXduIGluIHRoZSBzYW1lIGRyYXcgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogWW91IGNhbiBjdXN0b21pemUgeW91ciBzaGFkZXIgYnkgY3JlYXRpbmcgeW91clxuICAgICAgICAgKiBjdXN0b20gc2hhZGVyIGdlbmVyYXRvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXRjaFNoYWRlckdlbmVyYXRvcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFkZXJHZW5lcmF0b3IgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xhc3MgdGhhdCByZXByZXNlbnRzIHRoZSBnZW9tZXRyeSBvZiBvYmplY3RzXG4gICAgICAgICAqIHRoYXQgYXJlIGdvaW5nIHRvIGJlIGJhdGNoZWQgd2l0aCB0aGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQmF0Y2hHZW9tZXRyeVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5Q2xhc3MgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIGRhdGEgYmVpbmcgYnVmZmVyZWQgcGVyIHZlcnRleCBpbiB0aGVcbiAgICAgICAgICogYXR0cmlidXRlIGJ1ZmZlcnMgKGluIGZsb2F0cykuIEJ5IGRlZmF1bHQsIHRoZVxuICAgICAgICAgKiBiYXRjaC1yZW5kZXJlciBwbHVnaW4gdXNlcyA2OlxuICAgICAgICAgKlxuICAgICAgICAgKiB8IGFWZXJ0ZXhQb3NpdGlvbiB8IDIgfFxuICAgICAgICAgKiB8LS0tLS0tLS0tLS0tLS0tLS18LS0tfFxuICAgICAgICAgKiB8IGFUZXh0dXJlQ29vcmRzICB8IDIgfFxuICAgICAgICAgKiB8IGFDb2xvciAgICAgICAgICB8IDEgfFxuICAgICAgICAgKiB8IGFUZXh0dXJlSWQgICAgICB8IDEgfFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhTaXplID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHN0YXRlIGluIHdoaWNoIHRoaXMgcmVuZGVyZXIgd2lsbCB3b3JrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGJ1ZmZlcmFibGUgb2JqZWN0cyBiZWZvcmUgYSBmbHVzaFxuICAgICAgICAgKiBvY2N1cnMgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBzZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRSAqIDRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFICogNDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVG90YWwgY291bnQgb2YgYWxsIHZlcnRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl92ZXJ0ZXhDb3VudCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCBpbmRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIG9mIG9iamVjdHMgdGhhdCBhcmUgeWV0IHRvIGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3RbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkRWxlbWVudHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGF0YSBmb3IgdGV4dHVyZSBiYXRjaCBidWlsZGVyLCBoZWxwcyB0byBzYXZlIGEgYml0IG9mIENQVSBvbiBhIHBhc3NcbiAgICAgICAgICogQHR5cGUge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkVGV4dHVyZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIHRoYXQgYXJlIGJ1ZmZlcmVkIGFuZCBhcmVcbiAgICAgICAgICogd2FpdGluZyB0byBiZSBmbHVzaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzaGFkZXIgaXMgZ2VuZXJhdGVkIGJ5IGB0aGlzLnNoYWRlckdlbmVyYXRvcmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IGlzIGdlbmVyYXRlZCBzcGVjaWZpY2FsbHkgdG8gaGFuZGxlIHRoZSByZXF1aXJlZFxuICAgICAgICAgKiBudW1iZXIgb2YgdGV4dHVyZXMgYmVpbmcgYmF0Y2hlZCB0b2dldGhlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgYHRoaXMuZ2VvbWV0cnlDbGFzc2AgZ2VvbWV0cnkgb2JqZWN0c1xuICAgICAgICAgKiB0aGF0IHN0b3JlIGJ1ZmZlcnMuIFRoZXkgYXJlIHVzZWQgdG8gcGFzcyBkYXRhXG4gICAgICAgICAqIHRvIHRoZSBzaGFkZXIgb24gZWFjaCBkcmF3IGNhbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4sIHVubGVzcyBhXG4gICAgICAgICAqIGNvbnRleHQgY2hhbmdlIG9jY3VyczsgaG93ZXZlciwgdGhlIHBvb2wgbWF5XG4gICAgICAgICAqIGJlIGV4cGFuZGVkIGlmIHJlcXVpcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdlb21ldHJ5W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIuY29udGV4dENoYW5nZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIGB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzYC4gSXQgY2FuIGJlIGV4cGFuZGVkXG4gICAgICAgICAqIGlmIG1vcmUgdGhhbiBgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZWAgZmx1c2hlc1xuICAgICAgICAgKiBvY2N1ciBpbiBhIHNpbmdsZSBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSA9IDI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmx1c2ggbWF5IG9jY3VyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlXG4gICAgICAgICAqIGZyYW1lLiBPbiBpT1MgZGV2aWNlcyBvciB3aGVuXG4gICAgICAgICAqIGBzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSYCBpcyBmYWxzZSwgdGhlXG4gICAgICAgICAqIGJhdGNoIHJlbmRlcmVyIGRvZXMgbm90IHVwbG9hZCBkYXRhIHRvIHRoZSBzYW1lXG4gICAgICAgICAqIGBXZWJHTEJ1ZmZlcmAgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGluZGV4IGludG8gYHBhY2tlZEdlb21ldHJpZXNgIHRoYXQgcG9pbnRzIHRvXG4gICAgICAgICAqIGdlb21ldHJ5IGhvbGRpbmcgdGhlIG1vc3QgcmVjZW50IGJ1ZmZlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGBWaWV3YWJsZUJ1ZmZlcmAgb2JqZWN0cyB0aGF0IGFyZSBzb3J0ZWQgaW5cbiAgICAgICAgICogb3JkZXIgb2YgaW5jcmVhc2luZyBzaXplLiBUaGUgZmx1c2ggbWV0aG9kIHVzZXNcbiAgICAgICAgICogdGhlIGJ1ZmZlciB3aXRoIHRoZSBsZWFzdCBzaXplIGFib3ZlIHRoZSBhbW91bnRcbiAgICAgICAgICogaXQgcmVxdWlyZXMuIFRoZXNlIGFyZSB1c2VkIGZvciBwYXNzaW5nIGF0dHJpYnV0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBmaXJzdCBidWZmZXIgaGFzIGEgc2l6ZSBvZiA4OyBlYWNoIHN1YnNlcXVlbnRcbiAgICAgICAgICogYnVmZmVyIGhhcyBkb3VibGUgY2FwYWNpdHkgb2YgaXRzIHByZXZpb3VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlZpZXdhYmxlQnVmZmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjZ2V0QXR0cmlidXRlQnVmZmVyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hQnVmZmVycyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGBVaW50MTZBcnJheWAgb2JqZWN0cyB0aGF0IGFyZSBzb3J0ZWQgaW5cbiAgICAgICAgICogb3JkZXIgb2YgaW5jcmVhc2luZyBzaXplLiBUaGUgZmx1c2ggbWV0aG9kIHVzZXNcbiAgICAgICAgICogdGhlIGJ1ZmZlciB3aXRoIHRoZSBsZWFzdCBzaXplIGFib3ZlIHRoZSBhbW91bnRcbiAgICAgICAgICogaXQgcmVxdWlyZXMuIFRoZXNlIGFyZSB1c2VkIGZvciBwYXNzaW5nIGluZGljZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBmaXJzdCBidWZmZXIgaGFzIGEgc2l6ZSBvZiAxMjsgZWFjaCBzdWJzZXF1ZW50XG4gICAgICAgICAqIGJ1ZmZlciBoYXMgZG91YmxlIGNhcGFjaXR5IG9mIGl0cyBwcmV2aW91cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXlbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNnZXRJbmRleEJ1ZmZlclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faUJ1ZmZlcnMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBudW1iZXIgb2YgdGV4dHVyZXMgdGhhdCBjYW4gYmUgdXBsb2FkZWQgdG9cbiAgICAgICAgICogdGhlIEdQVSB1bmRlciB0aGUgY3VycmVudCBjb250ZXh0LiBJdCBpcyBpbml0aWFsaXplZFxuICAgICAgICAgKiBwcm9wZXJseSBpbiBgdGhpcy5jb250ZXh0Q2hhbmdlYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2NvbnRleHRDaGFuZ2VcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IDE7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG4gICAgICAgIHJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5hZGQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5fZGNJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2FJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2lJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZUJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdGVtcEJvdW5kVGV4dHVyZXMgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAoIE9iamVjdFJlbmRlcmVyICkgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9fcHJvdG9fXyA9IE9iamVjdFJlbmRlcmVyO1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBPYmplY3RSZW5kZXJlciAmJiBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUgKTtcbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYGNvbnRleHRDaGFuZ2VgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGNhbGN1bGF0ZXMgYHRoaXMuTUFYX1RFWFRVUkVTYCBhbmQgYWxsb2NhdGluZyB0aGVcbiAgICAgKiBwYWNrZWQtZ2VvbWV0cnkgb2JqZWN0IHBvb2wuXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gc3RlcCAxOiBmaXJzdCBjaGVjayBtYXggdGV4dHVyZXMgdGhlIEdQVSBjYW4gaGFuZGxlLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgICAgICAvLyBzdGVwIDI6IGNoZWNrIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpZiBzdGF0ZW1lbnRzIHRoZSBzaGFkZXIgY2FuIGhhdmUgdG9vLi5cbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcihcbiAgICAgICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUywgZ2wpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2hhZGVyID0gdGhpcy5zaGFkZXJHZW5lcmF0b3IuZ2VuZXJhdGVTaGFkZXIodGhpcy5NQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgIC8vIHdlIHVzZSB0aGUgc2Vjb25kIHNoYWRlciBhcyB0aGUgZmlyc3Qgb25lIGRlcGVuZGluZyBvbiB5b3VyIGJyb3dzZXJcbiAgICAgICAgLy8gbWF5IG9taXQgYVRleHR1cmVJZCBhcyBpdCBpcyBub3QgdXNlZCBieSB0aGUgc2hhZGVyIHNvIGlzIG9wdGltaXplZCBvdXQuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZTsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmluaXRGbHVzaEJ1ZmZlcnMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFrZXMgc3VyZSB0aGF0IHN0YXRpYyBhbmQgZHluYW1pYyBmbHVzaCBwb29sZWQgb2JqZWN0cyBoYXZlIGNvcnJlY3QgZGltZW5zaW9uc1xuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuaW5pdEZsdXNoQnVmZmVycyA9IGZ1bmN0aW9uIGluaXRGbHVzaEJ1ZmZlcnMgKClcbiAgICB7XG4gICAgICAgIHZhciBfZHJhd0NhbGxQb29sID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9kcmF3Q2FsbFBvb2w7XG4gICAgICAgIHZhciBfdGV4dHVyZUFycmF5UG9vbCA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fdGV4dHVyZUFycmF5UG9vbDtcbiAgICAgICAgLy8gbWF4IGRyYXcgY2FsbHNcbiAgICAgICAgdmFyIE1BWF9TUFJJVEVTID0gdGhpcy5zaXplIC8gNDtcbiAgICAgICAgLy8gbWF4IHRleHR1cmUgYXJyYXlzXG4gICAgICAgIHZhciBNQVhfVEEgPSBNYXRoLmZsb29yKE1BWF9TUFJJVEVTIC8gdGhpcy5NQVhfVEVYVFVSRVMpICsgMTtcblxuICAgICAgICB3aGlsZSAoX2RyYXdDYWxsUG9vbC5sZW5ndGggPCBNQVhfU1BSSVRFUylcbiAgICAgICAge1xuICAgICAgICAgICAgX2RyYXdDYWxsUG9vbC5wdXNoKG5ldyBCYXRjaERyYXdDYWxsKCkpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChfdGV4dHVyZUFycmF5UG9vbC5sZW5ndGggPCBNQVhfVEEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIF90ZXh0dXJlQXJyYXlQb29sLnB1c2gobmV3IEJhdGNoVGV4dHVyZUFycmF5KCkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5NQVhfVEVYVFVSRVM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGVtcEJvdW5kVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIGBwcmVyZW5kZXJgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGVuc3VyZXMgdGhhdCBmbHVzaGVzIHN0YXJ0IGZyb20gdGhlIGZpcnN0IGdlb21ldHJ5XG4gICAgICogb2JqZWN0IGFnYWluLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUub25QcmVyZW5kZXIgPSBmdW5jdGlvbiBvblByZXJlbmRlciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmx1c2hJZCA9IDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJ1ZmZlcnMgdGhlIFwiYmF0Y2hhYmxlXCIgb2JqZWN0LiBJdCBuZWVkIG5vdCBiZSByZW5kZXJlZFxuICAgICAqIGltbWVkaWF0ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGVsZW1lbnQgLSB0aGUgZWxlbWVudCB0byByZW5kZXIgd2hlblxuICAgICAqICAgIHVzaW5nIHRoaXMgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAoZWxlbWVudClcbiAgICB7XG4gICAgICAgIGlmICghZWxlbWVudC5fdGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRleENvdW50ICsgKGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyKSA+IHRoaXMuc2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgKz0gZWxlbWVudC52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7XG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgKz0gZWxlbWVudC5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5fYnVmZmVyZWRUZXh0dXJlc1t0aGlzLl9idWZmZXJTaXplXSA9IGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkRWxlbWVudHNbdGhpcy5fYnVmZmVyU2l6ZSsrXSA9IGVsZW1lbnQ7XG4gICAgfTtcblxuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRUZXh0dXJlc0FuZERyYXdDYWxscyA9IGZ1bmN0aW9uIGJ1aWxkVGV4dHVyZXNBbmREcmF3Q2FsbHMgKClcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSByZWYuX2J1ZmZlcmVkVGV4dHVyZXM7XG4gICAgICAgIHZhciBNQVhfVEVYVFVSRVMgPSByZWYuTUFYX1RFWFRVUkVTO1xuICAgICAgICB2YXIgdGV4dHVyZUFycmF5cyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fdGV4dHVyZUFycmF5UG9vbDtcbiAgICAgICAgdmFyIGJhdGNoID0gdGhpcy5yZW5kZXJlci5iYXRjaDtcbiAgICAgICAgdmFyIGJvdW5kVGV4dHVyZXMgPSB0aGlzLl90ZW1wQm91bmRUZXh0dXJlcztcbiAgICAgICAgdmFyIHRvdWNoID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgdmFyIFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcbiAgICAgICAgdmFyIGNvdW50VGV4QXJyYXlzID0gMDtcbiAgICAgICAgdmFyIHRleEFycmF5ID0gdGV4dHVyZUFycmF5c1swXTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gMDtcblxuICAgICAgICBiYXRjaC5jb3B5Qm91bmRUZXh0dXJlcyhib3VuZFRleHR1cmVzLCBNQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVyU2l6ZTsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGV4ID0gdGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgIHRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0ZXguX2JhdGNoRW5hYmxlZCA9PT0gVElDSylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleEFycmF5LmNvdW50ID49IE1BWF9URVhUVVJFUylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBiYXRjaC5ib3VuZEFycmF5KHRleEFycmF5LCBib3VuZFRleHR1cmVzLCBUSUNLLCBNQVhfVEVYVFVSRVMpO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHModGV4QXJyYXksIHN0YXJ0LCBpKTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgdGV4QXJyYXkgPSB0ZXh0dXJlQXJyYXlzWysrY291bnRUZXhBcnJheXNdO1xuICAgICAgICAgICAgICAgICsrVElDSztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4Ll9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgdGV4LnRvdWNoZWQgPSB0b3VjaDtcbiAgICAgICAgICAgIHRleEFycmF5LmVsZW1lbnRzW3RleEFycmF5LmNvdW50KytdID0gdGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRleEFycmF5LmNvdW50ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgYmF0Y2guYm91bmRBcnJheSh0ZXhBcnJheSwgYm91bmRUZXh0dXJlcywgVElDSywgTUFYX1RFWFRVUkVTKTtcbiAgICAgICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHModGV4QXJyYXksIHN0YXJ0LCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICsrY291bnRUZXhBcnJheXM7XG4gICAgICAgICAgICArK1RJQ0s7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbGVhbi11cFxuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpJDFdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3B1bGF0aW5nIGRyYXdjYWxscyBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmF0Y2hUZXh0dXJlQXJyYXl9IHRleEFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZpbmlzaFxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuYnVpbGREcmF3Q2FsbHMgPSBmdW5jdGlvbiBidWlsZERyYXdDYWxscyAodGV4QXJyYXksIHN0YXJ0LCBmaW5pc2gpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gcmVmLl9idWZmZXJlZEVsZW1lbnRzO1xuICAgICAgICB2YXIgX2F0dHJpYnV0ZUJ1ZmZlciA9IHJlZi5fYXR0cmlidXRlQnVmZmVyO1xuICAgICAgICB2YXIgX2luZGV4QnVmZmVyID0gcmVmLl9pbmRleEJ1ZmZlcjtcbiAgICAgICAgdmFyIHZlcnRleFNpemUgPSByZWYudmVydGV4U2l6ZTtcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sO1xuXG4gICAgICAgIHZhciBkY0luZGV4ID0gdGhpcy5fZGNJbmRleDtcbiAgICAgICAgdmFyIGFJbmRleCA9IHRoaXMuX2FJbmRleDtcbiAgICAgICAgdmFyIGlJbmRleCA9IHRoaXMuX2lJbmRleDtcblxuICAgICAgICB2YXIgZHJhd0NhbGwgPSBkcmF3Q2FsbHNbZGNJbmRleF07XG5cbiAgICAgICAgZHJhd0NhbGwuc3RhcnQgPSB0aGlzLl9pSW5kZXg7XG4gICAgICAgIGRyYXdDYWxsLnRleEFycmF5ID0gdGV4QXJyYXk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZmluaXNoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciB0ZXggPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB2YXIgc3ByaXRlQmxlbmRNb2RlID0gcHJlbXVsdGlwbHlCbGVuZE1vZGVbXG4gICAgICAgICAgICAgICAgdGV4LmFscGhhTW9kZSA/IDEgOiAwXVtzcHJpdGUuYmxlbmRNb2RlXTtcblxuICAgICAgICAgICAgZWxlbWVudHNbaV0gPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoc3RhcnQgPCBpICYmIGRyYXdDYWxsLmJsZW5kICE9PSBzcHJpdGVCbGVuZE1vZGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZHJhd0NhbGwuc2l6ZSA9IGlJbmRleCAtIGRyYXdDYWxsLnN0YXJ0O1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICBkcmF3Q2FsbCA9IGRyYXdDYWxsc1srK2RjSW5kZXhdO1xuICAgICAgICAgICAgICAgIGRyYXdDYWxsLnRleEFycmF5ID0gdGV4QXJyYXk7XG4gICAgICAgICAgICAgICAgZHJhd0NhbGwuc3RhcnQgPSBpSW5kZXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucGFja0ludGVybGVhdmVkR2VvbWV0cnkoc3ByaXRlLCBfYXR0cmlidXRlQnVmZmVyLCBfaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KTtcbiAgICAgICAgICAgIGFJbmRleCArPSBzcHJpdGUudmVydGV4RGF0YS5sZW5ndGggLyAyICogdmVydGV4U2l6ZTtcbiAgICAgICAgICAgIGlJbmRleCArPSBzcHJpdGUuaW5kaWNlcy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGRyYXdDYWxsLmJsZW5kID0gc3ByaXRlQmxlbmRNb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXJ0IDwgZmluaXNoKVxuICAgICAgICB7XG4gICAgICAgICAgICBkcmF3Q2FsbC5zaXplID0gaUluZGV4IC0gZHJhd0NhbGwuc3RhcnQ7XG4gICAgICAgICAgICArK2RjSW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kY0luZGV4ID0gZGNJbmRleDtcbiAgICAgICAgdGhpcy5fYUluZGV4ID0gYUluZGV4O1xuICAgICAgICB0aGlzLl9pSW5kZXggPSBpSW5kZXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJpbmQgdGV4dHVyZXMgZm9yIGN1cnJlbnQgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmF0Y2hUZXh0dXJlQXJyYXl9IHRleEFycmF5XG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5iaW5kQW5kQ2xlYXJUZXhBcnJheSA9IGZ1bmN0aW9uIGJpbmRBbmRDbGVhclRleEFycmF5ICh0ZXhBcnJheSlcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlU3lzdGVtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4QXJyYXkuY291bnQ7IGorKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZVN5c3RlbS5iaW5kKHRleEFycmF5LmVsZW1lbnRzW2pdLCB0ZXhBcnJheS5pZHNbal0pO1xuICAgICAgICAgICAgdGV4QXJyYXkuZWxlbWVudHNbal0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRleEFycmF5LmNvdW50ID0gMDtcbiAgICB9O1xuXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVHZW9tZXRyeSA9IGZ1bmN0aW9uIHVwZGF0ZUdlb21ldHJ5ICgpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIHBhY2tlZEdlb21ldHJpZXMgPSByZWYuX3BhY2tlZEdlb21ldHJpZXM7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVCdWZmZXIgPSByZWYuX2F0dHJpYnV0ZUJ1ZmZlcjtcbiAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gcmVmLl9pbmRleEJ1ZmZlcjtcblxuICAgICAgICBpZiAoIXNldHRpbmdzLkNBTl9VUExPQURfU0FNRV9CVUZGRVIpXG4gICAgICAgIHsgLyogVXN1YWxseSBvbiBpT1MgZGV2aWNlcywgd2hlcmUgdGhlIGJyb3dzZXIgZG9lc24ndFxuICAgICAgICAgICAgbGlrZSB1cGxvYWRzIHRvIHRoZSBzYW1lIGJ1ZmZlciBpbiBhIHNpbmdsZSBmcmFtZS4gKi9cbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplIDw9IHRoaXMuX2ZsdXNoSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSsrO1xuICAgICAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0gPSBuZXcgKHRoaXMuZ2VvbWV0cnlDbGFzcykoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5fYnVmZmVyLnVwZGF0ZShhdHRyaWJ1dGVCdWZmZXIucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9pbmRleEJ1ZmZlci51cGRhdGUoaW5kZXhCdWZmZXIpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQocGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZsdXNoSWQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGxldHMgdXNlIHRoZSBmYXN0ZXIgb3B0aW9uLCBhbHdheXMgdXNlIGJ1ZmZlciBudW1iZXIgMFxuICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXS5fYnVmZmVyLnVwZGF0ZShhdHRyaWJ1dGVCdWZmZXIucmF3QmluYXJ5RGF0YSk7XG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9pbmRleEJ1ZmZlci51cGRhdGUoaW5kZXhCdWZmZXIpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmRyYXdCYXRjaGVzID0gZnVuY3Rpb24gZHJhd0JhdGNoZXMgKClcbiAgICB7XG4gICAgICAgIHZhciBkY0NvdW50ID0gdGhpcy5fZGNJbmRleDtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcbiAgICAgICAgdmFyIHN0YXRlU3lzdGVtID0gcmVmLnN0YXRlO1xuICAgICAgICB2YXIgZHJhd0NhbGxzID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9kcmF3Q2FsbFBvb2w7XG5cbiAgICAgICAgdmFyIGN1clRleEFycmF5ID0gbnVsbDtcblxuICAgICAgICAvLyBVcGxvYWQgdGV4dHVyZXMgYW5kIGRvIHRoZSBkcmF3IGNhbGxzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGNDb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcmVmJDEgPSBkcmF3Q2FsbHNbaV07XG4gICAgICAgICAgICB2YXIgdGV4QXJyYXkgPSByZWYkMS50ZXhBcnJheTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gcmVmJDEudHlwZTtcbiAgICAgICAgICAgIHZhciBzaXplID0gcmVmJDEuc2l6ZTtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHJlZiQxLnN0YXJ0O1xuICAgICAgICAgICAgdmFyIGJsZW5kID0gcmVmJDEuYmxlbmQ7XG5cbiAgICAgICAgICAgIGlmIChjdXJUZXhBcnJheSAhPT0gdGV4QXJyYXkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY3VyVGV4QXJyYXkgPSB0ZXhBcnJheTtcbiAgICAgICAgICAgICAgICB0aGlzLmJpbmRBbmRDbGVhclRleEFycmF5KHRleEFycmF5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhdGVTeXN0ZW0uc2V0QmxlbmRNb2RlKGJsZW5kKTtcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyh0eXBlLCBzaXplLCBnbC5VTlNJR05FRF9TSE9SVCwgc3RhcnQgKiAyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250ZW50IF9ub3dfIGFuZCBlbXB0aWVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRleENvdW50ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVCdWZmZXIgPSB0aGlzLmdldEF0dHJpYnV0ZUJ1ZmZlcih0aGlzLl92ZXJ0ZXhDb3VudCk7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleEJ1ZmZlcih0aGlzLl9pbmRleENvdW50KTtcbiAgICAgICAgdGhpcy5fYUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5faUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fZGNJbmRleCA9IDA7XG5cbiAgICAgICAgdGhpcy5idWlsZFRleHR1cmVzQW5kRHJhd0NhbGxzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlR2VvbWV0cnkoKTtcbiAgICAgICAgdGhpcy5kcmF3QmF0Y2hlcygpO1xuXG4gICAgICAgIC8vIHJlc2V0IGVsZW1lbnRzIGJ1ZmZlciBmb3IgdGhlIG5leHQgZmx1c2hcbiAgICAgICAgdGhpcy5fYnVmZmVyU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX3ZlcnRleENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5faW5kZXhDb3VudCA9IDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIG5ldyBzcHJpdGUgYmF0Y2guXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0ICgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNoYWRlci5iaW5kKHRoaXMuX3NoYWRlcik7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLkNBTl9VUExPQURfU0FNRV9CVUZGRVIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGJpbmQgYnVmZmVyICMwLCB3ZSBkb24ndCBuZWVkIG90aGVyc1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuZCBmbHVzaGVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBgQWJzdHJhY3RCYXRjaFJlbmRlcmVyYC4gSXQgY2Fubm90IGJlIHVzZWQgYWdhaW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3ByZXJlbmRlcicsIHRoaXMub25QcmVyZW5kZXIsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2FCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5faUJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLl9zaGFkZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBhdHRyaWJ1dGUgYnVmZmVyIGZyb20gYHRoaXMuX2FCdWZmZXJzYCB0aGF0XG4gICAgICogY2FuIGhvbGQgYXRsZWFzdCBgc2l6ZWAgZmxvYXRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBtaW5pbXVtIGNhcGFjaXR5IHJlcXVpcmVkXG4gICAgICogQHJldHVybiB7Vmlld2FibGVCdWZmZXJ9IC0gYnVmZmVyIHRoYW4gY2FuIGhvbGQgYXRsZWFzdCBgc2l6ZWAgZmxvYXRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmdldEF0dHJpYnV0ZUJ1ZmZlciA9IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZUJ1ZmZlciAoc2l6ZSlcbiAgICB7XG4gICAgICAgIC8vIDggdmVydGljZXMgaXMgZW5vdWdoIGZvciAyIHF1YWRzXG4gICAgICAgIHZhciByb3VuZGVkUDIgPSBuZXh0UG93MihNYXRoLmNlaWwoc2l6ZSAvIDgpKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplSW5kZXggPSBsb2cyKHJvdW5kZWRQMik7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDg7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9hQnVmZmVyc1tyb3VuZGVkU2l6ZV07XG5cbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FCdWZmZXJzW3JvdW5kZWRTaXplXSA9IGJ1ZmZlciA9IG5ldyBWaWV3YWJsZUJ1ZmZlcihyb3VuZGVkU2l6ZSAqIHRoaXMudmVydGV4U2l6ZSAqIDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBpbmRleCBidWZmZXIgZnJvbSBgdGhpcy5faUJ1ZmZlcnNgIHRoYXQgY2FuXG4gICAgICogaGFzIGF0bGVhc3QgYHNpemVgIGNhcGFjaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBtaW5pbXVtIHJlcXVpcmVkIGNhcGFjaXR5XG4gICAgICogQHJldHVybiB7VWludDE2QXJyYXl9IC0gYnVmZmVyIHRoYXQgY2FuIGZpdCBgc2l6ZWBcbiAgICAgKiAgICBpbmRpY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5nZXRJbmRleEJ1ZmZlciA9IGZ1bmN0aW9uIGdldEluZGV4QnVmZmVyIChzaXplKVxuICAgIHtcbiAgICAgICAgLy8gMTIgaW5kaWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgdmFyIHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gMTIpKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplSW5kZXggPSBsb2cyKHJvdW5kZWRQMik7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDEyO1xuXG4gICAgICAgIGlmICh0aGlzLl9pQnVmZmVycy5sZW5ndGggPD0gcm91bmRlZFNpemVJbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faUJ1ZmZlcnMubGVuZ3RoID0gcm91bmRlZFNpemVJbmRleCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5faUJ1ZmZlcnNbcm91bmRlZFNpemVJbmRleF07XG5cbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzW3JvdW5kZWRTaXplSW5kZXhdID0gYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KHJvdW5kZWRTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBmb3VyIGJhdGNoaW5nIHBhcmFtZXRlcnMgb2YgYGVsZW1lbnRgLCBpbnRlcmxlYXZlc1xuICAgICAqIGFuZCBwdXNoZXMgdGhlbSBpbnRvIHRoZSBiYXRjaGluZyBhdHRyaWJ1dGUvaW5kZXggYnVmZmVycyBnaXZlbi5cbiAgICAgKlxuICAgICAqIEl0IHVzZXMgdGhlc2UgcHJvcGVydGllczogYHZlcnRleERhdGFgIGB1dnNgLCBgdGV4dHVyZUlkYCBhbmRcbiAgICAgKiBgaW5kaWNpZXNgLiBJdCBhbHNvIHVzZXMgdGhlIFwidGludFwiIG9mIHRoZSBiYXNlLXRleHR1cmUsIGlmXG4gICAgICogcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IGVsZW1lbnQgLSBlbGVtZW50IGJlaW5nIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlZpZXdhYmxlQnVmZmVyfSBhdHRyaWJ1dGVCdWZmZXIgLSBhdHRyaWJ1dGUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IGluZGV4QnVmZmVyIC0gaW5kZXggYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFJbmRleCAtIG51bWJlciBvZiBmbG9hdHMgYWxyZWFkeSBpbiB0aGUgYXR0cmlidXRlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpSW5kZXggLSBudW1iZXIgb2YgaW5kaWNlcyBhbHJlYWR5IGluIGBpbmRleEJ1ZmZlcmBcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5ID0gZnVuY3Rpb24gcGFja0ludGVybGVhdmVkR2VvbWV0cnkgKGVsZW1lbnQsIGF0dHJpYnV0ZUJ1ZmZlciwgaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KVxuICAgIHtcbiAgICAgICAgdmFyIHVpbnQzMlZpZXcgPSBhdHRyaWJ1dGVCdWZmZXIudWludDMyVmlldztcbiAgICAgICAgdmFyIGZsb2F0MzJWaWV3ID0gYXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3O1xuXG4gICAgICAgIHZhciBwYWNrZWRWZXJ0aWNlcyA9IGFJbmRleCAvIHRoaXMudmVydGV4U2l6ZTtcbiAgICAgICAgdmFyIHV2cyA9IGVsZW1lbnQudXZzO1xuICAgICAgICB2YXIgaW5kaWNpZXMgPSBlbGVtZW50LmluZGljZXM7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gZWxlbWVudC52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdGV4dHVyZUlkID0gZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5fYmF0Y2hMb2NhdGlvbjtcblxuICAgICAgICB2YXIgYWxwaGEgPSBNYXRoLm1pbihlbGVtZW50LndvcmxkQWxwaGEsIDEuMCk7XG4gICAgICAgIHZhciBhcmdiID0gKGFscGhhIDwgMS4wXG4gICAgICAgICAgICAmJiBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlLmFscGhhTW9kZSlcbiAgICAgICAgICAgID8gcHJlbXVsdGlwbHlUaW50KGVsZW1lbnQuX3RpbnRSR0IsIGFscGhhKVxuICAgICAgICAgICAgOiBlbGVtZW50Ll90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAvLyBsZXRzIG5vdCB3b3JyeSBhYm91dCB0aW50ISBmb3Igbm93Li5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpICsgMV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgdWludDMyVmlld1thSW5kZXgrK10gPSBhcmdiO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdGV4dHVyZUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgaW5kaWNpZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgaW5kZXhCdWZmZXJbaUluZGV4KytdID0gcGFja2VkVmVydGljZXMgKyBpbmRpY2llc1tpJDFdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBBYnN0cmFjdEJhdGNoUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbi8qKlxuICogUG9vbCBvZiBgQmF0Y2hEcmF3Q2FsbGAgb2JqZWN0cyB0aGF0IGBmbHVzaGAgdXNlZFxuICogdG8gY3JlYXRlIFwiYmF0Y2hlc1wiIG9mIHRoZSBvYmplY3RzIGJlaW5nIHJlbmRlcmVkLlxuICpcbiAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4uXG4gKiBTaGFyZWQgYmV0d2VlbiBhbGwgYmF0Y2ggcmVuZGVyZXJzIGJlY2F1c2UgaXQgY2FuIGJlIG9ubHkgb25lIFwiZmx1c2hcIiB3b3JraW5nIGF0IHRoZSBtb21lbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlciB7UElYSS5CYXRjaERyYXdDYWxsW119XG4gKi9cbkFic3RyYWN0QmF0Y2hSZW5kZXJlci5fZHJhd0NhbGxQb29sID0gW107XG5cbi8qKlxuICogUG9vbCBvZiBgQmF0Y2hEcmF3Q2FsbGAgb2JqZWN0cyB0aGF0IGBmbHVzaGAgdXNlZFxuICogdG8gY3JlYXRlIFwiYmF0Y2hlc1wiIG9mIHRoZSBvYmplY3RzIGJlaW5nIHJlbmRlcmVkLlxuICpcbiAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4uXG4gKiBTaGFyZWQgYmV0d2VlbiBhbGwgYmF0Y2ggcmVuZGVyZXJzIGJlY2F1c2UgaXQgY2FuIGJlIG9ubHkgb25lIFwiZmx1c2hcIiB3b3JraW5nIGF0IHRoZSBtb21lbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlciB7UElYSS5CYXRjaFRleHR1cmVBcnJheVtdfVxuICovXG5BYnN0cmFjdEJhdGNoUmVuZGVyZXIuX3RleHR1cmVBcnJheVBvb2wgPSBbXTtcblxuLyoqXG4gKiBIZWxwZXIgdGhhdCBnZW5lcmF0ZXMgYmF0Y2hpbmcgbXVsdGktdGV4dHVyZSBzaGFkZXIuIFVzZSBpdCB3aXRoIHlvdXIgbmV3IEJhdGNoUmVuZGVyZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaFNoYWRlckdlbmVyYXRvciA9IGZ1bmN0aW9uIEJhdGNoU2hhZGVyR2VuZXJhdG9yKHZlcnRleFNyYywgZnJhZ1RlbXBsYXRlKVxue1xuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byB0aGUgdmVydGV4IHNoYWRlciBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmM7XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGZyYWdlbWVudCBzaGFkZXIgdGVtcGxhdGUuIE11c3QgY29udGFpbiBcIiVjb3VudCVcIiBhbmQgXCIlZm9ybG9vcCVcIi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmZyYWdUZW1wbGF0ZSA9IGZyYWdUZW1wbGF0ZTtcblxuICAgIHRoaXMucHJvZ3JhbUNhY2hlID0ge307XG4gICAgdGhpcy5kZWZhdWx0R3JvdXBDYWNoZSA9IHt9O1xuXG4gICAgaWYgKGZyYWdUZW1wbGF0ZS5pbmRleE9mKCclY291bnQlJykgPCAwKVxuICAgIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcmFnbWVudCB0ZW1wbGF0ZSBtdXN0IGNvbnRhaW4gXCIlY291bnQlXCIuJyk7XG4gICAgfVxuXG4gICAgaWYgKGZyYWdUZW1wbGF0ZS5pbmRleE9mKCclZm9ybG9vcCUnKSA8IDApXG4gICAge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZyYWdtZW50IHRlbXBsYXRlIG11c3QgY29udGFpbiBcIiVmb3Jsb29wJVwiLicpO1xuICAgIH1cbn07XG5cbkJhdGNoU2hhZGVyR2VuZXJhdG9yLnByb3RvdHlwZS5nZW5lcmF0ZVNoYWRlciA9IGZ1bmN0aW9uIGdlbmVyYXRlU2hhZGVyIChtYXhUZXh0dXJlcylcbntcbiAgICBpZiAoIXRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSlcbiAgICB7XG4gICAgICAgIHZhciBzYW1wbGVWYWx1ZXMgPSBuZXcgSW50MzJBcnJheShtYXhUZXh0dXJlcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZWZhdWx0R3JvdXBDYWNoZVttYXhUZXh0dXJlc10gPSBVbmlmb3JtR3JvdXAuZnJvbSh7IHVTYW1wbGVyczogc2FtcGxlVmFsdWVzIH0sIHRydWUpO1xuXG4gICAgICAgIHZhciBmcmFnbWVudFNyYyA9IHRoaXMuZnJhZ1RlbXBsYXRlO1xuXG4gICAgICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgKFwiXCIgKyBtYXhUZXh0dXJlcykpO1xuICAgICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgdGhpcy5nZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykpO1xuXG4gICAgICAgIHRoaXMucHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSA9IG5ldyBQcm9ncmFtKHRoaXMudmVydGV4U3JjLCBmcmFnbWVudFNyYyk7XG4gICAgfVxuXG4gICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICB0aW50OiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgIHRyYW5zbGF0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgIGRlZmF1bHQ6IHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGVbbWF4VGV4dHVyZXNdLFxuICAgIH07XG5cbiAgICByZXR1cm4gbmV3IFNoYWRlcih0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10sIHVuaWZvcm1zKTtcbn07XG5cbkJhdGNoU2hhZGVyR2VuZXJhdG9yLnByb3RvdHlwZS5nZW5lcmF0ZVNhbXBsZVNyYyA9IGZ1bmN0aW9uIGdlbmVyYXRlU2FtcGxlU3JjIChtYXhUZXh0dXJlcylcbntcbiAgICB2YXIgc3JjID0gJyc7XG5cbiAgICBzcmMgKz0gJ1xcbic7XG4gICAgc3JjICs9ICdcXG4nO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKGkgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpIDwgbWF4VGV4dHVyZXMgLSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBzcmMgKz0gXCJpZih2VGV4dHVyZUlkIDwgXCIgKyBpICsgXCIuNSlcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNyYyArPSAnXFxueyc7XG4gICAgICAgIHNyYyArPSBcIlxcblxcdGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyc1tcIiArIGkgKyBcIl0sIHZUZXh0dXJlQ29vcmQpO1wiO1xuICAgICAgICBzcmMgKz0gJ1xcbn0nO1xuICAgIH1cblxuICAgIHNyYyArPSAnXFxuJztcbiAgICBzcmMgKz0gJ1xcbic7XG5cbiAgICByZXR1cm4gc3JjO1xufTtcblxuLyoqXG4gKiBHZW9tZXRyeSB1c2VkIHRvIGJhdGNoIHN0YW5kYXJkIFBJWEkgY29udGVudCAoZS5nLiBNZXNoLCBTcHJpdGUsIEdyYXBoaWNzIG9iamVjdHMpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoR2VvbWV0cnkgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChHZW9tZXRyeSkge1xuICAgIGZ1bmN0aW9uIEJhdGNoR2VvbWV0cnkoX3N0YXRpYylcbiAgICB7XG4gICAgICAgIGlmICggX3N0YXRpYyA9PT0gdm9pZCAwICkgX3N0YXRpYyA9IGZhbHNlO1xuXG4gICAgICAgIEdlb21ldHJ5LmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciB1c2VkIGZvciBwb3NpdGlvbiwgY29sb3IsIHRleHR1cmUgSURzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBuZXcgQnVmZmVyKG51bGwsIF9zdGF0aWMsIGZhbHNlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggYnVmZmVyIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihudWxsLCBfc3RhdGljLCB0cnVlKTtcblxuICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgdGhpcy5fYnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgdGhpcy5fYnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhQ29sb3InLCB0aGlzLl9idWZmZXIsIDQsIHRydWUsIFRZUEVTLlVOU0lHTkVEX0JZVEUpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUlkJywgdGhpcy5fYnVmZmVyLCAxLCB0cnVlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRJbmRleCh0aGlzLl9pbmRleEJ1ZmZlcik7XG4gICAgfVxuXG4gICAgaWYgKCBHZW9tZXRyeSApIEJhdGNoR2VvbWV0cnkuX19wcm90b19fID0gR2VvbWV0cnk7XG4gICAgQmF0Y2hHZW9tZXRyeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBHZW9tZXRyeSAmJiBHZW9tZXRyeS5wcm90b3R5cGUgKTtcbiAgICBCYXRjaEdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJhdGNoR2VvbWV0cnk7XG5cbiAgICByZXR1cm4gQmF0Y2hHZW9tZXRyeTtcbn0oR2VvbWV0cnkpKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMiA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5hdHRyaWJ1dGUgZmxvYXQgYVRleHR1cmVJZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHRpbnQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdlRleHR1cmVJZCA9IGFUZXh0dXJlSWQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHRpbnQ7XFxufVxcblwiO1xuXG52YXIgZGVmYXVsdEZyYWdtZW50JDIgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyc1slY291bnQlXTtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgICVmb3Jsb29wJVxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGhpZGVjb25zdHJ1Y3RvclxuICovXG52YXIgQmF0Y2hQbHVnaW5GYWN0b3J5ID0gZnVuY3Rpb24gQmF0Y2hQbHVnaW5GYWN0b3J5ICgpIHt9O1xuXG52YXIgc3RhdGljQWNjZXNzb3JzJDEgPSB7IGRlZmF1bHRWZXJ0ZXhTcmM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZGVmYXVsdEZyYWdtZW50VGVtcGxhdGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuQmF0Y2hQbHVnaW5GYWN0b3J5LmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSAob3B0aW9ucylcbntcbiAgICB2YXIgcmVmID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHZlcnRleDogZGVmYXVsdFZlcnRleCQyLFxuICAgICAgICBmcmFnbWVudDogZGVmYXVsdEZyYWdtZW50JDIsXG4gICAgICAgIGdlb21ldHJ5Q2xhc3M6IEJhdGNoR2VvbWV0cnksXG4gICAgICAgIHZlcnRleFNpemU6IDYsXG4gICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIHZhciB2ZXJ0ZXggPSByZWYudmVydGV4O1xuICAgICAgICB2YXIgZnJhZ21lbnQgPSByZWYuZnJhZ21lbnQ7XG4gICAgICAgIHZhciB2ZXJ0ZXhTaXplID0gcmVmLnZlcnRleFNpemU7XG4gICAgICAgIHZhciBnZW9tZXRyeUNsYXNzID0gcmVmLmdlb21ldHJ5Q2xhc3M7XG5cbiAgICByZXR1cm4gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQWJzdHJhY3RCYXRjaFJlbmRlcmVyKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBCYXRjaFBsdWdpbihyZW5kZXJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgICAgICB0aGlzLnNoYWRlckdlbmVyYXRvciA9IG5ldyBCYXRjaFNoYWRlckdlbmVyYXRvcih2ZXJ0ZXgsIGZyYWdtZW50KTtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlDbGFzcyA9IGdlb21ldHJ5Q2xhc3M7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFNpemUgPSB2ZXJ0ZXhTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggQWJzdHJhY3RCYXRjaFJlbmRlcmVyICkgQmF0Y2hQbHVnaW4uX19wcm90b19fID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyO1xuICAgICAgICAgICAgQmF0Y2hQbHVnaW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQWJzdHJhY3RCYXRjaFJlbmRlcmVyICYmIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUgKTtcbiAgICAgICAgICAgIEJhdGNoUGx1Z2luLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJhdGNoUGx1Z2luO1xuXG4gICAgICAgICAgICByZXR1cm4gQmF0Y2hQbHVnaW47XG4gICAgICAgIH0oQWJzdHJhY3RCYXRjaFJlbmRlcmVyKSk7XG59O1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gKlxuICogQHN0YXRpY1xuICogQHR5cGUge3N0cmluZ31cbiAqIEBjb25zdGFudFxuICovXG5zdGF0aWNBY2Nlc3NvcnMkMS5kZWZhdWx0VmVydGV4U3JjLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXgkMjtcbn07XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICpcbiAqIEBzdGF0aWNcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAY29uc3RhbnRcbiAqL1xuc3RhdGljQWNjZXNzb3JzJDEuZGVmYXVsdEZyYWdtZW50VGVtcGxhdGUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50JDI7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggQmF0Y2hQbHVnaW5GYWN0b3J5LCBzdGF0aWNBY2Nlc3NvcnMkMSApO1xuXG4vLyBTZXR1cCB0aGUgZGVmYXVsdCBCYXRjaFJlbmRlcmVyIHBsdWdpbiwgdGhpcyBpcyB3aGF0XG4vLyB3ZSdsbCBhY3R1YWxseSBleHBvcnQgYXQgdGhlIHJvb3QgbGV2ZWxcbnZhciBCYXRjaFJlbmRlcmVyID0gQmF0Y2hQbHVnaW5GYWN0b3J5LmNyZWF0ZSgpO1xuXG5leHBvcnQgeyBBYnN0cmFjdEJhdGNoUmVuZGVyZXIsIEFic3RyYWN0UmVuZGVyZXIsIEF0dHJpYnV0ZSwgQmFzZVJlbmRlclRleHR1cmUsIEJhc2VUZXh0dXJlLCBCYXRjaERyYXdDYWxsLCBCYXRjaEdlb21ldHJ5LCBCYXRjaFBsdWdpbkZhY3RvcnksIEJhdGNoUmVuZGVyZXIsIEJhdGNoU2hhZGVyR2VuZXJhdG9yLCBCYXRjaFRleHR1cmVBcnJheSwgQnVmZmVyLCBDdWJlVGV4dHVyZSwgRmlsdGVyLCBGcmFtZWJ1ZmZlciwgR0xQcm9ncmFtLCBHTFRleHR1cmUsIEdlb21ldHJ5LCBNYXNrRGF0YSwgT2JqZWN0UmVuZGVyZXIsIFByb2dyYW0sIFF1YWQsIFF1YWRVdiwgUmVuZGVyVGV4dHVyZSwgUmVuZGVyVGV4dHVyZVBvb2wsIFJlbmRlcmVyLCBTaGFkZXIsIFNwcml0ZU1hc2tGaWx0ZXIsIFN0YXRlLCBTeXN0ZW0sIFRleHR1cmUsIFRleHR1cmVNYXRyaXgsIFRleHR1cmVVdnMsIFVuaWZvcm1Hcm91cCwgVmlld2FibGVCdWZmZXIsIGF1dG9EZXRlY3RSZW5kZXJlciwgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciwgZGVmYXVsdEZpbHRlciBhcyBkZWZhdWx0RmlsdGVyVmVydGV4LCBfZGVmYXVsdCBhcyBkZWZhdWx0VmVydGV4LCBpbmRleCBhcyByZXNvdXJjZXMsIHN5c3RlbXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2V4dHJhY3QgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvZXh0cmFjdCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlbmRlclRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENhbnZhc1JlbmRlclRhcmdldCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG52YXIgVEVNUF9SRUNUID0gbmV3IFJlY3RhbmdsZSgpO1xudmFyIEJZVEVTX1BFUl9QSVhFTCA9IDQ7XG5cbi8qKlxuICogVGhlIGV4dHJhY3QgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIGV4cG9ydCBjb250ZW50IGZyb20gdGhlIHJlbmRlcmVycy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmV4dHJhY3RgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYWN0XG4gKi9cbnZhciBFeHRyYWN0ID0gZnVuY3Rpb24gRXh0cmFjdChyZW5kZXJlcilcbntcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIGZvciBleHRyYWN0aW5nIGRhdGEgKGltYWdlLCBwaXhlbHMsIGV0Yy4pIGZyb20gYSBkaXNwbGF5IG9iamVjdCBvciByZW5kZXIgdGV4dHVyZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5leHRyYWN0LkV4dHJhY3R9IGV4dHJhY3RcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgKiBAc2VlIFBJWEkuZXh0cmFjdC5FeHRyYWN0XG4gICAgICovXG4gICAgcmVuZGVyZXIuZXh0cmFjdCA9IHRoaXM7XG59O1xuXG4vKipcbiAqIFdpbGwgcmV0dXJuIGEgSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gKlxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZm9ybWF0XSAtIEltYWdlIGZvcm1hdCwgZS5nLiBcImltYWdlL2pwZWdcIiBvciBcImltYWdlL3dlYnBcIi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eV0gLSBKUEVHIG9yIFdlYnAgY29tcHJlc3Npb24gZnJvbSAwIHRvIDEuIERlZmF1bHQgaXMgMC45Mi5cbiAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICovXG5FeHRyYWN0LnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uIGltYWdlICh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSlcbntcbiAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgIGltYWdlLnNyYyA9IHRoaXMuYmFzZTY0KHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KTtcblxuICAgIHJldHVybiBpbWFnZTtcbn07XG5cbi8qKlxuICogV2lsbCByZXR1cm4gYSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICogIGBFeHRyYWN0LmdldENhbnZhc2AgYW5kIHRoZW4gcnVubmluZyB0b0RhdGFVUkwgb24gdGhhdC5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdIC0gSW1hZ2UgZm9ybWF0LCBlLmcuIFwiaW1hZ2UvanBlZ1wiIG9yIFwiaW1hZ2Uvd2VicFwiLlxuICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICogQHJldHVybiB7c3RyaW5nfSBBIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGUgdGV4dHVyZS5cbiAqL1xuRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gYmFzZTY0ICh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSlcbntcbiAgICByZXR1cm4gdGhpcy5jYW52YXModGFyZ2V0KS50b0RhdGFVUkwoZm9ybWF0LCBxdWFsaXR5KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoaXMgdGFyZ2V0IHRvIGl0IGFuZCB0aGVuIHJldHVybnMgaXQuXG4gKlxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBBIENhbnZhcyBlbGVtZW50IHdpdGggdGhlIHRleHR1cmUgcmVuZGVyZWQgb24uXG4gKi9cbkV4dHJhY3QucHJvdG90eXBlLmNhbnZhcyA9IGZ1bmN0aW9uIGNhbnZhcyAodGFyZ2V0KVxue1xuICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgdmFyIHJlc29sdXRpb247XG4gICAgdmFyIGZyYW1lO1xuICAgIHZhciBmbGlwWSA9IGZhbHNlO1xuICAgIHZhciByZW5kZXJUZXh0dXJlO1xuICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcblxuICAgIGlmICh0YXJnZXQpXG4gICAge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgUmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuICAgICAgICBmbGlwWSA9IGZhbHNlO1xuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgZmxpcFkgPSB0cnVlO1xuXG4gICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICBmcmFtZS53aWR0aCA9IHRoaXMucmVuZGVyZXIud2lkdGg7XG4gICAgICAgIGZyYW1lLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0O1xuXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChudWxsKTtcbiAgICB9XG5cbiAgICB2YXIgd2lkdGggPSBNYXRoLmZsb29yKChmcmFtZS53aWR0aCAqIHJlc29sdXRpb24pICsgMWUtNCk7XG4gICAgdmFyIGhlaWdodCA9IE1hdGguZmxvb3IoKGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24pICsgMWUtNCk7XG5cbiAgICB2YXIgY2FudmFzQnVmZmVyID0gbmV3IENhbnZhc1JlbmRlclRhcmdldCh3aWR0aCwgaGVpZ2h0LCAxKTtcblxuICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcblxuICAgIC8vIHJlYWQgcGl4ZWxzIHRvIHRoZSBhcnJheVxuICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgZ2wucmVhZFBpeGVscyhcbiAgICAgICAgZnJhbWUueCAqIHJlc29sdXRpb24sXG4gICAgICAgIGZyYW1lLnkgKiByZXNvbHV0aW9uLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBnbC5SR0JBLFxuICAgICAgICBnbC5VTlNJR05FRF9CWVRFLFxuICAgICAgICB3ZWJnbFBpeGVsc1xuICAgICk7XG5cbiAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgdmFyIGNhbnZhc0RhdGEgPSBjYW52YXNCdWZmZXIuY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgY2FudmFzRGF0YS5kYXRhKTtcblxuICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LnB1dEltYWdlRGF0YShjYW52YXNEYXRhLCAwLCAwKTtcblxuICAgIC8vIHB1bGxpbmcgcGl4ZWxzXG4gICAgaWYgKGZsaXBZKVxuICAgIHtcbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQuc2NhbGUoMSwgLTEpO1xuICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzQnVmZmVyLmNhbnZhcywgMCwgLWhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKGdlbmVyYXRlZClcbiAgICB7XG4gICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBzZW5kIHRoZSBjYW52YXMgYmFjay4uXG4gICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG59O1xuXG4vKipcbiAqIFdpbGwgcmV0dXJuIGEgb25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlIGluIFJHQkFcbiAqIG9yZGVyLCB3aXRoIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1IChpbmNsdWRlZCkuXG4gKlxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IE9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZVxuICovXG5FeHRyYWN0LnByb3RvdHlwZS5waXhlbHMgPSBmdW5jdGlvbiBwaXhlbHMgKHRhcmdldClcbntcbiAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIHZhciByZXNvbHV0aW9uO1xuICAgIHZhciBmcmFtZTtcbiAgICB2YXIgcmVuZGVyVGV4dHVyZTtcbiAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG5cbiAgICBpZiAodGFyZ2V0KVxuICAgIHtcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5yZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVuZGVyVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcblxuICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgZnJhbWUud2lkdGggPSByZW5kZXJlci53aWR0aDtcbiAgICAgICAgZnJhbWUuaGVpZ2h0ID0gcmVuZGVyZXIuaGVpZ2h0O1xuXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChudWxsKTtcbiAgICB9XG5cbiAgICB2YXIgd2lkdGggPSBmcmFtZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgdmFyIGhlaWdodCA9IGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb247XG5cbiAgICB2YXIgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG5cbiAgICAvLyByZWFkIHBpeGVscyB0byB0aGUgYXJyYXlcbiAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgIGdsLnJlYWRQaXhlbHMoXG4gICAgICAgIGZyYW1lLnggKiByZXNvbHV0aW9uLFxuICAgICAgICBmcmFtZS55ICogcmVzb2x1dGlvbixcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgZ2wuUkdCQSxcbiAgICAgICAgZ2wuVU5TSUdORURfQllURSxcbiAgICAgICAgd2ViZ2xQaXhlbHNcbiAgICApO1xuXG4gICAgaWYgKGdlbmVyYXRlZClcbiAgICB7XG4gICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB9XG5cbiAgICBFeHRyYWN0LmFycmF5UG9zdERpdmlkZSh3ZWJnbFBpeGVscywgd2ViZ2xQaXhlbHMpO1xuXG4gICAgcmV0dXJuIHdlYmdsUGl4ZWxzO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICpcbiAqL1xuRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnJlbmRlcmVyLmV4dHJhY3QgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBUYWtlcyBwcmVtdWx0aXBsaWVkIHBpeGVsIGRhdGEgYW5kIHByb2R1Y2VzIHJlZ3VsYXIgcGl4ZWwgZGF0YVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gcGl4ZWxzIHtudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gYXJyYXkgb2YgcGl4ZWwgZGF0YVxuICogQHBhcmFtIG91dCB7bnVtYmVyW10gfCBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXl9IG91dHB1dCBhcnJheVxuICovXG5FeHRyYWN0LmFycmF5UG9zdERpdmlkZSA9IGZ1bmN0aW9uIGFycmF5UG9zdERpdmlkZSAocGl4ZWxzLCBvdXQpXG57XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXhlbHMubGVuZ3RoOyBpICs9IDQpXG4gICAge1xuICAgICAgICB2YXIgYWxwaGEgPSBvdXRbaSArIDNdID0gcGl4ZWxzW2kgKyAzXTtcblxuICAgICAgICBpZiAoYWxwaGEgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG91dFtpXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2ldICogMjU1LjAgLyBhbHBoYSwgMjU1LjApKTtcbiAgICAgICAgICAgIG91dFtpICsgMV0gPSBNYXRoLnJvdW5kKE1hdGgubWluKHBpeGVsc1tpICsgMV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgb3V0W2kgKyAyXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAyXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBvdXRbaV0gPSBwaXhlbHNbaV07XG4gICAgICAgICAgICBvdXRbaSArIDFdID0gcGl4ZWxzW2kgKyAxXTtcbiAgICAgICAgICAgIG91dFtpICsgMl0gPSBwaXhlbHNbaSArIDJdO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBwcm92aWRlcyByZW5kZXJlci1zcGVjaWZpYyBwbHVnaW5zIGZvciBleHBvcnRpbmcgY29udGVudCBmcm9tIGEgcmVuZGVyZXIuXG4gKiBGb3IgaW5zdGFuY2UsIHRoZXNlIHBsdWdpbnMgY2FuIGJlIHVzZWQgZm9yIHNhdmluZyBhbiBJbWFnZSwgQ2FudmFzIGVsZW1lbnQgb3IgZm9yIGV4cG9ydGluZyB0aGUgcmF3IGltYWdlIGRhdGEgKHBpeGVscykuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoZXNlIHBsdWdpbnMgZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcCAod2lsbCBhdXRvLWFkZCBleHRyYWN0IHBsdWdpbiB0byByZW5kZXJlcilcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gRHJhdyBhIHJlZCBjaXJjbGVcbiAqIGNvbnN0IGdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHhGRjAwMDApXG4gKiAgICAgLmRyYXdDaXJjbGUoMCwgMCwgNTApO1xuICpcbiAqIC8vIFJlbmRlciB0aGUgZ3JhcGhpY3MgYXMgYW4gSFRNTEltYWdlRWxlbWVudFxuICogY29uc3QgaW1hZ2UgPSBhcHAucmVuZGVyZXIucGx1Z2lucy5leHRyYWN0LmltYWdlKGdyYXBoaWNzKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICogQG5hbWVzcGFjZSBQSVhJLmV4dHJhY3RcbiAqL1xuXG5leHBvcnQgeyBFeHRyYWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRyYWN0LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9pbnRlcmFjdGlvbiAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9pbnRlcmFjdGlvbiBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogSG9sZHMgYWxsIGluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYW4gSW50ZXJhY3Rpb24gZXZlbnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbnZhciBJbnRlcmFjdGlvbkRhdGEgPSBmdW5jdGlvbiBJbnRlcmFjdGlvbkRhdGEoKVxue1xuICAgIC8qKlxuICAgICAqIFRoaXMgcG9pbnQgc3RvcmVzIHRoZSBnbG9iYWwgY29vcmRzIG9mIHdoZXJlIHRoZSB0b3VjaC9tb3VzZSBldmVudCBoYXBwZW5lZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cbiAgICB0aGlzLmdsb2JhbCA9IG5ldyBQb2ludCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBTcHJpdGUgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHBhc3NlZCB0byBhbiBldmVudCBoYW5kbGVyLCB0aGlzIHdpbGwgYmUgdGhlIG9yaWdpbmFsIERPTSBFdmVudCB0aGF0IHdhcyBjYXB0dXJlZFxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoRXZlbnRcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnRcbiAgICAgKiBAbWVtYmVyIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR8UG9pbnRlckV2ZW50fVxuICAgICAqL1xuICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBpbnRlcmFjdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaWRlbnRpZmllciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdGhlIHBvaW50ZXIgZGV2aWNlIHRoYXQgY3JlYXRlZCB0aGUgZXZlbnQgaXMgdGhlIHByaW1hcnkgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaXNQcmltYXJ5XG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b24gd2FzIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHRvIHRyaWdnZXIgdGhlIGV2ZW50LlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9uXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9ucyBhcmUgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2Ugd2hlbiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9uc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5idXR0b25zID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHgtYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgKiByYWRpdXNYIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvd2lkdGhcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHktYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgKiByYWRpdXNZIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaGVpZ2h0XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50aWx0WCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50aWx0WSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBwb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlclR5cGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRlclR5cGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUHJlc3N1cmUgYXBwbGllZCBieSB0aGUgcG9pbnRpbmcgZGV2aWNlIGR1cmluZyB0aGUgZXZlbnQuIEEgVG91Y2gncyBmb3JjZSBwcm9wZXJ0eVxuICAgICAqIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcHJlc3N1cmVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucHJlc3N1cmUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogRnJvbSBUb3VjaEV2ZW50cyAobm90IFBvaW50ZXJFdmVudHMgdHJpZ2dlcmVkIGJ5IHRvdWNoZXMpLCB0aGUgcm90YXRpb25BbmdsZSBvZiB0aGUgVG91Y2guXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2gvcm90YXRpb25BbmdsZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gMDtcblxuICAgIC8qKlxuICAgICAqIFR3aXN0IG9mIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50d2lzdCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBCYXJyZWwgcHJlc3N1cmUgb24gYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBwb2ludGVySWQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHBvaW50ZXIuIEl0IHdpbGwgYmUgdGhlIHNhbWUgYXMgYGlkZW50aWZpZXJgLlxuICogQHJlYWRvbmx5XG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlcklkXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5wb2ludGVySWQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xufTtcblxuLyoqXG4gKiBUaGlzIHdpbGwgcmV0dXJuIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgZm9yIHRoaXMgSW50ZXJhY3Rpb25EYXRhXG4gKlxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICogIGNvb3JkcyBvZmZcbiAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWwgKG90aGVyd2lzZVxuICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICogQHBhcmFtIHtQSVhJLlBvaW50fSBbZ2xvYmFsUG9zXSAtIEEgUG9pbnQgb2JqZWN0IGNvbnRhaW5pbmcgeW91ciBjdXN0b20gZ2xvYmFsIGNvb3Jkcywgb3B0aW9uYWxcbiAqICAob3RoZXJ3aXNlIHdpbGwgdXNlIHRoZSBjdXJyZW50IGdsb2JhbCBjb29yZHMpXG4gKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IGNvbnRhaW5pbmcgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBJbnRlcmFjdGlvbkRhdGEgcG9zaXRpb24gcmVsYXRpdmVcbiAqICB0byB0aGUgRGlzcGxheU9iamVjdFxuICovXG5JbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmdldExvY2FsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRMb2NhbFBvc2l0aW9uIChkaXNwbGF5T2JqZWN0LCBwb2ludCwgZ2xvYmFsUG9zKVxue1xuICAgIHJldHVybiBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShnbG9iYWxQb3MgfHwgdGhpcy5nbG9iYWwsIHBvaW50KTtcbn07XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnRpZXMgZnJvbSBub3JtYWxpemVkIGV2ZW50IGRhdGEuXG4gKlxuICogQHBhcmFtIHtUb3VjaHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgVGhlIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YVxuICovXG5JbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmNvcHlFdmVudCA9IGZ1bmN0aW9uIGNvcHlFdmVudCAoZXZlbnQpXG57XG4gICAgLy8gaXNQcmltYXJ5IHNob3VsZCBvbmx5IGNoYW5nZSBvbiB0b3VjaHN0YXJ0L3BvaW50ZXJkb3duLCBzbyB3ZSBkb24ndCB3YW50IHRvIG92ZXJ3cml0ZVxuICAgIC8vIGl0IHdpdGggXCJmYWxzZVwiIG9uIGxhdGVyIGV2ZW50cyB3aGVuIG91ciBzaGltIGZvciBpdCBvbiB0b3VjaCBldmVudHMgbWlnaHQgbm90IGJlXG4gICAgLy8gYWNjdXJhdGVcbiAgICBpZiAoZXZlbnQuaXNQcmltYXJ5KVxuICAgIHtcbiAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcbiAgICAvLyBldmVudC5idXR0b25zIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzIChpZS4gU2FmYXJpKSwgYnV0IGl0IGRvZXMgaGF2ZSBhIG5vbi1zdGFuZGFyZFxuICAgIC8vIGV2ZW50LndoaWNoIHByb3BlcnR5IGluc3RlYWQsIHdoaWNoIGNvbnZleXMgdGhlIHNhbWUgaW5mb3JtYXRpb24uXG4gICAgdGhpcy5idXR0b25zID0gTnVtYmVyLmlzSW50ZWdlcihldmVudC5idXR0b25zKSA/IGV2ZW50LmJ1dHRvbnMgOiBldmVudC53aGljaDtcbiAgICB0aGlzLndpZHRoID0gZXZlbnQud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBldmVudC5oZWlnaHQ7XG4gICAgdGhpcy50aWx0WCA9IGV2ZW50LnRpbHRYO1xuICAgIHRoaXMudGlsdFkgPSBldmVudC50aWx0WTtcbiAgICB0aGlzLnBvaW50ZXJUeXBlID0gZXZlbnQucG9pbnRlclR5cGU7XG4gICAgdGhpcy5wcmVzc3VyZSA9IGV2ZW50LnByZXNzdXJlO1xuICAgIHRoaXMucm90YXRpb25BbmdsZSA9IGV2ZW50LnJvdGF0aW9uQW5nbGU7XG4gICAgdGhpcy50d2lzdCA9IGV2ZW50LnR3aXN0IHx8IDA7XG4gICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSBldmVudC50YW5nZW50aWFsUHJlc3N1cmUgfHwgMDtcbn07XG5cbi8qKlxuICogUmVzZXRzIHRoZSBkYXRhIGZvciBwb29saW5nLlxuICovXG5JbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbntcbiAgICAvLyBpc1ByaW1hcnkgaXMgdGhlIG9ubHkgcHJvcGVydHkgdGhhdCB3ZSByZWFsbHkgbmVlZCB0byByZXNldCAtIGV2ZXJ5dGhpbmcgZWxzZSBpc1xuICAgIC8vIGd1YXJhbnRlZWQgdG8gYmUgb3ZlcndyaXR0ZW5cbiAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4vKipcbiAqIEV2ZW50IGNsYXNzIHRoYXQgbWltaWNzIG5hdGl2ZSBET00gZXZlbnRzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uRXZlbnQgPSBmdW5jdGlvbiBJbnRlcmFjdGlvbkV2ZW50KClcbntcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgZXZlbnQgd2lsbCBjb250aW51ZSBwcm9wYWdhdGluZyBpbiB0aGUgdHJlZS5cbiAgICAgKlxuICAgICAqIFJlbWFpbmluZyBldmVudHMgZm9yIHRoZSB7QGxpbmsgc3RvcHNQcm9wYWdhdGluZ0F0fSBvYmplY3RcbiAgICAgKiB3aWxsIHN0aWxsIGJlIGRpc3BhdGNoZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQXQgd2hpY2ggb2JqZWN0IHRoaXMgZXZlbnQgc3RvcHMgcHJvcGFnYXRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnN0b3BzUHJvcGFnYXRpbmdBdCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHdlIGFscmVhZHkgcmVhY2hlZCB0aGUgZWxlbWVudCB3ZSB3YW50IHRvXG4gICAgICogc3RvcCBwcm9wYWdhdGluZyBhdC4gVGhpcyBpcyBpbXBvcnRhbnQgZm9yIGRlbGF5ZWQgZXZlbnRzLFxuICAgICAqIHdoZXJlIHdlIHN0YXJ0IG92ZXIgZGVlcGVyIGluIHRoZSB0cmVlIGFnYWluLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uSGludCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCB3aGljaCBjYXVzZWQgdGhpcyBldmVudCB0byBiZSBkaXNwYXRjaGVkLlxuICAgICAqIEZvciBsaXN0ZW5lciBjYWxsYmFjayBzZWUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudC5jdXJyZW50VGFyZ2V0fS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IHdob3NlIGV2ZW50IGxpc3RlbmVy4oCZcyBjYWxsYmFjayBpcyBjdXJyZW50bHkgYmVpbmcgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb25EYXRhIHJlbGF0ZWQgdG8gdGhpcyBldmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICovXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbn07XG5cbi8qKlxuICogUHJldmVudHMgZXZlbnQgZnJvbSByZWFjaGluZyBhbnkgb2JqZWN0cyBvdGhlciB0aGFuIHRoZSBjdXJyZW50IG9iamVjdC5cbiAqXG4gKi9cbkludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbiAoKVxue1xuICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gdHJ1ZTtcbiAgICB0aGlzLnN0b3BzUHJvcGFnYXRpbmdBdCA9IHRoaXMuY3VycmVudFRhcmdldDtcbn07XG5cbi8qKlxuICogUmVzZXRzIHRoZSBldmVudC5cbiAqL1xuSW50ZXJhY3Rpb25FdmVudC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxue1xuICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gbnVsbDtcbiAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbn07XG5cbi8qKlxuICogRGlzcGxheU9iamVjdHMgd2l0aCB0aGUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXR9IG1peGluIHVzZSB0aGlzIGNsYXNzIHRvIHRyYWNrIGludGVyYWN0aW9uc1xuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbnZhciBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSA9IGZ1bmN0aW9uIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKHBvaW50ZXJJZClcbntcbiAgICB0aGlzLl9wb2ludGVySWQgPSBwb2ludGVySWQ7XG4gICAgdGhpcy5fZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQxID0geyBwb2ludGVySWQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZmxhZ3M6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbm9uZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxvdmVyOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJpZ2h0RG93bjogeyBjb25maWd1cmFibGU6IHRydWUgfSxsZWZ0RG93bjogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgaW50ZXJhY3Rpb24gZmxhZyB0byBzZXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBTaG91bGQgdGhlIGZsYWcgYmUgc2V0IG9yIHVuc2V0XG4gKi9cbkludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZS5fZG9TZXQgPSBmdW5jdGlvbiBfZG9TZXQgKGZsYWcsIHluKVxue1xuICAgIGlmICh5bilcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgfCBmbGFnO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzICYgKH5mbGFnKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICpcbiAqIEByZWFkb25seVxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEucG9pbnRlcklkLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJJZDtcbn07XG5cbi8qKlxuICogU3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGEsIGV4cHJlc3NlZCBhcyBiaXQgZmxhZ3NcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5mbGFncy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9mbGFncztcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLmZsYWdzLnNldCA9IGZ1bmN0aW9uIChmbGFncykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5fZmxhZ3MgPSBmbGFncztcbn07XG5cbi8qKlxuICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgaW5hY3RpdmUgKG5vdCBvdmVyIG9yIGRvd24pP1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLm5vbmUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZmxhZ3MgPT09IHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTk9ORTtcbn07XG5cbi8qKlxuICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgb3ZlciB0aGUgRGlzcGxheU9iamVjdD9cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEub3Zlci5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIpICE9PSAwO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDEub3Zlci5zZXQgPSBmdW5jdGlvbiAoeW4pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuT1ZFUiwgeW4pO1xufTtcblxuLyoqXG4gKiBEaWQgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLnJpZ2h0RG93bi5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04pICE9PSAwO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDEucmlnaHREb3duLnNldCA9IGZ1bmN0aW9uICh5bikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5SSUdIVF9ET1dOLCB5bik7XG59O1xuXG4vKipcbiAqIERpZCB0aGUgbGVmdCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5sZWZ0RG93bi5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLkxFRlRfRE9XTikgIT09IDA7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5sZWZ0RG93bi5zZXQgPSBmdW5jdGlvbiAoeW4pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTEVGVF9ET1dOLCB5bik7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkMSApO1xuXG5JbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIE5PTkU6IDAsXG4gICAgT1ZFUjogMSA8PCAwLFxuICAgIExFRlRfRE9XTjogMSA8PCAxLFxuICAgIFJJR0hUX0RPV046IDEgPDwgMixcbn0pO1xuXG4vKipcbiAqIFN0cmF0ZWd5IGhvdyB0byBzZWFyY2ggdGhyb3VnaCBzdGFnZSB0cmVlIGZvciBpbnRlcmFjdGl2ZSBvYmplY3RzXG4gKlxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIFRyZWVTZWFyY2ggPSBmdW5jdGlvbiBUcmVlU2VhcmNoKClcbntcbiAgICB0aGlzLl90ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbn07XG5cbi8qKlxuICogUmVjdXJzaXZlIGltcGxlbWVudGF0aW9uIGZvciBmaW5kSGl0XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbaGl0VGVzdF0gLSB0aGlzIGluZGljYXRlcyBpZiB0aGUgb2JqZWN0cyBpbnNpZGUgc2hvdWxkIGJlIGhpdCB0ZXN0IGFnYWluc3QgdGhlIHBvaW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnRlcmFjdGl2ZV0gLSBXaGV0aGVyIHRoZSBkaXNwbGF5T2JqZWN0IGlzIGludGVyYWN0aXZlXG4gKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICovXG5UcmVlU2VhcmNoLnByb3RvdHlwZS5yZWN1cnNpdmVGaW5kSGl0ID0gZnVuY3Rpb24gcmVjdXJzaXZlRmluZEhpdCAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmUpXG57XG4gICAgaWYgKCFkaXNwbGF5T2JqZWN0IHx8ICFkaXNwbGF5T2JqZWN0LnZpc2libGUpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHBvaW50ID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmdsb2JhbDtcblxuICAgIC8vIFRvb2sgYSBsaXR0bGUgd2hpbGUgdG8gcmV3b3JrIHRoaXMgZnVuY3Rpb24gY29ycmVjdGx5ISBCdXQgbm93IGl0IGlzIGRvbmUgYW5kIG5pY2UgYW5kIG9wdGltaXplZCEgXl9eXG4gICAgLy9cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbm93IGxvb3AgdGhyb3VnaCBhbGwgb2JqZWN0cyBhbmQgdGhlbiBvbmx5IGhpdCB0ZXN0IHRoZSBvYmplY3RzIGl0IEhBU1xuICAgIC8vIHRvLCBub3QgYWxsIG9mIHRoZW0uIE1VQ0ggZmFzdGVyLi5cbiAgICAvLyBBbiBvYmplY3Qgd2lsbCBiZSBoaXQgdGVzdCBpZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gICAgLy9cbiAgICAvLyAxOiBJdCBpcyBpbnRlcmFjdGl2ZS5cbiAgICAvLyAyOiBJdCBiZWxvbmdzIHRvIGEgcGFyZW50IHRoYXQgaXMgaW50ZXJhY3RpdmUgQU5EIG9uZSBvZiB0aGUgcGFyZW50cyBjaGlsZHJlbiBoYXZlIG5vdCBhbHJlYWR5IGJlZW4gaGl0LlxuICAgIC8vXG4gICAgLy8gQXMgYW5vdGhlciBsaXR0bGUgb3B0aW1pemF0aW9uIG9uY2UgYW4gaW50ZXJhY3RpdmUgb2JqZWN0IGhhcyBiZWVuIGhpdCB3ZSBjYW4gY2Fycnkgb25cbiAgICAvLyB0aHJvdWdoIHRoZSBzY2VuZWdyYXBoLCBidXQgd2Uga25vdyB0aGF0IHRoZXJlIHdpbGwgYmUgbm8gbW9yZSBoaXRzISBTbyB3ZSBjYW4gYXZvaWQgZXh0cmEgaGl0IHRlc3RzXG4gICAgLy8gQSBmaW5hbCBvcHRpbWl6YXRpb24gaXMgdGhhdCBhbiBvYmplY3QgaXMgbm90IGhpdCB0ZXN0IGRpcmVjdGx5IGlmIGEgY2hpbGQgaGFzIGFscmVhZHkgYmVlbiBoaXQuXG5cbiAgICBpbnRlcmFjdGl2ZSA9IGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUgfHwgaW50ZXJhY3RpdmU7XG5cbiAgICB2YXIgaGl0ID0gZmFsc2U7XG4gICAgdmFyIGludGVyYWN0aXZlUGFyZW50ID0gaW50ZXJhY3RpdmU7XG5cbiAgICAvLyBGbGFnIGhlcmUgY2FuIHNldCB0byBmYWxzZSBpZiB0aGUgZXZlbnQgaXMgb3V0c2lkZSB0aGUgcGFyZW50cyBoaXRBcmVhIG9yIG1hc2tcbiAgICB2YXIgaGl0VGVzdENoaWxkcmVuID0gdHJ1ZTtcblxuICAgIC8vIElmIHRoZXJlIGlzIGEgaGl0QXJlYSwgbm8gbmVlZCB0byB0ZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBoaXRBcmVhXG4gICAgLy8gVGhlcmUgaXMgYWxzbyBubyBsb25nZXIgYSBuZWVkIHRvIGhpdFRlc3QgY2hpbGRyZW4uXG4gICAgaWYgKGRpc3BsYXlPYmplY3QuaGl0QXJlYSlcbiAgICB7XG4gICAgICAgIGlmIChoaXRUZXN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGhpcy5fdGVtcFBvaW50KTtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhLmNvbnRhaW5zKHRoaXMuX3RlbXBQb2ludC54LCB0aGlzLl90ZW1wUG9pbnQueSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGhpdFRlc3RDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW50ZXJhY3RpdmVQYXJlbnQgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gSWYgdGhlcmUgaXMgYSBtYXNrLCBubyBuZWVkIHRvIGhpdFRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIG1hc2suXG4gICAgLy8gV2Ugc3RpbGwgd2FudCB0byBoaXRUZXN0Q2hpbGRyZW4sIGhvd2V2ZXIsIHRvIGVuc3VyZSBhIG1vdXNlb3V0IGNhbiBzdGlsbCBiZSBnZW5lcmF0ZWQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81MTM1XG4gICAgZWxzZSBpZiAoZGlzcGxheU9iamVjdC5fbWFzaylcbiAgICB7XG4gICAgICAgIGlmIChoaXRUZXN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIShkaXNwbGF5T2JqZWN0Ll9tYXNrLmNvbnRhaW5zUG9pbnQgJiYgZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50KHBvaW50KSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gKiogRlJFRSBUSVAgKiohIElmIGFuIG9iamVjdCBpcyBub3QgaW50ZXJhY3RpdmUgb3IgaGFzIG5vIGJ1dHRvbnMgaW4gaXRcbiAgICAvLyAoc3VjaCBhcyBhIGdhbWUgc2NlbmUhKSBzZXQgaW50ZXJhY3RpdmVDaGlsZHJlbiB0byBmYWxzZSBmb3IgdGhhdCBkaXNwbGF5T2JqZWN0LlxuICAgIC8vIFRoaXMgd2lsbCBhbGxvdyBQaXhpSlMgdG8gY29tcGxldGVseSBpZ25vcmUgYW5kIGJ5cGFzcyBjaGVja2luZyB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW4uXG4gICAgaWYgKGhpdFRlc3RDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlQ2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5jaGlsZHJlbilcbiAgICB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgLy8gdGltZSB0byBnZXQgcmVjdXJzaXZlLi4gaWYgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBpZiBzb21ldGhpbmcgaXMgaGl0Li5cbiAgICAgICAgICAgIHZhciBjaGlsZEhpdCA9IHRoaXMucmVjdXJzaXZlRmluZEhpdChpbnRlcmFjdGlvbkV2ZW50LCBjaGlsZCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmVQYXJlbnQpO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGRIaXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gaXRzIGEgZ29vZCBpZGVhIHRvIGNoZWNrIGlmIGEgY2hpbGQgaGFzIGxvc3QgaXRzIHBhcmVudC5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIG1lYW5zIGl0IGhhcyBiZWVuIHJlbW92ZWQgd2hpbHN0IGxvb3Bpbmcgc28gaXRzIGJlc3RcbiAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLnBhcmVudClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueSBtb3JlIG9iamVjdHMgaW4gdGhpcyBjb250YWluZXIgYXMgd2Ugd2VcbiAgICAgICAgICAgICAgICAvLyBub3cga25vdyB0aGUgcGFyZW50IGhhcyBiZWVuIGhpdFxuICAgICAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2hpbGQgaXMgaW50ZXJhY3RpdmUgLCB0aGF0IG1lYW5zIHRoYXQgdGhlIG9iamVjdCBoaXQgd2FzIGFjdHVhbGx5XG4gICAgICAgICAgICAgICAgLy8gaW50ZXJhY3RpdmUgYW5kIG5vdCBqdXN0IHRoZSBjaGlsZCBvZiBhbiBpbnRlcmFjdGl2ZSBvYmplY3QuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnl0aGluZyBlbHNlLiBXZSBzdGlsbCBuZWVkIHRvIHJ1blxuICAgICAgICAgICAgICAgIC8vIHRocm91Z2ggYWxsIG9iamVjdHMsIGJ1dCB3ZSBkb24ndCBuZWVkIHRvIHBlcmZvcm0gYW55IGhpdCB0ZXN0cy5cblxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkV2ZW50LnRhcmdldClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm8gcG9pbnQgcnVubmluZyB0aGlzIGlmIHRoZSBpdGVtIGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBkb2VzIG5vdCBoYXZlIGFuIGludGVyYWN0aXZlIHBhcmVudC5cbiAgICBpZiAoaW50ZXJhY3RpdmUpXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBhcmUgaGl0IHRlc3RpbmcgKGFzIGluIHdlIGhhdmUgbm8gaGl0IGFueSBvYmplY3RzIHlldClcbiAgICAgICAgLy8gV2UgYWxzbyBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGhpdCB0ZXN0aW5nIGlmIG9uY2Ugb2YgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuXG4gICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gaGl0IC0gYnV0IG9ubHkgaWYgaXQgd2FzIGludGVyYWN0aXZlLCBvdGhlcndpc2Ugd2UgbmVlZCB0byBrZWVwXG4gICAgICAgIC8vIGxvb2tpbmcgZm9yIGFuIGludGVyYWN0aXZlIGNoaWxkLCBqdXN0IGluIGNhc2Ugd2UgaGl0IG9uZVxuICAgICAgICBpZiAoaGl0VGVzdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGFscmVhZHkgdGVzdGVkIGFnYWluc3QgaGl0QXJlYSBpZiBpdCBpcyBkZWZpbmVkXG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYSAmJiBkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludChwb2ludCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaGl0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmdW5jKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgISFoaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGhpdDtcbn07XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlcyBhIG5lYXQgd2F5IG9mIGNyYXdsaW5nIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBydW5uaW5nIGFcbiAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAqIHRlc3RpbmcgdGhlIGludGVyYWN0aXZlIG9iamVjdHMgYW5kIHBhc3NlcyB0aGUgaGl0IGFjcm9zcyBpbiB0aGUgZnVuY3Rpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAqICB0aGF0IHdpbGwgYmUgaGl0IHRlc3QgKHJlY3Vyc2l2ZWx5IGNyYXdscyBpdHMgY2hpbGRyZW4pXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbaGl0VGVzdF0gLSB0aGlzIGluZGljYXRlcyBpZiB0aGUgb2JqZWN0cyBpbnNpZGUgc2hvdWxkIGJlIGhpdCB0ZXN0IGFnYWluc3QgdGhlIHBvaW50XG4gKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICovXG5UcmVlU2VhcmNoLnByb3RvdHlwZS5maW5kSGl0ID0gZnVuY3Rpb24gZmluZEhpdCAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdClcbntcbiAgICB0aGlzLnJlY3Vyc2l2ZUZpbmRIaXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIGNsYXNzZXMgdGhhdCByZXByZXNlbnQgYSBoaXQgYXJlYS5cbiAqXG4gKiBJdCBpcyBpbXBsZW1lbnRlZCBieSB0aGUgZm9sbG93aW5nIGNsYXNzZXM6XG4gKiAtIHtAbGluayBQSVhJLkNpcmNsZX1cbiAqIC0ge0BsaW5rIFBJWEkuRWxsaXBzZX1cbiAqIC0ge0BsaW5rIFBJWEkuUG9seWdvbn1cbiAqIC0ge0BsaW5rIFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAqXG4gKiBAaW50ZXJmYWNlIElIaXRBcmVhXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBhcmVhXG4gKlxuICogQG1ldGhvZFxuICogQG5hbWUgY29udGFpbnNcbiAqIEBtZW1iZXJvZiBQSVhJLklIaXRBcmVhI1xuICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgYXJlYVxuICovXG5cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogVXNlZCBieSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IHRvIGF1dG9tYXRpY2FsbHkgZ2l2ZSBhbGwgRGlzcGxheU9iamVjdHMgdGhlc2UgcHJvcGVydGllc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBpbnRlcmFjdGl2ZVRhcmdldFxuICogQHR5cGUge09iamVjdH1cbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbnZhciBpbnRlcmFjdGl2ZVRhcmdldCA9IHtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBEaXNwbGF5T2JqZWN0LiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2VcbiAgICAgKiBldmVudHMgd2lsbCBub3QgYmUgZW1pdHRlZCB1bmxlc3MgYGludGVyYWN0aXZlYCBpcyBzZXQgdG8gYHRydWVgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUub24oJ3RhcCcsIChldmVudCkgPT4ge1xuICAgICAqICAgIC8vaGFuZGxlIGV2ZW50XG4gICAgICogfSk7XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGludGVyYWN0aXZlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGNoaWxkcmVuIHRvIHRoZSBkaXNwbGF5T2JqZWN0IGNhbiBiZSBjbGlja2VkL3RvdWNoZWRcbiAgICAgKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgYWxsb3dzIFBpeGlKUyB0byBieXBhc3MgYSByZWN1cnNpdmUgYGhpdFRlc3RgIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZUNoaWxkcmVuOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb24gc2hhcGUuIENoaWxkcmVuIHdpbGwgYmUgaGl0IGZpcnN0LCB0aGVuIHRoaXMgc2hhcGUgd2lsbCBiZSBjaGVja2VkLlxuICAgICAqIFNldHRpbmcgdGhpcyB3aWxsIGNhdXNlIHRoaXMgc2hhcGUgdG8gYmUgY2hlY2tlZCBpbiBoaXQgdGVzdHMgcmF0aGVyIHRoYW4gdGhlIGRpc3BsYXlPYmplY3QncyBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5oaXRBcmVhID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKTtcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklIaXRBcmVhfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgaGl0QXJlYTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIElmIGVuYWJsZWQsIHRoZSBtb3VzZSBjdXJzb3IgdXNlIHRoZSBwb2ludGVyIGJlaGF2aW9yIHdoZW4gaG92ZXJlZCBvdmVyIHRoZSBkaXNwbGF5T2JqZWN0IGlmIGl0IGlzIGludGVyYWN0aXZlXG4gICAgICogU2V0dGluZyB0aGlzIGNoYW5nZXMgdGhlICdjdXJzb3InIHByb3BlcnR5IHRvIGAncG9pbnRlcidgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuYnV0dG9uTW9kZSA9IHRydWU7XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGdldCBidXR0b25Nb2RlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInO1xuICAgIH0sXG4gICAgc2V0IGJ1dHRvbk1vZGUodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3Vyc29yID09PSAncG9pbnRlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGRlZmluZXMgd2hhdCBjdXJzb3IgbW9kZSBpcyB1c2VkIHdoZW4gdGhlIG1vdXNlIGN1cnNvclxuICAgICAqIGlzIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmN1cnNvciA9ICd3YWl0JztcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0NTUy9jdXJzb3JcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGN1cnNvcjogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHNldCBvZiBhbGwgYWN0aXZlIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtNYXA8bnVtYmVyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YT59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldCB0cmFja2VkUG9pbnRlcnMoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYWNrZWRQb2ludGVycyA9PT0gdW5kZWZpbmVkKSB7IHRoaXMuX3RyYWNrZWRQb2ludGVycyA9IHt9OyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYWNrZWRQb2ludGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFwIG9mIGFsbCB0cmFja2VkIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyLiBVc2UgdHJhY2tlZFBvaW50ZXJzIHRvIGFjY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICAgKi9cbiAgICBfdHJhY2tlZFBvaW50ZXJzOiB1bmRlZmluZWQsXG59O1xuXG4vLyBNaXggaW50ZXJhY3RpdmVUYXJnZXQgaW50byBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbi8vIGFmdGVyIGRlcHJlY2F0aW9uIGhhcyBiZWVuIGhhbmRsZWRcbkRpc3BsYXlPYmplY3QubWl4aW4oaW50ZXJhY3RpdmVUYXJnZXQpO1xuXG52YXIgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG5cbi8vIGhlbHBlcnMgZm9yIGhpdFRlc3QoKSAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG52YXIgaGl0VGVzdEV2ZW50ID0ge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBkYXRhOiB7XG4gICAgICAgIGdsb2JhbDogbnVsbCxcbiAgICB9LFxufTtcblxuLyoqXG4gKiBUaGUgaW50ZXJhY3Rpb24gbWFuYWdlciBkZWFscyB3aXRoIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gKlxuICogQW55IERpc3BsYXlPYmplY3QgY2FuIGJlIGludGVyYWN0aXZlIGlmIGl0cyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IGlzIHNldCB0byB0cnVlLlxuICpcbiAqIFRoaXMgbWFuYWdlciBhbHNvIHN1cHBvcnRzIG11bHRpdG91Y2guXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbmBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25NYW5hZ2VyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnRFbWl0dGVyKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGludGVyYWN0aW9uIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBkZWZhdWx0IGJyb3dzZXIgYWN0aW9ucyBhdXRvbWF0aWNhbGx5IGJlIHByZXZlbnRlZC5cbiAgICAgICAgICogRG9lcyBub3QgYXBwbHkgdG8gcG9pbnRlciBldmVudHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgICAqIHByZXZlbnREZWZhdWx0IG9uIHBvaW50ZXIgZXZlbnRzIHN0b3BzIG1vdXNlIGV2ZW50cyBmcm9tIGZpcmluZ1xuICAgICAgICAgKiBUaHVzLCBmb3IgZXZlcnkgcG9pbnRlciBldmVudCwgdGhlcmUgd2lsbCBhbHdheXMgYmUgZWl0aGVyIGEgbW91c2Ugb2YgdG91Y2ggZXZlbnQgYWxvbmdzaWRlIGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCA9IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCA6IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyZXF1ZW5jeSBpbiBtaWxsaXNlY29uZHMgdGhhdCB0aGUgbW91c2Vtb3ZlLCBtb3VzZW92ZXIgJiBtb3VzZW91dCBpbnRlcmFjdGlvbiBldmVudHMgd2lsbCBiZSBjaGVja2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSB8fCAxMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vdXNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1vdXNlID0gbmV3IEludGVyYWN0aW9uRGF0YSgpO1xuICAgICAgICB0aGlzLm1vdXNlLmlkZW50aWZpZXIgPSBNT1VTRV9QT0lOVEVSX0lEO1xuXG4gICAgICAgIC8vIHNldHRpbmcgdGhlIG1vdXNlIHRvIHN0YXJ0IG9mZiBmYXIgb2ZmIHNjcmVlbiB3aWxsIG1lYW4gdGhhdCBtb3VzZSBvdmVyIGRvZXNcbiAgICAgICAgLy8gIG5vdCBnZXQgY2FsbGVkIGJlZm9yZSB3ZSBldmVuIG1vdmUgdGhlIG1vdXNlLlxuICAgICAgICB0aGlzLm1vdXNlLmdsb2JhbC5zZXQoLTk5OTk5OSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZWx5IHRyYWNrZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48bnVtYmVyLFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhID0ge307XG4gICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW01PVVNFX1BPSU5URVJfSURdID0gdGhpcy5tb3VzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZXZlbnQgZGF0YSBvYmplY3QgdG8gaGFuZGxlIGFsbCB0aGUgZXZlbnQgdHJhY2tpbmcvZGlzcGF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ldmVudERhdGEgPSBuZXcgSW50ZXJhY3Rpb25FdmVudCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgRE9NIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBwcm9wZXJ0eSBkZXRlcm1pbmVzIGlmIG1vdXNlbW92ZSBhbmQgdG91Y2htb3ZlIGV2ZW50cyBhcmUgZmlyZWQgb25seSB3aGVuIHRoZSBjdXJzb3JcbiAgICAgICAgICogaXMgb3ZlciB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBTZXR0aW5nIHRvIHRydWUgd2lsbCBtYWtlIHRoaW5ncyB3b3JrIG1vcmUgaW4gbGluZSB3aXRoIGhvdyB0aGUgRE9NIHZlcnNpb24gd29ya3MuXG4gICAgICAgICAqIFNldHRpbmcgdG8gZmFsc2UgY2FuIG1ha2UgdGhpbmdzIGVhc2llciBmb3IgdGhpbmdzIGxpa2UgZHJhZ2dpbmdcbiAgICAgICAgICogSXQgaXMgY3VycmVudGx5IHNldCB0byBmYWxzZSBhcyB0aGlzIGlzIGhvdyBQaXhpSlMgdXNlZCB0byB3b3JrLiBUaGlzIHdpbGwgYmUgc2V0IHRvIHRydWUgaW5cbiAgICAgICAgICogZnV0dXJlIHZlcnNpb25zIG9mIHBpeGkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1vdmVXaGVuSW5zaWRlID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhdmUgZXZlbnRzIGJlZW4gYXR0YWNoZWQgdG8gdGhlIGRvbSBlbGVtZW50P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSBtb3VzZSBob3ZlcmluZyBvdmVyIHRoZSByZW5kZXJlcj9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0b3VjaCBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9TdWJtaXNzaW9uL3BvaW50ZXItZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzID0gISF3aW5kb3cuUG9pbnRlckV2ZW50O1xuXG4gICAgICAgIC8vIHRoaXMgd2lsbCBtYWtlIGl0IHNvIHRoYXQgeW91IGRvbid0IGhhdmUgdG8gY2FsbCBiaW5kIGFsbCB0aGUgdGltZVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyVXAgPSB0aGlzLm9uUG9pbnRlclVwLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IHRoaXMucHJvY2Vzc1BvaW50ZXJVcC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ2FuY2VsID0gdGhpcy5vblBvaW50ZXJDYW5jZWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlckRvd24gPSB0aGlzLm9uUG9pbnRlckRvd24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSB0aGlzLnByb2Nlc3NQb2ludGVyRG93bi5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IHRoaXMub25Qb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdXQgPSB0aGlzLm9uUG9pbnRlck91dC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdmVyID0gdGhpcy5vblBvaW50ZXJPdmVyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpY3Rpb25hcnkgb2YgaG93IGRpZmZlcmVudCBjdXJzb3IgbW9kZXMgYXJlIGhhbmRsZWQuIFN0cmluZ3MgYXJlIGhhbmRsZWQgYXMgQ1NTIGN1cnNvclxuICAgICAgICAgKiB2YWx1ZXMsIG9iamVjdHMgYXJlIGhhbmRsZWQgYXMgZGljdGlvbmFyaWVzIG9mIENTUyB2YWx1ZXMgZm9yIGludGVyYWN0aW9uRE9NRWxlbWVudCxcbiAgICAgICAgICogYW5kIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluc3RlYWQgb2YgY2hhbmdpbmcgdGhlIENTUy5cbiAgICAgICAgICogRGVmYXVsdCBDU1MgY3Vyc29yIHZhbHVlcyBhcmUgcHJvdmlkZWQgZm9yICdkZWZhdWx0JyBhbmQgJ3BvaW50ZXInIG1vZGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgT2JqZWN0Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Vyc29yU3R5bGVzID0ge1xuICAgICAgICAgICAgZGVmYXVsdDogJ2luaGVyaXQnLFxuICAgICAgICAgICAgcG9pbnRlcjogJ3BvaW50ZXInLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW9kZSBvZiB0aGUgY3Vyc29yIHRoYXQgaXMgYmVpbmcgdXNlZC5cbiAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoaXMgaXMgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBjYWNoZWQgbGV0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVsYXllZCBwb2ludGVyIGV2ZW50cy4gVXNlZCB0byBndWFyYW50ZWUgY29ycmVjdCBvcmRlcmluZyBvZiBvdmVyL291dCBldmVudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyZWVTZWFyY2ggY29tcG9uZW50IHRoYXQgaXMgdXNlZCB0byBoaXRUZXN0IHN0YWdlIHRyZWVcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5UcmVlU2VhcmNofVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZWFyY2ggPSBuZXcgVHJlZVNlYXJjaCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogTm90IGFsd2F5cyBmaXJlZCB3aGVuIHNvbWUgYnV0dG9ucyBhcmUgaGVsZCBkb3duIHdoaWxlIG90aGVycyBhcmUgcmVsZWFzZWQuIEluIHRob3NlIGNhc2VzLFxuICAgICAgICAgKiB1c2UgW21vdXNlZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufSBhbmRcbiAgICAgICAgICogW21vdXNldXBde0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNldXB9IGluc3RlYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheS5cbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnQuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMuc2V0VGFyZ2V0RWxlbWVudCh0aGlzLnJlbmRlcmVyLnZpZXcsIHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgfVxuXG4gICAgaWYgKCBFdmVudEVtaXR0ZXIgKSBJbnRlcmFjdGlvbk1hbmFnZXIuX19wcm90b19fID0gRXZlbnRFbWl0dGVyO1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudEVtaXR0ZXIgJiYgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSApO1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbnRlcmFjdGlvbk1hbmFnZXI7XG5cbiAgICAvKipcbiAgICAgKiBIaXQgdGVzdHMgYSBwb2ludCBhZ2FpbnN0IHRoZSBkaXNwbGF5IHRyZWUsIHJldHVybmluZyB0aGUgZmlyc3QgaW50ZXJhY3RpdmUgb2JqZWN0IHRoYXQgaXMgaGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBnbG9iYWxQb2ludCAtIEEgcG9pbnQgdG8gaGl0IHRlc3Qgd2l0aCwgaW4gZ2xvYmFsIHNwYWNlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IFtyb290XSAtIFRoZSByb290IGRpc3BsYXkgb2JqZWN0IHRvIHN0YXJ0IGZyb20uIElmIG9taXR0ZWQsIGRlZmF1bHRzXG4gICAgICogdG8gdGhlIGxhc3QgcmVuZGVyZWQgcm9vdCBvZiB0aGUgYXNzb2NpYXRlZCByZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBoaXQgZGlzcGxheSBvYmplY3QsIGlmIGFueS5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmhpdFRlc3QgPSBmdW5jdGlvbiBoaXRUZXN0IChnbG9iYWxQb2ludCwgcm9vdClcbiAgICB7XG4gICAgICAgIC8vIGNsZWFyIHRoZSB0YXJnZXQgZm9yIG91ciBoaXQgdGVzdFxuICAgICAgICBoaXRUZXN0RXZlbnQudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgLy8gYXNzaWduIHRoZSBnbG9iYWwgcG9pbnRcbiAgICAgICAgaGl0VGVzdEV2ZW50LmRhdGEuZ2xvYmFsID0gZ2xvYmFsUG9pbnQ7XG4gICAgICAgIC8vIGVuc3VyZSBzYWZldHkgb2YgdGhlIHJvb3RcbiAgICAgICAgaWYgKCFyb290KVxuICAgICAgICB7XG4gICAgICAgICAgICByb290ID0gdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJ1biB0aGUgaGl0IHRlc3RcbiAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaGl0VGVzdEV2ZW50LCByb290LCBudWxsLCB0cnVlKTtcbiAgICAgICAgLy8gcmV0dXJuIG91ciBmb3VuZCBvYmplY3QgLSBpdCdsbCBiZSBudWxsIGlmIHdlIGRpZG4ndCBoaXQgYW55dGhpbmdcblxuICAgICAgICByZXR1cm4gaGl0VGVzdEV2ZW50LnRhcmdldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlL3RvdWNoIGV2ZW50cy4gVGhpcyBpcyB1c2VmdWwgZm9yIHdoZW4geW91IGhhdmVcbiAgICAgKiBvdGhlciBET00gZWxlbWVudHMgb24gdG9wIG9mIHRoZSByZW5kZXJlcnMgQ2FudmFzIGVsZW1lbnQuIFdpdGggdGhpcyB5b3UnbGwgYmUgYmFsZSB0byBkZWxlZ2F0ZVxuICAgICAqIGFub3RoZXIgRE9NIGVsZW1lbnQgdG8gcmVjZWl2ZSB0aG9zZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBuZXcgZWxlbWVudCAocmVsYXRpdmUgdG8gdGhlIGNhbnZhcykuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRUYXJnZXRFbGVtZW50ID0gZnVuY3Rpb24gc2V0VGFyZ2V0RWxlbWVudCAoZWxlbWVudCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIGlmICggcmVzb2x1dGlvbiA9PT0gdm9pZCAwICkgcmVzb2x1dGlvbiA9IDE7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmFkZEV2ZW50cygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYWxsIHRoZSBET00gZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24gYWRkRXZlbnRzICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLklOVEVSQUNUSU9OKTtcblxuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLWNvbnRlbnQtem9vbWluZyddID0gJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy10b3VjaC1hY3Rpb24nXSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJ3RvdWNoLWFjdGlvbiddID0gJ25vbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZXNlIGV2ZW50cyBhcmUgYWRkZWQgZmlyc3QsIHNvIHRoYXQgaWYgcG9pbnRlciBldmVudHMgYXJlIG5vcm1hbGl6ZWQsIHRoZXkgYXJlIGZpcmVkXG4gICAgICAgICAqIGluIHRoZSBzYW1lIG9yZGVyIGFzIG5vbi1ub3JtYWxpemVkIGV2ZW50cy4gaWUuIHBvaW50ZXIgZXZlbnQgMXN0LCBtb3VzZSAvIHRvdWNoIDJuZFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgLy8gcG9pbnRlcm91dCBpcyBmaXJlZCBpbiBhZGRpdGlvbiB0byBwb2ludGVydXAgKGZvciB0b3VjaCBldmVudHMpIGFuZCBwb2ludGVyY2FuY2VsXG4gICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhbmRsZSB0aG9zZSwgc28gZm9yIHRoZSBwdXJwb3NlcyBvZiB3aGF0IHdlIGRvIGluIG9uUG9pbnRlck91dCwgd2Ugb25seVxuICAgICAgICAgICAgLy8gY2FyZSBhYm91dCB0aGUgcG9pbnRlcmxlYXZlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbHdheXMgbG9vayBkaXJlY3RseSBmb3IgdG91Y2ggZXZlbnRzIHNvIHRoYXQgd2UgY2FuIHByb3ZpZGUgb3JpZ2luYWwgZGF0YVxuICAgICAgICAvLyBJbiBhIGZ1dHVyZSB2ZXJzaW9uIHdlIHNob3VsZCBjaGFuZ2UgdGhpcyB0byBiZWluZyBqdXN0IGEgZmFsbGJhY2sgYW5kIHJlbHkgc29sZWx5IG9uXG4gICAgICAgIC8vIFBvaW50ZXJFdmVudHMgd2hlbmV2ZXIgYXZhaWxhYmxlXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgRE9NIGV2ZW50cyB0aGF0IHdlcmUgcHJldmlvdXNseSByZWdpc3RlcmVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRzID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnRzICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy1jb250ZW50LXpvb21pbmcnXSA9ICcnO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy10b3VjaC1hY3Rpb24nXSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsndG91Y2gtYWN0aW9uJ10gPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIGludGVyYWN0aXZlIG9iamVjdHMuXG4gICAgICogSW52b2tlZCBieSBhIHRocm90dGxlZCB0aWNrZXIgdXBkYXRlIGZyb20ge0BsaW5rIFBJWEkuVGlja2VyLnN5c3RlbX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBkZWx0YSBzaW5jZSBsYXN0IHRpY2tcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZGVsdGFUaW1lKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lICs9IGRlbHRhVGltZTtcblxuICAgICAgICBpZiAodGhpcy5fZGVsdGFUaW1lIDwgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGVsdGFUaW1lID0gMDtcblxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgdXNlciBtb3ZlIHRoZSBtb3VzZSB0aGlzIGNoZWNrIGhhcyBhbHJlYWR5IGJlZW4gZG9uZSB1c2luZyB0aGUgbW91c2UgbW92ZSFcbiAgICAgICAgaWYgKHRoaXMuZGlkTW92ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaWRNb3ZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcblxuICAgICAgICAvLyBSZXNldHMgdGhlIGZsYWcgYXMgc2V0IGJ5IGEgc3RvcFByb3BhZ2F0aW9uIGNhbGwuIFRoaXMgZmxhZyBpcyB1c3VhbGx5IHJlc2V0IGJ5IGEgdXNlciBpbnRlcmFjdGlvbiBvZiBhbnkga2luZCxcbiAgICAgICAgLy8gYnV0IHRoZXJlIHdhcyBhIHNjZW5hcmlvIG9mIGEgZGlzcGxheSBvYmplY3QgbW92aW5nIHVuZGVyIGEgc3RhdGljIG1vdXNlIGN1cnNvci5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlLCBtb3VzZW92ZXIgYW5kIG1vdXNlZXZlbnRzIHdvdWxkIG5vdCBwYXNzIHRoZSBmbGFnIHRlc3QgaW4gZGlzcGF0Y2hFdmVudCBmdW5jdGlvblxuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEuaGFzT3duUHJvcGVydHkoaykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW2tdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ICYmIGludGVyYWN0aW9uRGF0YS5wb2ludGVyVHlwZSAhPT0gJ3RvdWNoJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBjdXJzb3IgbW9kZSwgaGFuZGxpbmcgYW55IGNhbGxiYWNrcyBvciBDU1Mgc3R5bGUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gY3Vyc29yIG1vZGUsIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRDdXJzb3JNb2RlID0gZnVuY3Rpb24gc2V0Q3Vyc29yTW9kZSAobW9kZSlcbiAgICB7XG4gICAgICAgIG1vZGUgPSBtb2RlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgLy8gaWYgdGhlIG1vZGUgZGlkbid0IGFjdHVhbGx5IGNoYW5nZSwgYmFpbCBlYXJseVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9PT0gbW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBtb2RlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmN1cnNvclN0eWxlc1ttb2RlXTtcblxuICAgICAgICAvLyBvbmx5IGRvIHRoaW5ncyBpZiB0aGVyZSBpcyBhIGN1cnNvciBzdHlsZSBmb3IgaXRcbiAgICAgICAgaWYgKHN0eWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBzdHlsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyBzdHJpbmcgc3R5bGVzIGFyZSBoYW5kbGVkIGFzIGN1cnNvciBDU1NcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb25zIGFyZSBqdXN0IGNhbGxlZCwgYW5kIHBhc3NlZCB0aGUgY3Vyc29yIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUobW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IGlzIGFuIG9iamVjdCwgYXNzdW1lIHRoYXQgaXQgaXMgYSBkaWN0aW9uYXJ5IG9mIENTUyBzdHlsZXMsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGx5IGl0IHRvIHRoZSBpbnRlcmFjdGlvbkRPTUVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbW9kZSA9PT0gJ3N0cmluZycgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmN1cnNvclN0eWxlcywgbW9kZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIGl0IG1vZGUgaXMgYSBzdHJpbmcgKG5vdCBhIFN5bWJvbCkgYW5kIGN1cnNvclN0eWxlcyBkb2Vzbid0IGhhdmUgYW55IGVudHJ5XG4gICAgICAgICAgICAvLyBmb3IgdGhlIG1vZGUsIHRoZW4gYXNzdW1lIHRoYXQgdGhlIGRldiB3YW50cyBpdCB0byBiZSBDU1MgZm9yIHRoZSBjdXJzb3IuXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBtb2RlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgb24gdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5IG9iamVjdCBpbiBxdWVzdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBldmVudCAoZS5nLCBtb3VzZWRvd24pXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50RGF0YSAtIHRoZSBldmVudCBkYXRhIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gZGlzcGF0Y2hFdmVudCAoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSlcbiAgICB7XG4gICAgICAgIC8vIEV2ZW4gaWYgdGhlIGV2ZW50IHdhcyBzdG9wcGVkLCBhdCBsZWFzdCBkaXNwYXRjaCBhbnkgcmVtYWluaW5nIGV2ZW50c1xuICAgICAgICAvLyBmb3IgdGhlIHNhbWUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgIGlmICghZXZlbnREYXRhLnN0b3BQcm9wYWdhdGlvbkhpbnQgfHwgZGlzcGxheU9iamVjdCA9PT0gZXZlbnREYXRhLnN0b3BzUHJvcGFnYXRpbmdBdClcbiAgICAgICAge1xuICAgICAgICAgICAgZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgZXZlbnREYXRhLnR5cGUgPSBldmVudFN0cmluZztcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5lbWl0KGV2ZW50U3RyaW5nLCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10oZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQdXRzIGEgZXZlbnQgb24gYSBxdWV1ZSB0byBiZSBkaXNwYXRjaGVkIGxhdGVyLiBUaGlzIGlzIHVzZWQgdG8gZ3VhcmFudGVlIGNvcnJlY3RcbiAgICAgKiBvcmRlcmluZyBvZiBvdmVyL291dCBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRlbGF5RGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIGRlbGF5RGlzcGF0Y2hFdmVudCAoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGVsYXllZEV2ZW50cy5wdXNoKHsgZGlzcGxheU9iamVjdDogZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmc6IGV2ZW50U3RyaW5nLCBldmVudERhdGE6IGV2ZW50RGF0YSB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB4IGFuZCB5IGNvb3JkcyBmcm9tIGEgRE9NIG9iamVjdCBhbmQgbWFwcyB0aGVtIGNvcnJlY3RseSB0byB0aGUgUGl4aUpTIHZpZXcuIFRoZVxuICAgICAqIHJlc3VsdGluZyB2YWx1ZSBpcyBzdG9yZWQgaW4gdGhlIHBvaW50LiBUaGlzIHRha2VzIGludG8gYWNjb3VudCB0aGUgZmFjdCB0aGF0IHRoZSBET01cbiAgICAgKiBlbGVtZW50IGNvdWxkIGJlIHNjYWxlZCBhbmQgcG9zaXRpb25lZCBhbnl3aGVyZSBvbiB0aGUgc2NyZWVuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdGhhdCB0aGUgcmVzdWx0IHdpbGwgYmUgc3RvcmVkIGluXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB4IC0gdGhlIHggY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqIEBwYXJhbSAge251bWJlcn0geSAtIHRoZSB5IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm1hcFBvc2l0aW9uVG9Qb2ludCA9IGZ1bmN0aW9uIG1hcFBvc2l0aW9uVG9Qb2ludCAocG9pbnQsIHgsIHkpXG4gICAge1xuICAgICAgICB2YXIgcmVjdDtcblxuICAgICAgICAvLyBJRSAxMSBmaXhcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5wYXJlbnRFbGVtZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICByZWN0ID0geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZWN0ID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzb2x1dGlvbk11bHRpcGxpZXIgPSAxLjAgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgcG9pbnQueCA9ICgoeCAtIHJlY3QubGVmdCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQud2lkdGggLyByZWN0LndpZHRoKSkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICAgICAgcG9pbnQueSA9ICgoeSAtIHJlY3QudG9wKSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5oZWlnaHQgLyByZWN0LmhlaWdodCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgcHJvdmlkZXMgYSBuZWF0IHdheSBvZiBjcmF3bGluZyB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgcnVubmluZyBhXG4gICAgICogc3BlY2lmaWVkIGZ1bmN0aW9uIG9uIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzIGl0IGZpbmRzLiBJdCB3aWxsIGFsc28gdGFrZSBjYXJlIG9mIGhpdFxuICAgICAqIHRlc3RpbmcgdGhlIGludGVyYWN0aXZlIG9iamVjdHMgYW5kIHBhc3NlcyB0aGUgaGl0IGFjcm9zcyBpbiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBldmVudCBjb250YWluaW5nIHRoZSBwb2ludCB0aGF0XG4gICAgICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICogIHRoYXQgd2lsbCBiZSBoaXQgdGVzdCAocmVjdXJzaXZlbHkgY3Jhd2xzIGl0cyBjaGlsZHJlbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gICAgICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaXRUZXN0XSAtIGluZGljYXRlcyB3aGV0aGVyIHdlIHdhbnQgdG8gY2FsY3VsYXRlIGhpdHNcbiAgICAgKiAgb3IganVzdCBpdGVyYXRlIHRocm91Z2ggYWxsIGludGVyYWN0aXZlIG9iamVjdHNcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NJbnRlcmFjdGl2ZSA9IGZ1bmN0aW9uIHByb2Nlc3NJbnRlcmFjdGl2ZSAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdClcbiAgICB7XG4gICAgICAgIHZhciBoaXQgPSB0aGlzLnNlYXJjaC5maW5kSGl0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGZ1bmMsIGhpdFRlc3QpO1xuXG4gICAgICAgIHZhciBkZWxheWVkRXZlbnRzID0gdGhpcy5kZWxheWVkRXZlbnRzO1xuXG4gICAgICAgIGlmICghZGVsYXllZEV2ZW50cy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBoaXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgdGhlIHByb3BhZ2F0aW9uIGhpbnQsIGJlY2F1c2Ugd2Ugc3RhcnQgZGVlcGVyIGluIHRoZSB0cmVlIGFnYWluLlxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcblxuICAgICAgICB2YXIgZGVsYXllZExlbiA9IGRlbGF5ZWRFdmVudHMubGVuZ3RoO1xuXG4gICAgICAgIHRoaXMuZGVsYXllZEV2ZW50cyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsYXllZExlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcmVmID0gZGVsYXllZEV2ZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBkaXNwbGF5T2JqZWN0JDEgPSByZWYuZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgIHZhciBldmVudFN0cmluZyA9IHJlZi5ldmVudFN0cmluZztcbiAgICAgICAgICAgIHZhciBldmVudERhdGEgPSByZWYuZXZlbnREYXRhO1xuXG4gICAgICAgICAgICAvLyBXaGVuIHdlIHJlYWNoIHRoZSBvYmplY3Qgd2Ugd2FudGVkIHRvIHN0b3AgcHJvcGFnYXRpbmcgYXQsXG4gICAgICAgICAgICAvLyBzZXQgdGhlIHByb3BhZ2F0aW9uIGhpbnQuXG4gICAgICAgICAgICBpZiAoZXZlbnREYXRhLnN0b3BzUHJvcGFnYXRpbmdBdCA9PT0gZGlzcGxheU9iamVjdCQxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdG9wUHJvcGFnYXRpb25IaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QkMSwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGl0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcHJlc3NlZCBkb3duIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHByZXNzZWQgZG93blxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyRG93biA9IGZ1bmN0aW9uIG9uUG9pbnRlckRvd24gKG9yaWdpbmFsRXZlbnQpXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vIG5lZWQgdG8gcHJldmVudCBkZWZhdWx0IG9uIG5hdHVyYWwgcG9pbnRlciBldmVudHMsIGFzIHRoZXJlIGFyZSBubyBzaWRlIGVmZmVjdHNcbiAgICAgICAgICogTm9ybWFsaXplZCBldmVudHMsIGhvd2V2ZXIsIG1heSBoYXZlIHRoZSBkb3VibGUgbW91c2Vkb3duL3RvdWNoc3RhcnQgaXNzdWUgb24gdGhlIG5hdGl2ZSBhbmRyb2lkIGJyb3dzZXIsXG4gICAgICAgICAqIHNvIHN0aWxsIG5lZWQgdG8gYmUgcHJldmVudGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvLyBHdWFyYW50ZWVkIHRoYXQgdGhlcmUgd2lsbCBiZSBhdCBsZWFzdCBvbmUgZXZlbnQgaW4gZXZlbnRzLCBhbmQgYWxsIGV2ZW50cyBtdXN0IGhhdmUgdGhlIHNhbWUgcG9pbnRlciB0eXBlXG5cbiAgICAgICAgaWYgKHRoaXMuYXV0b1ByZXZlbnREZWZhdWx0ICYmIGV2ZW50c1swXS5pc05vcm1hbGl6ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjYW5jZWxhYmxlID0gb3JpZ2luYWxFdmVudC5jYW5jZWxhYmxlIHx8ICEoJ2NhbmNlbGFibGUnIGluIG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoY2FuY2VsYWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duLCB0cnVlKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZW1pdCBhIG1vdXNlIGV2ZW50IGZvciBcInBlblwiIHBvaW50ZXJzLCB0aGUgd2F5IGEgYnJvd3NlciB3b3VsZCBlbWl0IGEgZmFsbGJhY2sgZXZlbnRcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGRvd24gY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyRG93biA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyRG93biAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmIChoaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ucmlnaHREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLmxlZnREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuY2VsbGVkIC0gdHJ1ZSBpZiB0aGUgcG9pbnRlciBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gRnVuY3Rpb24gcGFzc2VkIHRvIHtAbGluayBwcm9jZXNzSW50ZXJhY3RpdmV9XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDb21wbGV0ZSA9IGZ1bmN0aW9uIG9uUG9pbnRlckNvbXBsZXRlIChvcmlnaW5hbEV2ZW50LCBjYW5jZWxsZWQsIGZ1bmMpXG4gICAge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlIGV2ZW50IHdhc24ndCB0YXJnZXRpbmcgb3VyIGNhbnZhcywgdGhlbiBjb25zaWRlciBpdCB0byBiZSBwb2ludGVydXBvdXRzaWRlXG4gICAgICAgIC8vIGluIGFsbCBjYXNlcyAodW5sZXNzIGl0IHdhcyBhIHBvaW50ZXJjYW5jZWwpXG4gICAgICAgIHZhciBldmVudEFwcGVuZCA9IG9yaWdpbmFsRXZlbnQudGFyZ2V0ICE9PSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA/ICdvdXRzaWRlJyA6ICcnO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICAvLyBwZXJmb3JtIGhpdCB0ZXN0aW5nIGZvciBldmVudHMgdGFyZ2V0aW5nIG91ciBjYW52YXMgb3IgY2FuY2VsIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCBmdW5jLCBjYW5jZWxsZWQgfHwgIWV2ZW50QXBwZW5kKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICdwb2ludGVyY2FuY2VsJyA6IChcInBvaW50ZXJ1cFwiICsgZXZlbnRBcHBlbmQpLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChpc1JpZ2h0QnV0dG9uID8gKFwicmlnaHR1cFwiICsgZXZlbnRBcHBlbmQpIDogKFwibW91c2V1cFwiICsgZXZlbnRBcHBlbmQpLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAndG91Y2hjYW5jZWwnIDogKFwidG91Y2hlbmRcIiArIGV2ZW50QXBwZW5kKSwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50LnBvaW50ZXJJZCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgY2FuY2VsbGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gb25Qb2ludGVyQ2FuY2VsIChldmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIHRydWUsIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBjYW5jZWwgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyQ2FuY2VsIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0KVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJVcCA9IGZ1bmN0aW9uIG9uUG9pbnRlclVwIChldmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIGZhbHNlLCB0aGlzLnByb2Nlc3NQb2ludGVyVXApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciB1cCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJVcCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyVXAgKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuICAgICAgICAvLyBuZWVkIHRvIHRyYWNrIG1vdXNlIGRvd24gc3RhdHVzIGluIHRoZSBtb3VzZSBibG9jayBzbyB0aGF0IHdlIGNhbiBlbWl0XG4gICAgICAgIC8vIGV2ZW50IGluIGEgbGF0ZXIgYmxvY2tcbiAgICAgICAgdmFyIGlzTW91c2VUYXAgPSBmYWxzZTtcblxuICAgICAgICAvLyBNb3VzZSBvbmx5XG4gICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUztcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBpc1JpZ2h0QnV0dG9uID8gZmxhZ3MuUklHSFRfRE9XTiA6IGZsYWdzLkxFRlRfRE9XTjtcblxuICAgICAgICAgICAgdmFyIGlzRG93biA9IHRyYWNraW5nRGF0YSAhPT0gdW5kZWZpbmVkICYmICh0cmFja2luZ0RhdGEuZmxhZ3MgJiB0ZXN0KTtcblxuICAgICAgICAgICAgaWYgKGhpdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyA6ICdtb3VzZXVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNEb3duKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHRjbGljaycgOiAnY2xpY2snLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBjYW4gY29uZmlybSB0aGF0IHRoZSBtb3VzZWRvd24gaGFwcGVuZWQgb24gdGhpcyBvYmplY3QsIGZsYWcgZm9yIGxhdGVyIGVtaXQgb2YgcG9pbnRlcnRhcFxuICAgICAgICAgICAgICAgICAgICBpc01vdXNlVGFwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Rvd24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cG91dHNpZGUnIDogJ21vdXNldXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRvd24gc3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGFcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEucmlnaHREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5sZWZ0RG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBvaW50ZXJzIGFuZCBUb3VjaGVzLCBhbmQgTW91c2VcbiAgICAgICAgaWYgKGhpdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmQnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGVtaXQgcG9pbnRlcnRhcCBpZiBub3QgYSBtb3VzZSwgb3IgaWYgdGhlIG1vdXNlIGJsb2NrIGRlY2lkZWQgaXQgd2FzIGEgdGFwXG4gICAgICAgICAgICAgICAgaWYgKCFpc01vdXNlIHx8IGlzTW91c2VUYXApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzVG91Y2gpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0b3VjaGVzIGFyZSBubyBsb25nZXIgb3ZlciAoaWYgdGhleSBldmVyIHdlcmUpIHdoZW4gd2UgZ2V0IHRoZSB0b3VjaGVuZFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBzaG91bGQgZW5zdXJlIHRoYXQgd2UgZG9uJ3Qga2VlcCBwcmV0ZW5kaW5nIHRoYXQgdGhleSBhcmVcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmRvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgdHJhY2tpbmcgZGF0YSBpZiB0aGVyZSBpcyBubyBvdmVyL2Rvd24gc3RhdGUgc3RpbGwgYXNzb2NpYXRlZCB3aXRoIGl0XG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgJiYgdHJhY2tpbmdEYXRhLm5vbmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgbW92aW5nXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJNb3ZlID0gZnVuY3Rpb24gb25Qb2ludGVyTW92ZSAob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUsIHRydWUpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsgdGhpcy5lbWl0KCd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykgeyB0aGlzLmVtaXQoJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuXG4gICAgICAgICAgICAvLyBUT0RPIEJVRyBmb3IgcGFyZW50cyBpbnRlcmFjdGl2ZSBvYmplY3QgKGJvcmRlciBvcmRlciBpc3N1ZSlcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBtb3ZlIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck1vdmUgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlck1vdmUgKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcblxuICAgICAgICB2YXIgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcblxuICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5tb3ZlV2hlbkluc2lkZSB8fCBoaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmIChpc01vdXNlKSB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBvdXQgb2YgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBiZWluZyBtb3ZlZCBvdXRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck91dCA9IGZ1bmN0aW9uIG9uUG9pbnRlck91dCAob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck91dCwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcblxuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZShudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcblxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlIGNhbiBnZXQgdG91Y2hsZWF2ZSBldmVudHMgYWZ0ZXIgdG91Y2hlbmQsIHNvIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBpbnRyb2R1Y2UgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG92ZXIvb3V0IGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlck92ZXJPdXQgKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuXG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG5cbiAgICAgICAgLy8gaWYgd2UganVzdCBtb3VzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byB0cmFjayB0aGF0IHN0YXRlXG4gICAgICAgIGlmIChoaXQgJiYgIXRyYWNraW5nRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgPT09IHVuZGVmaW5lZCkgeyByZXR1cm47IH1cblxuICAgICAgICBpZiAoaGl0ICYmIHRoaXMubW91c2VPdmVyUmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdHJhY2tpbmdEYXRhLm92ZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsYXlEaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxheURpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSBjaGFuZ2UgdGhlIGN1cnNvciBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBjaGFuZ2VkIChieSBzb21ldGhpbmcgZGVlcGVyIGluIHRoZVxuICAgICAgICAgICAgLy8gZGlzcGxheSB0cmVlKVxuICAgICAgICAgICAgaWYgKGlzTW91c2UgJiYgdGhpcy5jdXJzb3IgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBkaXNwbGF5T2JqZWN0LmN1cnNvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFja2luZ0RhdGEub3ZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm91dCcsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIG1vdXNlIGRvd24gaW5mb3JtYXRpb24gZm9yIHRoZSBwb2ludGVyLCB0aGVuIGl0IGlzIHNhZmUgdG8gZGVsZXRlXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhLm5vbmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIHZpZXdcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck92ZXIgPSBmdW5jdGlvbiBvblBvaW50ZXJPdmVyIChvcmlnaW5hbEV2ZW50KVxuICAgIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck92ZXIsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbMF07XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IEludGVyYWN0aW9uRGF0YSBmb3IgYSBnaXZlbiBwb2ludGVySWQuIFN0b3JlIHRoYXQgZGF0YSBhcyB3ZWxsXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIE5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgb3V0cHV0IGZyb20gbm9ybWFsaXplVG9Qb2ludGVyRGF0YVxuICAgICAqIEByZXR1cm4ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfSAtIEludGVyYWN0aW9uIGRhdGEgZm9yIHRoZSBnaXZlbiBwb2ludGVyIGlkZW50aWZpZXJcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIGdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCAoZXZlbnQpXG4gICAge1xuICAgICAgICB2YXIgcG9pbnRlcklkID0gZXZlbnQucG9pbnRlcklkO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGE7XG5cbiAgICAgICAgaWYgKHBvaW50ZXJJZCA9PT0gTU9VU0VfUE9JTlRFUl9JRCB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJylcbiAgICAgICAge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5tb3VzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnBvcCgpIHx8IG5ldyBJbnRlcmFjdGlvbkRhdGEoKTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5pZGVudGlmaWVyID0gcG9pbnRlcklkO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSA9IGludGVyYWN0aW9uRGF0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb3B5IHByb3BlcnRpZXMgZnJvbSB0aGUgZXZlbnQsIHNvIHRoYXQgd2UgY2FuIG1ha2Ugc3VyZSB0aGF0IHRvdWNoL3BvaW50ZXIgc3BlY2lmaWNcbiAgICAgICAgLy8gZGF0YSBpcyBhdmFpbGFibGVcbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmNvcHlFdmVudChldmVudCk7XG5cbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRGF0YTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHVudXNlZCBJbnRlcmFjdGlvbkRhdGEgdG8gdGhlIHBvb2wsIGZvciBhIGdpdmVuIHBvaW50ZXJJZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gSWRlbnRpZmllciBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIHJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgKHBvaW50ZXJJZClcbiAgICB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuXG4gICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucHVzaChpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZSBhbiBJbnRlcmFjdGlvbkV2ZW50IHRvIHdyYXAgYSBET00gUG9pbnRlckV2ZW50IGFuZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgZXZlbnQgdG8gYmUgY29uZmlndXJlZFxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgLSBUaGUgRE9NIGV2ZW50IHRoYXQgd2lsbCBiZSBwYWlyZWQgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9IGludGVyYWN0aW9uRGF0YSAtIFRoZSBJbnRlcmFjdGlvbkRhdGEgdGhhdCB3aWxsIGJlIHBhaXJlZFxuICAgICAqICAgICAgICB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHJldHVybiB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSB0aGUgaW50ZXJhY3Rpb24gZXZlbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQgPSBmdW5jdGlvbiBjb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQgKGludGVyYWN0aW9uRXZlbnQsIHBvaW50ZXJFdmVudCwgaW50ZXJhY3Rpb25EYXRhKVxuICAgIHtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhID0gaW50ZXJhY3Rpb25EYXRhO1xuXG4gICAgICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KGludGVyYWN0aW9uRGF0YS5nbG9iYWwsIHBvaW50ZXJFdmVudC5jbGllbnRYLCBwb2ludGVyRXZlbnQuY2xpZW50WSk7XG5cbiAgICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoeSB0aGlzIGlzIGhhcHBlbmluZywgYnV0IGl0J3MgaG93IGEgcHJldmlvdXMgdmVyc2lvbiBoYW5kbGVkIHRoaW5nc1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueDtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxZID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55O1xuICAgICAgICB9XG5cbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgPSBwb2ludGVyRXZlbnQ7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25FdmVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QgY29udGFpbnMgYWxsIGRhdGEgdGhhdCBhIHJlZ3VsYXIgcG9pbnRlciBldmVudCB3b3VsZCBoYXZlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VG91Y2hFdmVudHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgb3JpZ2luYWwgZXZlbnQgZGF0YSBmcm9tIGEgdG91Y2ggb3IgbW91c2UgZXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludGVyRXZlbnRbXX0gQW4gYXJyYXkgY29udGFpbmluZyBhIHNpbmdsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIGluIHRoZSBjYXNlIG9mIGEgcG9pbnRlclxuICAgICAqICBvciBtb3VzZSBldmVudCwgb3IgYSBtdWx0aXBsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnRzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBjaGFuZ2VkIHRvdWNoZXNcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEgPSBmdW5jdGlvbiBub3JtYWxpemVUb1BvaW50ZXJEYXRhIChldmVudClcbiAgICB7XG4gICAgICAgIHZhciBub3JtYWxpemVkRXZlbnRzID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbiA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2guYnV0dG9uID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2guYnV0dG9ucyA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaC5pc1ByaW1hcnkgPSBldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSAmJiBldmVudC50eXBlID09PSAndG91Y2hzdGFydCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gud2lkdGggPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLndpZHRoID0gdG91Y2gucmFkaXVzWCB8fCAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLmhlaWdodCA9IHRvdWNoLnJhZGl1c1kgfHwgMTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFggPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLnRpbHRYID0gMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFkgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLnRpbHRZID0gMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLnBvaW50ZXJUeXBlID0gJ3RvdWNoJzsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlcklkID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC5wb2ludGVySWQgPSB0b3VjaC5pZGVudGlmaWVyIHx8IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnByZXNzdXJlID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC5wcmVzc3VyZSA9IHRvdWNoLmZvcmNlIHx8IDAuNTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudHdpc3QgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLnR3aXN0ID0gMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPSAwOyB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoZXNlLCBhcyBsYXllclgvWSBpcyBub3QgYSBzdGFuZGFyZCwgaXMgZGVwcmVjYXRlZCwgaGFzIHVuZXZlblxuICAgICAgICAgICAgICAgIC8vIHN1cHBvcnQsIGFuZCB0aGUgZmlsbCBpbnMgYXJlIG5vdCBxdWl0ZSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIC8vIG9mZnNldFgvWSBtaWdodCBiZSBva2F5LCBidXQgaXMgbm90IHRoZSBzYW1lIGFzIGNsaWVudFgvWSB3aGVuIHRoZSBjYW52YXMncyB0b3BcbiAgICAgICAgICAgICAgICAvLyBsZWZ0IGlzIG5vdCAwLDAgb24gdGhlIHBhZ2VcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWCA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gubGF5ZXJYID0gdG91Y2gub2Zmc2V0WCA9IHRvdWNoLmNsaWVudFg7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWSA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gubGF5ZXJZID0gdG91Y2gub2Zmc2V0WSA9IHRvdWNoLmNsaWVudFk7IH1cblxuICAgICAgICAgICAgICAgIC8vIG1hcmsgdGhlIHRvdWNoIGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgICAgIHRvdWNoLmlzTm9ybWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godG91Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFwcGFyZW50bHkgUG9pbnRlckV2ZW50IHN1YmNsYXNzZXMgTW91c2VFdmVudCwgc28geWF5XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiAoIXRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzIHx8ICEoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuUG9pbnRlckV2ZW50KSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQuaXNQcmltYXJ5ID09PSAndW5kZWZpbmVkJykgeyBldmVudC5pc1ByaW1hcnkgPSB0cnVlOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LndpZHRoID09PSAndW5kZWZpbmVkJykgeyBldmVudC53aWR0aCA9IDE7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQuaGVpZ2h0ID09PSAndW5kZWZpbmVkJykgeyBldmVudC5oZWlnaHQgPSAxOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRpbHRYID09PSAndW5kZWZpbmVkJykgeyBldmVudC50aWx0WCA9IDA7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudGlsdFkgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnRpbHRZID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQucG9pbnRlclR5cGUgPSAnbW91c2UnOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQucG9pbnRlcklkID0gTU9VU0VfUE9JTlRFUl9JRDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQucHJlc3N1cmUgPSAwLjU7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudHdpc3QgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnR3aXN0ID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50YW5nZW50aWFsUHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7IH1cblxuICAgICAgICAgICAgLy8gbWFyayB0aGUgbW91c2UgZXZlbnQgYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICBldmVudC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgaW50ZXJhY3Rpb24gbWFuYWdlclxuICAgICAqXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcblxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMubW91c2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZXZlbnREYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyVXAgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyVXAgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ2FuY2VsID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJNb3ZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3ZlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gSW50ZXJhY3Rpb25NYW5hZ2VyO1xufShFdmVudEVtaXR0ZXIpKTtcblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBhIHJlbmRlcmVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgbW91c2UsIHBvaW50ZXIsIGFuZCB0b3VjaCBldmVudHMuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoaXMgcGx1Z2luIGRpcmVjdGx5LiBJdCBpcyBhdmFpbGFibGUgZnJvbSB0aGUgYHJlbmRlcmVyLnBsdWdpbnNgIHByb3BlcnR5LlxuICogU2VlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnN9IG9yIHtAbGluayBQSVhJLlJlbmRlcmVyI3BsdWdpbnN9LlxuICogQG5hbWVzcGFjZSBQSVhJLmludGVyYWN0aW9uXG4gKi9cblxuZXhwb3J0IHsgSW50ZXJhY3Rpb25EYXRhLCBJbnRlcmFjdGlvbkV2ZW50LCBJbnRlcmFjdGlvbk1hbmFnZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLCBpbnRlcmFjdGl2ZVRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJhY3Rpb24uZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2dyYXBoaWNzIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL2dyYXBoaWNzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUsIEJhdGNoRHJhd0NhbGwsIEJhdGNoVGV4dHVyZUFycmF5LCBCYXRjaEdlb21ldHJ5LCBVbmlmb3JtR3JvdXAsIFNoYWRlciwgU3RhdGUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNIQVBFUywgUG9pbnQsIFBvbHlnb24sIFBJXzIsIE1hdHJpeCwgUmVjdGFuZ2xlLCBSb3VuZGVkUmVjdGFuZ2xlLCBDaXJjbGUsIEVsbGlwc2UgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IGVhcmN1dCwgaGV4MnJnYiwgcHJlbXVsdGlwbHlUaW50LCBkZXByZWNhdGlvbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFdSQVBfTU9ERVMsIERSQVdfTU9ERVMsIEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEJvdW5kcywgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8qKlxuICogR3JhcGhpY3MgY3VydmVzIHJlc29sdXRpb24gc2V0dGluZ3MuIElmIGBhZGFwdGl2ZWAgZmxhZyBpcyBzZXQgdG8gYHRydWVgLFxuICogdGhlIHJlc29sdXRpb24gaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgY3VydmUncyBsZW5ndGggdG8gZW5zdXJlIGJldHRlciB2aXN1YWwgcXVhbGl0eS5cbiAqIEFkYXB0aXZlIGRyYXcgd29ya3Mgd2l0aCBgYmV6aWVyQ3VydmVUb2AgYW5kIGBxdWFkcmF0aWNDdXJ2ZVRvYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBHUkFQSElDU19DVVJWRVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFkYXB0aXZlPWZhbHNlIC0gZmxhZyBpbmRpY2F0aW5nIGlmIHRoZSByZXNvbHV0aW9uIHNob3VsZCBiZSBhZGFwdGl2ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heExlbmd0aD0xMCAtIG1heGltYWwgbGVuZ3RoIG9mIGEgc2luZ2xlIHNlZ21lbnQgb2YgdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblNlZ21lbnRzPTggLSBtaW5pbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4U2VnbWVudHM9MjA0OCAtIG1heGltYWwgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqL1xudmFyIEdSQVBISUNTX0NVUlZFUyA9IHtcbiAgICBhZGFwdGl2ZTogdHJ1ZSxcbiAgICBtYXhMZW5ndGg6IDEwLFxuICAgIG1pblNlZ21lbnRzOiA4LFxuICAgIG1heFNlZ21lbnRzOiAyMDQ4LFxuICAgIF9zZWdtZW50c0NvdW50OiBmdW5jdGlvbiBfc2VnbWVudHNDb3VudChsZW5ndGgsIGRlZmF1bHRTZWdtZW50cylcbiAgICB7XG4gICAgICAgIGlmICggZGVmYXVsdFNlZ21lbnRzID09PSB2b2lkIDAgKSBkZWZhdWx0U2VnbWVudHMgPSAyMDtcblxuICAgICAgICBpZiAoIXRoaXMuYWRhcHRpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0U2VnbWVudHM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5jZWlsKGxlbmd0aCAvIHRoaXMubWF4TGVuZ3RoKTtcblxuICAgICAgICBpZiAocmVzdWx0IDwgdGhpcy5taW5TZWdtZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5taW5TZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXN1bHQgPiB0aGlzLm1heFNlZ21lbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1heFNlZ21lbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBGaWxsIHN0eWxlIG9iamVjdCBmb3IgR3JhcGhpY3MuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRmlsbFN0eWxlID0gZnVuY3Rpb24gRmlsbFN0eWxlKClcbntcbiAgICB0aGlzLnJlc2V0KCk7XG59O1xuXG4vKipcbiAqIENsb25lcyB0aGUgb2JqZWN0XG4gKlxuICogQHJldHVybiB7UElYSS5GaWxsU3R5bGV9XG4gKi9cbkZpbGxTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHZhciBvYmogPSBuZXcgRmlsbFN0eWxlKCk7XG5cbiAgICBvYmouY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgb2JqLm1hdHJpeCA9IHRoaXMubWF0cml4O1xuICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbi8qKlxuICogUmVzZXRcbiAqL1xuRmlsbFN0eWxlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG57XG4gICAgLyoqXG4gICAgICogVGhlIGhleCBjb2xvciB2YWx1ZSB1c2VkIHdoZW4gY29sb3JpbmcgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgdGhpcy5jb2xvciA9IDB4RkZGRkZGO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFscGhhIHZhbHVlIHVzZWQgd2hlbiBmaWxsaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdG8gYmUgdXNlZCBmb3IgdGhlIGZpbGwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNmb3JtIGFwbHBpZWQgdG8gdGhlIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMubWF0cml4ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIElmIHRoZSBjdXJyZW50IGZpbGwgaXMgdmlzaWJsZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXNcbiAqL1xuRmlsbFN0eWxlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5tYXRyaXggPSBudWxsO1xufTtcblxuLyoqXG4gKiBCdWlsZHMgYSBwb2x5Z29uIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbnZhciBidWlsZFBvbHkgPSB7XG5cbiAgICBidWlsZDogZnVuY3Rpb24gYnVpbGQoZ3JhcGhpY3NEYXRhKVxuICAgIHtcbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IGdyYXBoaWNzRGF0YS5zaGFwZS5wb2ludHMuc2xpY2UoKTtcbiAgICB9LFxuXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIHRyaWFuZ3VsYXRlKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbiAgICB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaG9sZXMgPSBncmFwaGljc0RhdGEuaG9sZXM7XG4gICAgICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+PSA2KVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaG9sZUFycmF5ID0gW107XG4gICAgICAgICAgICAvLyBQcm9jZXNzIGhvbGVzLi5cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgaG9sZUFycmF5LnB1c2gocG9pbnRzLmxlbmd0aCAvIDIpO1xuICAgICAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5jb25jYXQoaG9sZS5wb2ludHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzb3J0IGNvbG9yXG4gICAgICAgICAgICB2YXIgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgaG9sZUFycmF5LCAyKTtcblxuICAgICAgICAgICAgaWYgKCF0cmlhbmdsZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkkMSArPSAzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSQxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSQxICsgMV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kkMSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IHBvaW50cy5sZW5ndGg7IGkkMisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2kkMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbn07XG5cbi8qKlxuICogQnVpbGRzIGEgY2lyY2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIGRyYXdcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG52YXIgYnVpbGRDaXJjbGUgPSB7XG5cbiAgICBidWlsZDogZnVuY3Rpb24gYnVpbGQoZ3JhcGhpY3NEYXRhKVxuICAgIHtcbiAgICAgICAgLy8gbmVlZCB0byBjb252ZXJ0IHBvaW50cyB0byBhIG5pY2UgcmVndWxhciBkYXRhXG4gICAgICAgIHZhciBjaXJjbGVEYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHggPSBjaXJjbGVEYXRhLng7XG4gICAgICAgIHZhciB5ID0gY2lyY2xlRGF0YS55O1xuICAgICAgICB2YXIgd2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQ7XG5cbiAgICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgLy8gVE9ETyAtIGJpdCBoYWNreT8/XG4gICAgICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gU0hBUEVTLkNJUkMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS53aWR0aDtcbiAgICAgICAgICAgIGhlaWdodCA9IGNpcmNsZURhdGEuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvdGFsU2VncyA9IE1hdGguZmxvb3IoMzAgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS5yYWRpdXMpKVxuICAgICAgICAgICAgfHwgTWF0aC5mbG9vcigxNSAqIE1hdGguc3FydChjaXJjbGVEYXRhLndpZHRoICsgY2lyY2xlRGF0YS5oZWlnaHQpKTtcblxuICAgICAgICB0b3RhbFNlZ3MgLz0gMi4zO1xuXG4gICAgICAgIHZhciBzZWcgPSAoTWF0aC5QSSAqIDIpIC8gdG90YWxTZWdzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTZWdzOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgIHggKyAoTWF0aC5zaW4oLXNlZyAqIGkpICogd2lkdGgpLFxuICAgICAgICAgICAgICAgIHkgKyAoTWF0aC5jb3MoLXNlZyAqIGkpICogaGVpZ2h0KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgcG9pbnRzWzBdLFxuICAgICAgICAgICAgcG9pbnRzWzFdXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG4gICAge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmFyIGNlbnRlciA9IHZlcnRQb3M7XG5cbiAgICAgICAgdmVydHMucHVzaChncmFwaGljc0RhdGEuc2hhcGUueCwgZ3JhcGhpY3NEYXRhLnNoYXBlLnkpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSk7XG5cbiAgICAgICAgICAgIC8vIGFkZCBzb21lIHV2c1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZlcnRQb3MrKywgY2VudGVyLCB2ZXJ0UG9zKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG52YXIgYnVpbGRSZWN0YW5nbGUgPSB7XG5cbiAgICBidWlsZDogZnVuY3Rpb24gYnVpbGQoZ3JhcGhpY3NEYXRhKVxuICAgIHtcbiAgICAgICAgLy8gLS0tIC8vXG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICAvL1xuICAgICAgICB2YXIgcmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgIHZhciB4ID0gcmVjdERhdGEueDtcbiAgICAgICAgdmFyIHkgPSByZWN0RGF0YS55O1xuICAgICAgICB2YXIgd2lkdGggPSByZWN0RGF0YS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJlY3REYXRhLmhlaWdodDtcblxuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcblxuICAgICAgICBwb2ludHMucHVzaCh4LCB5LFxuICAgICAgICAgICAgeCArIHdpZHRoLCB5LFxuICAgICAgICAgICAgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgeCwgeSArIGhlaWdodCk7XG4gICAgfSxcblxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG4gICAge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG5cbiAgICAgICAgdmFyIHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0sXG4gICAgICAgICAgICBwb2ludHNbMl0sIHBvaW50c1szXSxcbiAgICAgICAgICAgIHBvaW50c1s2XSwgcG9pbnRzWzddLFxuICAgICAgICAgICAgcG9pbnRzWzRdLCBwb2ludHNbNV0pO1xuXG4gICAgICAgIGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcy5wdXNoKHZlcnRQb3MsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMixcbiAgICAgICAgICAgIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDMpO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIHJvdW5kZWQgcmVjdGFuZ2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbnZhciBidWlsZFJvdW5kZWRSZWN0YW5nbGUgPSB7XG5cbiAgICBidWlsZDogZnVuY3Rpb24gYnVpbGQoZ3JhcGhpY3NEYXRhKVxuICAgIHtcbiAgICAgICAgdmFyIHJyZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB4ID0gcnJlY3REYXRhLng7XG4gICAgICAgIHZhciB5ID0gcnJlY3REYXRhLnk7XG4gICAgICAgIHZhciB3aWR0aCA9IHJyZWN0RGF0YS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJyZWN0RGF0YS5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIHJhZGl1cyA9IHJyZWN0RGF0YS5yYWRpdXM7XG5cbiAgICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCwgeSArIHJhZGl1cyxcbiAgICAgICAgICAgIHgsIHksXG4gICAgICAgICAgICB4ICsgcmFkaXVzLCB5LFxuICAgICAgICAgICAgcG9pbnRzKTtcbiAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoIC0gcmFkaXVzLFxuICAgICAgICAgICAgeSwgeCArIHdpZHRoLCB5LFxuICAgICAgICAgICAgeCArIHdpZHRoLCB5ICsgcmFkaXVzLFxuICAgICAgICAgICAgcG9pbnRzKTtcbiAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzLFxuICAgICAgICAgICAgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgeCArIHdpZHRoIC0gcmFkaXVzLCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgcG9pbnRzKTtcbiAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHJhZGl1cywgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHgsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICB4LCB5ICsgaGVpZ2h0IC0gcmFkaXVzLFxuICAgICAgICAgICAgcG9pbnRzKTtcblxuICAgICAgICAvLyB0aGlzIHRpbnkgbnVtYmVyIGRlYWxzIHdpdGggdGhlIGlzc3VlIHRoYXQgb2NjdXJzIHdoZW4gcG9pbnRzIG92ZXJsYXAgYW5kIGVhcmN1dCBmYWlscyB0byB0cmlhbmd1bGF0ZSB0aGUgaXRlbS5cbiAgICAgICAgLy8gVE9ETyAtIGZpeCB0aGlzIHByb3Blcmx5LCB0aGlzIGlzIG5vdCB2ZXJ5IGVsZWdhbnQuLiBidXQgaXQgd29ya3MgZm9yIG5vdy5cbiAgICB9LFxuXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIHRyaWFuZ3VsYXRlKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbiAgICB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcblxuICAgICAgICB2YXIgdmVjUG9zID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgICAgICB2YXIgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgbnVsbCwgMik7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0cmlhbmdsZXMubGVuZ3RoOyBpIDwgajsgaSArPSAzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIC8vICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDFdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIC8vICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZWNQb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMCwgaiQxID0gcG9pbnRzLmxlbmd0aDsgaSQxIDwgaiQxOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydHMucHVzaChwb2ludHNbaSQxXSwgcG9pbnRzWysraSQxXSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBDYWxjdWxhdGUgYSBzaW5nbGUgcG9pbnQgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZS5cbiAqIFV0aWxpdHkgZnVuY3Rpb24gdXNlZCBieSBxdWFkcmF0aWNCZXppZXJDdXJ2ZS5cbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbjEgLSBmaXJzdCBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuMiAtIHNlY29uZCBudW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjIC0gcGVyY2VudGFnZVxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgcmVzdWx0XG4gKlxuICovXG5mdW5jdGlvbiBnZXRQdChuMSwgbjIsIHBlcmMpXG57XG4gICAgdmFyIGRpZmYgPSBuMiAtIG4xO1xuXG4gICAgcmV0dXJuIG4xICsgKGRpZmYgKiBwZXJjKTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLiAoaGVscGVyIGZ1bmN0aW9uLi4pXG4gKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcltdfSBbb3V0PVtdXSAtIFRoZSBvdXRwdXQgYXJyYXkgdG8gYWRkIHBvaW50cyBpbnRvLiBJZiBub3QgcGFzc2VkLCBhIG5ldyBhcnJheSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bnVtYmVyW119IGFuIGFycmF5IG9mIHBvaW50c1xuICovXG5mdW5jdGlvbiBxdWFkcmF0aWNCZXppZXJDdXJ2ZShmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSwgb3V0KVxue1xuICAgIGlmICggb3V0ID09PSB2b2lkIDAgKSBvdXQgPSBbXTtcblxuICAgIHZhciBuID0gMjA7XG4gICAgdmFyIHBvaW50cyA9IG91dDtcblxuICAgIHZhciB4YSA9IDA7XG4gICAgdmFyIHlhID0gMDtcbiAgICB2YXIgeGIgPSAwO1xuICAgIHZhciB5YiA9IDA7XG4gICAgdmFyIHggPSAwO1xuICAgIHZhciB5ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8PSBuOyArK2kpXG4gICAge1xuICAgICAgICBqID0gaSAvIG47XG5cbiAgICAgICAgLy8gVGhlIEdyZWVuIExpbmVcbiAgICAgICAgeGEgPSBnZXRQdChmcm9tWCwgY3BYLCBqKTtcbiAgICAgICAgeWEgPSBnZXRQdChmcm9tWSwgY3BZLCBqKTtcbiAgICAgICAgeGIgPSBnZXRQdChjcFgsIHRvWCwgaik7XG4gICAgICAgIHliID0gZ2V0UHQoY3BZLCB0b1ksIGopO1xuXG4gICAgICAgIC8vIFRoZSBCbGFjayBEb3RcbiAgICAgICAgeCA9IGdldFB0KHhhLCB4Yiwgaik7XG4gICAgICAgIHkgPSBnZXRQdCh5YSwgeWIsIGopO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKHgsIHkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludHM7XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGRMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbntcbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZS5uYXRpdmUpXG4gICAge1xuICAgICAgICBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgYnVpbGROb25OYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgcG9seWdvbiBtZXRob2QuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGROb25OYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbntcbiAgICB2YXIgc2hhcGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzLnNsaWNlKCk7XG4gICAgdmFyIGVwcyA9IGdyYXBoaWNzR2VvbWV0cnkuY2xvc2VQb2ludEVwcztcblxuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgbGluZSB3aWR0aCBpcyBhbiBvZGQgbnVtYmVyIGFkZCAwLjUgdG8gYWxpZ24gdG8gYSB3aG9sZSBwaXhlbFxuICAgIC8vIGNvbW1lbnRpbmcgdGhpcyBvdXQgZml4ZXMgIzcxMSBhbmQgIzE2MjBcbiAgICAvLyBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCUyKVxuICAgIC8vIHtcbiAgICAvLyAgICAgZm9yIChpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKylcbiAgICAvLyAgICAge1xuICAgIC8vICAgICAgICAgcG9pbnRzW2ldICs9IDAuNTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIHZhciBzdHlsZSA9IGdyYXBoaWNzRGF0YS5saW5lU3R5bGU7XG5cbiAgICAvLyBnZXQgZmlyc3QgYW5kIGxhc3QgcG9pbnQuLiBmaWd1cmUgb3V0IHRoZSBtaWRkbGUhXG4gICAgdmFyIGZpcnN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIHZhciBsYXN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG4gICAgdmFyIGNsb3NlZFBhdGggPSBNYXRoLmFicyhmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgPCBlcHNcbiAgICAgICAgJiYgTWF0aC5hYnMoZmlyc3RQb2ludC55IC0gbGFzdFBvaW50LnkpIDwgZXBzO1xuXG4gICAgLy8gaWYgdGhlIGZpcnN0IHBvaW50IGlzIHRoZSBsYXN0IHBvaW50IC0gZ29ubmEgaGF2ZSBpc3N1ZXMgOilcbiAgICBpZiAoY2xvc2VkU2hhcGUpXG4gICAge1xuICAgICAgICAvLyBuZWVkIHRvIGNsb25lIGFzIHdlIGFyZSBnb2luZyB0byBzbGlnaHRseSBtb2RpZnkgdGhlIHNoYXBlLi5cbiAgICAgICAgcG9pbnRzID0gcG9pbnRzLnNsaWNlKCk7XG5cbiAgICAgICAgaWYgKGNsb3NlZFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIGxhc3RQb2ludC5zZXQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWlkUG9pbnRYID0gbGFzdFBvaW50LnggKyAoKGZpcnN0UG9pbnQueCAtIGxhc3RQb2ludC54KSAqIDAuNSk7XG4gICAgICAgIHZhciBtaWRQb2ludFkgPSBsYXN0UG9pbnQueSArICgoZmlyc3RQb2ludC55IC0gbGFzdFBvaW50LnkpICogMC41KTtcblxuICAgICAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgICAgIHBvaW50cy5wdXNoKG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICB9XG5cbiAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgdmFyIGluZGV4Q291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgIHZhciBpbmRleFN0YXJ0ID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgIC8vIERSQVcgdGhlIExpbmVcbiAgICB2YXIgd2lkdGggPSBzdHlsZS53aWR0aCAvIDI7XG5cbiAgICAvLyBzb3J0IGNvbG9yXG4gICAgdmFyIHAxeCA9IHBvaW50c1swXTtcbiAgICB2YXIgcDF5ID0gcG9pbnRzWzFdO1xuICAgIHZhciBwMnggPSBwb2ludHNbMl07XG4gICAgdmFyIHAyeSA9IHBvaW50c1szXTtcbiAgICB2YXIgcDN4ID0gMDtcbiAgICB2YXIgcDN5ID0gMDtcblxuICAgIHZhciBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICB2YXIgcGVycHkgPSBwMXggLSBwMng7XG4gICAgdmFyIHBlcnAyeCA9IDA7XG4gICAgdmFyIHBlcnAyeSA9IDA7XG4gICAgdmFyIHBlcnAzeCA9IDA7XG4gICAgdmFyIHBlcnAzeSA9IDA7XG5cbiAgICB2YXIgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuXG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgdmFyIHJhdGlvID0gc3R5bGUuYWxpZ25tZW50Oy8vIDAuNTtcbiAgICB2YXIgcjEgPSAoMSAtIHJhdGlvKSAqIDI7XG4gICAgdmFyIHIyID0gcmF0aW8gKiAyO1xuXG4gICAgLy8gc3RhcnRcbiAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICBwMXggLSAocGVycHggKiByMSksXG4gICAgICAgIHAxeSAtIChwZXJweSAqIHIxKSk7XG5cbiAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICBwMXggKyAocGVycHggKiByMiksXG4gICAgICAgIHAxeSArIChwZXJweSAqIHIyKSk7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aCAtIDE7ICsraSlcbiAgICB7XG4gICAgICAgIHAxeCA9IHBvaW50c1soaSAtIDEpICogMl07XG4gICAgICAgIHAxeSA9IHBvaW50c1soKGkgLSAxKSAqIDIpICsgMV07XG5cbiAgICAgICAgcDJ4ID0gcG9pbnRzW2kgKiAyXTtcbiAgICAgICAgcDJ5ID0gcG9pbnRzWyhpICogMikgKyAxXTtcblxuICAgICAgICBwM3ggPSBwb2ludHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICBwM3kgPSBwb2ludHNbKChpICsgMSkgKiAyKSArIDFdO1xuXG4gICAgICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgICAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG4gICAgICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgICAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgICAgICBwZXJwMnggPSAtKHAyeSAtIHAzeSk7XG4gICAgICAgIHBlcnAyeSA9IHAyeCAtIHAzeDtcblxuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJwMnggKiBwZXJwMngpICsgKHBlcnAyeSAqIHBlcnAyeSkpO1xuICAgICAgICBwZXJwMnggLz0gZGlzdDtcbiAgICAgICAgcGVycDJ5IC89IGRpc3Q7XG4gICAgICAgIHBlcnAyeCAqPSB3aWR0aDtcbiAgICAgICAgcGVycDJ5ICo9IHdpZHRoO1xuXG4gICAgICAgIHZhciBhMSA9ICgtcGVycHkgKyBwMXkpIC0gKC1wZXJweSArIHAyeSk7XG4gICAgICAgIHZhciBiMSA9ICgtcGVycHggKyBwMngpIC0gKC1wZXJweCArIHAxeCk7XG4gICAgICAgIHZhciBjMSA9ICgoLXBlcnB4ICsgcDF4KSAqICgtcGVycHkgKyBwMnkpKSAtICgoLXBlcnB4ICsgcDJ4KSAqICgtcGVycHkgKyBwMXkpKTtcbiAgICAgICAgdmFyIGEyID0gKC1wZXJwMnkgKyBwM3kpIC0gKC1wZXJwMnkgKyBwMnkpO1xuICAgICAgICB2YXIgYjIgPSAoLXBlcnAyeCArIHAyeCkgLSAoLXBlcnAyeCArIHAzeCk7XG4gICAgICAgIHZhciBjMiA9ICgoLXBlcnAyeCArIHAzeCkgKiAoLXBlcnAyeSArIHAyeSkpIC0gKCgtcGVycDJ4ICsgcDJ4KSAqICgtcGVycDJ5ICsgcDN5KSk7XG5cbiAgICAgICAgdmFyIGRlbm9tID0gKGExICogYjIpIC0gKGEyICogYjEpO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhkZW5vbSkgPCAwLjEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbm9tICs9IDEwLjE7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHAyeCAtIChwZXJweCAqIHIxKSxcbiAgICAgICAgICAgICAgICBwMnkgLSAocGVycHkgKiByMSkpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHAyeCArIChwZXJweCAqIHIyKSxcbiAgICAgICAgICAgICAgICBwMnkgKyAocGVycHkgKiByMikpO1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBweCA9ICgoYjEgKiBjMikgLSAoYjIgKiBjMSkpIC8gZGVub207XG4gICAgICAgIHZhciBweSA9ICgoYTIgKiBjMSkgLSAoYTEgKiBjMikpIC8gZGVub207XG4gICAgICAgIHZhciBwZGlzdCA9ICgocHggLSBwMngpICogKHB4IC0gcDJ4KSkgKyAoKHB5IC0gcDJ5KSAqIChweSAtIHAyeSkpO1xuXG4gICAgICAgIGlmIChwZGlzdCA+ICgxOTYgKiB3aWR0aCAqIHdpZHRoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcGVycDN4ID0gcGVycHggLSBwZXJwMng7XG4gICAgICAgICAgICBwZXJwM3kgPSBwZXJweSAtIHBlcnAyeTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDN4ICogcGVycDN4KSArIChwZXJwM3kgKiBwZXJwM3kpKTtcbiAgICAgICAgICAgIHBlcnAzeCAvPSBkaXN0O1xuICAgICAgICAgICAgcGVycDN5IC89IGRpc3Q7XG4gICAgICAgICAgICBwZXJwM3ggKj0gd2lkdGg7XG4gICAgICAgICAgICBwZXJwM3kgKj0gd2lkdGg7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKHBlcnAzeCAqIHIxKSwgcDJ5IC0gKHBlcnAzeSAqIHIxKSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4ICsgKHBlcnAzeCAqIHIyKSwgcDJ5ICsgKHBlcnAzeSAqIHIyKSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKHBlcnAzeCAqIHIyICogcjEpLCBwMnkgLSAocGVycDN5ICogcjEpKTtcblxuICAgICAgICAgICAgaW5kZXhDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyAoKHB4IC0gcDJ4KSAqIHIxKSwgcDJ5ICsgKChweSAtIHAyeSkgKiByMSkpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtICgocHggLSBwMngpICogcjIpLCBwMnkgLSAoKHB5IC0gcDJ5KSAqIHIyKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwMXggPSBwb2ludHNbKGxlbmd0aCAtIDIpICogMl07XG4gICAgcDF5ID0gcG9pbnRzWygobGVuZ3RoIC0gMikgKiAyKSArIDFdO1xuXG4gICAgcDJ4ID0gcG9pbnRzWyhsZW5ndGggLSAxKSAqIDJdO1xuICAgIHAyeSA9IHBvaW50c1soKGxlbmd0aCAtIDEpICogMikgKyAxXTtcblxuICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgIHBlcnB5ID0gcDF4IC0gcDJ4O1xuXG4gICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIHZlcnRzLnB1c2gocDJ4IC0gKHBlcnB4ICogcjEpLCBwMnkgLSAocGVycHkgKiByMSkpO1xuXG4gICAgdmVydHMucHVzaChwMnggKyAocGVycHggKiByMiksIHAyeSArIChwZXJweSAqIHIyKSk7XG5cbiAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcblxuICAgIC8vIGluZGljZXMucHVzaChpbmRleFN0YXJ0KTtcblxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGluZGV4Q291bnQgLSAyOyArK2kkMSlcbiAgICB7XG4gICAgICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0LCBpbmRleFN0YXJ0ICsgMSwgaW5kZXhTdGFydCArIDIpO1xuXG4gICAgICAgIGluZGV4U3RhcnQrKztcbiAgICB9XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTKSBtZXRob2RcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxue1xuICAgIHZhciBpID0gMDtcblxuICAgIHZhciBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBzaGFwZS5wb2ludHM7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm47IH1cblxuICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcblxuICAgIHZhciBzdGFydEluZGV4ID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgY3VycmVudEluZGV4ID0gc3RhcnRJbmRleDtcblxuICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuXG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbaSAqIDJdLCBwb2ludHNbKGkgKiAyKSArIDFdKTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgY3VycmVudEluZGV4ICsgMSk7XG5cbiAgICAgICAgY3VycmVudEluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKGNsb3NlZFNoYXBlKVxuICAgIHtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgc3RhcnRJbmRleCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIGNvbXBsZXggcG9seWdvbiB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkQ29tcGxleFBvbHkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEpXG57XG4gICAgLy8gVE9ETyAtIG5vIG5lZWQgdG8gY29weSB0aGlzIGFzIGl0IGdldHMgdHVybmVkIGludG8gYSBGbG9hdDMyQXJyYXkgYW55d2F5cy4uXG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMuc2xpY2UoKTtcblxuICAgIGlmIChwb2ludHMubGVuZ3RoIDwgNilcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBnZXQgZmlyc3QgYW5kIGxhc3QgcG9pbnQuLiBmaWd1cmUgb3V0IHRoZSBtaWRkbGUhXG4gICAgdmFyIGluZGljZXMgPSB3ZWJHTERhdGEuaW5kaWNlcztcblxuICAgIHdlYkdMRGF0YS5wb2ludHMgPSBwb2ludHM7XG4gICAgd2ViR0xEYXRhLmFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcbiAgICB3ZWJHTERhdGEuY29sb3IgPSBoZXgycmdiKGdyYXBoaWNzRGF0YS5maWxsQ29sb3IpO1xuXG4gICAgLy8gY2FsY3VsYXRlIHRoZSBib3VuZHMuLlxuICAgIHZhciBtaW5YID0gSW5maW5pdHk7XG4gICAgdmFyIG1heFggPSAtSW5maW5pdHk7XG5cbiAgICB2YXIgbWluWSA9IEluZmluaXR5O1xuICAgIHZhciBtYXhZID0gLUluZmluaXR5O1xuXG4gICAgdmFyIHggPSAwO1xuICAgIHZhciB5ID0gMDtcblxuICAgIC8vIGdldCBzaXplLi5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMilcbiAgICB7XG4gICAgICAgIHggPSBwb2ludHNbaV07XG4gICAgICAgIHkgPSBwb2ludHNbaSArIDFdO1xuXG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcblxuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgfVxuXG4gICAgLy8gYWRkIGEgcXVhZCB0byB0aGUgZW5kIGNvcyB0aGVyZSBpcyBubyBwb2ludCBtYWtpbmcgYW5vdGhlciBidWZmZXIhXG4gICAgcG9pbnRzLnB1c2gobWluWCwgbWluWSxcbiAgICAgICAgbWF4WCwgbWluWSxcbiAgICAgICAgbWF4WCwgbWF4WSxcbiAgICAgICAgbWluWCwgbWF4WSk7XG5cbiAgICAvLyBwdXNoIGEgcXVhZCBvbnRvIHRoZSBlbmQuLlxuXG4gICAgLy8gVE9ETyAtIHRoaXMgYWluJ3QgbmVlZGVkIVxuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcblxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGxlbmd0aDsgaSQxKyspXG4gICAge1xuICAgICAgICBpbmRpY2VzLnB1c2goaSQxKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIFN0YXJ0aW5nIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIFN0YXJ0aW5nIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIC0gTnVtYmVyIG9mIHNlZ21lbnRzIGFwcHJveGltYXRpbmcgdGhlIGJlemllciBjdXJ2ZVxuICogQHBhcmFtIHtudW1iZXJbXX0gW3BhdGg9W11dIC0gUGF0aCBhcnJheSB0byBwdXNoIHBvaW50cyBpbnRvXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gQXJyYXkgb2YgcG9pbnRzIG9mIHRoZSBjdXJ2ZVxuICovXG5mdW5jdGlvbiBiZXppZXJDdXJ2ZVRvKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCBuLCBwYXRoKVxue1xuICAgIGlmICggcGF0aCA9PT0gdm9pZCAwICkgcGF0aCA9IFtdO1xuXG4gICAgdmFyIGR0ID0gMDtcbiAgICB2YXIgZHQyID0gMDtcbiAgICB2YXIgZHQzID0gMDtcbiAgICB2YXIgdDIgPSAwO1xuICAgIHZhciB0MyA9IDA7XG5cbiAgICBwYXRoLnB1c2goZnJvbVgsIGZyb21ZKTtcblxuICAgIGZvciAodmFyIGkgPSAxLCBqID0gMDsgaSA8PSBuOyArK2kpXG4gICAge1xuICAgICAgICBqID0gaSAvIG47XG5cbiAgICAgICAgZHQgPSAoMSAtIGopO1xuICAgICAgICBkdDIgPSBkdCAqIGR0O1xuICAgICAgICBkdDMgPSBkdDIgKiBkdDtcblxuICAgICAgICB0MiA9IGogKiBqO1xuICAgICAgICB0MyA9IHQyICogajtcblxuICAgICAgICBwYXRoLnB1c2goXG4gICAgICAgICAgICAoZHQzICogZnJvbVgpICsgKDMgKiBkdDIgKiBqICogY3BYKSArICgzICogZHQgKiB0MiAqIGNwWDIpICsgKHQzICogdG9YKSxcbiAgICAgICAgICAgIChkdDMgKiBmcm9tWSkgKyAoMyAqIGR0MiAqIGogKiBjcFkpICsgKDMgKiBkdCAqIHQyICogY3BZMikgKyAodDMgKiB0b1kpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdGg7XG59XG5cbi8qKlxuICogRHJhdyBhIHN0YXIgc2hhcGUgd2l0aCBhbiBhcmJpdHJhcnkgbnVtYmVyIG9mIHBvaW50cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuUG9seWdvblxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludHMgLSBUaGUgbnVtYmVyIG9mIHBvaW50cyBvZiB0aGUgc3RhciwgbXVzdCBiZSA+IDFcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc3RhciBpbiByYWRpYW5zLCB3aGVyZSAwIGlzIHZlcnRpY2FsXG4gKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gKi9cbnZhciBTdGFyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUG9seWdvbikge1xuICAgIGZ1bmN0aW9uIFN0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbilcbiAgICB7XG4gICAgICAgIGlubmVyUmFkaXVzID0gaW5uZXJSYWRpdXMgfHwgcmFkaXVzIC8gMjtcblxuICAgICAgICB2YXIgc3RhcnRBbmdsZSA9ICgtMSAqIE1hdGguUEkgLyAyKSArIHJvdGF0aW9uO1xuICAgICAgICB2YXIgbGVuID0gcG9pbnRzICogMjtcbiAgICAgICAgdmFyIGRlbHRhID0gUElfMiAvIGxlbjtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgciA9IGkgJSAyID8gaW5uZXJSYWRpdXMgOiByYWRpdXM7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSAoaSAqIGRlbHRhKSArIHN0YXJ0QW5nbGU7XG5cbiAgICAgICAgICAgIHBvbHlnb24ucHVzaChcbiAgICAgICAgICAgICAgICB4ICsgKHIgKiBNYXRoLmNvcyhhbmdsZSkpLFxuICAgICAgICAgICAgICAgIHkgKyAociAqIE1hdGguc2luKGFuZ2xlKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBQb2x5Z29uLmNhbGwodGhpcywgcG9seWdvbik7XG4gICAgfVxuXG4gICAgaWYgKCBQb2x5Z29uICkgU3Rhci5fX3Byb3RvX18gPSBQb2x5Z29uO1xuICAgIFN0YXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUG9seWdvbiAmJiBQb2x5Z29uLnByb3RvdHlwZSApO1xuICAgIFN0YXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3RhcjtcblxuICAgIHJldHVybiBTdGFyO1xufShQb2x5Z29uKSk7XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBhcmMgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBBcmNVdGlscyA9IGZ1bmN0aW9uIEFyY1V0aWxzICgpIHt9O1xuXG5BcmNVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gY3VydmVUbyAoeDEsIHkxLCB4MiwgeTIsIHJhZGl1cywgcG9pbnRzKVxue1xuICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgIHZhciBhMSA9IGZyb21ZIC0geTE7XG4gICAgdmFyIGIxID0gZnJvbVggLSB4MTtcbiAgICB2YXIgYTIgPSB5MiAtIHkxO1xuICAgIHZhciBiMiA9IHgyIC0geDE7XG4gICAgdmFyIG1tID0gTWF0aC5hYnMoKGExICogYjIpIC0gKGIxICogYTIpKTtcblxuICAgIGlmIChtbSA8IDEuMGUtOCB8fCByYWRpdXMgPT09IDApXG4gICAge1xuICAgICAgICBpZiAocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAhPT0geDEgfHwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSAhPT0geTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHgxLCB5MSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZGQgPSAoYTEgKiBhMSkgKyAoYjEgKiBiMSk7XG4gICAgdmFyIGNjID0gKGEyICogYTIpICsgKGIyICogYjIpO1xuICAgIHZhciB0dCA9IChhMSAqIGEyKSArIChiMSAqIGIyKTtcbiAgICB2YXIgazEgPSByYWRpdXMgKiBNYXRoLnNxcnQoZGQpIC8gbW07XG4gICAgdmFyIGsyID0gcmFkaXVzICogTWF0aC5zcXJ0KGNjKSAvIG1tO1xuICAgIHZhciBqMSA9IGsxICogdHQgLyBkZDtcbiAgICB2YXIgajIgPSBrMiAqIHR0IC8gY2M7XG4gICAgdmFyIGN4ID0gKGsxICogYjIpICsgKGsyICogYjEpO1xuICAgIHZhciBjeSA9IChrMSAqIGEyKSArIChrMiAqIGExKTtcbiAgICB2YXIgcHggPSBiMSAqIChrMiArIGoxKTtcbiAgICB2YXIgcHkgPSBhMSAqIChrMiArIGoxKTtcbiAgICB2YXIgcXggPSBiMiAqIChrMSArIGoyKTtcbiAgICB2YXIgcXkgPSBhMiAqIChrMSArIGoyKTtcbiAgICB2YXIgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIocHkgLSBjeSwgcHggLSBjeCk7XG4gICAgdmFyIGVuZEFuZ2xlID0gTWF0aC5hdGFuMihxeSAtIGN5LCBxeCAtIGN4KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGN4OiAoY3ggKyB4MSksXG4gICAgICAgIGN5OiAoY3kgKyB5MSksXG4gICAgICAgIHJhZGl1czogcmFkaXVzLFxuICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICBlbmRBbmdsZTogZW5kQW5nbGUsXG4gICAgICAgIGFudGljbG9ja3dpc2U6IChiMSAqIGEyID4gYjIgKiBhMSksXG4gICAgfTtcbn07XG5cbi8qKlxuICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRYIC0gU3RhcnQgeCBsb2NhdGlvbiBvZiBhcmNcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFkgLSBTdGFydCB5IGxvY2F0aW9uIG9mIGFyY1xuICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRBbmdsZSAtIFRoZSBzdGFydGluZyBhbmdsZSwgaW4gcmFkaWFucyAoMCBpcyBhdCB0aGUgMyBvJ2Nsb2NrIHBvc2l0aW9uXG4gKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBbmdsZSAtIFRoZSBlbmRpbmcgYW5nbGUsIGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYW50aWNsb2Nrd2lzZSAtIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBkcmF3aW5nIHNob3VsZCBiZVxuICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIE51bWJlciBvZiBzZWdtZW50c1xuICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gQ29sbGVjdGlvbiBvZiBwb2ludHMgdG8gYWRkIHRvXG4gKi9cbkFyY1V0aWxzLmFyYyA9IGZ1bmN0aW9uIGFyYyAoc3RhcnRYLCBzdGFydFksIGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSwgcG9pbnRzKVxue1xuICAgIHZhciBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcbiAgICB2YXIgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChcbiAgICAgICAgTWF0aC5hYnMoc3dlZXApICogcmFkaXVzLFxuICAgICAgICBNYXRoLmNlaWwoTWF0aC5hYnMoc3dlZXApIC8gUElfMikgKiA0MFxuICAgICk7XG5cbiAgICB2YXIgdGhldGEgPSAoc3dlZXApIC8gKG4gKiAyKTtcbiAgICB2YXIgdGhldGEyID0gdGhldGEgKiAyO1xuICAgIHZhciBjVGhldGEgPSBNYXRoLmNvcyh0aGV0YSk7XG4gICAgdmFyIHNUaGV0YSA9IE1hdGguc2luKHRoZXRhKTtcbiAgICB2YXIgc2VnTWludXMgPSBuIC0gMTtcbiAgICB2YXIgcmVtYWluZGVyID0gKHNlZ01pbnVzICUgMSkgLyBzZWdNaW51cztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHNlZ01pbnVzOyArK2kpXG4gICAge1xuICAgICAgICB2YXIgcmVhbCA9IGkgKyAocmVtYWluZGVyICogaSk7XG4gICAgICAgIHZhciBhbmdsZSA9ICgodGhldGEpICsgc3RhcnRBbmdsZSArICh0aGV0YTIgKiByZWFsKSk7XG4gICAgICAgIHZhciBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICB2YXIgcyA9IC1NYXRoLnNpbihhbmdsZSk7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICAoKChjVGhldGEgKiBjKSArIChzVGhldGEgKiBzKSkgKiByYWRpdXMpICsgY3gsXG4gICAgICAgICAgICAoKChjVGhldGEgKiAtcykgKyAoc1RoZXRhICogYykpICogcmFkaXVzKSArIGN5XG4gICAgICAgICk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIGJlemllciBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEJlemllclV0aWxzID0gZnVuY3Rpb24gQmV6aWVyVXRpbHMgKCkge307XG5cbkJlemllclV0aWxzLmN1cnZlTGVuZ3RoID0gZnVuY3Rpb24gY3VydmVMZW5ndGggKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKVxue1xuICAgIHZhciBuID0gMTA7XG4gICAgdmFyIHJlc3VsdCA9IDAuMDtcbiAgICB2YXIgdCA9IDAuMDtcbiAgICB2YXIgdDIgPSAwLjA7XG4gICAgdmFyIHQzID0gMC4wO1xuICAgIHZhciBudCA9IDAuMDtcbiAgICB2YXIgbnQyID0gMC4wO1xuICAgIHZhciBudDMgPSAwLjA7XG4gICAgdmFyIHggPSAwLjA7XG4gICAgdmFyIHkgPSAwLjA7XG4gICAgdmFyIGR4ID0gMC4wO1xuICAgIHZhciBkeSA9IDAuMDtcbiAgICB2YXIgcHJldlggPSBmcm9tWDtcbiAgICB2YXIgcHJldlkgPSBmcm9tWTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG47ICsraSlcbiAgICB7XG4gICAgICAgIHQgPSBpIC8gbjtcbiAgICAgICAgdDIgPSB0ICogdDtcbiAgICAgICAgdDMgPSB0MiAqIHQ7XG4gICAgICAgIG50ID0gKDEuMCAtIHQpO1xuICAgICAgICBudDIgPSBudCAqIG50O1xuICAgICAgICBudDMgPSBudDIgKiBudDtcblxuICAgICAgICB4ID0gKG50MyAqIGZyb21YKSArICgzLjAgKiBudDIgKiB0ICogY3BYKSArICgzLjAgKiBudCAqIHQyICogY3BYMikgKyAodDMgKiB0b1gpO1xuICAgICAgICB5ID0gKG50MyAqIGZyb21ZKSArICgzLjAgKiBudDIgKiB0ICogY3BZKSArICgzICogbnQgKiB0MiAqIGNwWTIpICsgKHQzICogdG9ZKTtcbiAgICAgICAgZHggPSBwcmV2WCAtIHg7XG4gICAgICAgIGR5ID0gcHJldlkgLSB5O1xuICAgICAgICBwcmV2WCA9IHg7XG4gICAgICAgIHByZXZZID0geTtcblxuICAgICAgICByZXN1bHQgKz0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBhdGggYXJyYXkgdG8gcHVzaCBwb2ludHMgaW50b1xuICovXG5CZXppZXJVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gY3VydmVUbyAoY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCBwb2ludHMpXG57XG4gICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgcG9pbnRzLmxlbmd0aCAtPSAyO1xuXG4gICAgdmFyIG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoXG4gICAgICAgIEJlemllclV0aWxzLmN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKVxuICAgICk7XG5cbiAgICB2YXIgZHQgPSAwO1xuICAgIHZhciBkdDIgPSAwO1xuICAgIHZhciBkdDMgPSAwO1xuICAgIHZhciB0MiA9IDA7XG4gICAgdmFyIHQzID0gMDtcblxuICAgIHBvaW50cy5wdXNoKGZyb21YLCBmcm9tWSk7XG5cbiAgICBmb3IgKHZhciBpID0gMSwgaiA9IDA7IGkgPD0gbjsgKytpKVxuICAgIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgIGR0ID0gKDEgLSBqKTtcbiAgICAgICAgZHQyID0gZHQgKiBkdDtcbiAgICAgICAgZHQzID0gZHQyICogZHQ7XG5cbiAgICAgICAgdDIgPSBqICogajtcbiAgICAgICAgdDMgPSB0MiAqIGo7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICAoZHQzICogZnJvbVgpICsgKDMgKiBkdDIgKiBqICogY3BYKSArICgzICogZHQgKiB0MiAqIGNwWDIpICsgKHQzICogdG9YKSxcbiAgICAgICAgICAgIChkdDMgKiBmcm9tWSkgKyAoMyAqIGR0MiAqIGogKiBjcFkpICsgKDMgKiBkdCAqIHQyICogY3BZMikgKyAodDMgKiB0b1kpXG4gICAgICAgICk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIHF1YWRyYXRpYyBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFF1YWRyYXRpY1V0aWxzID0gZnVuY3Rpb24gUXVhZHJhdGljVXRpbHMgKCkge307XG5cblF1YWRyYXRpY1V0aWxzLmN1cnZlTGVuZ3RoID0gZnVuY3Rpb24gY3VydmVMZW5ndGggKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKVxue1xuICAgIHZhciBheCA9IGZyb21YIC0gKDIuMCAqIGNwWCkgKyB0b1g7XG4gICAgdmFyIGF5ID0gZnJvbVkgLSAoMi4wICogY3BZKSArIHRvWTtcbiAgICB2YXIgYnggPSAoMi4wICogY3BYKSAtICgyLjAgKiBmcm9tWCk7XG4gICAgdmFyIGJ5ID0gKDIuMCAqIGNwWSkgLSAoMi4wICogZnJvbVkpO1xuICAgIHZhciBhID0gNC4wICogKChheCAqIGF4KSArIChheSAqIGF5KSk7XG4gICAgdmFyIGIgPSA0LjAgKiAoKGF4ICogYngpICsgKGF5ICogYnkpKTtcbiAgICB2YXIgYyA9IChieCAqIGJ4KSArIChieSAqIGJ5KTtcblxuICAgIHZhciBzID0gMi4wICogTWF0aC5zcXJ0KGEgKyBiICsgYyk7XG4gICAgdmFyIGEyID0gTWF0aC5zcXJ0KGEpO1xuICAgIHZhciBhMzIgPSAyLjAgKiBhICogYTI7XG4gICAgdmFyIGMyID0gMi4wICogTWF0aC5zcXJ0KGMpO1xuICAgIHZhciBiYSA9IGIgLyBhMjtcblxuICAgIHJldHVybiAoXG4gICAgICAgIChhMzIgKiBzKVxuICAgICAgICAgICAgKyAoYTIgKiBiICogKHMgLSBjMikpXG4gICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAoKDQuMCAqIGMgKiBhKSAtIChiICogYikpXG4gICAgICAgICAgICAgICAqIE1hdGgubG9nKCgoMi4wICogYTIpICsgYmEgKyBzKSAvIChiYSArIGMyKSlcbiAgICAgICAgICAgIClcbiAgICApIC8gKDQuMCAqIGEzMik7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gUG9pbnRzIHRvIGFkZCBzZWdtZW50cyB0by5cbiAqL1xuUXVhZHJhdGljVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uIGN1cnZlVG8gKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKVxue1xuICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFxuICAgICAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSlcbiAgICApO1xuXG4gICAgdmFyIHhhID0gMDtcbiAgICB2YXIgeWEgPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbjsgKytpKVxuICAgIHtcbiAgICAgICAgdmFyIGogPSBpIC8gbjtcblxuICAgICAgICB4YSA9IGZyb21YICsgKChjcFggLSBmcm9tWCkgKiBqKTtcbiAgICAgICAgeWEgPSBmcm9tWSArICgoY3BZIC0gZnJvbVkpICogaik7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goeGEgKyAoKChjcFggKyAoKHRvWCAtIGNwWCkgKiBqKSkgLSB4YSkgKiBqKSxcbiAgICAgICAgICAgIHlhICsgKCgoY3BZICsgKCh0b1kgLSBjcFkpICogaikpIC0geWEpICogaikpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQSBzdHJ1Y3R1cmUgdG8gaG9sZCBpbnRlcmltIGJhdGNoIG9iamVjdHMuXG4gKlxuICovXG52YXIgQmF0Y2hQYXJ0ID0gZnVuY3Rpb24gQmF0Y2hQYXJ0KClcbntcbiAgICB0aGlzLnJlc2V0KCk7XG59O1xuXG4vKipcbiAqIEJlZ2luIGJhdGNoIHBhcnRcbiAqXG4gKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlIHwgUElYSS5MaW5lU3R5bGV9IHN0eWxlXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGF0dHJpYlN0YXJ0XG4gKi9cbkJhdGNoUGFydC5wcm90b3R5cGUuYmVnaW4gPSBmdW5jdGlvbiBiZWdpbiAoc3R5bGUsIHN0YXJ0SW5kZXgsIGF0dHJpYlN0YXJ0KVxue1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0SW5kZXg7XG4gICAgdGhpcy5hdHRyaWJTdGFydCA9IGF0dHJpYlN0YXJ0O1xufTtcblxuLyoqXG4gKiBFbmQgYmF0Y2ggcGFydFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRJbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IGVuZEF0dHJpYlxuICovXG5CYXRjaFBhcnQucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIGVuZCAoZW5kSW5kZXgsIGVuZEF0dHJpYilcbntcbiAgICB0aGlzLmF0dHJpYlNpemUgPSBlbmRBdHRyaWIgLSB0aGlzLmF0dHJpYlN0YXJ0O1xuICAgIHRoaXMuc2l6ZSA9IGVuZEluZGV4IC0gdGhpcy5zdGFydDtcbn07XG5cbkJhdGNoUGFydC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxue1xuICAgIHRoaXMuc3R5bGUgPSBudWxsO1xuICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgdGhpcy5zdGFydCA9IDA7XG4gICAgdGhpcy5hdHRyaWJTdGFydCA9IDA7XG4gICAgdGhpcy5hdHRyaWJTaXplID0gMDtcbn07XG5cbi8qKlxuICogR2VuZXJhbGl6ZWQgY29udmVuaWVuY2UgdXRpbGl0aWVzIGZvciBHcmFwaGljcy5cbiAqXG4gKiBAbmFtZXNwYWNlIFBJWEkuZ3JhcGhpY3NVdGlsc1xuICovXG5cbi8qKlxuICogTWFwIG9mIGZpbGwgY29tbWFuZHMgZm9yIGVhY2ggc2hhcGUgdHlwZS5cbiAqXG4gKiBAbWVtYmVyIHtPYmplY3R9XG4gKi9cbnZhciBGSUxMX0NPTU1BTkRTID0ge307XG5GSUxMX0NPTU1BTkRTW1NIQVBFUy5QT0xZXSA9IGJ1aWxkUG9seTtcbkZJTExfQ09NTUFORFNbU0hBUEVTLkNJUkNdID0gYnVpbGRDaXJjbGU7XG5GSUxMX0NPTU1BTkRTW1NIQVBFUy5FTElQXSA9IGJ1aWxkQ2lyY2xlO1xuRklMTF9DT01NQU5EU1tTSEFQRVMuUkVDVF0gPSBidWlsZFJlY3RhbmdsZTtcbkZJTExfQ09NTUFORFNbU0hBUEVTLlJSRUNdID0gYnVpbGRSb3VuZGVkUmVjdGFuZ2xlO1xuXG4vKipcbiAqIEJhdGNoIHBvb2wsIHN0b3JlcyB1bnVzZWQgYmF0Y2hlcyBmb3IgcHJldmVudGluZyBhbGxvY2F0aW9ucy5cbiAqXG4gKiBAdHlwZSB7QXJyYXk8QmF0Y2hQYXJ0Pn1cbiAqL1xudmFyIEJBVENIX1BPT0wgPSBbXTtcblxuLyoqXG4gKiBEcmF3IGNhbGwgcG9vbCwgc3RvcmVzIHVudXNlZCBkcmF3IGNhbGxzIGZvciBwcmV2ZW50aW5nIGFsbG9jYXRpb25zLlxuICpcbiAqIEB0eXBlIHtBcnJheTxQSVhJLkJhdGNoRHJhd0NhbGw+fVxuICovXG52YXIgRFJBV19DQUxMX1BPT0wgPSBbXTtcblxudmFyIGluZGV4ID0gKHtcbiAgICBidWlsZFBvbHk6IGJ1aWxkUG9seSxcbiAgICBidWlsZENpcmNsZTogYnVpbGRDaXJjbGUsXG4gICAgYnVpbGRSZWN0YW5nbGU6IGJ1aWxkUmVjdGFuZ2xlLFxuICAgIGJ1aWxkUm91bmRlZFJlY3RhbmdsZTogYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLFxuICAgIEZJTExfQ09NTUFORFM6IEZJTExfQ09NTUFORFMsXG4gICAgQkFUQ0hfUE9PTDogQkFUQ0hfUE9PTCxcbiAgICBEUkFXX0NBTExfUE9PTDogRFJBV19DQUxMX1BPT0wsXG4gICAgYnVpbGRMaW5lOiBidWlsZExpbmUsXG4gICAgYnVpbGRDb21wbGV4UG9seTogYnVpbGRDb21wbGV4UG9seSxcbiAgICBiZXppZXJDdXJ2ZVRvOiBiZXppZXJDdXJ2ZVRvLFxuICAgIFN0YXI6IFN0YXIsXG4gICAgQXJjVXRpbHM6IEFyY1V0aWxzLFxuICAgIEJlemllclV0aWxzOiBCZXppZXJVdGlscyxcbiAgICBRdWFkcmF0aWNVdGlsczogUXVhZHJhdGljVXRpbHMsXG4gICAgQmF0Y2hQYXJ0OiBCYXRjaFBhcnRcbn0pO1xuXG4vKipcbiAqIEEgY2xhc3MgdG8gY29udGFpbiBkYXRhIHVzZWZ1bCBmb3IgR3JhcGhpY3Mgb2JqZWN0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzRGF0YSA9IGZ1bmN0aW9uIEdyYXBoaWNzRGF0YShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeClcbntcbiAgICBpZiAoIGZpbGxTdHlsZSA9PT0gdm9pZCAwICkgZmlsbFN0eWxlID0gbnVsbDtcbiAgICBpZiAoIGxpbmVTdHlsZSA9PT0gdm9pZCAwICkgbGluZVN0eWxlID0gbnVsbDtcbiAgICBpZiAoIG1hdHJpeCA9PT0gdm9pZCAwICkgbWF0cml4ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3R5bGUgb2YgdGhlIGxpbmUuXG4gICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICovXG4gICAgdGhpcy5saW5lU3R5bGUgPSBsaW5lU3R5bGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3R5bGUgb2YgdGhlIGZpbGwuXG4gICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICovXG4gICAgdGhpcy5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNmb3JtIG1hdHJpeC5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLm1hdHJpeCA9IG1hdHJpeDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBzaGFwZSwgc2VlIHRoZSBDb25zdC5TaGFwZXMgZmlsZSBmb3IgYWxsIHRoZSBleGlzdGluZyB0eXBlcyxcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gc2hhcGUudHlwZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIHBvaW50cy5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50cyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbGxlY3Rpb24gb2YgaG9sZXMuXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGFbXX1cbiAgICAgKi9cbiAgICB0aGlzLmhvbGVzID0gW107XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3NEYXRhIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAqXG4gKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzRGF0YX0gQ2xvbmVkIEdyYXBoaWNzRGF0YSBvYmplY3RcbiAqL1xuR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG57XG4gICAgcmV0dXJuIG5ldyBHcmFwaGljc0RhdGEoXG4gICAgICAgIHRoaXMuc2hhcGUsXG4gICAgICAgIHRoaXMuZmlsbFN0eWxlLFxuICAgICAgICB0aGlzLmxpbmVTdHlsZSxcbiAgICAgICAgdGhpcy5tYXRyaXhcbiAgICApO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgR3JhcGhpY3MgZGF0YS5cbiAqL1xuR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMuc2hhcGUgPSBudWxsO1xuICAgIHRoaXMuaG9sZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmhvbGVzID0gbnVsbDtcbiAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICB0aGlzLmxpbmVTdHlsZSA9IG51bGw7XG4gICAgdGhpcy5maWxsU3R5bGUgPSBudWxsO1xufTtcblxudmFyIHRtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgdG1wQm91bmRzID0gbmV3IEJvdW5kcygpO1xuXG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBHcmFwaGljc0dlb21ldHJ5IGlzIGRlc2lnbmVkIHRvIG5vdCBiZSBjb250aW51YWxseSB1cGRhdGluZyB0aGUgZ2VvbWV0cnkgc2luY2UgaXQncyBleHBlbnNpdmVcbiAqIHRvIHJlLXRlc3NlbGF0ZSB1c2luZyAqKmVhcmN1dCoqLiBDb25zaWRlciB1c2luZyB7QGxpbmsgUElYSS5NZXNofSBmb3IgdGhpcyB1c2UtY2FzZSwgaXQncyBtdWNoIGZhc3Rlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmF0Y2hHZW9tZXRyeVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzR2VvbWV0cnkgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXRjaEdlb21ldHJ5KSB7XG4gICAgZnVuY3Rpb24gR3JhcGhpY3NHZW9tZXRyeSgpXG4gICAge1xuICAgICAgICBCYXRjaEdlb21ldHJ5LmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0byBkcmF3LCAyIG51bWJlcnMgcGVyIHBvaW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBjb2xvcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29sb3JzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBVVnMgY29sbGVjdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dnMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZGljZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIElEcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZUlkcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBkcmF3biBzaGFwZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBncmFwaGljcyBvYmplY3QgaGFzIGNoYW5nZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoZXMgbmVlZCB0byByZWdlbmVyYXRlZCBpZiB0aGUgZ2VvbWV0cnkgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBjaGVjayBpZiB0aGUgY2FjaGUgaXMgZGlydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWNoZURpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIGNsZWFyZWQgdGhlIGdyYXBoaWNzRGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xlYXJEaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgY3VycmVudCBkcmF3IGNhbGxzIGRyaXZlZCBmcm9tIHRoZSBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJtZWRpYXRlIGFic3RyYWN0IGZvcm1hdCBzZW50IHRvIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICogQ2FuIGJlIGNvbnZlcnRlZCB0byBkcmF3Q2FsbHMgb3IgdG8gYmF0Y2hhYmxlIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0JhdGNoUGFydFtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggb2YgdGhlIGxhc3QgYmF0Y2hlZCBzaGFwZSBpbiB0aGUgc3RhY2sgb2YgY2FsbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFwZUluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGVkIGJvdW5kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG5ldyBCb3VuZHMoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJvdW5kcyBkaXJ0eSBmbGFnLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUGFkZGluZyB0byBhZGQgdG8gdGhlIGJvdW5kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJvdW5kc1BhZGRpbmcgPSAwO1xuXG4gICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnV2c0Zsb2F0MzIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pbWFsIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIHRoYXQgYXJlIGNvbnNpZGVyZWQgZGlmZmVyZW50LlxuICAgICAgICAgKiBBZmZlY3RzIGxpbmUgdGVzc2VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xvc2VQb2ludEVwcyA9IDFlLTQ7XG4gICAgfVxuXG4gICAgaWYgKCBCYXRjaEdlb21ldHJ5ICkgR3JhcGhpY3NHZW9tZXRyeS5fX3Byb3RvX18gPSBCYXRjaEdlb21ldHJ5O1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmF0Y2hHZW9tZXRyeSAmJiBCYXRjaEdlb21ldHJ5LnByb3RvdHlwZSApO1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR3JhcGhpY3NHZW9tZXRyeTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGJvdW5kczogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBnZW9tZXRyeS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ib3VuZHMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJvdW5kc0RpcnR5ICE9PSB0aGlzLmRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsIGlmIHlvdSBjaGFuZ2VkIGdyYXBoaWNzRGF0YSBtYW51YWxseS5cbiAgICAgKiBFbXB0aWVzIGFsbCBiYXRjaCBidWZmZXJzLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmludmFsaWRhdGUgPSBmdW5jdGlvbiBpbnZhbGlkYXRlICgpXG4gICAge1xuICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG5cbiAgICAgICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5jb2xvcnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudGV4dHVyZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzW2ldLnRleHR1cmVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBEUkFXX0NBTExfUE9PTC5wdXNoKHRoaXMuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBiYXRjaCA9ICB0aGlzLmJhdGNoZXNbaSQxXTtcblxuICAgICAgICAgICAgYmF0Y2guc3RhcnQgPSAwO1xuICAgICAgICAgICAgYmF0Y2guYXR0cmliU3RhcnQgPSAwO1xuICAgICAgICAgICAgYmF0Y2guc3R5bGUgPSBudWxsO1xuICAgICAgICAgICAgQkFUQ0hfUE9PTC5wdXNoKGJhdGNoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBUaGlzIEdyYXBoaWNzR2VvbWV0cnkgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlfSBmaWxsU3R5bGUgLSBEZWZpbmVzIHN0eWxlIG9mIHRoZSBmaWxsLlxuICAgICAqIEBwYXJhbSB7UElYSS5MaW5lU3R5bGV9IGxpbmVTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGxpbmVzLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBhcHBsaWVkIHRvIHRoZSBwb2ludHMgb2YgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gUmV0dXJucyBnZW9tZXRyeSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gZHJhd1NoYXBlIChzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gbmV3IEdyYXBoaWNzRGF0YShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEucHVzaChkYXRhKTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBhcHBsaWVkIHRvIHRoZSBwb2ludHMgb2YgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gUmV0dXJucyBnZW9tZXRyeSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuZHJhd0hvbGUgPSBmdW5jdGlvbiBkcmF3SG9sZSAoc2hhcGUsIG1hdHJpeClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhID0gbmV3IEdyYXBoaWNzRGF0YShzaGFwZSwgbnVsbCwgbnVsbCwgbWF0cml4KTtcblxuICAgICAgICB2YXIgbGFzdFNoYXBlID0gdGhpcy5ncmFwaGljc0RhdGFbdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgZGF0YS5saW5lU3R5bGUgPSBsYXN0U2hhcGUubGluZVN0eWxlO1xuXG4gICAgICAgIGxhc3RTaGFwZS5ob2xlcy5wdXNoKGRhdGEpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBCYXRjaEdlb21ldHJ5LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gZGVzdHJveSBlYWNoIG9mIHRoZSBHcmFwaGljc0RhdGEgb2JqZWN0c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVtpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIHNlZSBpZiBhIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBnZW9tZXRyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSBQb2ludCB0byBjaGVjayBpZiBpdCdzIGNvbnRhaW5lZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gZ2VvbWV0cnkuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQgKHBvaW50KVxuICAgIHtcbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgaWYgKCFkYXRhLmZpbGxTdHlsZS52aXNpYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmx5IGRlYWwgd2l0aCBmaWxscy4uXG4gICAgICAgICAgICBpZiAoZGF0YS5zaGFwZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5tYXRyaXgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLm1hdHJpeC5hcHBseUludmVyc2UocG9pbnQsIHRtcFBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wUG9pbnQuY29weUZyb20ocG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhpdEhvbGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob2xlcylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgZGF0YS5ob2xlcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBob2xlID0gZGF0YS5ob2xlc1tpJDFdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGUuc2hhcGUuY29udGFpbnModG1wUG9pbnQueCwgdG1wUG9pbnQueSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRIb2xlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoaXRIb2xlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGludGVybWVkaWF0ZSBiYXRjaCBkYXRhLiBFaXRoZXIgZ2V0cyBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzXG4gICAgICogb3IgdXNlZCB0byBjb252ZXJ0IHRvIGJhdGNoIG9iamVjdHMgZGlyZWN0bHkgYnkgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS51cGRhdGVCYXRjaGVzID0gZnVuY3Rpb24gdXBkYXRlQmF0Y2hlcyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlQmF0Y2hpbmcoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWNoZURpcnR5ID0gdGhpcy5kaXJ0eTtcblxuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIHZhciBncmFwaGljc0RhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YTtcblxuICAgICAgICB2YXIgYmF0Y2hQYXJ0ID0gbnVsbDtcblxuICAgICAgICB2YXIgY3VycmVudFN0eWxlID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5iYXRjaGVzLmxlbmd0aCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhdGNoUGFydCA9IHRoaXMuYmF0Y2hlc1t0aGlzLmJhdGNoZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBjdXJyZW50U3R5bGUgPSBiYXRjaFBhcnQuc3R5bGU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5zaGFwZUluZGV4OyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNoYXBlSW5kZXgrKztcblxuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgZmlsbFN0eWxlID0gZGF0YS5maWxsU3R5bGU7XG4gICAgICAgICAgICB2YXIgbGluZVN0eWxlID0gZGF0YS5saW5lU3R5bGU7XG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbZGF0YS50eXBlXTtcblxuICAgICAgICAgICAgLy8gYnVpbGQgb3V0IHRoZSBzaGFwZXMgcG9pbnRzLi5cbiAgICAgICAgICAgIGNvbW1hbmQuYnVpbGQoZGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybVBvaW50cyhkYXRhLnBvaW50cywgZGF0YS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDI7IGorKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSAoaiA9PT0gMCkgPyBmaWxsU3R5bGUgOiBsaW5lU3R5bGU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXN0eWxlLnZpc2libGUpIHsgY29udGludWU7IH1cblxuICAgICAgICAgICAgICAgIHZhciBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4JDEgPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJJbmRleCA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuXG4gICAgICAgICAgICAgICAgLy8gY2xvc2UgYmF0Y2ggaWYgc3R5bGUgaXMgZGlmZmVyZW50XG4gICAgICAgICAgICAgICAgaWYgKGJhdGNoUGFydCAmJiAhdGhpcy5fY29tcGFyZVN0eWxlcyhjdXJyZW50U3R5bGUsIHN0eWxlKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5lbmQoaW5kZXgkMSwgYXR0cmliSW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChiYXRjaFBhcnQuc2l6ZSA+IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc3Bhd24gbmV3IGJhdGNoIGlmIGl0cyBmaXJzdCBiYXRjaCBvciBwcmV2aW91cyB3YXMgY2xvc2VkXG4gICAgICAgICAgICAgICAgaWYgKCFiYXRjaFBhcnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQgPSBCQVRDSF9QT09MLnBvcCgpIHx8IG5ldyBCYXRjaFBhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LmJlZ2luKHN0eWxlLCBpbmRleCQxLCBhdHRyaWJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hlcy5wdXNoKGJhdGNoUGFydCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICAgICAgICAgIGlmIChqID09PSAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzRmlsbChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzTGluZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9ICh0aGlzLnBvaW50cy5sZW5ndGggLyAyKSAtIHN0YXJ0O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRVdnModGhpcy5wb2ludHMsIHV2cywgc3R5bGUudGV4dHVyZSwgc3RhcnQsIHNpemUsIHN0eWxlLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWJhdGNoUGFydClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhlcmUgYXJlIG5vIHZpc2libGUgc3R5bGVzIGluIEdyYXBoaWNzRGF0YVxuICAgICAgICAgICAgLy8gaXRzIHBvc3NpYmxlIHRoYXQgc29tZW9uZSB3YW50cyBHcmFwaGljcyBqdXN0IGZvciB0aGUgYm91bmRzXG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHZhciBhdHRyaWIgPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIGJhdGNoUGFydC5lbmQoaW5kZXgsIGF0dHJpYik7XG5cbiAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2ID0gbmV3IFVpbnQxNkFycmF5KHRoaXMuaW5kaWNlcyk7XG5cbiAgICAgICAgLy8gVE9ETyBtYWtlIHRoaXMgYSBjb25zdC4uXG4gICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdGhpcy5pc0JhdGNoYWJsZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLmJhdGNoYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYWNrQmF0Y2hlcygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFmZmluaXR5IGNoZWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlIHwgUElYSS5MaW5lU3R5bGV9IHN0eWxlQVxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGUgfCBQSVhJLkxpbmVTdHlsZX0gc3R5bGVCXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuX2NvbXBhcmVTdHlsZXMgPSBmdW5jdGlvbiBfY29tcGFyZVN0eWxlcyAoc3R5bGVBLCBzdHlsZUIpXG4gICAge1xuICAgICAgICBpZiAoIXN0eWxlQSB8fCAhc3R5bGVCKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGVBLnRleHR1cmUuYmFzZVRleHR1cmUgIT09IHN0eWxlQi50ZXh0dXJlLmJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGVBLmNvbG9yICsgc3R5bGVBLmFscGhhICE9PSBzdHlsZUIuY29sb3IgKyBzdHlsZUIuYWxwaGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghIXN0eWxlQS5uYXRpdmUgIT09ICEhc3R5bGVCLm5hdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3QgZ2VvbWV0cnkgZm9yIGJhdGNoaW5nIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUudmFsaWRhdGVCYXRjaGluZyA9IGZ1bmN0aW9uIHZhbGlkYXRlQmF0Y2hpbmcgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5ID09PSB0aGlzLmNhY2hlRGlydHkgfHwgIXRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkgPCBsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgZmlsbCA9IGRhdGEuZmlsbFN0eWxlO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBkYXRhLmxpbmVTdHlsZTtcblxuICAgICAgICAgICAgaWYgKGZpbGwgJiYgIWZpbGwudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmIChsaW5lICYmICFsaW5lLnRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogT2Zmc2V0IHRoZSBpbmRpY2VzIHNvIHRoYXQgaXQgd29ya3Mgd2l0aCB0aGUgYmF0Y2hlci5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wYWNrQmF0Y2hlcyA9IGZ1bmN0aW9uIHBhY2tCYXRjaGVzICgpXG4gICAge1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkrKztcbiAgICAgICAgdGhpcy51dnNGbG9hdDMyID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnV2cyk7XG5cbiAgICAgICAgdmFyIGJhdGNoZXMgPSB0aGlzLmJhdGNoZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBiYXRjaGVzLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJhdGNoID0gYmF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiYXRjaC5zaXplOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gYmF0Y2guc3RhcnQgKyBqO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2W2luZGV4XSA9IHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleF0gLSBiYXRjaC5hdHRyaWJTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIGlmIHRoaXMgZ3JhcGhpY3MgZ2VvbWV0cnkgY2FuIGJlIGJhdGNoZWQuXG4gICAgICogQ3VycmVudGx5IGl0IG5lZWRzIHRvIGJlIHNtYWxsIGVub3VnaCBhbmQgbm90IGNvbnRhaW4gYW55IG5hdGl2ZSBsaW5lcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5pc0JhdGNoYWJsZSA9IGZ1bmN0aW9uIGlzQmF0Y2hhYmxlICgpXG4gICAge1xuICAgICAgICB2YXIgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChiYXRjaGVzW2ldLnN0eWxlLm5hdGl2ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKHRoaXMucG9pbnRzLmxlbmd0aCA8IEdyYXBoaWNzR2VvbWV0cnkuQkFUQ0hBQkxFX1NJWkUgKiAyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgaW50ZXJtZWRpYXRlIGJhdGNoZXMgZGF0YSB0byBkcmF3Q2FsbHMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYnVpbGREcmF3Q2FsbHMgPSBmdW5jdGlvbiBidWlsZERyYXdDYWxscyAoKVxuICAgIHtcbiAgICAgICAgdmFyIFRJQ0sgPSArK0Jhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHJhd0NhbGxzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRyYXdDYWxsc1tpXS50ZXh0dXJlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgRFJBV19DQUxMX1BPT0wucHVzaCh0aGlzLmRyYXdDYWxsc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYXdDYWxscy5sZW5ndGggPSAwO1xuXG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgdmFyIHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG5cbiAgICAgICAgdmFyIGN1cnJlbnRHcm91cCA9ICBEUkFXX0NBTExfUE9PTC5wb3AoKTtcblxuICAgICAgICBpZiAoIWN1cnJlbnRHcm91cClcbiAgICAgICAge1xuICAgICAgICAgICAgY3VycmVudEdyb3VwID0gbmV3IEJhdGNoRHJhd0NhbGwoKTtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlcyA9IG5ldyBCYXRjaFRleHR1cmVBcnJheSgpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlcy5jb3VudCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnR5cGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcblxuICAgICAgICB2YXIgdGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdmFyIHRleHR1cmVJZCA9IDA7XG4gICAgICAgIHZhciBuYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRyYXdNb2RlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG5cbiAgICAgICAgdmFyIGluZGV4ID0gMDtcblxuICAgICAgICB0aGlzLmRyYXdDYWxscy5wdXNoKGN1cnJlbnRHcm91cCk7XG5cbiAgICAgICAgLy8gVE9ETyAtIHRoaXMgY2FuIGJlIHNpbXBsaWZpZWRcbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5iYXRjaGVzW2kkMV07XG5cbiAgICAgICAgICAgIC8vIFRPRE8gYWRkIHNvbWUgZnVsbCBvbiBNQVhfVEVYVFVSRSBDT0RFLi5cbiAgICAgICAgICAgIHZhciBNQVhfVEVYVFVSRVMgPSA4O1xuXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBkYXRhLnN0eWxlO1xuXG4gICAgICAgICAgICB2YXIgbmV4dFRleHR1cmUgPSBzdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAobmF0aXZlICE9PSAhIXN0eWxlLm5hdGl2ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYXRpdmUgPSAhIXN0eWxlLm5hdGl2ZTtcbiAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IG5hdGl2ZSA/IERSQVdfTU9ERVMuTElORVMgOiBEUkFXX01PREVTLlRSSUFOR0xFUztcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgIT09IFRJQ0spXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZUNvdW50ID09PSBNQVhfVEVYVFVSRVMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRJQ0srKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRHcm91cC5zaXplID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRHcm91cClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlcyA9IG5ldyBCYXRjaFRleHR1cmVBcnJheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdDYWxscy5wdXNoKGN1cnJlbnRHcm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVzLmNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gZHJhd01vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGFkZCB0aGlzIHRvIHRoZSByZW5kZXIgcGFydC4uXG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLnRvdWNoZWQgPSAxOy8vIHRvdWNoO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2JhdGNoTG9jYXRpb24gPSB0ZXh0dXJlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gMTA0OTc7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVzLmVsZW1lbnRzW2N1cnJlbnRHcm91cC50ZXh0dXJlcy5jb3VudCsrXSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplICs9IGRhdGEuc2l6ZTtcbiAgICAgICAgICAgIGluZGV4ICs9IGRhdGEuc2l6ZTtcblxuICAgICAgICAgICAgdGV4dHVyZUlkID0gbmV4dFRleHR1cmUuX2JhdGNoTG9jYXRpb247XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ29sb3JzKGNvbG9ycywgc3R5bGUuY29sb3IsIHN0eWxlLmFscGhhLCBkYXRhLmF0dHJpYlNpemUpO1xuICAgICAgICAgICAgdGhpcy5hZGRUZXh0dXJlSWRzKHRleHR1cmVJZHMsIHRleHR1cmVJZCwgZGF0YS5hdHRyaWJTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IFRJQ0s7XG5cbiAgICAgICAgLy8gdXBsb2FkLi5cbiAgICAgICAgLy8gbWVyZ2UgZm9yIG5vdyFcbiAgICAgICAgdGhpcy5wYWNrQXR0cmlidXRlcygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQYWNrcyBhdHRyaWJ1dGVzIHRvIHNpbmdsZSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucGFja0F0dHJpYnV0ZXMgPSBmdW5jdGlvbiBwYWNrQXR0cmlidXRlcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHZlcnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgICAgICB2YXIgdGV4dHVyZUlkcyA9IHRoaXMudGV4dHVyZUlkcztcblxuICAgICAgICAvLyB2ZXJ0cyBhcmUgMiBwb3NpdGlvbnMuLiBzbyB3ZSAqIGJ5IDMgYXMgdGhlcmUgYXJlIDYgcHJvcGVydGllcy4uIHRoZW4gNCBjb3MgaXRzIGJ5dGVzXG4gICAgICAgIHZhciBnbFBvaW50cyA9IG5ldyBBcnJheUJ1ZmZlcih2ZXJ0cy5sZW5ndGggKiAzICogNCk7XG4gICAgICAgIHZhciBmMzIgPSBuZXcgRmxvYXQzMkFycmF5KGdsUG9pbnRzKTtcbiAgICAgICAgdmFyIHUzMiA9IG5ldyBVaW50MzJBcnJheShnbFBvaW50cyk7XG5cbiAgICAgICAgdmFyIHAgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoIC8gMjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzW2kgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdmVydHNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICBmMzJbcCsrXSA9IHV2c1tpICogMl07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHV2c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIHUzMltwKytdID0gY29sb3JzW2ldO1xuXG4gICAgICAgICAgICBmMzJbcCsrXSA9IHRleHR1cmVJZHNbaV07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9idWZmZXIudXBkYXRlKGdsUG9pbnRzKTtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIudXBkYXRlKHRoaXMuaW5kaWNlc1VpbnQxNik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgZmlsbCBwYXJ0IG9mIEdyYXBoaWNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzRmlsbCA9IGZ1bmN0aW9uIHByb2Nlc3NGaWxsIChkYXRhKVxuICAgIHtcbiAgICAgICAgaWYgKGRhdGEuaG9sZXMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NIb2xlcyhkYXRhLmhvbGVzKTtcblxuICAgICAgICAgICAgYnVpbGRQb2x5LnRyaWFuZ3VsYXRlKGRhdGEsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBGSUxMX0NPTU1BTkRTW2RhdGEudHlwZV07XG5cbiAgICAgICAgICAgIGNvbW1hbmQudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBsaW5lIHBhcnQgb2YgR3JhcGhpY3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBkYXRhXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnByb2Nlc3NMaW5lID0gZnVuY3Rpb24gcHJvY2Vzc0xpbmUgKGRhdGEpXG4gICAge1xuICAgICAgICBidWlsZExpbmUoZGF0YSwgdGhpcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmhvbGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBidWlsZExpbmUoZGF0YS5ob2xlc1tpXSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaG9sZXMgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGFbXX0gaG9sZXMgLSBIb2xlcyB0byByZW5kZXJcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUucHJvY2Vzc0hvbGVzID0gZnVuY3Rpb24gcHJvY2Vzc0hvbGVzIChob2xlcylcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9sZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBob2xlID0gaG9sZXNbaV07XG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IEZJTExfQ09NTUFORFNbaG9sZS50eXBlXTtcblxuICAgICAgICAgICAgY29tbWFuZC5idWlsZChob2xlKTtcblxuICAgICAgICAgICAgaWYgKGhvbGUubWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGhvbGUucG9pbnRzLCBob2xlLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIG9iamVjdC4gRXhwZW5zaXZlIHRvIHVzZSBwZXJmb3JtYW5jZS13aXNlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICAgICAgdmFyIHNlcXVlbmNlQm91bmRzID0gdG1wQm91bmRzO1xuICAgICAgICB2YXIgY3VyTWF0cml4ID0gTWF0cml4LklERU5USVRZO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuICAgICAgICBzZXF1ZW5jZUJvdW5kcy5jbGVhcigpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBkYXRhLnNoYXBlO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgICAgICB2YXIgbGluZVN0eWxlID0gZGF0YS5saW5lU3R5bGU7XG4gICAgICAgICAgICB2YXIgbmV4dE1hdHJpeCA9IGRhdGEubWF0cml4IHx8IE1hdHJpeC5JREVOVElUWTtcbiAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSAwLjA7XG5cbiAgICAgICAgICAgIGlmIChsaW5lU3R5bGUgJiYgbGluZVN0eWxlLnZpc2libGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGFsaWdubWVudCA9IGxpbmVTdHlsZS5hbGlnbm1lbnQ7XG5cbiAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lU3R5bGUud2lkdGg7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gU0hBUEVTLlBPTFkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBsaW5lV2lkdGggKiAoMC41ICsgTWF0aC5hYnMoMC41IC0gYWxpZ25tZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWR0aCA9IGxpbmVXaWR0aCAqIE1hdGgubWF4KDAsIGFsaWdubWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VyTWF0cml4ICE9PSBuZXh0TWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghc2VxdWVuY2VCb3VuZHMuaXNFbXB0eSgpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLmFkZEJvdW5kc01hdHJpeChzZXF1ZW5jZUJvdW5kcywgY3VyTWF0cml4KTtcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VyTWF0cml4ID0gbmV4dE1hdHJpeDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFNIQVBFUy5SRUNUIHx8IHR5cGUgPT09IFNIQVBFUy5SUkVDKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlQm91bmRzLmFkZEZyYW1lUGFkKHNoYXBlLngsIHNoYXBlLnksIHNoYXBlLnggKyBzaGFwZS53aWR0aCwgc2hhcGUueSArIHNoYXBlLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkNJUkMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuYWRkRnJhbWVQYWQoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUueCwgc2hhcGUueSxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGUucmFkaXVzICsgbGluZVdpZHRoLCBzaGFwZS5yYWRpdXMgKyBsaW5lV2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkVMSVApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VxdWVuY2VCb3VuZHMuYWRkRnJhbWVQYWQoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUueCwgc2hhcGUueSxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGUud2lkdGggKyBsaW5lV2lkdGgsIHNoYXBlLmhlaWdodCArIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gYWRkaW5nIGRpcmVjdGx5IHRvIHRoZSBib3VuZHNcbiAgICAgICAgICAgICAgICBib3VuZHMuYWRkVmVydGljZXNNYXRyaXgoY3VyTWF0cml4LCBzaGFwZS5wb2ludHMsIDAsIHNoYXBlLnBvaW50cy5sZW5ndGgsIGxpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2VxdWVuY2VCb3VuZHMuaXNFbXB0eSgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBib3VuZHMuYWRkQm91bmRzTWF0cml4KHNlcXVlbmNlQm91bmRzLCBjdXJNYXRyaXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYm91bmRzLnBhZCh0aGlzLmJvdW5kc1BhZGRpbmcsIHRoaXMuYm91bmRzUGFkZGluZyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBwb2ludHMgdXNpbmcgbWF0cml4LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gdHJhbnNmb3JtUG9pbnRzIChwb2ludHMsIG1hdHJpeClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAvIDI7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbKGkgKiAyKV07XG4gICAgICAgICAgICB2YXIgeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIHBvaW50c1soaSAqIDIpXSA9IChtYXRyaXguYSAqIHgpICsgKG1hdHJpeC5jICogeSkgKyBtYXRyaXgudHg7XG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKSArIDFdID0gKG1hdHJpeC5iICogeCkgKyAobWF0cml4LmQgKiB5KSArIG1hdHJpeC50eTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgY29sb3JzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9ycyAtIExpc3Qgb2YgY29sb3JzIHRvIGFkZCB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIENvbG9yIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSAtIEFscGhhIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gTnVtYmVyIG9mIGNvbG9ycyB0byBhZGRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRDb2xvcnMgPSBmdW5jdGlvbiBhZGRDb2xvcnMgKGNvbG9ycywgY29sb3IsIGFscGhhLCBzaXplKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyB1c2UgdGhlIHByZW11bHRpcGx5IGJpdHMgSXZhbiBhZGRlZFxuICAgICAgICB2YXIgcmdiID0gKGNvbG9yID4+IDE2KSArIChjb2xvciAmIDB4ZmYwMCkgKyAoKGNvbG9yICYgMHhmZikgPDwgMTYpO1xuXG4gICAgICAgIHZhciByZ2JhID0gIHByZW11bHRpcGx5VGludChyZ2IsIGFscGhhKTtcblxuICAgICAgICB3aGlsZSAoc2l6ZS0tID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgY29sb3JzLnB1c2gocmdiYSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkIHRleHR1cmUgaWQgdGhhdCB0aGUgc2hhZGVyL2ZyYWdtZW50IHdhbnRzIHRvIHVzZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB0ZXh0dXJlSWRzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRUZXh0dXJlSWRzID0gZnVuY3Rpb24gYWRkVGV4dHVyZUlkcyAodGV4dHVyZUlkcywgaWQsIHNpemUpXG4gICAge1xuICAgICAgICB3aGlsZSAoc2l6ZS0tID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIFVWcyBmb3IgYSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB2ZXJ0cyAtIFZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdXZzIC0gVVZzXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBSZWZlcmVuY2UgdG8gVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIEluZGV4IGJ1ZmZlciBzdGFydCBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplL2xlbmd0aCBmb3IgaW5kZXggYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXhdIC0gT3B0aW9uYWwgdHJhbnNmb3JtIGZvciBhbGwgcG9pbnRzLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkZFV2cyA9IGZ1bmN0aW9uIGFkZFV2cyAodmVydHMsIHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUsIG1hdHJpeClcbiAgICB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciB1dnNTdGFydCA9IHV2cy5sZW5ndGg7XG4gICAgICAgIHZhciBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgc2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHggPSB2ZXJ0c1soc3RhcnQgKyBpbmRleCkgKiAyXTtcbiAgICAgICAgICAgIHZhciB5ID0gdmVydHNbKChzdGFydCArIGluZGV4KSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIGlmIChtYXRyaXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIG54ID0gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eDtcblxuICAgICAgICAgICAgICAgIHkgPSAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5O1xuICAgICAgICAgICAgICAgIHggPSBueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5kZXgrKztcblxuICAgICAgICAgICAgdXZzLnB1c2goeCAvIGZyYW1lLndpZHRoLCB5IC8gZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKGZyYW1lLndpZHRoIDwgYmFzZVRleHR1cmUud2lkdGhcbiAgICAgICAgICAgIHx8IGZyYW1lLmhlaWdodCA8IGJhc2VUZXh0dXJlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hZGp1c3RVdnModXZzLCB0ZXh0dXJlLCB1dnNTdGFydCwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW9kaWZ5IHV2cyBhcnJheSBhY2NvcmRpbmcgdG8gcG9zaXRpb24gb2YgdGV4dHVyZSByZWdpb25cbiAgICAgKiBEb2VzIG5vdCB3b3JrIHdpdGggcm90YXRlZCBvciB0cmltbWVkIHRleHR1cmVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB1dnMgYXJyYXlcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSByZWdpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgc3RhcnRpbmcgaW5kZXggZm9yIHV2c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIGhvdyBtYW55IHBvaW50cyB0byBhZGp1c3RcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGp1c3RVdnMgPSBmdW5jdGlvbiBhZGp1c3RVdnMgKHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUpXG4gICAge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgZXBzID0gMWUtNjtcbiAgICAgICAgdmFyIGZpbmlzaCA9IHN0YXJ0ICsgKHNpemUgKiAyKTtcbiAgICAgICAgdmFyIGZyYW1lID0gdGV4dHVyZS5mcmFtZTtcbiAgICAgICAgdmFyIHNjYWxlWCA9IGZyYW1lLndpZHRoIC8gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgIHZhciBzY2FsZVkgPSBmcmFtZS5oZWlnaHQgLyBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIHZhciBvZmZzZXRYID0gZnJhbWUueCAvIGZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgb2Zmc2V0WSA9IGZyYW1lLnkgLyBmcmFtZS5oZWlnaHQ7XG4gICAgICAgIHZhciBtaW5YID0gTWF0aC5mbG9vcih1dnNbc3RhcnRdICsgZXBzKTtcbiAgICAgICAgdmFyIG1pblkgPSBNYXRoLmZsb29yKHV2c1tzdGFydCArIDFdICsgZXBzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQgKyAyOyBpIDwgZmluaXNoOyBpICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBNYXRoLmZsb29yKHV2c1tpXSArIGVwcykpO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIE1hdGguZmxvb3IodXZzW2kgKyAxXSArIGVwcykpO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldFggLT0gbWluWDtcbiAgICAgICAgb2Zmc2V0WSAtPSBtaW5ZO1xuICAgICAgICBmb3IgKHZhciBpJDEgPSBzdGFydDsgaSQxIDwgZmluaXNoOyBpJDEgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgdXZzW2kkMV0gPSAodXZzW2kkMV0gKyBvZmZzZXRYKSAqIHNjYWxlWDtcbiAgICAgICAgICAgIHV2c1tpJDEgKyAxXSA9ICh1dnNbaSQxICsgMV0gKyBvZmZzZXRZKSAqIHNjYWxlWTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEdyYXBoaWNzR2VvbWV0cnk7XG59KEJhdGNoR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcG9pbnRzIHRvIGNvbnNpZGVyIGFuIG9iamVjdCBcImJhdGNoYWJsZVwiLFxuICogYWJsZSB0byBiZSBiYXRjaGVkIGJ5IHRoZSByZW5kZXJlcidzIGJhdGNoIHN5c3RlbS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5HcmFwaGljc0dlb21ldHJ5XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gKiBAZGVmYXVsdCAxMDBcbiAqL1xuR3JhcGhpY3NHZW9tZXRyeS5CQVRDSEFCTEVfU0laRSA9IDEwMDtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBsaW5lIHN0eWxlIGZvciBHcmFwaGljcy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsbFN0eWxlXG4gKi9cbnZhciBMaW5lU3R5bGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChGaWxsU3R5bGUpIHtcbiAgICBmdW5jdGlvbiBMaW5lU3R5bGUgKCkge1xuICAgICAgICBGaWxsU3R5bGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbGxTdHlsZSApIExpbmVTdHlsZS5fX3Byb3RvX18gPSBGaWxsU3R5bGU7XG4gICAgTGluZVN0eWxlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEZpbGxTdHlsZSAmJiBGaWxsU3R5bGUucHJvdG90eXBlICk7XG4gICAgTGluZVN0eWxlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExpbmVTdHlsZTtcblxuICAgIExpbmVTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIG9iaiA9IG5ldyBMaW5lU3R5bGUoKTtcblxuICAgICAgICBvYmouY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICBvYmouYWxwaGEgPSB0aGlzLmFscGhhO1xuICAgICAgICBvYmoudGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICAgICAgb2JqLm1hdHJpeCA9IHRoaXMubWF0cml4O1xuICAgICAgICBvYmoudmlzaWJsZSA9IHRoaXMudmlzaWJsZTtcbiAgICAgICAgb2JqLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgb2JqLmFsaWdubWVudCA9IHRoaXMuYWxpZ25tZW50O1xuICAgICAgICBvYmoubmF0aXZlID0gdGhpcy5uYXRpdmU7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBsaW5lIHN0eWxlIHRvIGRlZmF1bHQuXG4gICAgICovXG4gICAgTGluZVN0eWxlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICBGaWxsU3R5bGUucHJvdG90eXBlLnJlc2V0LmNhbGwodGhpcyk7XG5cbiAgICAgICAgLy8gT3ZlcnJpZGUgZGVmYXVsdCBsaW5lIHN0eWxlIGNvbG9yXG4gICAgICAgIHRoaXMuY29sb3IgPSAweDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAodGhpY2tuZXNzKSBvZiBhbnkgbGluZXMgZHJhd24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgYW55IGxpbmVzIGRyYXduICgwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIsIDAgPSBpbm5lcikuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbGlnbm1lbnQgPSAwLjU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hdGl2ZSA9IGZhbHNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gTGluZVN0eWxlO1xufShGaWxsU3R5bGUpKTtcblxudmFyIHRlbXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xuXG4vLyBhIGRlZmF1bHQgc2hhZGVycyBtYXAgdXNlZCBieSBncmFwaGljcy4uXG52YXIgREVGQVVMVF9TSEFERVJTID0ge307XG5cbi8qKlxuICogVGhlIEdyYXBoaWNzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdXNlZCB0byBkcmF3IHByaW1pdGl2ZSBzaGFwZXMgc3VjaCBhcyBsaW5lcywgY2lyY2xlcyBhbmRcbiAqIHJlY3RhbmdsZXMgdG8gdGhlIGRpc3BsYXksIGFuZCB0byBjb2xvciBhbmQgZmlsbCB0aGVtLlxuICpcbiAqIE5vdGUgdGhhdCBiZWNhdXNlIEdyYXBoaWNzIGNhbiBzaGFyZSBhIEdyYXBoaWNzR2VvbWV0cnkgd2l0aCBvdGhlciBpbnN0YW5jZXMsXG4gKiBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbCBgZGVzdHJveSgpYCB0byBwcm9wZXJseSBkZXJlZmVyZW5jZSB0aGUgdW5kZXJseWluZ1xuICogR3JhcGhpY3NHZW9tZXRyeSBhbmQgYXZvaWQgYSBtZW1vcnkgbGVhay4gQWx0ZXJuYXRpdmVseSwga2VlcCB1c2luZyB0aGUgc2FtZVxuICogR3JhcGhpY3MgaW5zdGFuY2UgYW5kIGNhbGwgYGNsZWFyKClgIGJldHdlZW4gcmVkcmF3cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JhcGhpY3MgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDb250YWluZXIpIHtcbiAgICBmdW5jdGlvbiBHcmFwaGljcyhnZW9tZXRyeSlcbiAgICB7XG4gICAgICAgIGlmICggZ2VvbWV0cnkgPT09IHZvaWQgMCApIGdlb21ldHJ5ID0gbnVsbDtcblxuICAgICAgICBDb250YWluZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluY2x1ZGVzIHZlcnRleCBwb3NpdGlvbnMsIGZhY2UgaW5kaWNlcywgbm9ybWFscywgY29sb3JzLCBVVnMsIGFuZFxuICAgICAgICAgKiBjdXN0b20gYXR0cmlidXRlcyB3aXRoaW4gYnVmZmVycywgcmVkdWNpbmcgdGhlIGNvc3Qgb2YgcGFzc2luZyBhbGxcbiAgICAgICAgICogdGhpcyBkYXRhIHRvIHRoZSBHUFUuIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9yIEdyYXBoaWNzIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gZ2VvbWV0cnkgfHwgbmV3IEdyYXBoaWNzR2VvbWV0cnkoKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LnJlZkNvdW50Kys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycyB0aGF0IHByb2Nlc3NlcyB0aGUgZ2VvbWV0cnkgYW5kIHJ1bnMgb24gdGhlIEdQVS5cbiAgICAgICAgICogQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIEdyYXBoaWNzIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSBXZWJHTCBzdGF0ZSB0aGUgR3JhcGhpY3MgcmVxdWlyZWQgdG8gcmVuZGVyLCBleGNsdWRlcyBzaGFkZXIgYW5kIGdlb21ldHJ5LiBFLmcuLFxuICAgICAgICAgKiBibGVuZCBtb2RlLCBjdWxsaW5nLCBkZXB0aCB0ZXN0aW5nLCBkaXJlY3Rpb24gb2YgcmVuZGVyaW5nIHRyaWFuZ2xlcywgYmFja2ZhY2UsIGV0Yy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGZpbGwgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZSA9IG5ldyBGaWxsU3R5bGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBsaW5lIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9saW5lU3R5bGUgPSBuZXcgTGluZVN0eWxlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgc2hhcGUgdHJhbnNmb3JtIG1hdHJpeC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaG9sZSBtb2RlIGlzIGVuYWJsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgcGF0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvbHlnb259XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGNhY2hlQXNCaXRtYXAgaXMgc2V0IHRvIHRydWUgdGhlIGdyYXBoaWNzIG9iamVjdCB3aWxsIGJlIHJlbmRlcmVkIGFzIGlmIGl0IHdhcyBhIHNwcml0ZS5cbiAgICAgICAgICogVGhpcyBpcyB1c2VmdWwgaWYgeW91ciBncmFwaGljcyBlbGVtZW50IGRvZXMgbm90IGNoYW5nZSBvZnRlbiwgYXMgaXQgd2lsbCBzcGVlZCB1cCB0aGUgcmVuZGVyaW5nXG4gICAgICAgICAqIG9mIHRoZSBvYmplY3QgaW4gZXhjaGFuZ2UgZm9yIHRha2luZyB1cCB0ZXh0dXJlIG1lbW9yeS4gSXQgaXMgYWxzbyB1c2VmdWwgaWYgeW91IG5lZWQgdGhlIGdyYXBoaWNzXG4gICAgICAgICAqIG9iamVjdCB0byBiZSBhbnRpLWFsaWFzZWQsIGJlY2F1c2UgaXQgd2lsbCBiZSByZW5kZXJlZCB1c2luZyBjYW52YXMuIFRoaXMgaXMgbm90IHJlY29tbWVuZGVkIGlmXG4gICAgICAgICAqIHlvdSBhcmUgY29uc3RhbnRseSByZWRyYXdpbmcgdGhlIGdyYXBoaWNzIGVsZW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIGNhY2hlQXNCaXRtYXBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3MjXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbGxlY3Rpb25zIG9mIGJhdGNoZXMhIFRoZXNlIGNhbiBiZSBkcmF3biBieSB0aGUgcmVuZGVyZXIgYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaGVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBkaXJ0eSBmb3IgbGltaXRpbmcgY2FsY3VsYXRpbmcgdGludHMgZm9yIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaFRpbnQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29weSBvZiB0aGUgb2JqZWN0IHZlcnRleCBkYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlcmVyIHBsdWdpbiBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnYmF0Y2gnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsdWdpbk5hbWUgPSAnYmF0Y2gnO1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0XG4gICAgICAgIHRoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcbiAgICB9XG5cbiAgICBpZiAoIENvbnRhaW5lciApIEdyYXBoaWNzLl9fcHJvdG9fXyA9IENvbnRhaW5lcjtcbiAgICBHcmFwaGljcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb250YWluZXIgJiYgQ29udGFpbmVyLnByb3RvdHlwZSApO1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdyYXBoaWNzO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYmxlbmRNb2RlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRpbnQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZmlsbDogeyBjb25maWd1cmFibGU6IHRydWUgfSxsaW5lOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLCBub3QgaXRzIHRyYW5zZm9ybSAocG9zaXRpb24sc2NhbGUsZXRjKVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gQSBjbG9uZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuXG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhpY3ModGhpcy5nZW9tZXRyeSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIEFwcGx5IGEgdmFsdWUgb2ZcbiAgICAgKiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mXG4gICAgICogMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH07XG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBmaWxsIHN0eWxlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmZpbGwuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maWxsU3R5bGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGxpbmUgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubGluZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVTdHlsZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBsaW5lIHN0eWxlIHVzZWQgZm9yIHN1YnNlcXVlbnQgY2FsbHMgdG8gR3JhcGhpY3MgbWV0aG9kcyBzdWNoIGFzIHRoZSBsaW5lVG8oKVxuICAgICAqIG1ldGhvZCBvciB0aGUgZHJhd0NpcmNsZSgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgUElYSS5HcmFwaGljcyNsaW5lU3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0weDBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxpZ25tZW50PTAuNV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW25hdGl2ZT1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGxpbmUgc3R5bGUgdXNlZCBmb3Igc3Vic2VxdWVudCBjYWxscyB0byBHcmFwaGljcyBtZXRob2RzIHN1Y2ggYXMgdGhlIGxpbmVUbygpXG4gICAgICogbWV0aG9kIG9yIHRoZSBkcmF3Q2lyY2xlKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIExpbmUgc3R5bGUgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xvcj0weDBdIC0gY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFsaWdubWVudD0wLjVdIC0gYWxpZ25tZW50IG9mIHRoZSBsaW5lIHRvIGRyYXcsICgwID0gaW5uZXIsIDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlcilcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm5hdGl2ZT1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVN0eWxlID0gZnVuY3Rpb24gbGluZVN0eWxlIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gU3VwcG9ydCBub24tb2JqZWN0IHBhcmFtczogKHdpZHRoLCBjb2xvciwgYWxwaGEsIGFsaWdubWVudCwgbmF0aXZlKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcblxuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogYXJnc1swXSB8fCAwLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBhcmdzWzFdIHx8IDB4MCxcbiAgICAgICAgICAgICAgICBhbHBoYTogYXJnc1syXSAhPT0gdW5kZWZpbmVkID8gYXJnc1syXSA6IDEsXG4gICAgICAgICAgICAgICAgYWxpZ25tZW50OiBhcmdzWzNdICE9PSB1bmRlZmluZWQgPyBhcmdzWzNdIDogMC41LFxuICAgICAgICAgICAgICAgIG5hdGl2ZTogISFhcmdzWzRdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVUZXh0dXJlU3R5bGUob3B0aW9ucyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExpa2UgbGluZSBzdHlsZSBidXQgc3VwcG9ydCB0ZXh0dXJlIGZvciBsaW5lIGZpbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gQ29sbGVjdGlvbiBvZiBvcHRpb25zIGZvciBzZXR0aW5nIGxpbmUgc3R5bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFtvcHRpb25zLnRleHR1cmU9UElYSS5UZXh0dXJlLldISVRFXSAtIFRleHR1cmUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbG9yPTB4MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGUuXG4gICAgICogIERlZmF1bHQgMHhGRkZGRkYgaWYgdGV4dHVyZSBwcmVzZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFtvcHRpb25zLm1hdHJpeD1udWxsXSBUZXh0dXJlIG1hdHJpeCB0byB0cmFuc2Zvcm0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5uYXRpdmU9ZmFsc2VdIC0gSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVUZXh0dXJlU3R5bGUgPSBmdW5jdGlvbiBsaW5lVGV4dHVyZVN0eWxlIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIHBhcmFtczogKHdpZHRoLCB0ZXh0dXJlLFxuICAgICAgICAvLyBjb2xvciwgYWxwaGEsIG1hdHJpeCwgYWxpZ25tZW50LCBuYXRpdmUpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCd2NS4yLjAnLCAnUGxlYXNlIHVzZSBvYmplY3QtYmFzZWQgb3B0aW9ucyBmb3IgR3JhcGhpY3MjbGluZVRleHR1cmVTdHlsZScpO1xuXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSBhcmd1bWVudHNbNF07XG4gICAgICAgICAgICB2YXIgYWxpZ25tZW50ID0gYXJndW1lbnRzWzVdO1xuICAgICAgICAgICAgdmFyIG5hdGl2ZSA9IGFyZ3VtZW50c1s2XTtcblxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGg6IHdpZHRoLCB0ZXh0dXJlOiB0ZXh0dXJlLCBjb2xvcjogY29sb3IsIGFscGhhOiBhbHBoYSwgbWF0cml4OiBtYXRyaXgsIGFsaWdubWVudDogYWxpZ25tZW50LCBuYXRpdmU6IG5hdGl2ZSB9O1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgdW5kZWZpbmVkIGtleXNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb3B0aW9uc1trZXldID09PSB1bmRlZmluZWQgJiYgZGVsZXRlIG9wdGlvbnNba2V5XTsgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBseSBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIHRleHR1cmU6IFRleHR1cmUuV0hJVEUsXG4gICAgICAgICAgICBjb2xvcjogKG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlKSA/IDB4RkZGRkZGIDogMHgwLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBtYXRyaXg6IG51bGwsXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IDAuNSxcbiAgICAgICAgICAgIG5hdGl2ZTogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZpc2libGUgPSBvcHRpb25zLndpZHRoID4gMCAmJiBvcHRpb25zLmFscGhhID4gMDtcblxuICAgICAgICBpZiAoIXZpc2libGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdHlsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4ID0gb3B0aW9ucy5tYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9saW5lU3R5bGUsIHsgdmlzaWJsZTogdmlzaWJsZSB9LCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydCBhIHBvbHlnb24gb2JqZWN0IGludGVybmFsbHlcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnN0YXJ0UG9seSA9IGZ1bmN0aW9uIHN0YXJ0UG9seSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChsZW4gPiAyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBuZXcgUG9seWdvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5wdXNoKHBvaW50c1tsZW4gLSAyXSwgcG9pbnRzW2xlbiAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBuZXcgUG9seWdvbigpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaCB0aGUgcG9seWdvbiBvYmplY3QuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5maW5pc2hQb2x5ID0gZnVuY3Rpb24gZmluaXNoUG9seSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPiAyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuY3VycmVudFBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byB4LCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubW92ZVRvID0gZnVuY3Rpb24gbW92ZVRvICh4LCB5KVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMF0gPSB4O1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50c1sxXSA9IHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgbGluZSB1c2luZyB0aGUgY3VycmVudCBsaW5lIHN0eWxlIGZyb20gdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byAoeCwgeSk7XG4gICAgICogVGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiBpcyB0aGVuIHNldCB0byAoeCwgeSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lVG8gPSBmdW5jdGlvbiBsaW5lVG8gKHgsIHkpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGR1cGxpY2F0ZXMuLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKGZyb21YICE9PSB4IHx8IGZyb21ZICE9PSB5KVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjdXJ2ZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5faW5pdEN1cnZlID0gZnVuY3Rpb24gX2luaXRDdXJ2ZSAoeCwgeSlcbiAgICB7XG4gICAgICAgIGlmICggeCA9PT0gdm9pZCAwICkgeCA9IDA7XG4gICAgICAgIGlmICggeSA9PT0gdm9pZCAwICkgeSA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMgPSBbeCwgeV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUucXVhZHJhdGljQ3VydmVUbyA9IGZ1bmN0aW9uIHF1YWRyYXRpY0N1cnZlVG8gKGNwWCwgY3BZLCB0b1gsIHRvWSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuXG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZVRvKGNwWCwgY3BZLCB0b1gsIHRvWSwgcG9pbnRzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZXppZXJDdXJ2ZVRvID0gZnVuY3Rpb24gYmV6aWVyQ3VydmVUbyAoY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKVxuICAgIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKCk7XG5cbiAgICAgICAgQmV6aWVyVXRpbHMuY3VydmVUbyhjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIHRoaXMuY3VycmVudFBhdGgucG9pbnRzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFyY1RvKCkgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlIGJldHdlZW4gdHdvIHRhbmdlbnRzIG9uIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBcImJvcnJvd2VkXCIgZnJvbSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Z4Y2FudmFzLyAtIHRoYW5rcyBnb29nbGUhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBmaXJzdCB0YW5nZW50IHBvaW50IG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBmaXJzdCB0YW5nZW50IHBvaW50IG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGFyY1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYXJjVG8gPSBmdW5jdGlvbiBhcmNUbyAoeDEsIHkxLCB4MiwgeTIsIHJhZGl1cylcbiAgICB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSh4MSwgeTEpO1xuXG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcblxuICAgICAgICB2YXIgcmVzdWx0ID0gQXJjVXRpbHMuY3VydmVUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpO1xuXG4gICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjeCA9IHJlc3VsdC5jeDtcbiAgICAgICAgICAgIHZhciBjeSA9IHJlc3VsdC5jeTtcbiAgICAgICAgICAgIHZhciByYWRpdXMkMSA9IHJlc3VsdC5yYWRpdXM7XG4gICAgICAgICAgICB2YXIgc3RhcnRBbmdsZSA9IHJlc3VsdC5zdGFydEFuZ2xlO1xuICAgICAgICAgICAgdmFyIGVuZEFuZ2xlID0gcmVzdWx0LmVuZEFuZ2xlO1xuICAgICAgICAgICAgdmFyIGFudGljbG9ja3dpc2UgPSByZXN1bHQuYW50aWNsb2Nrd2lzZTtcblxuICAgICAgICAgICAgdGhpcy5hcmMoY3gsIGN5LCByYWRpdXMkMSwgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICAgICAqICBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRBbmdsZSAtIFRoZSBlbmRpbmcgYW5nbGUsIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbnRpY2xvY2t3aXNlPWZhbHNlXSAtIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBkcmF3aW5nIHNob3VsZCBiZVxuICAgICAqICBjb3VudGVyLWNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlXG4gICAgICogIGluZGljYXRlcyBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyYyA9IGZ1bmN0aW9uIGFyYyAoY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKVxuICAgIHtcbiAgICAgICAgaWYgKCBhbnRpY2xvY2t3aXNlID09PSB2b2lkIDAgKSBhbnRpY2xvY2t3aXNlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHN0YXJ0QW5nbGUgPT09IGVuZEFuZ2xlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYW50aWNsb2Nrd2lzZSAmJiBlbmRBbmdsZSA8PSBzdGFydEFuZ2xlKVxuICAgICAgICB7XG4gICAgICAgICAgICBlbmRBbmdsZSArPSBQSV8yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFudGljbG9ja3dpc2UgJiYgc3RhcnRBbmdsZSA8PSBlbmRBbmdsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3RhcnRBbmdsZSArPSBQSV8yO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuXG4gICAgICAgIGlmIChzd2VlcCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhcnRYID0gY3ggKyAoTWF0aC5jb3Moc3RhcnRBbmdsZSkgKiByYWRpdXMpO1xuICAgICAgICB2YXIgc3RhcnRZID0gY3kgKyAoTWF0aC5zaW4oc3RhcnRBbmdsZSkgKiByYWRpdXMpO1xuICAgICAgICB2YXIgZXBzID0gdGhpcy5nZW9tZXRyeS5jbG9zZVBvaW50RXBzO1xuXG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50UGF0aCBleGlzdHMsIHRha2UgaXRzIHBvaW50cy4gT3RoZXJ3aXNlIGNhbGwgYG1vdmVUb2AgdG8gc3RhcnQgYSBwYXRoLlxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aCA/IHRoaXMuY3VycmVudFBhdGgucG9pbnRzIDogbnVsbDtcblxuICAgICAgICBpZiAocG9pbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPOiBtYWtlIGEgYmV0dGVyIGZpeC5cblxuICAgICAgICAgICAgLy8gV2UgY2hlY2sgaG93IGZhciBvdXIgc3RhcnQgaXMgZnJvbSB0aGUgbGFzdCBleGlzdGluZyBwb2ludFxuICAgICAgICAgICAgdmFyIHhEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAtIHN0YXJ0WCk7XG4gICAgICAgICAgICB2YXIgeURpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdIC0gc3RhcnRZKTtcblxuICAgICAgICAgICAgaWYgKHhEaWZmIDwgZXBzICYmIHlEaWZmIDwgZXBzKVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgQXJjVXRpbHMuYXJjKHN0YXJ0WCwgc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UsIHBvaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyBhIHNpbXBsZSBvbmUtY29sb3IgZmlsbCB0aGF0IHN1YnNlcXVlbnQgY2FsbHMgdG8gb3RoZXIgR3JhcGhpY3MgbWV0aG9kc1xuICAgICAqIChzdWNoIGFzIGxpbmVUbygpIG9yIGRyYXdDaXJjbGUoKSkgdXNlIHdoZW4gZHJhd2luZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSB0aGUgY29sb3Igb2YgdGhlIGZpbGxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gdGhlIGFscGhhIG9mIHRoZSBmaWxsXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpbkZpbGwgPSBmdW5jdGlvbiBiZWdpbkZpbGwgKGNvbG9yLCBhbHBoYSlcbiAgICB7XG4gICAgICAgIGlmICggY29sb3IgPT09IHZvaWQgMCApIGNvbG9yID0gMDtcbiAgICAgICAgaWYgKCBhbHBoYSA9PT0gdm9pZCAwICkgYWxwaGEgPSAxO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmJlZ2luVGV4dHVyZUZpbGwoeyB0ZXh0dXJlOiBUZXh0dXJlLldISVRFLCBjb2xvcjogY29sb3IsIGFscGhhOiBhbHBoYSB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmVnaW4gdGhlIHRleHR1cmUgZmlsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9iamVjdCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFtvcHRpb25zLnRleHR1cmU9UElYSS5UZXh0dXJlLldISVRFXSAtIFRleHR1cmUgdG8gZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xvcj0weGZmZmZmZl0gLSBCYWNrZ3JvdW5kIHRvIGZpbGwgYmVoaW5kIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYWxwaGE9MV0gLSBBbHBoYSBvZiBmaWxsXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW29wdGlvbnMubWF0cml4PW51bGxdIC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmVnaW5UZXh0dXJlRmlsbCA9IGZ1bmN0aW9uIGJlZ2luVGV4dHVyZUZpbGwgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggcGFyYW1zOiAodGV4dHVyZSwgY29sb3IsIGFscGhhLCBtYXRyaXgpXG4gICAgICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJ3Y1LjIuMCcsICdQbGVhc2UgdXNlIG9iamVjdC1iYXNlZCBvcHRpb25zIGZvciBHcmFwaGljcyNiZWdpblRleHR1cmVGaWxsJyk7XG5cbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIGFscGhhID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IGFyZ3VtZW50c1szXTtcblxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgdGV4dHVyZTogdGV4dHVyZSwgY29sb3I6IGNvbG9yLCBhbHBoYTogYWxwaGEsIG1hdHJpeDogbWF0cml4IH07XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB1bmRlZmluZWQga2V5c1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvcHRpb25zW2tleV0gPT09IHVuZGVmaW5lZCAmJiBkZWxldGUgb3B0aW9uc1trZXldOyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGx5IGRlZmF1bHRzXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHRleHR1cmU6IFRleHR1cmUuV0hJVEUsXG4gICAgICAgICAgICBjb2xvcjogMHhGRkZGRkYsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIG1hdHJpeDogbnVsbCxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdmlzaWJsZSA9IG9wdGlvbnMuYWxwaGEgPiAwO1xuXG4gICAgICAgIGlmICghdmlzaWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXRyaXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXRyaXggPSBvcHRpb25zLm1hdHJpeC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWF0cml4LmludmVydCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2ZpbGxTdHlsZSwgeyB2aXNpYmxlOiB2aXNpYmxlIH0sIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBmaWxsIHRvIHRoZSBsaW5lcyBhbmQgc2hhcGVzIHRoYXQgd2VyZSBhZGRlZCBzaW5jZSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBiZWdpbkZpbGwoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEZpbGwgPSBmdW5jdGlvbiBlbmRGaWxsICgpXG4gICAge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcblxuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSByZWN0YW5nbGUgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JlY3QgPSBmdW5jdGlvbiBkcmF3UmVjdCAoeCwgeSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyBhIHJlY3RhbmdsZSBzaGFwZSB3aXRoIHJvdW5kZWQvYmV2ZWxlZCBjb3JuZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gUmFkaXVzIG9mIHRoZSByZWN0YW5nbGUgY29ybmVyc1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JvdW5kZWRSZWN0ID0gZnVuY3Rpb24gZHJhd1JvdW5kZWRSZWN0ICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IFJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gZHJhd0NpcmNsZSAoeCwgeSwgcmFkaXVzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBDaXJjbGUoeCwgeSwgcmFkaXVzKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGFuIGVsbGlwc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3RWxsaXBzZSA9IGZ1bmN0aW9uIGRyYXdFbGxpcHNlICh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBFbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBwb2x5Z29uIHVzaW5nIHRoZSBnaXZlbiBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXXxQSVhJLlBvaW50W118UElYSS5Qb2x5Z29ufSBwYXRoIC0gVGhlIHBhdGggZGF0YSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgcG9seWdvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdQb2x5Z29uID0gZnVuY3Rpb24gZHJhd1BvbHlnb24gKHBhdGgpXG4gICAge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgLy8gcHJldmVudHMgYW4gYXJndW1lbnQgYXNzaWdubWVudCBkZW9wdFxuICAgICAgICAvLyBzZWUgc2VjdGlvbiAzLjE6IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICB2YXIgcG9pbnRzID0gcGF0aDtcblxuICAgICAgICB2YXIgY2xvc2VTdHJva2UgPSB0cnVlOy8vICEhdGhpcy5fZmlsbFN0eWxlO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIGRhdGEgaGFzIHBvaW50cy4uXG4gICAgICAgIGlmIChwb2ludHMucG9pbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjbG9zZVN0cm9rZSA9IHBvaW50cy5jbG9zZVN0cm9rZTtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5wb2ludHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gcHJldmVudHMgYW4gYXJndW1lbnQgbGVhayBkZW9wdFxuICAgICAgICAgICAgLy8gc2VlIHNlY3Rpb24gMy4yOiBodHRwczovL2dpdGh1Yi5jb20vcGV0a2FhbnRvbm92L2JsdWViaXJkL3dpa2kvT3B0aW1pemF0aW9uLWtpbGxlcnMjMy1tYW5hZ2luZy1hcmd1bWVudHNcbiAgICAgICAgICAgIHBvaW50cyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9pbnRzW2ldID0gYXJndW1lbnRzJDFbaV07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgUG9seWdvbihwb2ludHMpO1xuXG4gICAgICAgIHNoYXBlLmNsb3NlU3Ryb2tlID0gY2xvc2VTdHJva2U7XG5cbiAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3IGFueSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gU2hhcGUgdG8gZHJhd1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gZHJhd1NoYXBlIChzaGFwZSlcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faG9sZU1vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZHJhd1NoYXBlKFxuICAgICAgICAgICAgICAgIHNoYXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5jbG9uZSgpLFxuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVTdHlsZS5jbG9uZSgpLFxuICAgICAgICAgICAgICAgIHRoaXMuX21hdHJpeFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZHJhd0hvbGUoc2hhcGUsIHRoaXMuX21hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyBhIHN0YXIgc2hhcGUgd2l0aCBhbiBhcmJpdHJhcnkgbnVtYmVyIG9mIHBvaW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIENlbnRlciBZIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50cyAtIFRoZSBudW1iZXIgb2YgcG9pbnRzIG9mIHRoZSBzdGFyLCBtdXN0IGJlID4gMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIGJldHdlZW4gcG9pbnRzLCBkZWZhdWx0IGhhbGYgYHJhZGl1c2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBzdGFyIGluIHJhZGlhbnMsIHdoZXJlIDAgaXMgdmVydGljYWxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTdGFyID0gZnVuY3Rpb24gZHJhd1N0YXIgKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cywgcm90YXRpb24pXG4gICAge1xuICAgICAgICBpZiAoIHJvdGF0aW9uID09PSB2b2lkIDAgKSByb3RhdGlvbiA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1BvbHlnb24obmV3IFN0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbikpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG4gICAge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5yZXNldCgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcblxuICAgICAgICB0aGlzLl9tYXRyaXggPSBudWxsO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBncmFwaGljcyBjb25zaXN0cyBvZiBvbmUgcmVjdGFuZ2xlLCBhbmQgdGh1cywgY2FuIGJlIGRyYXduIGxpa2UgYSBTcHJpdGUgYW5kXG4gICAgICogbWFza2VkIHdpdGggZ2wuc2Npc3Nvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9ubHkgMSByZWN0LlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5pc0Zhc3RSZWN0ID0gZnVuY3Rpb24gaXNGYXN0UmVjdCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9PT0gMVxuICAgICAgICAmJiB0aGlzLmdlb21ldHJ5LmdyYXBoaWNzRGF0YVswXS5zaGFwZS50eXBlID09PSBTSEFQRVMuUkVDVFxuICAgICAgICAmJiAhdGhpcy5nZW9tZXRyeS5ncmFwaGljc0RhdGFbMF0ubGluZVdpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcblxuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXG4gICAgICAgIC8vIGJhdGNoIHBhcnQuLlxuICAgICAgICAvLyBiYXRjaCBpdCFcbiAgICAgICAgZ2VvbWV0cnkudXBkYXRlQmF0Y2hlcygpO1xuXG4gICAgICAgIGlmIChnZW9tZXRyeS5iYXRjaGFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJhdGNoRGlydHkgIT09IGdlb21ldHJ5LmJhdGNoRGlydHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9wdWxhdGVCYXRjaGVzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckJhdGNoZWQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbm8gYmF0Y2hpbmcuLi5cbiAgICAgICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRpcmVjdChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9wdWxhdGluZyBiYXRjaGVzIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3BvcHVsYXRlQmF0Y2hlcyA9IGZ1bmN0aW9uIF9wb3B1bGF0ZUJhdGNoZXMgKClcbiAgICB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciBibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcblxuICAgICAgICB0aGlzLmJhdGNoZXMgPSBbXTtcbiAgICAgICAgdGhpcy5iYXRjaFRpbnQgPSAtMTtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5ID0gZ2VvbWV0cnkuYmF0Y2hEaXJ0eTtcblxuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnBvaW50cyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBnZW9tZXRyeS5iYXRjaGVzLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGdJID0gZ2VvbWV0cnkuYmF0Y2hlc1tpXTtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IGdJLnN0eWxlLmNvbG9yO1xuICAgICAgICAgICAgdmFyIHZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudmVydGV4RGF0YS5idWZmZXIsXG4gICAgICAgICAgICAgICAgZ0kuYXR0cmliU3RhcnQgKiA0ICogMixcbiAgICAgICAgICAgICAgICBnSS5hdHRyaWJTaXplICogMik7XG5cbiAgICAgICAgICAgIHZhciB1dnMgPSBuZXcgRmxvYXQzMkFycmF5KGdlb21ldHJ5LnV2c0Zsb2F0MzIuYnVmZmVyLFxuICAgICAgICAgICAgICAgIGdJLmF0dHJpYlN0YXJ0ICogNCAqIDIsXG4gICAgICAgICAgICAgICAgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuXG4gICAgICAgICAgICB2YXIgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShnZW9tZXRyeS5pbmRpY2VzVWludDE2LmJ1ZmZlcixcbiAgICAgICAgICAgICAgICBnSS5zdGFydCAqIDIsXG4gICAgICAgICAgICAgICAgZ0kuc2l6ZSk7XG5cbiAgICAgICAgICAgIHZhciBiYXRjaCA9IHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhOiB2ZXJ0ZXhEYXRhLFxuICAgICAgICAgICAgICAgIGJsZW5kTW9kZTogYmxlbmRNb2RlLFxuICAgICAgICAgICAgICAgIGluZGljZXM6IGluZGljZXMsXG4gICAgICAgICAgICAgICAgdXZzOiB1dnMsXG4gICAgICAgICAgICAgICAgX2JhdGNoUkdCOiBoZXgycmdiKGNvbG9yKSxcbiAgICAgICAgICAgICAgICBfdGludFJHQjogY29sb3IsXG4gICAgICAgICAgICAgICAgX3RleHR1cmU6IGdJLnN0eWxlLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgYWxwaGE6IGdJLnN0eWxlLmFscGhhLFxuICAgICAgICAgICAgICAgIHdvcmxkQWxwaGE6IDEgfTtcblxuICAgICAgICAgICAgdGhpcy5iYXRjaGVzW2ldID0gYmF0Y2g7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgYmF0Y2hlcyB1c2luZyB0aGUgQmF0aGVkUmVuZGVyZXIgcGx1Z2luXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyQmF0Y2hlZCA9IGZ1bmN0aW9uIF9yZW5kZXJCYXRjaGVkIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5iYXRjaGVzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVGludHMoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkgPCBsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBiYXRjaCA9IHRoaXMuYmF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgYmF0Y2gud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYSAqIGJhdGNoLmFscGhhO1xuXG4gICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKGJhdGNoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBncmFwaGljcyBkaXJlY3RcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJEaXJlY3QgPSBmdW5jdGlvbiBfcmVuZGVyRGlyZWN0IChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLl9yZXNvbHZlRGlyZWN0U2hhZGVyKHJlbmRlcmVyKTtcblxuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICB2YXIgdGludCA9IHRoaXMudGludDtcbiAgICAgICAgdmFyIHdvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHNoYWRlci51bmlmb3JtcztcbiAgICAgICAgdmFyIGRyYXdDYWxscyA9IGdlb21ldHJ5LmRyYXdDYWxscztcblxuICAgICAgICAvLyBsZXRzIHNldCB0aGUgdHJhbnNmb21yXG4gICAgICAgIHVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgLy8gYW5kIHRoZW4gbGV0cyBzZXQgdGhlIHRpbnQuLlxuICAgICAgICB1bmlmb3Jtcy50aW50WzBdID0gKCgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NSkgKiB3b3JsZEFscGhhO1xuICAgICAgICB1bmlmb3Jtcy50aW50WzFdID0gKCgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1KSAqIHdvcmxkQWxwaGE7XG4gICAgICAgIHVuaWZvcm1zLnRpbnRbMl0gPSAoKHRpbnQgJiAweEZGKSAvIDI1NSkgKiB3b3JsZEFscGhhO1xuICAgICAgICB1bmlmb3Jtcy50aW50WzNdID0gd29ybGRBbHBoYTtcblxuICAgICAgICAvLyB0aGUgZmlyc3QgZHJhdyBjYWxsLCB3ZSBjYW4gc2V0IHRoZSB1bmlmb3JtcyBvZiB0aGUgc2hhZGVyIGRpcmVjdGx5IGhlcmUuXG5cbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHdlIGNhbiB0YWNrIGFkdmFudGFnZSBvZiB0aGUgc3luYyBmdW5jdGlvbiBvZiBwaXhpIVxuICAgICAgICAvLyBiaW5kIGFuZCBzeW5jIHVuaWZvcm1zLi5cbiAgICAgICAgLy8gdGhlcmUgaXMgYSB3YXkgdG8gb3B0aW1pc2UgdGhpcy4uXG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQoZ2VvbWV0cnksIHNoYWRlcik7XG5cbiAgICAgICAgLy8gc2V0IHN0YXRlLi5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuXG4gICAgICAgIC8vIHRoZW4gcmVuZGVyIHRoZSByZXN0IG9mIHRoZW0uLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBkcmF3Q2FsbHMubGVuZ3RoOyBpIDwgbDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEcmF3Q2FsbERpcmVjdChyZW5kZXJlciwgZ2VvbWV0cnkuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHNwZWNpZmljIERyYXdDYWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhdGNoRHJhd0NhbGx9IGRyYXdDYWxsXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJEcmF3Q2FsbERpcmVjdCA9IGZ1bmN0aW9uIF9yZW5kZXJEcmF3Q2FsbERpcmVjdCAocmVuZGVyZXIsIGRyYXdDYWxsKVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gZHJhd0NhbGwudGV4dHVyZXM7XG4gICAgICAgIHZhciB0eXBlID0gZHJhd0NhbGwudHlwZTtcbiAgICAgICAgdmFyIHNpemUgPSBkcmF3Q2FsbC5zaXplO1xuICAgICAgICB2YXIgc3RhcnQgPSBkcmF3Q2FsbC5zdGFydDtcbiAgICAgICAgdmFyIGdyb3VwVGV4dHVyZUNvdW50ID0gdGV4dHVyZXMuY291bnQ7XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBncm91cFRleHR1cmVDb3VudDsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodGV4dHVyZXMuZWxlbWVudHNbal0sIGopO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0eXBlLCBzaXplLCBzdGFydCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHNoYWRlciBmb3IgZGlyZWN0IHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3Jlc29sdmVEaXJlY3RTaGFkZXIgPSBmdW5jdGlvbiBfcmVzb2x2ZURpcmVjdFNoYWRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG5cbiAgICAgICAgdmFyIHBsdWdpbk5hbWUgPSB0aGlzLnBsdWdpbk5hbWU7XG5cbiAgICAgICAgaWYgKCFzaGFkZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHNoYWRlciBoZXJlLCB3ZSBjYW4gdXNlIHRoZSBkZWZhdWx0IHNoYWRlci5cbiAgICAgICAgICAgIC8vIGFuZCB0aGF0IG9ubHkgZ2V0cyBjcmVhdGVkIGlmIHdlIGFjdHVhbGx5IG5lZWQgaXQuLlxuICAgICAgICAgICAgLy8gYnV0IG1heSBiZSBtb3JlIHRoYW4gb25lIHBsdWdpbnMgZm9yIGdyYXBoaWNzXG4gICAgICAgICAgICBpZiAoIURFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEludDMyQXJyYXkoMTYpO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gaTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKSxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHByb2dyYW0gPSByZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdLl9zaGFkZXIucHJvZ3JhbTtcblxuICAgICAgICAgICAgICAgIERFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXSA9IG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzaGFkZXIgPSBERUZBVUxUX1NIQURFUlNbcGx1Z2luTmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2hhZGVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBzaGFwZSBhcyBhIHJlY3RhbmdsZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuXG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG5cbiAgICAgICAgLy8gc2tpcHBpbmcgd2hlbiBncmFwaGljcyBpcyBlbXB0eSwgbGlrZSBhIGNvbnRhaW5lclxuICAgICAgICBpZiAoIWdlb21ldHJ5LmdyYXBoaWNzRGF0YS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWYgPSBnZW9tZXRyeS5ib3VuZHM7XG4gICAgICAgIHZhciBtaW5YID0gcmVmLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gcmVmLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gcmVmLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gcmVmLm1heFk7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQgKHBvaW50KVxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIEdyYXBoaWNzLl9URU1QX1BPSU5UKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5jb250YWluc1BvaW50KEdyYXBoaWNzLl9URU1QX1BPSU5UKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWF0ZSB0aGUgdGludCBieSBhcHBseWluZyB0aW4gdG8gYmF0Y2hlcyB1c2luZyBHcmFwaGljcyB0aW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2FsY3VsYXRlVGludHMgPSBmdW5jdGlvbiBjYWxjdWxhdGVUaW50cyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hUaW50ICE9PSB0aGlzLnRpbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gdGhpcy50aW50O1xuXG4gICAgICAgICAgICB2YXIgdGludFJHQiA9IGhleDJyZ2IodGhpcy50aW50LCB0ZW1wKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGJhdGNoID0gdGhpcy5iYXRjaGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgdmFyIGJhdGNoVGludCA9IGJhdGNoLl9iYXRjaFJHQjtcblxuICAgICAgICAgICAgICAgIHZhciByID0gKHRpbnRSR0JbMF0gKiBiYXRjaFRpbnRbMF0pICogMjU1O1xuICAgICAgICAgICAgICAgIHZhciBnID0gKHRpbnRSR0JbMV0gKiBiYXRjaFRpbnRbMV0pICogMjU1O1xuICAgICAgICAgICAgICAgIHZhciBiID0gKHRpbnRSR0JbMl0gKiBiYXRjaFRpbnRbMl0pICogMjU1O1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBJdmFuLCBjYW4gdGhpcyBiZSBkb25lIGluIG9uZSBnbz9cbiAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSAociA8PCAxNikgKyAoZyA8PCA4KSArIChiIHwgMCk7XG5cbiAgICAgICAgICAgICAgICBiYXRjaC5fdGludFJHQiA9IChjb2xvciA+PiAxNilcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGNvbG9yICYgMHhmZjAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoKGNvbG9yICYgMHhmZikgPDwgMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElmIHRoZXJlJ3MgYSB0cmFuc2Zvcm0gdXBkYXRlIG9yIGEgY2hhbmdlIHRvIHRoZSBzaGFwZSBvZiB0aGVcbiAgICAgKiBnZW9tZXRyeSwgcmVjYWN1bGF0ZSB0aGUgdmVydGljZXMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcblxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2VvbWV0cnkucG9pbnRzOy8vIGJhdGNoLnZlcnRleERhdGFPcmlnaW5hbDtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG5cbiAgICAgICAgdmFyIGNvdW50ID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHZhciB5ID0gZGF0YVtpICsgMV07XG5cbiAgICAgICAgICAgIHZlcnRleERhdGFbY291bnQrK10gPSAoYSAqIHgpICsgKGMgKiB5KSArIHR4O1xuICAgICAgICAgICAgdmVydGV4RGF0YVtjb3VudCsrXSA9IChkICogeSkgKyAoYiAqIHgpICsgdHk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvc2VQYXRoID0gZnVuY3Rpb24gY2xvc2VQYXRoICgpXG4gICAge1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSB0aGlzLmN1cnJlbnRQYXRoO1xuXG4gICAgICAgIGlmIChjdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBhZGQgZXh0cmEgcG9pbnQgaW4gdGhlIGVuZCBiZWNhdXNlIGJ1aWxkTGluZSB3aWxsIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgICAgICBjdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbHkgYSBtYXRyaXggdG8gdGhlIHBvc2l0aW9uYWwgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIE1hdHJpeCB0byB1c2UgZm9yIHRyYW5zZm9ybSBjdXJyZW50IHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5zZXRNYXRyaXggPSBmdW5jdGlvbiBzZXRNYXRyaXggKG1hdHJpeClcbiAgICB7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmVnaW4gYWRkaW5nIGhvbGVzIHRvIHRoZSBsYXN0IGRyYXcgc2hhcGVcbiAgICAgKiBJTVBPUlRBTlQ6IGhvbGVzIG11c3QgYmUgZnVsbHkgaW5zaWRlIGEgc2hhcGUgdG8gd29ya1xuICAgICAqIEFsc28gd2VpcmRuZXNzIGVuc3VlcyBpZiBob2xlcyBvdmVybGFwIVxuICAgICAqIEVsbGlwc2VzLCBDaXJjbGVzLCBSZWN0YW5nbGVzIGFuZCBSb3VuZGVkIFJlY3RhbmdsZXMgY2Fubm90IGJlIGhvbGVzIG9yIGhvc3QgZm9yIGhvbGVzIGluIENhbnZhc1JlbmRlcmVyLFxuICAgICAqIHBsZWFzZSB1c2UgYG1vdmVUb2AgYGxpbmVUb2AsIGBxdWFkcmF0aWNDdXJ2ZVRvYCBpZiB5b3UgcmVseSBvbiBwaXhpLWxlZ2FjeSBidW5kbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luSG9sZSA9IGZ1bmN0aW9uIGJlZ2luSG9sZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5kIGFkZGluZyBob2xlcyB0byB0aGUgbGFzdCBkcmF3IHNoYXBlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEhvbGUgPSBmdW5jdGlvbiBlbmRIb2xlICgpXG4gICAge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS5yZWZDb3VudC0tO1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeS5yZWZDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYXRyaXggPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG5cbiAgICAgICAgQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBHcmFwaGljcy5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEdyYXBoaWNzO1xufShDb250YWluZXIpKTtcblxuLyoqXG4gKiBUZW1wb3JhcnkgcG9pbnQgdG8gdXNlIGZvciBjb250YWluc1BvaW50XG4gKlxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gKi9cbkdyYXBoaWNzLl9URU1QX1BPSU5UID0gbmV3IFBvaW50KCk7XG5cbmV4cG9ydCB7IEZpbGxTdHlsZSwgR1JBUEhJQ1NfQ1VSVkVTLCBHcmFwaGljcywgR3JhcGhpY3NEYXRhLCBHcmFwaGljc0dlb21ldHJ5LCBMaW5lU3R5bGUsIGluZGV4IGFzIGdyYXBoaWNzVXRpbHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYXBoaWNzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGUgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUG9pbnQsIFJlY3RhbmdsZSwgT2JzZXJ2YWJsZVBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzaWduIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxudmFyIHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xudmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKTtcblxuLyoqXG4gKiBUaGUgU3ByaXRlIG9iamVjdCBpcyB0aGUgYmFzZSBmb3IgYWxsIHRleHR1cmVkIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgdG8gdGhlIHNjcmVlblxuKlxuICogQSBzcHJpdGUgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhbiBpbWFnZSBsaWtlIHRoaXM6XG4gKlxuICogYGBganNcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgbW9yZSBlZmZpY2llbnQgd2F5IHRvIGNyZWF0ZSBzcHJpdGVzIGlzIHVzaW5nIGEge0BsaW5rIFBJWEkuU3ByaXRlc2hlZXR9LFxuICogYXMgc3dhcHBpbmcgYmFzZSB0ZXh0dXJlcyB3aGVuIHJlbmRlcmluZyB0byB0aGUgc2NyZWVuIGlzIGluZWZmaWNpZW50LlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgbGV0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShzaGVldC50ZXh0dXJlc1tcImltYWdlLnBuZ1wiXSk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKENvbnRhaW5lcikge1xuICAgIGZ1bmN0aW9uIFNwcml0ZSh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgQ29udGFpbmVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3IgcG9pbnQgZGVmaW5lcyB0aGUgbm9ybWFsaXplZCBjb29yZGluYXRlc1xuICAgICAgICAgKiBpbiB0aGUgdGV4dHVyZSB0aGF0IG1hcCB0byB0aGUgcG9zaXRpb24gb2YgdGhpc1xuICAgICAgICAgKiBzcHJpdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJ5IGRlZmF1bHQsIHRoaXMgaXMgYCgwLDApYCAob3IgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmBcbiAgICAgICAgICogaWYgeW91IGhhdmUgbW9kaWZpZWQgdGhhdCksIHdoaWNoIG1lYW5zIHRoZSBwb3NpdGlvblxuICAgICAgICAgKiBgKHgseSlgIG9mIHRoaXMgYFNwcml0ZWAgd2lsbCBiZSB0aGUgdG9wLWxlZnQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlOiBVcGRhdGluZyBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYCBhZnRlclxuICAgICAgICAgKiBjb25zdHJ1Y3RpbmcgYSBgU3ByaXRlYCBkb2VzIF9ub3RfIHVwZGF0ZSBpdHMgYW5jaG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kb2NzLmNvY29zMmQteC5vcmcvY29jb3MyZC14L2VuL3Nwcml0ZXMvbWFuaXB1bGF0aW9uLmh0bWx9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZWZhdWx0IGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludChcbiAgICAgICAgICAgIHRoaXMuX29uQW5jaG9yVXBkYXRlLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnggOiAwKSxcbiAgICAgICAgICAgICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnkgOiAwKVxuICAgICAgICApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gbnVsbDtcbiAgICAgICAgdGhpcy50aW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFkZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVuZGVyIHRoZSBzcHJpdGUuIFNldCB0byBudWxsIHRvIHJlbW92ZSBhIGN1cnJlbnQgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcnxQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGVkIHRpbnQgdmFsdWUgc28gd2UgY2FuIHRlbGwgd2hlbiB0aGUgdGludCBpcyBjaGFuZ2VkLlxuICAgICAgICAgKiBWYWx1ZSBpcyB1c2VkIGZvciAyZCBDYW52YXNSZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdXZzIGRhdGEgb2YgdGhlIHNwcml0ZSwgYXNzaWduZWQgYXQgdGhlIHNhbWUgdGltZVxuICAgICAgICAgKiBhcyB0aGUgdmVydGV4RGF0YSBpbiBjYWxjdWxhdGVWZXJ0aWNlcygpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcblxuICAgICAgICAvLyBjYWxsIHRleHR1cmUgc2V0dGVyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmUgfHwgVGV4dHVyZS5FTVBUWTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSB2ZXJ0ZXggZGF0YSBvZiB0aGUgc3ByaXRlIChiYXNpY2FsbHkgYSBxdWFkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCBJRiBpdCBpcyBhIHRyaW1tZWQgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4VHJpbW1lZERhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG5cbiAgICAgICAgLy8gQmF0Y2hhYmxlIHN0dWZmLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCBtYWtlIHRoaXMgYSBtaXhpbj9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gaW5kaWNlcztcbiAgICAgICAgdGhpcy5zaXplID0gNDtcbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInICYgJ19yZW5kZXJDYW52YXMnIG1ldGhvZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gJ2JhdGNoJztcblxuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU3ByaXRlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcm91bmRQaXhlbHMgZmllbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgIH1cblxuICAgIGlmICggQ29udGFpbmVyICkgU3ByaXRlLl9fcHJvdG9fXyA9IENvbnRhaW5lcjtcbiAgICBTcHJpdGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29udGFpbmVyICYmIENvbnRhaW5lci5wcm90b3R5cGUgKTtcbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ByaXRlO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgcm91bmRQaXhlbHM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGFuY2hvcjogeyBjb25maWd1cmFibGU6IHRydWUgfSx0aW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHR1cmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZCwgdGhpcyBldmVudCB3aWxsIGZpcmUgdG8gdXBkYXRlIHRoZSBzY2FsZSBhbmQgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gX29uVGV4dHVyZVVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8vIHNvIGlmIF93aWR0aCBpcyAwIHRoZW4gd2lkdGggd2FzIG5vdCBzZXQuLlxuICAgICAgICBpZiAodGhpcy5fd2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHNpZ24odGhpcy5zY2FsZS54KSAqIHRoaXMuX3dpZHRoIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gc2lnbih0aGlzLnNjYWxlLnkpICogdGhpcy5faGVpZ2h0IC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYW5jaG9yIHBvc2l0aW9uIHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uQW5jaG9yVXBkYXRlID0gZnVuY3Rpb24gX29uQW5jaG9yVXBkYXRlICgpXG4gICAge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzLCBzdG9yZSBpdCBpbiB2ZXJ0ZXhEYXRhXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRleHR1cmUuX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgdGV4dHVyZSBVViBoZXJlLCBiZWNhdXNlIGJhc2UgdGV4dHVyZSBjYW4gYmUgY2hhbmdlZCB3aXRob3V0IGNhbGxpbmcgYF9vblRleHR1cmVVcGRhdGVgXG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRleHR1cmUuX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgLy8gc2V0IHRoZSB2ZXJ0ZXggZGF0YVxuXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG4gICAgICAgIHZhciB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcblxuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuXG4gICAgICAgIGlmICh0cmltKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZSBleHRyYVxuICAgICAgICAgICAgLy8gc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy5cbiAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKGFuY2hvci5feCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG5cbiAgICAgICAgICAgIGgxID0gdHJpbS55IC0gKGFuY2hvci5feSAqIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgb3JpZy53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gKGEgKiB3MSkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gKGQgKiBoMSkgKyAoYiAqIHcxKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSAoYSAqIHcwKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSAoZCAqIGgxKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gKGEgKiB3MSkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gKGQgKiBoMCkgKyAoYiAqIHcxKSArIHR5O1xuXG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpXSA9IE1hdGgucm91bmQodmVydGV4RGF0YVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzIGZvciBhIG5vbiB0ZXh0dXJlIHdpdGggYSB0cmltLiBzdG9yZSBpdCBpbiB2ZXJ0ZXhUcmltbWVkRGF0YVxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgdHJ1ZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgdHJpbW1lZCB0ZXh0dXJlIGlzIHJlc3BlY3RlZFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzID0gZnVuY3Rpb24gY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmVydGV4VHJpbW1lZERhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4VHJpbW1lZERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9PT0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgLy8gbGV0cyBkbyBzb21lIHNwZWNpYWwgdHJpbSBjb2RlIVxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgdGhlIG5ldyB1bnRyaW1tZWQgYm91bmRzLi5cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuXG4gICAgICAgIHZhciB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICB2YXIgdzAgPSB3MSArIG9yaWcud2lkdGg7XG5cbiAgICAgICAgdmFyIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSAoYSAqIHcxKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSAoZCAqIGgxKSArIChiICogdzEpICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IChhICogdzApICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IChkICogaDEpICsgKGIgKiB3MCkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gKGEgKiB3MCkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzVdID0gKGQgKiBoMCkgKyAoYiAqIHcwKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSAoYSAqIHcxKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSAoZCAqIGgwKSArIChiICogdzEpICsgdHk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICpcbiAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAqXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyIHRvIHVzZS5cbiAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIF9yZW5kZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHZhciB0cmltID0gdGhpcy5fdGV4dHVyZS50cmltO1xuICAgICAgICB2YXIgb3JpZyA9IHRoaXMuX3RleHR1cmUub3JpZztcblxuICAgICAgICAvLyBGaXJzdCBsZXRzIGNoZWNrIHRvIHNlZSBpZiB0aGUgY3VycmVudCB0ZXh0dXJlIGhhcyBhIHRyaW0uLlxuICAgICAgICBpZiAoIXRyaW0gfHwgKHRyaW0ud2lkdGggPT09IG9yaWcud2lkdGggJiYgdHJpbS5oZWlnaHQgPT09IG9yaWcuaGVpZ2h0KSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbm8gdHJpbSEgbGV0cyB1c2UgdGhlIHVzdWFsIGNhbGN1bGF0aW9ucy4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgYSBzcGVjaWFsIHRyaW1tZWQgYm91bmRzLi4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzIChyZWN0KVxuICAgIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuXG4gICAgICAgICAgICBpZiAoIXJlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQgKHBvaW50KVxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgdmFyIHkxID0gMDtcblxuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbnVsbDtcblxuICAgICAgICB2YXIgZGVzdHJveVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlO1xuXG4gICAgICAgIGlmIChkZXN0cm95VGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGRlc3Ryb3lCYXNlVGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLmRlc3Ryb3koISFkZXN0cm95QmFzZVRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gc29tZSBoZWxwZXIgZnVuY3Rpb25zLi5cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gKHNvdXJjZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgICAgICA/IHNvdXJjZVxuICAgICAgICAgICAgOiBUZXh0dXJlLmZyb20oc291cmNlLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yb3VuZFBpeGVscy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yb3VuZFBpeGVscy5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLngpIHx8IDE7XG5cbiAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS55KSB8fCAxO1xuXG4gICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdGFrZW4gZnJvbSB0aGUge0BsaW5rIFBJWEkuVGV4dHVyZXxUZXh0dXJlfVxuICAgICAqIGFuZCBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgxLDEpYCB3b3VsZCBtZWFuIHRoZSB0ZXh0J3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgcGFzcyBvbmx5IHNpbmdsZSBwYXJhbWV0ZXIsIGl0IHdpbGwgc2V0IGJvdGggeCBhbmQgeSB0byB0aGUgc2FtZSB2YWx1ZSBhcyBzaG93biBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5hbmNob3Iuc2V0KDAuNSk7IC8vIFRoaXMgd2lsbCBzZXQgdGhlIG9yaWdpbiB0byBjZW50ZXIuICgwLjUpIGlzIHNhbWUgYXMgKDAuNSwgMC41KS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbmNob3IuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbmNob3Iuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWUgfHwgVGV4dHVyZS5FTVBUWTtcbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG5cbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggU3ByaXRlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gU3ByaXRlO1xufShDb250YWluZXIpKTtcblxuZXhwb3J0IHsgU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3RleHQgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvdGV4dCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgaGV4MnN0cmluZywgaGV4MnJnYiwgc3RyaW5nMmhleCwgdHJpbUNhbnZhcywgc2lnbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBkZWZpbmUgdGhlIHR5cGUgb2YgZ3JhZGllbnQgb24gdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFRFWFRfR1JBRElFTlRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9WRVJUSUNBTCBWZXJ0aWNhbCBncmFkaWVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9IT1JJWk9OVEFMIExpbmVhciBncmFkaWVudFxuICovXG52YXIgVEVYVF9HUkFESUVOVCA9IHtcbiAgICBMSU5FQVJfVkVSVElDQUw6IDAsXG4gICAgTElORUFSX0hPUklaT05UQUw6IDEsXG59O1xuXG4vLyBkaXNhYmxpbmcgZXNsaW50IGZvciBub3csIGdvaW5nIHRvIHJld3JpdGUgdGhpcyBpbiB2NVxuXG52YXIgZGVmYXVsdFN0eWxlID0ge1xuICAgIGFsaWduOiAnbGVmdCcsXG4gICAgYnJlYWtXb3JkczogZmFsc2UsXG4gICAgZHJvcFNoYWRvdzogZmFsc2UsXG4gICAgZHJvcFNoYWRvd0FscGhhOiAxLFxuICAgIGRyb3BTaGFkb3dBbmdsZTogTWF0aC5QSSAvIDYsXG4gICAgZHJvcFNoYWRvd0JsdXI6IDAsXG4gICAgZHJvcFNoYWRvd0NvbG9yOiAnYmxhY2snLFxuICAgIGRyb3BTaGFkb3dEaXN0YW5jZTogNSxcbiAgICBmaWxsOiAnYmxhY2snLFxuICAgIGZpbGxHcmFkaWVudFR5cGU6IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMLFxuICAgIGZpbGxHcmFkaWVudFN0b3BzOiBbXSxcbiAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgIGZvbnRTaXplOiAyNixcbiAgICBmb250U3R5bGU6ICdub3JtYWwnLFxuICAgIGZvbnRWYXJpYW50OiAnbm9ybWFsJyxcbiAgICBmb250V2VpZ2h0OiAnbm9ybWFsJyxcbiAgICBsZXR0ZXJTcGFjaW5nOiAwLFxuICAgIGxpbmVIZWlnaHQ6IDAsXG4gICAgbGluZUpvaW46ICdtaXRlcicsXG4gICAgbWl0ZXJMaW1pdDogMTAsXG4gICAgcGFkZGluZzogMCxcbiAgICBzdHJva2U6ICdibGFjaycsXG4gICAgc3Ryb2tlVGhpY2tuZXNzOiAwLFxuICAgIHRleHRCYXNlbGluZTogJ2FscGhhYmV0aWMnLFxuICAgIHRyaW06IGZhbHNlLFxuICAgIHdoaXRlU3BhY2U6ICdwcmUnLFxuICAgIHdvcmRXcmFwOiBmYWxzZSxcbiAgICB3b3JkV3JhcFdpZHRoOiAxMDAsXG4gICAgbGVhZGluZzogMCxcbn07XG5cbnZhciBnZW5lcmljRm9udEZhbWlsaWVzID0gW1xuICAgICdzZXJpZicsXG4gICAgJ3NhbnMtc2VyaWYnLFxuICAgICdtb25vc3BhY2UnLFxuICAgICdjdXJzaXZlJyxcbiAgICAnZmFudGFzeScsXG4gICAgJ3N5c3RlbS11aScgXTtcblxuLyoqXG4gKiBBIFRleHRTdHlsZSBPYmplY3QgY29udGFpbnMgaW5mb3JtYXRpb24gdG8gZGVjb3JhdGUgYSBUZXh0IG9iamVjdHMuXG4gKlxuICogQW4gaW5zdGFuY2UgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIFRleHQgb2JqZWN0czsgdGhlbiBjaGFuZ2luZyB0aGUgc3R5bGUgd2lsbCB1cGRhdGUgYWxsIHRleHQgb2JqZWN0cyB1c2luZyBpdC5cbiAqXG4gKiBBIHRvb2wgY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgYSB0ZXh0IHN0eWxlIFtoZXJlXShodHRwczovL3BpeGlqcy5pby9waXhpLXRleHQtc3R5bGUpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHRTdHlsZSA9IGZ1bmN0aW9uIFRleHRTdHlsZShzdHlsZSlcbntcbiAgICB0aGlzLnN0eWxlSUQgPSAwO1xuXG4gICAgdGhpcy5yZXNldCgpO1xuXG4gICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIHN0eWxlLCBzdHlsZSk7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBhbGlnbjogeyBjb25maWd1cmFibGU6IHRydWUgfSxicmVha1dvcmRzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRyb3BTaGFkb3c6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZHJvcFNoYWRvd0FscGhhOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRyb3BTaGFkb3dBbmdsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxkcm9wU2hhZG93Qmx1cjogeyBjb25maWd1cmFibGU6IHRydWUgfSxkcm9wU2hhZG93Q29sb3I6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZHJvcFNoYWRvd0Rpc3RhbmNlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZpbGw6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZmlsbEdyYWRpZW50VHlwZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxmaWxsR3JhZGllbnRTdG9wczogeyBjb25maWd1cmFibGU6IHRydWUgfSxmb250RmFtaWx5OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZvbnRTaXplOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZvbnRTdHlsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxmb250VmFyaWFudDogeyBjb25maWd1cmFibGU6IHRydWUgfSxmb250V2VpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxldHRlclNwYWNpbmc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGluZUhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSxsZWFkaW5nOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxpbmVKb2luOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG1pdGVyTGltaXQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scGFkZGluZzogeyBjb25maWd1cmFibGU6IHRydWUgfSxzdHJva2U6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sc3Ryb2tlVGhpY2tuZXNzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHRCYXNlbGluZTogeyBjb25maWd1cmFibGU6IHRydWUgfSx0cmltOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdoaXRlU3BhY2U6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd29yZFdyYXA6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd29yZFdyYXBXaWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVGV4dFN0eWxlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAqIE5vdGUgdGhhdCB0aGUgb25seSB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IGFyZSBjbG9uZWQuXG4gKlxuICogQHJldHVybiB7UElYSS5UZXh0U3R5bGV9IE5ldyBjbG9uZWQgVGV4dFN0eWxlIG9iamVjdFxuICovXG5UZXh0U3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbntcbiAgICB2YXIgY2xvbmVkUHJvcGVydGllcyA9IHt9O1xuXG4gICAgZGVlcENvcHlQcm9wZXJ0aWVzKGNsb25lZFByb3BlcnRpZXMsIHRoaXMsIGRlZmF1bHRTdHlsZSk7XG5cbiAgICByZXR1cm4gbmV3IFRleHRTdHlsZShjbG9uZWRQcm9wZXJ0aWVzKTtcbn07XG5cbi8qKlxuICogUmVzZXRzIGFsbCBwcm9wZXJ0aWVzIHRvIHRoZSBkZWZhdWx0cyBzcGVjaWZpZWQgaW4gVGV4dFN0eWxlLnByb3RvdHlwZS5fZGVmYXVsdFxuICovXG5UZXh0U3R5bGUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbntcbiAgICBkZWVwQ29weVByb3BlcnRpZXModGhpcywgZGVmYXVsdFN0eWxlLCBkZWZhdWx0U3R5bGUpO1xufTtcblxuLyoqXG4gKiBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLCBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICpcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmFsaWduLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2FsaWduO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5hbGlnbi5zZXQgPSBmdW5jdGlvbiAoYWxpZ24pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9hbGlnbiAhPT0gYWxpZ24pXG4gICAge1xuICAgICAgICB0aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmJyZWFrV29yZHMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fYnJlYWtXb3Jkcztcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuYnJlYWtXb3Jkcy5zZXQgPSBmdW5jdGlvbiAoYnJlYWtXb3JkcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2JyZWFrV29yZHMgIT09IGJyZWFrV29yZHMpXG4gICAge1xuICAgICAgICB0aGlzLl9icmVha1dvcmRzID0gYnJlYWtXb3JkcztcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvdy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93O1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93LnNldCA9IGZ1bmN0aW9uIChkcm9wU2hhZG93KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvdyAhPT0gZHJvcFNoYWRvdylcbiAgICB7XG4gICAgICAgIHRoaXMuX2Ryb3BTaGFkb3cgPSBkcm9wU2hhZG93O1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93XG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0FscGhhLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0FscGhhLnNldCA9IGZ1bmN0aW9uIChkcm9wU2hhZG93QWxwaGEpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QWxwaGEgIT09IGRyb3BTaGFkb3dBbHBoYSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSA9IGRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93QW5nbGUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93QW5nbGUuc2V0ID0gZnVuY3Rpb24gKGRyb3BTaGFkb3dBbmdsZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSAhPT0gZHJvcFNoYWRvd0FuZ2xlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0FuZ2xlID0gZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dCbHVyLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dCbHVyO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93Qmx1ci5zZXQgPSBmdW5jdGlvbiAoZHJvcFNoYWRvd0JsdXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Qmx1ciAhPT0gZHJvcFNoYWRvd0JsdXIpXG4gICAge1xuICAgICAgICB0aGlzLl9kcm9wU2hhZG93Qmx1ciA9IGRyb3BTaGFkb3dCbHVyO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gKlxuICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dDb2xvci5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Q29sb3I7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dDb2xvci5zZXQgPSBmdW5jdGlvbiAoZHJvcFNoYWRvd0NvbG9yKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihkcm9wU2hhZG93Q29sb3IpO1xuICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Q29sb3IgIT09IG91dHB1dENvbG9yKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0Rpc3RhbmNlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0Rpc3RhbmNlLnNldCA9IGZ1bmN0aW9uIChkcm9wU2hhZG93RGlzdGFuY2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgIT09IGRyb3BTaGFkb3dEaXN0YW5jZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSA9IGRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuXG4gKiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnQgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICpcbiAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmZpbGwuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZmlsbDtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZmlsbC5zZXQgPSBmdW5jdGlvbiAoZmlsbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZmlsbCk7XG4gICAgaWYgKHRoaXMuX2ZpbGwgIT09IG91dHB1dENvbG9yKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmlsbCA9IG91dHB1dENvbG9yO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuXG4gKiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5maWxsR3JhZGllbnRUeXBlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGU7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZpbGxHcmFkaWVudFR5cGUuc2V0ID0gZnVuY3Rpb24gKGZpbGxHcmFkaWVudFR5cGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9maWxsR3JhZGllbnRUeXBlICE9PSBmaWxsR3JhZGllbnRUeXBlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50VHlwZSA9IGZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXQgdGhlIHN0b3AgcG9pbnRzXG4gKiAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gKlxuICogQG1lbWJlciB7bnVtYmVyW119XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5maWxsR3JhZGllbnRTdG9wcy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRTdG9wcztcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZmlsbEdyYWRpZW50U3RvcHMuc2V0ID0gZnVuY3Rpb24gKGZpbGxHcmFkaWVudFN0b3BzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAoIWFyZUFycmF5c0VxdWFsKHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzLGZpbGxHcmFkaWVudFN0b3BzKSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzID0gZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGZvbnQgZmFtaWx5XG4gKlxuICogQG1lbWJlciB7c3RyaW5nfHN0cmluZ1tdfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udEZhbWlseS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9mb250RmFtaWx5O1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5mb250RmFtaWx5LnNldCA9IGZ1bmN0aW9uIChmb250RmFtaWx5KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5mb250RmFtaWx5ICE9PSBmb250RmFtaWx5KVxuICAgIHtcbiAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGZvbnQgc2l6ZVxuICogKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICpcbiAqIEBtZW1iZXIge251bWJlcnxzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5mb250U2l6ZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udFNpemUuc2V0ID0gZnVuY3Rpb24gKGZvbnRTaXplKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IGZvbnRTaXplKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgZm9udCBzdHlsZVxuICogKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gKlxuICogQG1lbWJlciB7c3RyaW5nfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udFN0eWxlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udFN0eWxlLnNldCA9IGZ1bmN0aW9uIChmb250U3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9mb250U3R5bGUgIT09IGZvbnRTdHlsZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9IGZvbnRTdHlsZTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgZm9udCB2YXJpYW50XG4gKiAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICpcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRWYXJpYW50LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50O1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5mb250VmFyaWFudC5zZXQgPSBmdW5jdGlvbiAoZm9udFZhcmlhbnQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9mb250VmFyaWFudCAhPT0gZm9udFZhcmlhbnQpXG4gICAge1xuICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9IGZvbnRWYXJpYW50O1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBmb250IHdlaWdodFxuICogKCdub3JtYWwnLCAnYm9sZCcsICdib2xkZXInLCAnbGlnaHRlcicgYW5kICcxMDAnLCAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnLCA4MDAnIG9yICc5MDAnKVxuICpcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRXZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZm9udFdlaWdodDtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udFdlaWdodC5zZXQgPSBmdW5jdGlvbiAoZm9udFdlaWdodCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2ZvbnRXZWlnaHQgIT09IGZvbnRXZWlnaHQpXG4gICAge1xuICAgICAgICB0aGlzLl9mb250V2VpZ2h0ID0gZm9udFdlaWdodDtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5sZXR0ZXJTcGFjaW5nLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmxldHRlclNwYWNpbmcuc2V0ID0gZnVuY3Rpb24gKGxldHRlclNwYWNpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9sZXR0ZXJTcGFjaW5nICE9PSBsZXR0ZXJTcGFjaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmxpbmVIZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fbGluZUhlaWdodDtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMubGluZUhlaWdodC5zZXQgPSBmdW5jdGlvbiAobGluZUhlaWdodCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2xpbmVIZWlnaHQgIT09IGxpbmVIZWlnaHQpXG4gICAge1xuICAgICAgICB0aGlzLl9saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgc3BhY2UgYmV0d2VlbiBsaW5lc1xuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmxlYWRpbmcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fbGVhZGluZztcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMubGVhZGluZy5zZXQgPSBmdW5jdGlvbiAobGVhZGluZykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2xlYWRpbmcgIT09IGxlYWRpbmcpXG4gICAge1xuICAgICAgICB0aGlzLl9sZWFkaW5nID0gbGVhZGluZztcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmUgc3Bpa2VkIHRleHQgaXNzdWVzLlxuICogRGVmYXVsdCBpcyAnbWl0ZXInIChjcmVhdGVzIGEgc2hhcnAgY29ybmVyKS5cbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5saW5lSm9pbi5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9saW5lSm9pbjtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMubGluZUpvaW4uc2V0ID0gZnVuY3Rpb24gKGxpbmVKb2luKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fbGluZUpvaW4gIT09IGxpbmVKb2luKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGluZUpvaW4gPSBsaW5lSm9pbjtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgbWl0ZXIgbGltaXQgdG8gdXNlIHdoZW4gdXNpbmcgdGhlICdtaXRlcicgbGluZUpvaW4gbW9kZVxuICogVGhpcyBjYW4gcmVkdWNlIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5taXRlckxpbWl0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX21pdGVyTGltaXQ7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLm1pdGVyTGltaXQuc2V0ID0gZnVuY3Rpb24gKG1pdGVyTGltaXQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9taXRlckxpbWl0ICE9PSBtaXRlckxpbWl0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fbWl0ZXJMaW1pdCA9IG1pdGVyTGltaXQ7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogT2NjYXNpb25hbGx5IHNvbWUgZm9udHMgYXJlIGNyb3BwZWQuIEFkZGluZyBzb21lIHBhZGRpbmcgd2lsbCBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmdcbiAqIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5wYWRkaW5nLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3BhZGRpbmc7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLnBhZGRpbmcuc2V0ID0gZnVuY3Rpb24gKHBhZGRpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9wYWRkaW5nICE9PSBwYWRkaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICogZS5nICdibHVlJywgJyNGQ0ZGMDAnXG4gKlxuICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnN0cm9rZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9zdHJva2U7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLnN0cm9rZS5zZXQgPSBmdW5jdGlvbiAoc3Ryb2tlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihzdHJva2UpO1xuICAgIGlmICh0aGlzLl9zdHJva2UgIT09IG91dHB1dENvbG9yKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3Ryb2tlID0gb3V0cHV0Q29sb3I7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAqIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnN0cm9rZVRoaWNrbmVzcy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9zdHJva2VUaGlja25lc3M7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLnN0cm9rZVRoaWNrbmVzcy5zZXQgPSBmdW5jdGlvbiAoc3Ryb2tlVGhpY2tuZXNzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fc3Ryb2tlVGhpY2tuZXNzICE9PSBzdHJva2VUaGlja25lc3MpXG4gICAge1xuICAgICAgICB0aGlzLl9zdHJva2VUaGlja25lc3MgPSBzdHJva2VUaGlja25lc3M7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gKlxuICogQG1lbWJlciB7c3RyaW5nfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMudGV4dEJhc2VsaW5lLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3RleHRCYXNlbGluZTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMudGV4dEJhc2VsaW5lLnNldCA9IGZ1bmN0aW9uICh0ZXh0QmFzZWxpbmUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl90ZXh0QmFzZWxpbmUgIT09IHRleHRCYXNlbGluZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHRCYXNlbGluZSA9IHRleHRCYXNlbGluZTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMudHJpbS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl90cmltO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy50cmltLnNldCA9IGZ1bmN0aW9uICh0cmltKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fdHJpbSAhPT0gdHJpbSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3RyaW0gPSB0cmltO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEhvdyBuZXdsaW5lcyBhbmQgc3BhY2VzIHNob3VsZCBiZSBoYW5kbGVkLlxuICogRGVmYXVsdCBpcyAncHJlJyAocHJlc2VydmUsIHByZXNlcnZlKS5cbiAqXG4gKiAgdmFsdWUgICB8IE5ldyBsaW5lcyB8ICAgU3BhY2VzXG4gKiAgLS0tICAgICB8IC0tLSAgICAgICB8ICAgLS0tXG4gKiAnbm9ybWFsJyB8IENvbGxhcHNlICB8ICAgQ29sbGFwc2VcbiAqICdwcmUnICAgIHwgUHJlc2VydmUgIHwgICBQcmVzZXJ2ZVxuICogJ3ByZS1saW5lJyAgIHwgUHJlc2VydmUgIHwgICBDb2xsYXBzZVxuICpcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLndoaXRlU3BhY2UuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fd2hpdGVTcGFjZTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMud2hpdGVTcGFjZS5zZXQgPSBmdW5jdGlvbiAod2hpdGVTcGFjZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3doaXRlU3BhY2UgIT09IHdoaXRlU3BhY2UpXG4gICAge1xuICAgICAgICB0aGlzLl93aGl0ZVNwYWNlID0gd2hpdGVTcGFjZTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBJbmRpY2F0ZXMgaWYgd29yZCB3cmFwIHNob3VsZCBiZSB1c2VkXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLndvcmRXcmFwLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy53b3JkV3JhcC5zZXQgPSBmdW5jdGlvbiAod29yZFdyYXApIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl93b3JkV3JhcCAhPT0gd29yZFdyYXApXG4gICAge1xuICAgICAgICB0aGlzLl93b3JkV3JhcCA9IHdvcmRXcmFwO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy53b3JkV3JhcFdpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3dvcmRXcmFwV2lkdGg7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLndvcmRXcmFwV2lkdGguc2V0ID0gZnVuY3Rpb24gKHdvcmRXcmFwV2lkdGgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl93b3JkV3JhcFdpZHRoICE9PSB3b3JkV3JhcFdpZHRoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgZm9udCBzdHlsZSBzdHJpbmcgdG8gdXNlIGZvciBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWAuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBGb250IHN0eWxlIHN0cmluZywgZm9yIHBhc3NpbmcgdG8gYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgXG4gKi9cblRleHRTdHlsZS5wcm90b3R5cGUudG9Gb250U3RyaW5nID0gZnVuY3Rpb24gdG9Gb250U3RyaW5nICgpXG57XG4gICAgLy8gYnVpbGQgY2FudmFzIGFwaSBmb250IHNldHRpbmcgZnJvbSBpbmRpdmlkdWFsIGNvbXBvbmVudHMuIENvbnZlcnQgYSBudW1lcmljIHRoaXMuZm9udFNpemUgdG8gcHhcbiAgICB2YXIgZm9udFNpemVTdHJpbmcgPSAodHlwZW9mIHRoaXMuZm9udFNpemUgPT09ICdudW1iZXInKSA/ICgodGhpcy5mb250U2l6ZSkgKyBcInB4XCIpIDogdGhpcy5mb250U2l6ZTtcblxuICAgIC8vIENsZWFuLXVwIGZvbnRGYW1pbHkgcHJvcGVydHkgYnkgcXVvdGluZyBlYWNoIGZvbnQgbmFtZVxuICAgIC8vIHRoaXMgd2lsbCBzdXBwb3J0IGZvbnQgbmFtZXMgd2l0aCBzcGFjZXNcbiAgICB2YXIgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5O1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm9udEZhbWlseSkpXG4gICAge1xuICAgICAgICBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHkuc3BsaXQoJywnKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gZm9udEZhbWlsaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgIHtcbiAgICAgICAgLy8gVHJpbSBhbnkgZXh0cmEgd2hpdGUtc3BhY2VcbiAgICAgICAgdmFyIGZvbnRGYW1pbHkgPSBmb250RmFtaWxpZXNbaV0udHJpbSgpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGZvbnQgYWxyZWFkeSBjb250YWlucyBzdHJpbmdzXG4gICAgICAgIGlmICghKC8oW1xcXCJcXCddKVteXFwnXFxcIl0rXFwxLykudGVzdChmb250RmFtaWx5KSAmJiBnZW5lcmljRm9udEZhbWlsaWVzLmluZGV4T2YoZm9udEZhbWlseSkgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb250RmFtaWx5ID0gXCJcXFwiXCIgKyBmb250RmFtaWx5ICsgXCJcXFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgZm9udEZhbWlsaWVzW2ldID0gZm9udEZhbWlseTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCh0aGlzLmZvbnRTdHlsZSkgKyBcIiBcIiArICh0aGlzLmZvbnRWYXJpYW50KSArIFwiIFwiICsgKHRoaXMuZm9udFdlaWdodCkgKyBcIiBcIiArIGZvbnRTaXplU3RyaW5nICsgXCIgXCIgKyAoZm9udEZhbWlsaWVzLmpvaW4oJywnKSkpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRleHRTdHlsZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IGNvbG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb2xvciBhcyBhIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZ2V0U2luZ2xlQ29sb3IoY29sb3IpXG57XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpXG4gICAge1xuICAgICAgICByZXR1cm4gaGV4MnN0cmluZyhjb2xvcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKCB0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnIClcbiAgICB7XG4gICAgICAgIGlmICggY29sb3IuaW5kZXhPZignMHgnKSA9PT0gMCApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbG9yID0gY29sb3IucmVwbGFjZSgnMHgnLCAnIycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbG9yO1xufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBUaGlzIHZlcnNpb24gY2FuIGFsc28gY29udmVydCBhcnJheSBvZiBjb2xvcnNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcnxudW1iZXJbXX0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvcilcbntcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sb3IpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGdldFNpbmdsZUNvbG9yKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xvci5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29sb3JbaV0gPSBnZXRTaW5nbGVDb2xvcihjb2xvcltpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBUaGlzIHZlcnNpb24gY2FuIGFsc28gY29udmVydCBhcnJheSBvZiBjb2xvcnNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTEgRmlyc3QgYXJyYXkgdG8gY29tcGFyZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkyIFNlY29uZCBhcnJheSB0byBjb21wYXJlXG4gKiBAcmV0dXJuIHtib29sZWFufSBEbyB0aGUgYXJyYXlzIGNvbnRhaW4gdGhlIHNhbWUgdmFsdWVzIGluIHRoZSBzYW1lIG9yZGVyXG4gKi9cbmZ1bmN0aW9uIGFyZUFycmF5c0VxdWFsKGFycmF5MSwgYXJyYXkyKVxue1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheTEpIHx8ICFBcnJheS5pc0FycmF5KGFycmF5MikpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGFycmF5MS5sZW5ndGggIT09IGFycmF5Mi5sZW5ndGgpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheTEubGVuZ3RoOyArK2kpXG4gICAge1xuICAgICAgICBpZiAoYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZW5zdXJlIHRoYXQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIGNvcGllZCBieSB2YWx1ZSwgYW5kIG5vdCBieSByZWZlcmVuY2VcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgU291cmNlIG9iamVjdCBmb3IgdGhlIHByb3BlcnRpZXMgdG8gY29weVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5T2JqIE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgbmFtZXMgd2Ugd2FudCB0byBsb29wIG92ZXJcbiAqL1xuZnVuY3Rpb24gZGVlcENvcHlQcm9wZXJ0aWVzKHRhcmdldCwgc291cmNlLCBwcm9wZXJ0eU9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gcHJvcGVydHlPYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlW3Byb3BdKSkge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdLnNsaWNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogVGhlIFRleHRNZXRyaWNzIG9iamVjdCByZXByZXNlbnRzIHRoZSBtZWFzdXJlbWVudCBvZiBhIGJsb2NrIG9mIHRleHQgd2l0aCBhIHNwZWNpZmllZCBzdHlsZS5cbiAqXG4gKiBgYGBqc1xuICogbGV0IHN0eWxlID0gbmV3IFBJWEkuVGV4dFN0eWxlKHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KVxuICogbGV0IHRleHRNZXRyaWNzID0gUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlVGV4dCgnWW91ciB0ZXh0Jywgc3R5bGUpXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0TWV0cmljcyA9IGZ1bmN0aW9uIFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCwgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcylcbntcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3R5bGUgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dFN0eWxlfVxuICAgICAqL1xuICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtZWFzdXJlZCB3aWR0aCBvZiB0aGUgdGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtZWFzdXJlZCBoZWlnaHQgb2YgdGhlIHRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGxpbmVzIG9mIHRoZSB0ZXh0IGJyb2tlbiBieSBuZXcgbGluZXMgYW5kIHdyYXBwaW5nIGlzIHNwZWNpZmllZCBpbiBzdHlsZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICovXG4gICAgdGhpcy5saW5lcyA9IGxpbmVzO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgdGhlIGxpbmUgd2lkdGhzIGZvciBlYWNoIGxpbmUgbWF0Y2hlZCB0byBgbGluZXNgXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVXaWR0aHMgPSBsaW5lV2lkdGhzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1lYXN1cmVkIGxpbmUgaGVpZ2h0IGZvciB0aGlzIHN0eWxlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIGxpbmUgd2lkdGggZm9yIGFsbCBtZWFzdXJlZCBsaW5lc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4TGluZVdpZHRoID0gbWF4TGluZVdpZHRoO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZvbnQgcHJvcGVydGllcyBvYmplY3QgZnJvbSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5JRm9udE1ldHJpY3N9XG4gICAgICovXG4gICAgdGhpcy5mb250UHJvcGVydGllcyA9IGZvbnRQcm9wZXJ0aWVzO1xufTtcblxuLyoqXG4gKiBNZWFzdXJlcyB0aGUgc3VwcGxpZWQgc3RyaW5nIG9mIHRleHQgYW5kIHJldHVybnMgYSBSZWN0YW5nbGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0byBtZWFzdXJlLlxuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgdGV4dCBzdHlsZSB0byB1c2UgZm9yIG1lYXN1cmluZ1xuICogQHBhcmFtIHtib29sZWFufSBbd29yZFdyYXBdIC0gb3B0aW9uYWwgb3ZlcnJpZGUgZm9yIGlmIHdvcmQtd3JhcCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgdGV4dC5cbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICogQHJldHVybiB7UElYSS5UZXh0TWV0cmljc30gbWVhc3VyZWQgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdGV4dC5cbiAqL1xuVGV4dE1ldHJpY3MubWVhc3VyZVRleHQgPSBmdW5jdGlvbiBtZWFzdXJlVGV4dCAodGV4dCwgc3R5bGUsIHdvcmRXcmFwLCBjYW52YXMpXG57XG4gICAgICAgIGlmICggY2FudmFzID09PSB2b2lkIDAgKSBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzO1xuXG4gICAgd29yZFdyYXAgPSAod29yZFdyYXAgPT09IHVuZGVmaW5lZCB8fCB3b3JkV3JhcCA9PT0gbnVsbCkgPyBzdHlsZS53b3JkV3JhcCA6IHdvcmRXcmFwO1xuICAgIHZhciBmb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG5cbiAgICAvLyBmYWxsYmFjayBpbiBjYXNlIFVBIGRpc2FsbG93IGNhbnZhcyBkYXRhIGV4dHJhY3Rpb25cbiAgICAvLyAodG9EYXRhVVJJLCBnZXRJbWFnZURhdGEgZnVuY3Rpb25zKVxuICAgIGlmIChmb250UHJvcGVydGllcy5mb250U2l6ZSA9PT0gMClcbiAgICB7XG4gICAgICAgIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgIGZvbnRQcm9wZXJ0aWVzLmFzY2VudCA9IHN0eWxlLmZvbnRTaXplO1xuICAgIH1cblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgdmFyIG91dHB1dFRleHQgPSB3b3JkV3JhcCA/IFRleHRNZXRyaWNzLndvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMpIDogdGV4dDtcbiAgICB2YXIgbGluZXMgPSBvdXRwdXRUZXh0LnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKTtcbiAgICB2YXIgbGluZVdpZHRocyA9IG5ldyBBcnJheShsaW5lcy5sZW5ndGgpO1xuICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBsaW5lV2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGxpbmVzW2ldKS53aWR0aCArICgobGluZXNbaV0ubGVuZ3RoIC0gMSkgKiBzdHlsZS5sZXR0ZXJTcGFjaW5nKTtcblxuICAgICAgICBsaW5lV2lkdGhzW2ldID0gbGluZVdpZHRoO1xuICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgfVxuICAgIHZhciB3aWR0aCA9IG1heExpbmVXaWR0aCArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcblxuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KVxuICAgIHtcbiAgICAgICAgd2lkdGggKz0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgIH1cblxuICAgIHZhciBsaW5lSGVpZ2h0ID0gc3R5bGUubGluZUhlaWdodCB8fCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgobGluZUhlaWdodCwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3MpXG4gICAgICAgICsgKChsaW5lcy5sZW5ndGggLSAxKSAqIChsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZykpO1xuXG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpXG4gICAge1xuICAgICAgICBoZWlnaHQgKz0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVGV4dE1ldHJpY3MoXG4gICAgICAgIHRleHQsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBsaW5lcyxcbiAgICAgICAgbGluZVdpZHRocyxcbiAgICAgICAgbGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcsXG4gICAgICAgIG1heExpbmVXaWR0aCxcbiAgICAgICAgZm9udFByb3BlcnRpZXNcbiAgICApO1xufTtcblxuLyoqXG4gKiBBcHBsaWVzIG5ld2xpbmVzIHRvIGEgc3RyaW5nIHRvIGhhdmUgaXQgb3B0aW1hbGx5IGZpdCBpbnRvIHRoZSBob3Jpem9udGFsXG4gKiBib3VuZHMgc2V0IGJ5IHRoZSBUZXh0IG9iamVjdCdzIHdvcmRXcmFwV2lkdGggcHJvcGVydHkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gU3RyaW5nIHRvIGFwcGx5IHdvcmQgd3JhcHBpbmcgdG9cbiAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRvIHVzZSB3aGVuIHdyYXBwaW5nXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAqIEByZXR1cm4ge3N0cmluZ30gTmV3IHN0cmluZyB3aXRoIG5ldyBsaW5lcyBhcHBsaWVkIHdoZXJlIHJlcXVpcmVkXG4gKi9cblRleHRNZXRyaWNzLndvcmRXcmFwID0gZnVuY3Rpb24gd29yZFdyYXAgKHRleHQsIHN0eWxlLCBjYW52YXMpXG57XG4gICAgICAgIGlmICggY2FudmFzID09PSB2b2lkIDAgKSBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzO1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHZhciB3aWR0aCA9IDA7XG4gICAgdmFyIGxpbmUgPSAnJztcbiAgICB2YXIgbGluZXMgPSAnJztcblxuICAgIHZhciBjYWNoZSA9IHt9O1xuICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZztcbiAgICAgICAgdmFyIHdoaXRlU3BhY2UgPSBzdHlsZS53aGl0ZVNwYWNlO1xuXG4gICAgLy8gSG93IHRvIGhhbmRsZSB3aGl0ZXNwYWNlc1xuICAgIHZhciBjb2xsYXBzZVNwYWNlcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzKHdoaXRlU3BhY2UpO1xuICAgIHZhciBjb2xsYXBzZU5ld2xpbmVzID0gVGV4dE1ldHJpY3MuY29sbGFwc2VOZXdsaW5lcyh3aGl0ZVNwYWNlKTtcblxuICAgIC8vIHdoZXRoZXIgb3Igbm90IHNwYWNlcyBtYXkgYmUgYWRkZWQgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgIHZhciBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuXG4gICAgLy8gVGhlcmUgaXMgbGV0dGVyU3BhY2luZyBhZnRlciBldmVyeSBjaGFyIGV4Y2VwdCB0aGUgbGFzdCBvbmVcbiAgICAvLyB0X2hfaV9zXycgJ19pX3NfJyAnX2Ffbl8nICdfZV94X2FfbV9wX2xfZV8nICdfIVxuICAgIC8vIHNvIGZvciBjb252ZW5pZW5jZSB0aGUgYWJvdmUgbmVlZHMgdG8gYmUgY29tcGFyZWQgdG8gd2lkdGggKyAxIGV4dHJhIGxldHRlclNwYWNlXG4gICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFfXG4gICAgLy8gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4gICAgLy8gQW5kIHRoZW4gdGhlIGZpbmFsIHNwYWNlIGlzIHNpbXBseSBubyBhcHBlbmRlZCB0byBlYWNoIGxpbmVcbiAgICB2YXIgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuXG4gICAgLy8gYnJlYWsgdGV4dCBpbnRvIHdvcmRzLCBzcGFjZXMgYW5kIG5ld2xpbmUgY2hhcnNcbiAgICB2YXIgdG9rZW5zID0gVGV4dE1ldHJpY3MudG9rZW5pemUodGV4dCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIC8vIGdldCB0aGUgd29yZCwgc3BhY2Ugb3IgbmV3bGluZUNoYXJcbiAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgICAgIC8vIGlmIHdvcmQgaXMgYSBuZXcgbGluZVxuICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNOZXdsaW5lKHRva2VuKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8ga2VlcCB0aGUgbmV3IGxpbmVcbiAgICAgICAgICAgIGlmICghY29sbGFwc2VOZXdsaW5lcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG4gICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIGNvbGxhcHNlIG5ldyBsaW5lc1xuICAgICAgICAgICAgLy8gd2Ugc2ltcGx5IGNvbnZlcnQgaXQgaW50byBhIHNwYWNlXG4gICAgICAgICAgICB0b2tlbiA9ICcgJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHdlIHNob3VsZCBjb2xsYXBzZSByZXBlYXRlZCB3aGl0ZXNwYWNlc1xuICAgICAgICBpZiAoY29sbGFwc2VTcGFjZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGJvdGggdGhpcyBhbmQgdGhlIGxhc3QgdG9rZW5zIGZvciBzcGFjZXNcbiAgICAgICAgICAgIHZhciBjdXJySXNCcmVha2luZ1NwYWNlID0gVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKHRva2VuKTtcbiAgICAgICAgICAgIHZhciBsYXN0SXNCcmVha2luZ1NwYWNlID0gVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGxpbmVbbGluZS5sZW5ndGggLSAxXSk7XG5cbiAgICAgICAgICAgIGlmIChjdXJySXNCcmVha2luZ1NwYWNlICYmIGxhc3RJc0JyZWFraW5nU3BhY2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgd29yZCB3aWR0aCBmcm9tIGNhY2hlIGlmIHBvc3NpYmxlXG4gICAgICAgIHZhciB0b2tlbldpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKHRva2VuLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG5cbiAgICAgICAgLy8gd29yZCBpcyBsb25nZXIgdGhhbiBkZXNpcmVkIGJvdW5kc1xuICAgICAgICBpZiAodG9rZW5XaWR0aCA+IHdvcmRXcmFwV2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBub3QgYWxyZWFkeSBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgbGluZVxuICAgICAgICAgICAgaWYgKGxpbmUgIT09ICcnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IG5ld2xpbmVzIGZvciBvdmVyZmxvdyB3b3Jkc1xuICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYnJlYWsgbGFyZ2Ugd29yZCBvdmVyIG11bHRpcGxlIGxpbmVzXG4gICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3Jkcyh0b2tlbiwgc3R5bGUuYnJlYWtXb3JkcykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gYnJlYWsgd29yZCBpbnRvIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVycyA9IHRva2VuLnNwbGl0KCcnKTtcblxuICAgICAgICAgICAgICAgIC8vIGxvb3AgdGhlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoYXJhY3RlcnMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhciA9IGNoYXJhY3RlcnNbal07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGsgPSAxO1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgbm90IGF0IHRoZSBlbmQgb2YgdGhlIHRva2VuXG5cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNoYXJhY3RlcnNbaiArIGtdKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dENoYXIgPSBjaGFyYWN0ZXJzW2ogKyBrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Q2hhciA9IGNoYXJbY2hhci5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIG5vdCBzcGxpdCBjaGFyc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzKGxhc3RDaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGosIHN0eWxlLmJyZWFrV29yZHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbWJpbmUgY2hhcnMgJiBtb3ZlIGZvcndhcmQgb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhciArPSBuZXh0Q2hhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaiArPSBjaGFyLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcldpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKGNoYXIsIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsaW5lICs9IGNoYXI7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IGNoYXJhY3RlcldpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcnVuIHdvcmQgb3V0IG9mIHRoZSBib3VuZHNcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgd29yZHMgaW4gdGhpcyBsaW5lIGFscmVhZHlcbiAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhhdCBsaW5lIGFuZCBzdGFydCBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGlzTGFzdFRva2VuID0gaSA9PT0gdG9rZW5zLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgICAgICAvLyBnaXZlIGl0IGl0cyBvd24gbGluZSBpZiBpdCdzIG5vdCB0aGUgZW5kXG4gICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZSh0b2tlbiwgIWlzTGFzdFRva2VuKTtcbiAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdvcmQgY291bGQgZml0XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd29yZCB3b24ndCBmaXQgYmVjYXVzZSBvZiBleGlzdGluZyB3b3Jkc1xuICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgaWYgKHRva2VuV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gaWYgaXRzIGEgc3BhY2Ugd2UgZG9uJ3Qgd2FudCBpdFxuICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8vIGFkZCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcblxuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkb24ndCBhZGQgc3BhY2VzIHRvIHRoZSBiZWdpbm5pbmcgb2YgbGluZXNcbiAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDAgfHwgIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbikgfHwgY2FuUHJlcGVuZFNwYWNlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHdvcmQgdG8gdGhlIGN1cnJlbnQgbGluZVxuICAgICAgICAgICAgICAgIGxpbmUgKz0gdG9rZW47XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgd2lkdGggY291bnRlclxuICAgICAgICAgICAgICAgIHdpZHRoICs9IHRva2VuV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUsIGZhbHNlKTtcblxuICAgIHJldHVybiBsaW5lcztcbn07XG5cbi8qKlxuICogQ29udmllbmllbmNlIGZ1bmN0aW9uIGZvciBsb2dnaW5nIGVhY2ggbGluZSBhZGRlZCBkdXJpbmcgdGhlIHdvcmRXcmFwXG4gKiBtZXRob2RcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7c3RyaW5nfSAgIGxpbmUgICAgLSBUaGUgbGluZSBvZiB0ZXh0IHRvIGFkZFxuICogQHBhcmFtICB7Ym9vbGVhbn0gIG5ld0xpbmUgLSBBZGQgbmV3IGxpbmUgY2hhcmFjdGVyIHRvIGVuZFxuICogQHJldHVybiB7c3RyaW5nfSAgIEEgZm9ybWF0dGVkIGxpbmVcbiAqL1xuVGV4dE1ldHJpY3MuYWRkTGluZSA9IGZ1bmN0aW9uIGFkZExpbmUgKGxpbmUsIG5ld0xpbmUpXG57XG4gICAgICAgIGlmICggbmV3TGluZSA9PT0gdm9pZCAwICkgbmV3TGluZSA9IHRydWU7XG5cbiAgICBsaW5lID0gVGV4dE1ldHJpY3MudHJpbVJpZ2h0KGxpbmUpO1xuXG4gICAgbGluZSA9IChuZXdMaW5lKSA/IChsaW5lICsgXCJcXG5cIikgOiBsaW5lO1xuXG4gICAgcmV0dXJuIGxpbmU7XG59O1xuXG4vKipcbiAqIEdldHMgJiBzZXRzIHRoZSB3aWR0aHMgb2YgY2FsY3VsYXRlZCBjaGFyYWN0ZXJzIGluIGEgY2FjaGUgb2JqZWN0XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgICAga2V5ICAgICAgICBUaGUga2V5XG4gKiBAcGFyYW0gIHtudW1iZXJ9ICAgICAgICAgICAgICAgIGxldHRlclNwYWNpbmcgIFRoZSBsZXR0ZXIgc3BhY2luZ1xuICogQHBhcmFtICB7b2JqZWN0fSAgICAgICAgICAgICAgICBjYWNoZSAgICAgIFRoZSBjYWNoZVxuICogQHBhcmFtICB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSAgY29udGV4dCAgICBUaGUgY2FudmFzIGNvbnRleHRcbiAqIEByZXR1cm4ge251bWJlcn0gICAgICAgICAgICAgICAgVGhlIGZyb20gY2FjaGUuXG4gKi9cblRleHRNZXRyaWNzLmdldEZyb21DYWNoZSA9IGZ1bmN0aW9uIGdldEZyb21DYWNoZSAoa2V5LCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dClcbntcbiAgICB2YXIgd2lkdGggPSBjYWNoZVtrZXldO1xuXG4gICAgaWYgKHdpZHRoID09PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICB2YXIgc3BhY2luZyA9ICgoa2V5Lmxlbmd0aCkgKiBsZXR0ZXJTcGFjaW5nKTtcblxuICAgICAgICB3aWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQoa2V5KS53aWR0aCArIHNwYWNpbmc7XG4gICAgICAgIGNhY2hlW2tleV0gPSB3aWR0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gd2lkdGg7XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgYnJlYWtpbmcgc3BhY2VzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlICBUaGUgVGV4dFN0eWxlIHByb3BlcnR5IHdoaXRlU3BhY2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAqL1xuVGV4dE1ldHJpY3MuY29sbGFwc2VTcGFjZXMgPSBmdW5jdGlvbiBjb2xsYXBzZVNwYWNlcyAod2hpdGVTcGFjZSlcbntcbiAgICByZXR1cm4gKHdoaXRlU3BhY2UgPT09ICdub3JtYWwnIHx8IHdoaXRlU3BhY2UgPT09ICdwcmUtbGluZScpO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIG5ld0xpbmUgY2hhcnNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7c3RyaW5nfSAgIHdoaXRlU3BhY2UgIFRoZSB3aGl0ZSBzcGFjZVxuICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICovXG5UZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzID0gZnVuY3Rpb24gY29sbGFwc2VOZXdsaW5lcyAod2hpdGVTcGFjZSlcbntcbiAgICByZXR1cm4gKHdoaXRlU3BhY2UgPT09ICdub3JtYWwnKTtcbn07XG5cbi8qKlxuICogdHJpbXMgYnJlYWtpbmcgd2hpdGVzcGFjZXMgZnJvbSBzdHJpbmdcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAgVGhlIHRleHRcbiAqIEByZXR1cm4ge3N0cmluZ30gIHRyaW1tZWQgc3RyaW5nXG4gKi9cblRleHRNZXRyaWNzLnRyaW1SaWdodCA9IGZ1bmN0aW9uIHRyaW1SaWdodCAodGV4dClcbntcbiAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSB0ZXh0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0ZXh0W2ldO1xuXG4gICAgICAgIGlmICghVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIpKVxuICAgICAgICB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGV4dDtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgbmV3bGluZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgVGhlIGNoYXJhY3RlclxuICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgbmV3bGluZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5UZXh0TWV0cmljcy5pc05ld2xpbmUgPSBmdW5jdGlvbiBpc05ld2xpbmUgKGNoYXIpXG57XG4gICAgaWYgKHR5cGVvZiBjaGFyICE9PSAnc3RyaW5nJylcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9uZXdsaW5lcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIGJyZWFraW5nIHdoaXRlc3BhY2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgIFRoZSBjaGFyYWN0ZXJcbiAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIHdoaXRlc3BhY2UsIEZhbHNlIG90aGVyd2lzZS5cbiAqL1xuVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlID0gZnVuY3Rpb24gaXNCcmVha2luZ1NwYWNlIChjaGFyKVxue1xuICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIChUZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMuaW5kZXhPZihjaGFyLmNoYXJDb2RlQXQoMCkpID49IDApO1xufTtcblxuLyoqXG4gKiBTcGxpdHMgYSBzdHJpbmcgaW50byB3b3JkcywgYnJlYWtpbmctc3BhY2VzIGFuZCBuZXdMaW5lIGNoYXJhY3RlcnNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAgIFRoZSB0ZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmdbXX0gIEEgdG9rZW5pemVkIGFycmF5XG4gKi9cblRleHRNZXRyaWNzLnRva2VuaXplID0gZnVuY3Rpb24gdG9rZW5pemUgKHRleHQpXG57XG4gICAgdmFyIHRva2VucyA9IFtdO1xuICAgIHZhciB0b2tlbiA9ICcnO1xuXG4gICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJylcbiAgICB7XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGNoYXIgPSB0ZXh0W2ldO1xuXG4gICAgICAgIGlmIChUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikgfHwgVGV4dE1ldHJpY3MuaXNOZXdsaW5lKGNoYXIpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodG9rZW4gIT09ICcnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0b2tlbnMucHVzaChjaGFyKTtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB0b2tlbiArPSBjaGFyO1xuICAgIH1cblxuICAgIGlmICh0b2tlbiAhPT0gJycpXG4gICAge1xuICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRva2Vucztcbn07XG5cbi8qKlxuICogVGhpcyBtZXRob2QgZXhpc3RzIHRvIGJlIGVhc2lseSBvdmVycmlkZGVuXG4gKiBJdCBhbGxvd3Mgb25lIHRvIGN1c3RvbWlzZSB3aGljaCB3b3JkcyBzaG91bGQgYnJlYWtcbiAqIEV4YW1wbGVzIGFyZSBpZiB0aGUgdG9rZW4gaXMgQ0pLIG9yIG51bWJlcnMuXG4gKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuICAgVGhlIHRva2VuXG4gKiBAcGFyYW0gIHtib29sZWFufSAgYnJlYWtXb3JkcyAgVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAqL1xuVGV4dE1ldHJpY3MuY2FuQnJlYWtXb3JkcyA9IGZ1bmN0aW9uIGNhbkJyZWFrV29yZHMgKHRva2VuLCBicmVha1dvcmRzKVxue1xuICAgIHJldHVybiBicmVha1dvcmRzO1xufTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBleGlzdHMgdG8gYmUgZWFzaWx5IG92ZXJyaWRkZW5cbiAqIEl0IGFsbG93cyBvbmUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBwYWlyIG9mIGNoYXJhY3RlcnNcbiAqIHNob3VsZCBiZSBicm9rZW4gYnkgbmV3bGluZXNcbiAqIEZvciBleGFtcGxlIGNlcnRhaW4gY2hhcmFjdGVycyBpbiBDSksgbGFuZ3Mgb3IgbnVtYmVycy5cbiAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgVGhlIGNoYXJhY3RlclxuICogQHBhcmFtICB7c3RyaW5nfSAgbmV4dENoYXIgIFRoZSBuZXh0IGNoYXJhY3RlclxuICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gVGhlIHRva2VuL3dvcmQgdGhlIGNoYXJhY3RlcnMgYXJlIGZyb21cbiAqIEBwYXJhbSAge251bWJlcn0gIGluZGV4IFRoZSBpbmRleCBpbiB0aGUgdG9rZW4gb2YgdGhlIGNoYXJcbiAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzICBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0byBicmVhayB3b3JkIG9yIG5vdFxuICovXG5UZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzID0gZnVuY3Rpb24gY2FuQnJlYWtDaGFycyAoY2hhciwgbmV4dENoYXIsIHRva2VuLCBpbmRleCwgYnJlYWtXb3JkcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xue1xuICAgIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAqIEByZXR1cm4ge1BJWEkuSUZvbnRNZXRyaWNzfSBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gKi9cblRleHRNZXRyaWNzLm1lYXN1cmVGb250ID0gZnVuY3Rpb24gbWVhc3VyZUZvbnQgKGZvbnQpXG57XG4gICAgLy8gYXMgdGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgcHJlcGFyaW5nIGFzc2V0cywgZG9uJ3QgcmVjYWxjdWxhdGUgdGhpbmdzIGlmIHdlIGRvbid0IG5lZWQgdG9cbiAgICBpZiAoVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICB9XG5cbiAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuXG4gICAgdmFyIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7XG4gICAgdmFyIGNvbnRleHQgPSBUZXh0TWV0cmljcy5fY29udGV4dDtcblxuICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cbiAgICB2YXIgbWV0cmljc1N0cmluZyA9IFRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HICsgVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MO1xuICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KG1ldHJpY3NTdHJpbmcpLndpZHRoKTtcbiAgICB2YXIgYmFzZWxpbmUgPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wpLndpZHRoKTtcbiAgICB2YXIgaGVpZ2h0ID0gMiAqIGJhc2VsaW5lO1xuXG4gICAgYmFzZWxpbmUgPSBiYXNlbGluZSAqIFRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgfCAwO1xuXG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmMDAnO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnYWxwaGFiZXRpYyc7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgY29udGV4dC5maWxsVGV4dChtZXRyaWNzU3RyaW5nLCAwLCBiYXNlbGluZSk7XG5cbiAgICB2YXIgaW1hZ2VkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICB2YXIgcGl4ZWxzID0gaW1hZ2VkYXRhLmxlbmd0aDtcbiAgICB2YXIgbGluZSA9IHdpZHRoICogNDtcblxuICAgIHZhciBpID0gMDtcbiAgICB2YXIgaWR4ID0gMDtcbiAgICB2YXIgc3RvcCA9IGZhbHNlO1xuXG4gICAgLy8gYXNjZW50LiBzY2FuIGZyb20gdG9wIHRvIGJvdHRvbSB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgIGZvciAoaSA9IDA7IGkgPCBiYXNlbGluZTsgKytpKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0b3ApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkeCArPSBsaW5lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9wZXJ0aWVzLmFzY2VudCA9IGJhc2VsaW5lIC0gaTtcblxuICAgIGlkeCA9IHBpeGVscyAtIGxpbmU7XG4gICAgc3RvcCA9IGZhbHNlO1xuXG4gICAgLy8gZGVzY2VudC4gc2NhbiBmcm9tIGJvdHRvbSB0byB0b3AgdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICBmb3IgKGkgPSBoZWlnaHQ7IGkgPiBiYXNlbGluZTsgLS1pKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaiQxID0gMDsgaiQxIDwgbGluZTsgaiQxICs9IDQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgaiQxXSAhPT0gMjU1KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzdG9wKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZHggLT0gbGluZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvcGVydGllcy5kZXNjZW50ID0gaSAtIGJhc2VsaW5lO1xuICAgIHByb3BlcnRpZXMuZm9udFNpemUgPSBwcm9wZXJ0aWVzLmFzY2VudCArIHByb3BlcnRpZXMuZGVzY2VudDtcblxuICAgIFRleHRNZXRyaWNzLl9mb250c1tmb250XSA9IHByb3BlcnRpZXM7XG5cbiAgICByZXR1cm4gcHJvcGVydGllcztcbn07XG5cbi8qKlxuICogQ2xlYXIgZm9udCBtZXRyaWNzIGluIG1ldHJpY3MgY2FjaGUuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtzdHJpbmd9IFtmb250XSAtIGZvbnQgbmFtZS4gSWYgZm9udCBuYW1lIG5vdCBzZXQgdGhlbiBjbGVhciBjYWNoZSBmb3IgYWxsIGZvbnRzLlxuICovXG5UZXh0TWV0cmljcy5jbGVhck1ldHJpY3MgPSBmdW5jdGlvbiBjbGVhck1ldHJpY3MgKGZvbnQpXG57XG4gICAgICAgIGlmICggZm9udCA9PT0gdm9pZCAwICkgZm9udCA9ICcnO1xuXG4gICAgaWYgKGZvbnQpXG4gICAge1xuICAgICAgICBkZWxldGUgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBUZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEludGVybmFsIHJldHVybiBvYmplY3QgZm9yIHtAbGluayBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVGb250IGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udGB9LlxuICpcbiAqIEB0eXBlZGVmIHtvYmplY3R9IEZvbnRNZXRyaWNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gVGhlIGFzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBUaGUgZGVzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvbnRTaXplIC0gRm9udCBzaXplIGZyb20gYXNjZW50IHRvIGRlc2NlbnRcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBjYW52YXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIHRyeVxuICAgIHtcbiAgICAgICAgLy8gT2Zmc2NyZWVuQ2FudmFzMkQgbWVhc3VyZVRleHQgY2FuIGJlIHVwIHRvIDQwJSBmYXN0ZXIuXG4gICAgICAgIHZhciBjID0gbmV3IE9mZnNjcmVlbkNhbnZhcygwLCAwKTtcblxuICAgICAgICByZXR1cm4gYy5nZXRDb250ZXh0KCcyZCcpID8gYyA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbiAgICBjYXRjaCAoZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgfVxufSkoKTtcblxuY2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDEwO1xuXG4vKipcbiAqIENhY2hlZCBjYW52YXMgZWxlbWVudCBmb3IgbWVhc3VyaW5nIHRleHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NhbnZhcyA9IGNhbnZhcztcblxuLyoqXG4gKiBDYWNoZSBmb3IgY29udGV4dCB0byB1c2UuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4vKipcbiAqIENhY2hlIG9mIHtAc2VlIFBJWEkuVGV4dE1ldHJpY3MuRm9udE1ldHJpY3N9IG9iamVjdHMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcblxuLyoqXG4gKiBTdHJpbmcgdXNlZCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIFRoZXNlIGNoYXJhY3RlcnMgYXJlIGFsbCB0YWxsIHRvIGhlbHAgY2FsY3VsYXRlIHRoZSBoZWlnaHQgcmVxdWlyZWQgZm9yIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIE1FVFJJQ1NfU1RSSU5HXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgfMOJccOFXG4gKi9cblRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HID0gJ3zDiXHDhSc7XG5cbi8qKlxuICogQmFzZWxpbmUgc3ltYm9sIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9TWU1CT0xcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCBNXG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCA9ICdNJztcblxuLyoqXG4gKiBCYXNlbGluZSBtdWx0aXBsaWVyIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9NVUxUSVBMSUVSXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMS40XG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgPSAxLjQ7XG5cbi8qKlxuICogQ2FjaGUgb2YgbmV3IGxpbmUgY2hhcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9uZXdsaW5lcyA9IFtcbiAgICAweDAwMEEsIC8vIGxpbmUgZmVlZFxuICAgIDB4MDAwRCBdO1xuXG4vKipcbiAqIENhY2hlIG9mIGJyZWFraW5nIHNwYWNlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzID0gW1xuICAgIDB4MDAwOSwgLy8gY2hhcmFjdGVyIHRhYnVsYXRpb25cbiAgICAweDAwMjAsIC8vIHNwYWNlXG4gICAgMHgyMDAwLCAvLyBlbiBxdWFkXG4gICAgMHgyMDAxLCAvLyBlbSBxdWFkXG4gICAgMHgyMDAyLCAvLyBlbiBzcGFjZVxuICAgIDB4MjAwMywgLy8gZW0gc3BhY2VcbiAgICAweDIwMDQsIC8vIHRocmVlLXBlci1lbSBzcGFjZVxuICAgIDB4MjAwNSwgLy8gZm91ci1wZXItZW0gc3BhY2VcbiAgICAweDIwMDYsIC8vIHNpeC1wZXItZW0gc3BhY2VcbiAgICAweDIwMDgsIC8vIHB1bmN0dWF0aW9uIHNwYWNlXG4gICAgMHgyMDA5LCAvLyB0aGluIHNwYWNlXG4gICAgMHgyMDBBLCAvLyBoYWlyIHNwYWNlXG4gICAgMHgyMDVGLCAvLyBtZWRpdW0gbWF0aGVtYXRpY2FsIHNwYWNlXG4gICAgMHgzMDAwIF07XG5cbi8qKlxuICogQSBudW1iZXIsIG9yIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBudW1iZXIuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIElGb250TWV0cmljc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIEZvbnQgYXNjZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVzY2VudCAtIEZvbnQgZGVzY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvbnRTaXplIC0gRm9udCBzaXplXG4gKi9cblxuLyogZXNsaW50IG1heC1kZXB0aDogWzIsIDhdICovXG5cbnZhciBkZWZhdWx0RGVzdHJveU9wdGlvbnMgPSB7XG4gICAgdGV4dHVyZTogdHJ1ZSxcbiAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgYmFzZVRleHR1cmU6IHRydWUsXG59O1xuXG4vKipcbiAqIEEgVGV4dCBPYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQuXG4gKlxuICogVGhlIHRleHQgaXMgY3JlYXRlZCB1c2luZyB0aGUgW0NhbnZhcyBBUEldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJKS5cbiAqXG4gKiBUaGUgcHJpbWFyeSBhZHZhbnRhZ2Ugb2YgdGhpcyBjbGFzcyBvdmVyIEJpdG1hcFRleHQgaXMgdGhhdCB5b3UgaGF2ZSBncmVhdCBjb250cm9sIG92ZXIgdGhlIHN0eWxlIG9mIHRoZSBuZXh0LFxuICogd2hpY2ggeW91IGNhbiBjaGFuZ2UgYXQgcnVudGltZS5cbiAqXG4gKiBUaGUgcHJpbWFyeSBkaXNhZHZhbnRhZ2VzIGlzIHRoYXQgZWFjaCBwaWVjZSBvZiB0ZXh0IGhhcyBpdCdzIG93biB0ZXh0dXJlLCB3aGljaCBjYW4gdXNlIG1vcmUgbWVtb3J5LlxuICogV2hlbiB0ZXh0IGNoYW5nZXMsIHRoaXMgdGV4dHVyZSBoYXMgdG8gYmUgcmUtZ2VuZXJhdGVkIGFuZCByZS11cGxvYWRlZCB0byB0aGUgR1BVLCB0YWtpbmcgdXAgdGltZS5cbiAqXG4gKiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicgaW4geW91ciB0ZXh0IHN0cmluZywgb3IsIG9uIHRoZSBgc3R5bGVgIG9iamVjdCxcbiAqIGNoYW5nZSBpdHMgYHdvcmRXcmFwYCBwcm9wZXJ0eSB0byB0cnVlIGFuZCBhbmQgZ2l2ZSB0aGUgYHdvcmRXcmFwV2lkdGhgIHByb3BlcnR5IGEgdmFsdWUuXG4gKlxuICogQSBUZXh0IGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYSBzdHJpbmcgYW5kIGEgc3R5bGUgb2JqZWN0LFxuICogd2hpY2ggY2FuIGJlIGdlbmVyYXRlZCBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHQgPSBuZXcgUElYSS5UZXh0KCdUaGlzIGlzIGEgUGl4aUpTIHRleHQnLHtmb250RmFtaWx5IDogJ0FyaWFsJywgZm9udFNpemU6IDI0LCBmaWxsIDogMHhmZjEwMTAsIGFsaWduIDogJ2NlbnRlcid9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3ByaXRlKSB7XG4gICAgZnVuY3Rpb24gVGV4dCh0ZXh0LCBzdHlsZSwgY2FudmFzKVxuICAgIHtcbiAgICAgICAgY2FudmFzID0gY2FudmFzIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDM7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAzO1xuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tKGNhbnZhcyk7XG5cbiAgICAgICAgdGV4dHVyZS5vcmlnID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICB0ZXh0dXJlLnRyaW0gPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgU3ByaXRlLmNhbGwodGhpcywgdGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyAyZCBjb250ZXh0IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB3aXRoXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuXG4gICAgICAgICAqIFRoaXMgaXMgc2V0IHRvIGF1dG9tYXRpY2FsbHkgbWF0Y2ggdGhlIHJlbmRlcmVyIHJlc29sdXRpb24gYnkgZGVmYXVsdCwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgbWFudWFsbHkuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSBsaXN0ZW5lciB0byB0cmFjayBzdHlsZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0eWxlTGlzdGVuZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZvbnQgPSAnJztcblxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG5cbiAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICB9XG5cbiAgICBpZiAoIFNwcml0ZSApIFRleHQuX19wcm90b19fID0gU3ByaXRlO1xuICAgIFRleHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3ByaXRlICYmIFNwcml0ZS5wcm90b3R5cGUgKTtcbiAgICBUZXh0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRleHQ7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB3aWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxoZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sc3R5bGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGV4dDogeyBjb25maWd1cmFibGU6IHRydWUgfSxyZXNvbHV0aW9uOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzcGVjdERpcnR5IC0gV2hldGhlciB0byBhYm9ydCB1cGRhdGluZyB0aGUgdGV4dCBpZiB0aGUgVGV4dCBpc24ndCBkaXJ0eSBhbmQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0ID0gZnVuY3Rpb24gdXBkYXRlVGV4dCAocmVzcGVjdERpcnR5KVxuICAgIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgc3R5bGUgaGFzIGNoYW5nZWQuLlxuICAgICAgICBpZiAodGhpcy5sb2NhbFN0eWxlSUQgIT09IHN0eWxlLnN0eWxlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSBzdHlsZS5zdHlsZUlEO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmRpcnR5ICYmIHJlc3BlY3REaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZm9udCA9IHRoaXMuX3N0eWxlLnRvRm9udFN0cmluZygpO1xuXG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICB2YXIgbWVhc3VyZWQgPSBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCh0aGlzLl90ZXh0IHx8ICcgJywgdGhpcy5fc3R5bGUsIHRoaXMuX3N0eWxlLndvcmRXcmFwLCB0aGlzLmNhbnZhcyk7XG4gICAgICAgIHZhciB3aWR0aCA9IG1lYXN1cmVkLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gbWVhc3VyZWQuaGVpZ2h0O1xuICAgICAgICB2YXIgbGluZXMgPSBtZWFzdXJlZC5saW5lcztcbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBtZWFzdXJlZC5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IG1lYXN1cmVkLmxpbmVXaWR0aHM7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSBtZWFzdXJlZC5tYXhMaW5lV2lkdGg7XG4gICAgICAgIHZhciBmb250UHJvcGVydGllcyA9IG1lYXN1cmVkLmZvbnRQcm9wZXJ0aWVzO1xuXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCB3aWR0aCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSAqIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIGhlaWdodCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSAqIHRoaXMuX3Jlc29sdXRpb24pO1xuXG4gICAgICAgIGNvbnRleHQuc2NhbGUodGhpcy5fcmVzb2x1dGlvbiwgdGhpcy5fcmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5fZm9udDtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG5cbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblg7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25ZO1xuXG4gICAgICAgIC8vIHJlcXVpcmUgMiBwYXNzZXMgaWYgYSBzaGFkb3c7IHRoZSBmaXJzdCB0byBkcmF3IHRoZSBkcm9wIHNoYWRvdywgdGhlIHNlY29uZCB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICAgIHZhciBwYXNzZXNDb3VudCA9IHN0eWxlLmRyb3BTaGFkb3cgPyAyIDogMTtcblxuICAgICAgICAvLyBGb3IgdjQsIHdlIGRyZXcgdGV4dCBhdCB0aGUgY29sb3VycyBvZiB0aGUgZHJvcCBzaGFkb3cgdW5kZXJuZWF0aCB0aGUgbm9ybWFsIHRleHQuIFRoaXMgZ2F2ZSB0aGUgY29ycmVjdCB6SW5kZXgsXG4gICAgICAgIC8vIGJ1dCBmZWF0dXJlcyBzdWNoIGFzIGFscGhhIGFuZCBzaGFkb3dibHVyIGRpZCBub3QgbG9vayByaWdodCBhdCBhbGwsIHNpbmNlIHdlIHdlcmUgdXNpbmcgYWN0dWFsIHRleHQgYXMgYSBzaGFkb3cuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZvciB2NS4wLjAsIHdlIG1vdmVkIG92ZXIgdG8ganVzdCB1c2UgdGhlIGNhbnZhcyBBUEkgZm9yIGRyb3Agc2hhZG93cywgd2hpY2ggbWFkZSB0aGVtIGxvb2sgbXVjaCBuaWNlciBhbmQgbW9yZVxuICAgICAgICAvLyB2aXN1YWxseSBwbGVhc2UsIGJ1dCBub3cgYmVjYXVzZSB0aGUgc3Ryb2tlIGlzIGRyYXduIGFuZCB0aGVuIHRoZSBmaWxsLCBkcm9wIHNoYWRvd3Mgd291bGQgYXBwZWFyIG9uIGJvdGggdGhlIGZpbGxcbiAgICAgICAgLy8gYW5kIHRoZSBzdHJva2U7IGFuZCBmaWxsIGRyb3Agc2hhZG93cyB3b3VsZCBhcHBlYXIgb3ZlciB0aGUgdG9wIG9mIHRoZSBzdHJva2UuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEZvciB2NS4xLjEsIHRoZSBuZXcgcm91dGUgaXMgdG8gcmV2ZXJ0IHRvIHY0IHN0eWxlIG9mIGRyYXdpbmcgdGV4dCBmaXJzdCB0byBnZXQgdGhlIGRyb3Agc2hhZG93cyB1bmRlcm5lYXRoIG5vcm1hbFxuICAgICAgICAvLyB0ZXh0LCBidXQgaW5zdGVhZCBkcmF3aW5nIHRleHQgaW4gdGhlIGNvcnJlY3QgbG9jYXRpb24sIHdlJ2xsIGRyYXcgaXQgb2ZmIHNjcmVlbiAoLXBhZGRpbmdZKSwgYW5kIHRoZW4gYWRqdXN0IHRoZVxuICAgICAgICAvLyBkcm9wIHNoYWRvdyBzbyBvbmx5IHRoYXQgYXBwZWFycyBvbiBzY3JlZW4gKCtwYWRkaW5nWSkuIE5vdyB3ZSdsbCBoYXZlIHRoZSBjb3JyZWN0IGRyYXcgb3JkZXIgb2YgdGhlIHNoYWRvd1xuICAgICAgICAvLyBiZW5lYXRoIHRoZSB0ZXh0LCB3aGlsc3QgYWxzbyBoYXZpbmcgdGhlIHByb3BlciB0ZXh0IHNoYWRvdyBzdHlsaW5nLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhc3Nlc0NvdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpc1NoYWRvd1Bhc3MgPSBzdHlsZS5kcm9wU2hhZG93ICYmIGkgPT09IDA7XG4gICAgICAgICAgICB2YXIgZHNPZmZzZXRUZXh0ID0gaXNTaGFkb3dQYXNzID8gaGVpZ2h0ICogMiA6IDA7IC8vIHdlIG9ubHkgd2FudCB0aGUgZHJvcCBzaGFkb3csIHNvIHB1dCB0ZXh0IHdheSBvZmYtc2NyZWVuXG4gICAgICAgICAgICB2YXIgZHNPZmZzZXRTaGFkb3cgPSBkc09mZnNldFRleHQgKiB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGlmIChpc1NoYWRvd1Bhc3MpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gT24gU2FmYXJpLCB0ZXh0IHdpdGggZ3JhZGllbnQgYW5kIGRyb3Agc2hhZG93cyB0b2dldGhlciBkbyBub3QgcG9zaXRpb24gY29ycmVjdGx5XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNjYWxlIG9mIHRoZSBjYW52YXMgaXMgbm90IDE6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xOTc2ODlcbiAgICAgICAgICAgICAgICAvLyBUaGVyZWZvcmUgd2UnbGwgc2V0IHRoZSBzdHlsZXMgdG8gYmUgYSBwbGFpbiBibGFjayB3aGlsc3QgZ2VuZXJhdGluZyB0aGlzIGRyb3Agc2hhZG93XG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRyb3BTaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgICAgICB2YXIgcmdiID0gaGV4MnJnYih0eXBlb2YgZHJvcFNoYWRvd0NvbG9yID09PSAnbnVtYmVyJyA/IGRyb3BTaGFkb3dDb2xvciA6IHN0cmluZzJoZXgoZHJvcFNoYWRvd0NvbG9yKSk7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gXCJyZ2JhKFwiICsgKHJnYlswXSAqIDI1NSkgKyBcIixcIiArIChyZ2JbMV0gKiAyNTUpICsgXCIsXCIgKyAocmdiWzJdICogMjU1KSArIFwiLFwiICsgKHN0eWxlLmRyb3BTaGFkb3dBbHBoYSkgKyBcIilcIjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSBNYXRoLmNvcyhzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IChNYXRoLnNpbihzdHlsZS5kcm9wU2hhZG93QW5nbGUpICogc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlKSArIGRzT2Zmc2V0U2hhZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkcmF3IGxpbmVzIGxpbmUgYnkgbGluZVxuICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgbGluZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25ZID0gKChzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyKSArIChpJDEgKiBsaW5lSGVpZ2h0KSkgKyBmb250UHJvcGVydGllcy5hc2NlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaSQxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGUuYWxpZ24gPT09ICdjZW50ZXInKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpJDFdKSAvIDI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbaSQxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmZpbGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbaSQxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcgLSBkc09mZnNldFRleHRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSB0ZXh0IHdpdGggbGV0dGVyLXNwYWNpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBkcmF3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBIb3Jpem9udGFsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFZlcnRpY2FsIHBvc2l0aW9uIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cm9rZT1mYWxzZV0gLSBJcyB0aGlzIGRyYXdpbmcgZm9yIHRoZSBvdXRzaWRlIHN0cm9rZSBvZiB0aGVcbiAgICAgKiAgdGV4dD8gSWYgbm90LCBpdCdzIGZvciB0aGUgaW5zaWRlIGZpbGxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmRyYXdMZXR0ZXJTcGFjaW5nID0gZnVuY3Rpb24gZHJhd0xldHRlclNwYWNpbmcgKHRleHQsIHgsIHksIGlzU3Ryb2tlKVxuICAgIHtcbiAgICAgICAgaWYgKCBpc1N0cm9rZSA9PT0gdm9pZCAwICkgaXNTdHJva2UgPSBmYWxzZTtcblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBsZXR0ZXJTcGFjaW5nIG9mIDAgbWVhbnMgbm9ybWFsXG4gICAgICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZztcblxuICAgICAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IHg7XG5cbiAgICAgICAgLy8gVXNpbmcgQXJyYXkuZnJvbSBjb3JyZWN0bHkgc3BsaXRzIGNoYXJhY3RlcnMgd2hpbHN0IGtlZXBpbmcgZW1vamkgdG9nZXRoZXIuXG4gICAgICAgIC8vIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBvbiBJRSBhcyBpdCByZXF1aXJlcyBFUzYsIHNvIHJlZ3VsYXIgdGV4dCBzcGxpdHRpbmcgb2NjdXJzLlxuICAgICAgICAvLyBUaGlzIGFsc28gZG9lc24ndCBhY2NvdW50IGZvciBlbW9qaSB0aGF0IGFyZSBtdWx0aXBsZSBlbW9qaSBwdXQgdG9nZXRoZXIgdG8gbWFrZSBzb21ldGhpbmcgZWxzZS5cbiAgICAgICAgLy8gSGFuZGxpbmcgYWxsIG9mIHRoaXMgd291bGQgcmVxdWlyZSBhIGJpZyBsaWJyYXJ5IGl0c2VsZi5cbiAgICAgICAgLy8gaHR0cHM6Ly9tZWRpdW0uY29tL0BnaWx0YXlhci9pdGVyYXRpbmctb3Zlci1lbW9qaS1jaGFyYWN0ZXJzLXRoZS1lczYtd2F5LWYwNmU0NTg5NTE2XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9vcmxpbmcvZ3JhcGhlbWUtc3BsaXR0ZXJcbiAgICAgICAgdmFyIHN0cmluZ0FycmF5ID0gQXJyYXkuZnJvbSA/IEFycmF5LmZyb20odGV4dCkgOiB0ZXh0LnNwbGl0KCcnKTtcbiAgICAgICAgdmFyIHByZXZpb3VzV2lkdGggPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICAgIHZhciBjdXJyZW50V2lkdGggPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nQXJyYXkubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2hhciA9IHN0cmluZ0FycmF5W2ldO1xuXG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQoY3VycmVudENoYXIsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFdpZHRoID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQuc3Vic3RyaW5nKGkgKyAxKSkud2lkdGg7XG4gICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gKz0gcHJldmlvdXNXaWR0aCAtIGN1cnJlbnRXaWR0aCArIGxldHRlclNwYWNpbmc7XG4gICAgICAgICAgICBwcmV2aW91c1dpZHRoID0gY3VycmVudFdpZHRoO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dHVyZSBzaXplIGJhc2VkIG9uIGNhbnZhcyBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiB1cGRhdGVUZXh0dXJlICgpXG4gICAge1xuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlLnRyaW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0cmltbWVkID0gdHJpbUNhbnZhcyhjYW52YXMpO1xuXG4gICAgICAgICAgICBpZiAodHJpbW1lZC5kYXRhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRyaW1tZWQud2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHRyaW1tZWQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodHJpbW1lZC5kYXRhLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIHZhciBwYWRkaW5nID0gc3R5bGUudHJpbSA/IDAgOiBzdHlsZS5wYWRkaW5nO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIHRleHR1cmUudHJpbS53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gTWF0aC5jZWlsKGNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcblxuICAgICAgICB0ZXh0dXJlLm9yaWcud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAtIChwYWRkaW5nICogMik7XG4gICAgICAgIHRleHR1cmUub3JpZy5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgLSAocGFkZGluZyAqIDIpO1xuXG4gICAgICAgIC8vIGNhbGwgc3ByaXRlIG9uVGV4dHVyZVVwZGF0ZSB0byB1cGRhdGUgc2NhbGUgaWYgX3dpZHRoIG9yIF9oZWlnaHQgd2VyZSBzZXRcbiAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVhbFNpemUoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0LCB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvUmVzb2x1dGlvbiAmJiB0aGlzLl9yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIFNwcml0ZS5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSB0ZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzIChyZWN0KVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgVGV4dCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSBkb25lIHRoaXMgb24gVEhJUyBmcmFtZS5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGJlIGNhbGxlZCB1cG9uIGEgVGV4dFN0eWxlIGNoYW5nZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9vblN0eWxlQ2hhbmdlID0gZnVuY3Rpb24gX29uU3R5bGVDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fZ2VuZXJhdGVGaWxsU3R5bGUgPSBmdW5jdGlvbiBfZ2VuZXJhdGVGaWxsU3R5bGUgKHN0eWxlLCBsaW5lcylcbiAgICB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsZS5maWxsKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmZpbGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3R5bGUuZmlsbC5sZW5ndGggPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZS5maWxsWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlIGdyYWRpZW50IHdpbGwgYmUgZXZlbmx5IHNwYWNlZCBvdXQgYWNjb3JkaW5nIHRvIGhvdyBsYXJnZSB0aGUgYXJyYXkgaXMuXG4gICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSB3b3VsZCBjcmVhdGVkIHN0b3BzIGF0IDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICB2YXIgZ3JhZGllbnQ7XG4gICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgIHZhciBjdXJyZW50SXRlcmF0aW9uO1xuICAgICAgICB2YXIgc3RvcDtcblxuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5jYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgc3R5bGUgc2V0dGluZ3MsIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHRoZW0gbGF0ZXJcbiAgICAgICAgdmFyIGZpbGwgPSBzdHlsZS5maWxsLnNsaWNlKCk7XG4gICAgICAgIHZhciBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG5cbiAgICAgICAgLy8gd2FudGluZyB0byBldmVubHkgZGlzdHJpYnV0ZSB0aGUgZmlsbHMuIFNvIGFuIGFycmF5IG9mIDQgY29sb3VycyBzaG91bGQgZ2l2ZSBmaWxscyBvZiAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGhQbHVzMTsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgICAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICAgICAgZmlsbC51bnNoaWZ0KHN0eWxlLmZpbGxbMF0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy51bnNoaWZ0KDApO1xuXG4gICAgICAgIGZpbGwucHVzaChzdHlsZS5maWxsW3N0eWxlLmZpbGwubGVuZ3RoIC0gMV0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuXG4gICAgICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSB0b3AgY2VudGVyIG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGJvdHRvbSBtaWRkbGUgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgICAgZ3JhZGllbnQgPSB0aGlzLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQod2lkdGggLyAyLCAwLCB3aWR0aCAvIDIsIGhlaWdodCk7XG5cbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVwZWF0IHRoZSBncmFkaWVudCBzbyB0aGF0IGVhY2ggaW5kaXZpZHVhbCBsaW5lIG9mIHRleHQgaGFzIHRoZSBzYW1lIHZlcnRpY2FsIGdyYWRpZW50IGVmZmVjdFxuICAgICAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcbiAgICAgICAgICAgIHRvdGFsSXRlcmF0aW9ucyA9IChmaWxsLmxlbmd0aCArIDEpICogbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBsaW5lcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gKz0gMTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcCA9IChmaWxsR3JhZGllbnRTdG9wc1tqXSAvIGxpbmVzLmxlbmd0aCkgKyAoaSQxIC8gbGluZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIGhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uID0gMTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgZmlsbC5sZW5ndGg7IGkkMisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbaSQyXSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaSQyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2kkMl0pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0IG9iamVjdC5cbiAgICAgKiBOb3RlKiBVbmxpa2UgYSBTcHJpdGUsIGEgVGV4dCBvYmplY3Qgd2lsbCBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgaXRzIGJhc2VUZXh0dXJlIGFuZCB0ZXh0dXJlIGFzXG4gICAgICogdGhlIG1ham9yaXR5IG9mIHRoZSB0aW1lIHRoZSB0ZXh0dXJlIHdpbGwgbm90IGJlIHNoYXJlZCB3aXRoIGFueSBvdGhlciBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJylcbiAgICAgICAge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgY2hpbGRyZW46IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RGVzdHJveU9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byByZXNldCB0aGUgdGhlIGNvbnRleHQgYW5kIGNhbnZhcy4uIGRvbnQgd2FudCB0aGlzIGhhbmdpbmcgYXJvdW5kIGluIG1lbW9yeSFcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHlsZSBvZiB0aGUgdGV4dC4gU2V0IHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBvbiB0aGUgc3R5bGVcbiAgICAgKiBvYmplY3QgYW5kIG1hcmsgdGhlIHRleHQgYXMgZGlydHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnN0eWxlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zdHlsZS5zZXQgPSBmdW5jdGlvbiAoc3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcblxuICAgICAgICBpZiAoc3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zdHlsZSA9IG5ldyBUZXh0U3R5bGUoc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29weSBmb3IgdGhlIHRleHQgb2JqZWN0LiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dC5zZXQgPSBmdW5jdGlvbiAodGV4dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcblxuICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlc29sdXRpb24uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucmVzb2x1dGlvbi5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5fcmVzb2x1dGlvbiA9PT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBUZXh0LnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gVGV4dDtcbn0oU3ByaXRlKSk7XG5cbmV4cG9ydCB7IFRFWFRfR1JBRElFTlQsIFRleHQsIFRleHRNZXRyaWNzLCBUZXh0U3R5bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3ByZXBhcmUgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvcHJlcGFyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBUZXh0LCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5cbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2YgdXBsb2FkcyBwZXIgZnJhbWUgdXNpbmcgcHJlcGFyZSBwbHVnaW4uXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEBuYW1lIFVQTE9BRFNfUEVSX0ZSQU1FXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgNFxuICovXG5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSA9IDQ7XG5cbi8qKlxuICogQ291bnRMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIGl0ZW1zIHBlciBmcmFtZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xudmFyIENvdW50TGltaXRlciA9IGZ1bmN0aW9uIENvdW50TGltaXRlcihtYXhJdGVtc1BlckZyYW1lKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBlYWNoIGZyYW1lLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heEl0ZW1zUGVyRnJhbWUgPSBtYXhJdGVtc1BlckZyYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gMDtcbn07XG5cbi8qKlxuICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICovXG5Db3VudExpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiBiZWdpbkZyYW1lICgpXG57XG4gICAgdGhpcy5pdGVtc0xlZnQgPSB0aGlzLm1heEl0ZW1zUGVyRnJhbWU7XG59O1xuXG4vKipcbiAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gKi9cbkNvdW50TGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gYWxsb3dlZFRvVXBsb2FkICgpXG57XG4gICAgcmV0dXJuIHRoaXMuaXRlbXNMZWZ0LS0gPiAwO1xufTtcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS5cbiAqXG4gKiBCYXNlUHJlcGFyZSBoYW5kbGVzIGJhc2ljIHF1ZXVpbmcgZnVuY3Rpb25hbGl0eSBhbmQgaXMgZXh0ZW5kZWQgYnlcbiAqIHtAbGluayBQSVhJLnByZXBhcmUuUHJlcGFyZX0gYW5kIHtAbGluayBQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZX1cbiAqIHRvIHByb3ZpZGUgcHJlcGFyYXRpb24gY2FwYWJpbGl0aWVzIHNwZWNpZmljIHRvIHRoZWlyIHJlc3BlY3RpdmUgcmVuZGVyZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBzcHJpdGVcbiAqIGNvbnN0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oJ3NvbWV0aGluZy5wbmcnKTtcbiAqXG4gKiAvLyBMb2FkIG9iamVjdCBpbnRvIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoc3ByaXRlLCAoKSA9PiB7XG4gKlxuICogICAgIC8vVGV4dHVyZShzKSBoYXMgYmVlbiB1cGxvYWRlZCB0byBHUFVcbiAqICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiB9KVxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbnZhciBCYXNlUHJlcGFyZSA9IGZ1bmN0aW9uIEJhc2VQcmVwYXJlKHJlbmRlcmVyKVxue1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxpbWl0ZXIgdG8gYmUgdXNlZCB0byBjb250cm9sIGhvdyBxdWlja2x5IGl0ZW1zIGFyZSBwcmVwYXJlZC5cbiAgICAgKiBAdHlwZSB7UElYSS5wcmVwYXJlLkNvdW50TGltaXRlcnxQSVhJLnByZXBhcmUuVGltZUxpbWl0ZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW1pdGVyID0gbmV3IENvdW50TGltaXRlcihzZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSk7XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyLlxuICAgICAqIEB0eXBlIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvbmx5IHJlYWwgZGlmZmVyZW5jZSBiZXR3ZWVuIENhbnZhc1ByZXBhcmUgYW5kIFByZXBhcmUgaXMgd2hhdCB0aGV5IHBhc3NcbiAgICAgKiB0byB1cGxvYWQgaG9va3MuIFRoYXQgZGlmZmVyZW50IHBhcmFtZXRlciBpcyBzdG9yZWQgaGVyZS5cbiAgICAgKiBAdHlwZSB7UElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmV8UElYSS5SZW5kZXJlcn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkcyBhdCBvbmNlLlxuICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBhc3NldHMuXG4gICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuYWRkSG9va3MgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgcHJvY2Vzc2luZyBhc3NldHMuXG4gICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHRvIGNhbGwgYWZ0ZXIgY29tcGxldGVkLlxuICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmNvbXBsZXRlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogSWYgcHJlcGFyZSBpcyB0aWNraW5nIChydW5uaW5nKS5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogJ2JvdW5kJyBjYWxsIGZvciBwcmVwYXJlSXRlbXMoKS5cbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRlbGF5ZWRUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB1bmxpa2VseSwgYnV0IGluIGNhc2Ugd2Ugd2VyZSBkZXN0cm95ZWQgYmV0d2VlbiB0aWNrKCkgYW5kIGRlbGF5ZWRUaWNrKClcbiAgICAgICAgaWYgKCF0aGlzJDEucXVldWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzJDEucHJlcGFyZUl0ZW1zKCk7XG4gICAgfTtcblxuICAgIC8vIGhvb2tzIHRvIGZpbmQgdGhlIGNvcnJlY3QgdGV4dHVyZVxuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dCk7XG4gICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0U3R5bGUpO1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMpO1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kQmFzZVRleHR1cmUpO1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dHVyZSk7XG5cbiAgICAvLyB1cGxvYWQgaG9va3NcbiAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhkcmF3VGV4dCk7XG4gICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soY2FsY3VsYXRlVGV4dFN0eWxlKTtcbn07XG5cbi8qKlxuICogVXBsb2FkIGFsbCB0aGUgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbnxQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR9IGl0ZW0gLVxuICogICAgRWl0aGVyIHRoZSBjb250YWluZXIgb3IgZGlzcGxheSBvYmplY3QgdG8gc2VhcmNoIGZvciBpdGVtcyB0byB1cGxvYWQsIHRoZSBpdGVtcyB0byB1cGxvYWQgdGhlbXNlbHZlcyxcbiAqICAgIG9yIHRoZSBjYWxsYmFjayBmdW5jdGlvbiwgaWYgaXRlbXMgaGF2ZSBiZWVuIGFkZGVkIHVzaW5nIGBwcmVwYXJlLmFkZGAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZG9uZV0gLSBPcHRpb25hbCBjYWxsYmFjayB3aGVuIGFsbCBxdWV1ZWQgdXBsb2FkcyBoYXZlIGNvbXBsZXRlZFxuICovXG5CYXNlUHJlcGFyZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChpdGVtLCBkb25lKVxue1xuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJylcbiAgICB7XG4gICAgICAgIGRvbmUgPSBpdGVtO1xuICAgICAgICBpdGVtID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBJZiBhIGRpc3BsYXkgb2JqZWN0LCBzZWFyY2ggZm9yIGl0ZW1zXG4gICAgLy8gdGhhdCB3ZSBjb3VsZCB1cGxvYWRcbiAgICBpZiAoaXRlbSlcbiAgICB7XG4gICAgICAgIHRoaXMuYWRkKGl0ZW0pO1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgaXRlbXMgZm9yIHVwbG9hZCBmcm9tIHRoZSBkaXNwbGF5XG4gICAgaWYgKHRoaXMucXVldWUubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLnB1c2goZG9uZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudGlja2luZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIFVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChkb25lKVxuICAgIHtcbiAgICAgICAgZG9uZSgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogSGFuZGxlIHRpY2sgdXBkYXRlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiB0aWNrICgpXG57XG4gICAgc2V0VGltZW91dCh0aGlzLmRlbGF5ZWRUaWNrLCAwKTtcbn07XG5cbi8qKlxuICogQWN0dWFsbHkgcHJlcGFyZSBpdGVtcy4gVGhpcyBpcyBoYW5kbGVkIG91dHNpZGUgb2YgdGhlIHRpY2sgYmVjYXVzZSBpdCB3aWxsIHRha2UgYSB3aGlsZVxuICogYW5kIHdlIGRvIE5PVCB3YW50IHRvIGJsb2NrIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZSBmcm9tIHJlbmRlcmluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5CYXNlUHJlcGFyZS5wcm90b3R5cGUucHJlcGFyZUl0ZW1zID0gZnVuY3Rpb24gcHJlcGFyZUl0ZW1zICgpXG57XG4gICAgdGhpcy5saW1pdGVyLmJlZ2luRnJhbWUoKTtcbiAgICAvLyBVcGxvYWQgdGhlIGdyYXBoaWNzXG4gICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoICYmIHRoaXMubGltaXRlci5hbGxvd2VkVG9VcGxvYWQoKSlcbiAgICB7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5xdWV1ZVswXTtcbiAgICAgICAgdmFyIHVwbG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uX2Rlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXBsb2FkSG9va3NbaV0odGhpcy51cGxvYWRIb29rSGVscGVyLCBpdGVtKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXVwbG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSdyZSBmaW5pc2hlZFxuICAgIGlmICghdGhpcy5xdWV1ZS5sZW5ndGgpXG4gICAge1xuICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgICAgICB2YXIgY29tcGxldGVzID0gdGhpcy5jb21wbGV0ZXMuc2xpY2UoMCk7XG5cbiAgICAgICAgdGhpcy5jb21wbGV0ZXMubGVuZ3RoID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwLCBsZW4kMSA9IGNvbXBsZXRlcy5sZW5ndGg7IGkkMSA8IGxlbiQxOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29tcGxldGVzW2kkMV0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGZpbmlzaGVkLCBvbiB0aGUgbmV4dCByQUYgZG8gdGhpcyBhZ2FpblxuICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBZGRzIGhvb2tzIGZvciBmaW5kaW5nIGl0ZW1zLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFkZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBpdGVtOiosIHF1ZXVlOkFycmF5YFxuICogICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gYWRkIGl0ZW0gdG8gdGhlIHF1ZXVlLlxuICogQHJldHVybiB7UElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICovXG5CYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJGaW5kSG9vayA9IGZ1bmN0aW9uIHJlZ2lzdGVyRmluZEhvb2sgKGFkZEhvb2spXG57XG4gICAgaWYgKGFkZEhvb2spXG4gICAge1xuICAgICAgICB0aGlzLmFkZEhvb2tzLnB1c2goYWRkSG9vayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZHMgaG9va3MgZm9yIHVwbG9hZGluZyBpdGVtcy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGxvYWRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICogICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gaGFuZGxlIHVwbG9hZCBvZiBpdGVtLlxuICogQHJldHVybiB7UElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICovXG5CYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJVcGxvYWRIb29rID0gZnVuY3Rpb24gcmVnaXN0ZXJVcGxvYWRIb29rICh1cGxvYWRIb29rKVxue1xuICAgIGlmICh1cGxvYWRIb29rKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rcy5wdXNoKHVwbG9hZEhvb2spO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBNYW51YWxseSBhZGQgYW4gaXRlbSB0byB0aGUgdXBsb2FkaW5nIHF1ZXVlLlxuICpcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fCp9IGl0ZW0gLSBPYmplY3QgdG9cbiAqICAgIGFkZCB0byB0aGUgcXVldWVcbiAqIEByZXR1cm4ge1BJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCAoaXRlbSlcbntcbiAgICAvLyBBZGQgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBlbGVtZW50cyBvbiBzcGVjaWFsXG4gICAgLy8gdHlwZXMgb2Ygb2JqZWN0cyB0aGF0XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuYWRkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAge1xuICAgICAgICBpZiAodGhpcy5hZGRIb29rc1tpXShpdGVtLCB0aGlzLnF1ZXVlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZXQgY2hpbGRyZW4gcmVjdXJzaXZlbHlcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIENvbnRhaW5lcilcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkkMSA9IGl0ZW0uY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSQxID49IDA7IGkkMS0tKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFkZChpdGVtLmNoaWxkcmVuW2kkMV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBwbHVnaW4sIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICpcbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgaWYgKHRoaXMudGlja2luZylcbiAgICB7XG4gICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudGljaywgdGhpcyk7XG4gICAgfVxuICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgIHRoaXMuYWRkSG9va3MgPSBudWxsO1xuICAgIHRoaXMudXBsb2FkSG9va3MgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuY29tcGxldGVzID0gbnVsbDtcbiAgICB0aGlzLnF1ZXVlID0gbnVsbDtcbiAgICB0aGlzLmxpbWl0ZXIgPSBudWxsO1xuICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG59O1xuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBtdWx0aXBsZSB0ZXh0dXJlcyBmcm9tIG9iamVjdHMgbGlrZSBBbmltYXRlZFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyhpdGVtLCBxdWV1ZSlcbntcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAvLyBPYmplY3RzIHdpdGggbXVsdGlwbGUgdGV4dHVyZXNcbiAgICBpZiAoaXRlbSAmJiBpdGVtLl90ZXh0dXJlcyAmJiBpdGVtLl90ZXh0dXJlcy5sZW5ndGgpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0uX3RleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaXRlbS5fdGV4dHVyZXNbaV0gaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGl0ZW0uX3RleHR1cmVzW2ldLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoYmFzZVRleHR1cmUpID09PSAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIEJhc2VUZXh0dXJlcyBmcm9tIFRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRCYXNlVGV4dHVyZShpdGVtLCBxdWV1ZSlcbntcbiAgICBpZiAoaXRlbS5iYXNlVGV4dHVyZSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBpdGVtLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgdGV4dHVyZXMgZnJvbSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dHVyZShpdGVtLCBxdWV1ZSlcbntcbiAgICBpZiAoaXRlbS5fdGV4dHVyZSAmJiBpdGVtLl90ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBkcmF3IFBJWEkuVGV4dCB0byBpdHMgdGV4dHVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfFBJWEkuQ2FudmFzUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gZHJhd1RleHQoaGVscGVyLCBpdGVtKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dClcbiAgICB7XG4gICAgICAgIC8vIHVwZGF0aW5nIHRleHQgd2lsbCByZXR1cm4gZWFybHkgaWYgaXQgaXMgbm90IGRpcnR5XG4gICAgICAgIGl0ZW0udXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBjYWxjdWxhdGUgYSB0ZXh0IHN0eWxlIGZvciBhIFBJWEkuVGV4dCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1ByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVRleHRTdHlsZShoZWxwZXIsIGl0ZW0pXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0U3R5bGUpXG4gICAge1xuICAgICAgICB2YXIgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0IG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0IG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0KGl0ZW0sIHF1ZXVlKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dClcbiAgICB7XG4gICAgICAgIC8vIHB1c2ggdGhlIHRleHQgc3R5bGUgdG8gcHJlcGFyZSBpdCAtIHRoaXMgY2FuIGJlIHJlYWxseSBleHBlbnNpdmVcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbS5zdHlsZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0uc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgdGV4dCBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gcmVuZGVyIGl0ICh0byBjYW52YXMvdGV4dHVyZSkgaWYgbmVlZGVkXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIFRleHQncyB0ZXh0dXJlIGZvciB1cGxvYWQgdG8gR1BVXG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHRTdHlsZSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0U3R5bGUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHRTdHlsZShpdGVtLCBxdWV1ZSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHRTdHlsZSlcbiAgICB7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLnByZXBhcmVgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmVcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xudmFyIFByZXBhcmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlUHJlcGFyZSkge1xuICAgIGZ1bmN0aW9uIFByZXBhcmUocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBCYXNlUHJlcGFyZS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIC8vIEFkZCB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdXBsb2FkXG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kR3JhcGhpY3MpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRCYXNlVGV4dHVyZXMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRHcmFwaGljcyk7XG4gICAgfVxuXG4gICAgaWYgKCBCYXNlUHJlcGFyZSApIFByZXBhcmUuX19wcm90b19fID0gQmFzZVByZXBhcmU7XG4gICAgUHJlcGFyZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlUHJlcGFyZSAmJiBCYXNlUHJlcGFyZS5wcm90b3R5cGUgKTtcbiAgICBQcmVwYXJlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByZXBhcmU7XG5cbiAgICByZXR1cm4gUHJlcGFyZTtcbn0oQmFzZVByZXBhcmUpKTtcbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5UZXh0dXJlIG9iamVjdHMgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgaXRlbSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgLy8gaWYgdGhlIHRleHR1cmUgYWxyZWFkeSBoYXMgYSBHTCB0ZXh0dXJlLCB0aGVuIHRoZSB0ZXh0dXJlIGhhcyBiZWVuIHByZXBhcmVkIG9yIHJlbmRlcmVkXG4gICAgICAgIC8vIGJlZm9yZSBub3cuIElmIHRoZSB0ZXh0dXJlIGNoYW5nZWQsIHRoZW4gdGhlIGNoYW5nZXIgc2hvdWxkIGJlIGNhbGxpbmcgdGV4dHVyZS51cGRhdGUoKSB3aGljaFxuICAgICAgICAvLyByZXVwbG9hZHMgdGhlIHRleHR1cmUgd2l0aG91dCBuZWVkIGZvciBwcmVwYXJpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKCFpdGVtLl9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuR3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkR3JhcGhpY3MocmVuZGVyZXIsIGl0ZW0pXG57XG4gICAgaWYgKCEoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZ2VvbWV0cnkgPSBpdGVtLmdlb21ldHJ5O1xuXG4gICAgLy8gdXBkYXRlIGRpcnR5IGdyYXBoaWNzIHRvIGdldCBiYXRjaGVzXG4gICAgaXRlbS5maW5pc2hQb2x5KCk7XG4gICAgZ2VvbWV0cnkudXBkYXRlQmF0Y2hlcygpO1xuXG4gICAgdmFyIGJhdGNoZXMgPSBnZW9tZXRyeS5iYXRjaGVzO1xuXG4gICAgLy8gdXBsb2FkIGFsbCB0ZXh0dXJlcyBmb3VuZCBpbiBzdHlsZXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gYmF0Y2hlc1tpXS5zdHlsZTtcbiAgICAgICAgdmFyIHRleHR1cmUgPSByZWYudGV4dHVyZTtcblxuICAgICAgICBpZiAodGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCB0ZXh0dXJlLmJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGlmIGl0cyBub3QgYmF0Y2hhYmxlIC0gdXBkYXRlIHZhbyBmb3IgcGFydGljdWxhciBzaGFkZXJcbiAgICBpZiAoIWdlb21ldHJ5LmJhdGNoYWJsZSlcbiAgICB7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQoZ2VvbWV0cnksIGl0ZW0uX3Jlc29sdmVEaXJlY3RTaGFkZXIoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIGdyYXBoaWNzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuR3JhcGhpY3Mgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEdyYXBoaWNzKGl0ZW0sIHF1ZXVlKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgR3JhcGhpY3MpXG4gICAge1xuICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUaW1lTGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHBlciBmcmFtZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xudmFyIFRpbWVMaW1pdGVyID0gZnVuY3Rpb24gVGltZUxpbWl0ZXIobWF4TWlsbGlzZWNvbmRzKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tYXhNaWxsaXNlY29uZHMgPSBtYXhNaWxsaXNlY29uZHM7XG4gICAgLyoqXG4gICAgICogVGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZnJhbWVTdGFydCA9IDA7XG59O1xuXG4vKipcbiAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAqL1xuVGltZUxpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiBiZWdpbkZyYW1lICgpXG57XG4gICAgdGhpcy5mcmFtZVN0YXJ0ID0gRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGl0ZW0gaXMgYWxsb3dlZCB0byBiZSB1cGxvYWRlZC5cbiAqL1xuVGltZUxpbWl0ZXIucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZCA9IGZ1bmN0aW9uIGFsbG93ZWRUb1VwbG9hZCAoKVxue1xuICAgIHJldHVybiBEYXRlLm5vdygpIC0gdGhpcy5mcmFtZVN0YXJ0IDwgdGhpcy5tYXhNaWxsaXNlY29uZHM7XG59O1xuXG4vKipcbiAqIFRoZSBwcmVwYXJlIG5hbWVzcGFjZSBwcm92aWRlcyByZW5kZXJlci1zcGVjaWZpYyBwbHVnaW5zIGZvciBwcmUtcmVuZGVyaW5nIERpc3BsYXlPYmplY3RzLiBUaGVzZSBwbHVnaW5zIGFyZSB1c2VmdWwgZm9yXG4gKiBhc3luY2hyb25vdXNseSBwcmVwYXJpbmcgYW5kIHVwbG9hZGluZyB0byB0aGUgR1BVIGFzc2V0cywgdGV4dHVyZXMsIGdyYXBoaWNzIHdhaXRpbmcgdG8gYmUgZGlzcGxheWVkLlxuICpcbiAqIERvIG5vdCBpbnN0YW50aWF0ZSB0aGVzZSBwbHVnaW5zIGRpcmVjdGx5LiBJdCBpcyBhdmFpbGFibGUgZnJvbSB0aGUgYHJlbmRlcmVyLnBsdWdpbnNgIHByb3BlcnR5LlxuICogU2VlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnN9IG9yIHtAbGluayBQSVhJLlJlbmRlcmVyI3BsdWdpbnN9LlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIERvbid0IHN0YXJ0IHJlbmRlcmluZyByaWdodCBhd2F5XG4gKiBhcHAuc3RvcCgpO1xuICpcbiAqIC8vIGNyZWF0ZSBhIGRpc3BsYXkgb2JqZWN0XG4gKiBjb25zdCByZWN0ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHgwMGZmMDApXG4gKiAgICAgLmRyYXdSZWN0KDQwLCA0MCwgMjAwLCAyMDApO1xuICpcbiAqIC8vIEFkZCB0byB0aGUgc3RhZ2VcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChyZWN0KTtcbiAqXG4gKiAvLyBEb24ndCBzdGFydCByZW5kZXJpbmcgdW50aWwgdGhlIGdyYXBoaWMgaXMgdXBsb2FkZWQgdG8gdGhlIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoYXBwLnN0YWdlLCAoKSA9PiB7XG4gKiAgICAgYXBwLnN0YXJ0KCk7XG4gKiB9KTtcbiAqIEBuYW1lc3BhY2UgUElYSS5wcmVwYXJlXG4gKi9cblxuZXhwb3J0IHsgQmFzZVByZXBhcmUsIENvdW50TGltaXRlciwgUHJlcGFyZSwgVGltZUxpbWl0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZXBhcmUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2FwcCAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9hcHAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIENvbnZlbmllbmNlIGNsYXNzIHRvIGNyZWF0ZSBhIG5ldyBQSVhJIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoaXMgY2xhc3MgYXV0b21hdGljYWxseSBjcmVhdGVzIHRoZSByZW5kZXJlciwgdGlja2VyIGFuZCByb290IGNvbnRhaW5lci5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBBZGQgdGhlIHZpZXcgdG8gdGhlIERPTVxuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKlxuICogLy8gZXgsIGFkZCBkaXNwbGF5IG9iamVjdHNcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJykpO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFwcGxpY2F0aW9uID0gZnVuY3Rpb24gQXBwbGljYXRpb24ob3B0aW9ucylcbntcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIC8vIFRoZSBkZWZhdWx0IG9wdGlvbnNcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGZvcmNlQ2FudmFzOiBmYWxzZSxcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIFdlYkdMIHJlbmRlcmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIENhbnZhc1JlbmRlcmVyLlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyID0gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvb3QgZGlzcGxheSBjb250YWluZXIgdGhhdCdzIHJlbmRlcmVkLlxuICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAqL1xuICAgIHRoaXMuc3RhZ2UgPSBuZXcgQ29udGFpbmVyKCk7XG5cbiAgICAvLyBpbnN0YWxsIHBsdWdpbnMgaGVyZVxuICAgIEFwcGxpY2F0aW9uLl9wbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICBwbHVnaW4uaW5pdC5jYWxsKHRoaXMkMSwgb3B0aW9ucyk7XG4gICAgfSk7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB2aWV3OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHNjcmVlbjogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIFJlZ2lzdGVyIGEgbWlkZGxld2FyZSBwbHVnaW4gZm9yIHRoZSBhcHBsaWNhdGlvblxuICogQHN0YXRpY1xuICogQHBhcmFtIHtQSVhJLkFwcGxpY2F0aW9uLlBsdWdpbn0gcGx1Z2luIC0gUGx1Z2luIGJlaW5nIGluc3RhbGxlZFxuICovXG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luIChwbHVnaW4pXG57XG4gICAgQXBwbGljYXRpb24uX3BsdWdpbnMucHVzaChwbHVnaW4pO1xufTtcblxuLyoqXG4gKiBSZW5kZXIgdGhlIGN1cnJlbnQgc3RhZ2UuXG4gKi9cbkFwcGxpY2F0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKClcbntcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnN0YWdlKTtcbn07XG5cbi8qKlxuICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIGNhbnZhcyBlbGVtZW50LlxuICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gKiBAcmVhZG9ubHlcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnZpZXcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlci52aWV3O1xufTtcblxuLyoqXG4gKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3Mgc2NyZWVuIHJlY3RhbmdsZS4gSXRzIHNhZmUgdG8gdXNlIGFzIGBmaWx0ZXJBcmVhYCBvciBgaGl0QXJlYWAgZm9yIHRoZSB3aG9sZSBzY3JlZW4uXG4gKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAqIEByZWFkb25seVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuc2NyZWVuLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuc2NyZWVuO1xufTtcblxuLyoqXG4gKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIEF1dG9tYXRpY2FsbHkgcmVtb3ZlIGNhbnZhcyBmcm9tIERPTS5cbiAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtzdGFnZU9wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnc3RhZ2VPcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gKiAgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gKiAgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gKi9cbkFwcGxpY2F0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAocmVtb3ZlVmlldywgc3RhZ2VPcHRpb25zKVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIC8vIERlc3Ryb3kgcGx1Z2lucyBpbiB0aGUgb3Bwb3NpdGUgb3JkZXJcbiAgICAvLyB3aGljaCB0aGV5IHdlcmUgY29uc3RydWN0ZWRcbiAgICB2YXIgcGx1Z2lucyA9IEFwcGxpY2F0aW9uLl9wbHVnaW5zLnNsaWNlKDApO1xuXG4gICAgcGx1Z2lucy5yZXZlcnNlKCk7XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgcGx1Z2luLmRlc3Ryb3kuY2FsbCh0aGlzJDEpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zdGFnZS5kZXN0cm95KHN0YWdlT3B0aW9ucyk7XG4gICAgdGhpcy5zdGFnZSA9IG51bGw7XG5cbiAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG5cbiAgICB0aGlzLl9vcHRpb25zID0gbnVsbDtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBBcHBsaWNhdGlvbi5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBQbHVnaW5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGluaXQgLSBDYWxsZWQgd2hlbiBBcHBsaWNhdGlvbiBpcyBjb25zdHJ1Y3RlZCwgc2NvcGVkIHRvIEFwcGxpY2F0aW9uIGluc3RhbmNlLlxuICogIFBhc3NlcyBpbiBgb3B0aW9uc2AgYXMgdGhlIG9ubHkgYXJndW1lbnQsIHdoaWNoIGFyZSBBcHBsaWNhdGlvbiBjb25zdHJ1Y3RvciBvcHRpb25zLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gZGVzdHJveSAtIENhbGxlZCB3aGVuIGRlc3Ryb3lpbmcgQXBwbGljYXRpb24sIHNjb3BlZCB0byBBcHBsaWNhdGlvbiBpbnN0YW5jZVxuICovXG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcGx1Z2lucy5cbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAdHlwZSB7UElYSS5BcHBsaWNhdGlvbi5QbHVnaW5bXX1cbiAqL1xuQXBwbGljYXRpb24uX3BsdWdpbnMgPSBbXTtcblxuLyoqXG4gKiBNaWRkbGV3YXJlIGZvciBmb3IgQXBwbGljYXRpb24ncyByZXNpemUgZnVuY3Rpb25hbGl0eVxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICovXG52YXIgUmVzaXplUGx1Z2luID0gZnVuY3Rpb24gUmVzaXplUGx1Z2luICgpIHt9O1xuXG5SZXNpemVQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIGluaXQgKG9wdGlvbnMpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGVsZW1lbnQgb3Igd2luZG93IHRvIHJlc2l6ZSB0aGUgYXBwbGljYXRpb24gdG8uXG4gICAgICogQHR5cGUge1dpbmRvd3xIVE1MRWxlbWVudH1cbiAgICAgKiBAbmFtZSByZXNpemVUb1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVzaXplVG8nLFxuICAgICAgICB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkb20pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNpemVUbyA9IGRvbTtcbiAgICAgICAgICAgICAgICBpZiAoZG9tKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXNpemVUbztcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSWYgYHJlc2l6ZVRvYCBpcyBzZXQsIGNhbGxpbmcgdGhpcyBmdW5jdGlvblxuICAgICAqIHdpbGwgcmVzaXplIHRvIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoYXQgZWxlbWVudC5cbiAgICAgKiBAbWV0aG9kIFBJWEkuQXBwbGljYXRpb24jcmVzaXplXG4gICAgICovXG4gICAgdGhpcy5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzJDEuX3Jlc2l6ZVRvKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBSZXNpemUgdG8gdGhlIHdpbmRvd1xuICAgICAgICAgICAgaWYgKHRoaXMkMS5fcmVzaXplVG8gPT09IHdpbmRvdylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEucmVuZGVyZXIucmVzaXplKFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlc2l6ZSB0byBvdGhlciBIVE1MIGVudGl0aWVzXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLnJlbmRlcmVyLnJlc2l6ZShcbiAgICAgICAgICAgICAgICAgICAgdGhpcyQxLl9yZXNpemVUby5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcyQxLl9yZXNpemVUby5jbGllbnRIZWlnaHRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIE9uIHJlc2l6ZVxuICAgIHRoaXMuX3Jlc2l6ZVRvID0gbnVsbDtcbiAgICB0aGlzLnJlc2l6ZVRvID0gb3B0aW9ucy5yZXNpemVUbyB8fCBudWxsO1xufTtcblxuLyoqXG4gKiBDbGVhbiB1cCB0aGUgdGlja2VyLCBzY29wZWQgdG8gYXBwbGljYXRpb25cbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKi9cblJlc2l6ZVBsdWdpbi5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMucmVzaXplVG8gPSBudWxsO1xuICAgIHRoaXMucmVzaXplID0gbnVsbDtcbn07XG5cbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFJlc2l6ZVBsdWdpbik7XG5cbmV4cG9ydCB7IEFwcGxpY2F0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAuZXMuanMubWFwXG4iLCIvKiFcbiAqIHJlc291cmNlLWxvYWRlciAtIHYzLjAuMVxuICogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLXNvdW5kXG4gKiBDb21waWxlZCBUdWUsIDAyIEp1bCAyMDE5IDE0OjA2OjE4IFVUQ1xuICpcbiAqIHJlc291cmNlLWxvYWRlciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBwYXJzZVVyaSBmcm9tICdwYXJzZS11cmknO1xuaW1wb3J0IFNpZ25hbCBmcm9tICdtaW5pLXNpZ25hbHMnO1xuXG4vKipcbiAqIFNtYWxsZXIgdmVyc2lvbiBvZiB0aGUgYXN5bmMgbGlicmFyeSBjb25zdHJ1Y3RzLlxuICpcbiAqIEBuYW1lc3BhY2UgYXN5bmNcbiAqL1xuXG4vKipcbiAqIE5vb3AgZnVuY3Rpb25cbiAqXG4gKiBAaWdub3JlXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBhc3luY1xuICovXG5mdW5jdGlvbiBfbm9vcCgpIHt9XG4vKiBlbXB0eSAqL1xuXG4vKipcbiAqIEl0ZXJhdGVzIGFuIGFycmF5IGluIHNlcmllcy5cbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBlYWNoU2VyaWVzXG4gKiBAcGFyYW0ge0FycmF5LjwqPn0gYXJyYXkgLSBBcnJheSB0byBpdGVyYXRlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0b3IgLSBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBkb25lLCBvciBvbiBlcnJvci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZmVyTmV4dD1mYWxzZV0gLSBCcmVhayBzeW5jaHJvbm91cyBlYWNoIGxvb3AgYnkgY2FsbGluZyBuZXh0IHdpdGggYSBzZXRUaW1lb3V0IG9mIDEuXG4gKi9cblxuXG5mdW5jdGlvbiBlYWNoU2VyaWVzKGFycmF5LCBpdGVyYXRvciwgY2FsbGJhY2ssIGRlZmVyTmV4dCkge1xuICB2YXIgaSA9IDA7XG4gIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgKGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgaWYgKGVyciB8fCBpID09PSBsZW4pIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRlZmVyTmV4dCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgICAgfSwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgIH1cbiAgfSkoKTtcbn1cbi8qKlxuICogRW5zdXJlcyBhIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogQGlnbm9yZVxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSB3cmFwcGluZyBmdW5jdGlvbi5cbiAqL1xuXG5mdW5jdGlvbiBvbmx5T25jZShmbikge1xuICByZXR1cm4gZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gICAgaWYgKGZuID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgY2FsbEZuID0gZm47XG4gICAgZm4gPSBudWxsO1xuICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuLyoqXG4gKiBBc3luYyBxdWV1ZSBpbXBsZW1lbnRhdGlvbixcbiAqXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBmdW5jdGlvbiBxdWV1ZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gd29ya2VyIC0gVGhlIHdvcmtlciBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHRhc2suXG4gKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gKiBAcmV0dXJuIHsqfSBUaGUgYXN5bmMgcXVldWUgb2JqZWN0LlxuICovXG5cblxuZnVuY3Rpb24gcXVldWUod29ya2VyLCBjb25jdXJyZW5jeSkge1xuICBpZiAoY29uY3VycmVuY3kgPT0gbnVsbCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICBjb25jdXJyZW5jeSA9IDE7XG4gIH0gZWxzZSBpZiAoY29uY3VycmVuY3kgPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgfVxuXG4gIHZhciB3b3JrZXJzID0gMDtcbiAgdmFyIHEgPSB7XG4gICAgX3Rhc2tzOiBbXSxcbiAgICBjb25jdXJyZW5jeTogY29uY3VycmVuY3ksXG4gICAgc2F0dXJhdGVkOiBfbm9vcCxcbiAgICB1bnNhdHVyYXRlZDogX25vb3AsXG4gICAgYnVmZmVyOiBjb25jdXJyZW5jeSAvIDQsXG4gICAgZW1wdHk6IF9ub29wLFxuICAgIGRyYWluOiBfbm9vcCxcbiAgICBlcnJvcjogX25vb3AsXG4gICAgc3RhcnRlZDogZmFsc2UsXG4gICAgcGF1c2VkOiBmYWxzZSxcbiAgICBwdXNoOiBmdW5jdGlvbiBwdXNoKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICBfaW5zZXJ0KGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBraWxsOiBmdW5jdGlvbiBraWxsKCkge1xuICAgICAgd29ya2VycyA9IDA7XG4gICAgICBxLmRyYWluID0gX25vb3A7XG4gICAgICBxLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHEuX3Rhc2tzID0gW107XG4gICAgfSxcbiAgICB1bnNoaWZ0OiBmdW5jdGlvbiB1bnNoaWZ0KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICBfaW5zZXJ0KGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgICB3aGlsZSAoIXEucGF1c2VkICYmIHdvcmtlcnMgPCBxLmNvbmN1cnJlbmN5ICYmIHEuX3Rhc2tzLmxlbmd0aCkge1xuICAgICAgICB2YXIgdGFzayA9IHEuX3Rhc2tzLnNoaWZ0KCk7XG5cbiAgICAgICAgaWYgKHEuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHEuZW1wdHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtlcnMgKz0gMTtcblxuICAgICAgICBpZiAod29ya2VycyA9PT0gcS5jb25jdXJyZW5jeSkge1xuICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBvbmx5T25jZShfbmV4dCh0YXNrKSkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbGVuZ3RoOiBmdW5jdGlvbiBsZW5ndGgoKSB7XG4gICAgICByZXR1cm4gcS5fdGFza3MubGVuZ3RoO1xuICAgIH0sXG4gICAgcnVubmluZzogZnVuY3Rpb24gcnVubmluZygpIHtcbiAgICAgIHJldHVybiB3b3JrZXJzO1xuICAgIH0sXG4gICAgaWRsZTogZnVuY3Rpb24gaWRsZSgpIHtcbiAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwO1xuICAgIH0sXG4gICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgaWYgKHEucGF1c2VkID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcS5wYXVzZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcS5wYXVzZWQgPSBmYWxzZTsgLy8gTmVlZCB0byBjYWxsIHEucHJvY2VzcyBvbmNlIHBlciBjb25jdXJyZW50XG4gICAgICAvLyB3b3JrZXIgdG8gcHJlc2VydmUgZnVsbCBjb25jdXJyZW5jeSBhZnRlciBwYXVzZVxuXG4gICAgICBmb3IgKHZhciB3ID0gMTsgdyA8PSBxLmNvbmN1cnJlbmN5OyB3KyspIHtcbiAgICAgICAgcS5wcm9jZXNzKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIF9pbnNlcnQoZGF0YSwgaW5zZXJ0QXRGcm9udCwgY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgIHRocm93IG5ldyBFcnJvcigndGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBxLnN0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgaWYgKGRhdGEgPT0gbnVsbCAmJiBxLmlkbGUoKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgLy8gY2FsbCBkcmFpbiBpbW1lZGlhdGVseSBpZiB0aGVyZSBhcmUgbm8gdGFza3NcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcS5kcmFpbigpO1xuICAgICAgfSwgMSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGl0ZW0gPSB7XG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgY2FsbGJhY2s6IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogX25vb3BcbiAgICB9O1xuXG4gICAgaWYgKGluc2VydEF0RnJvbnQpIHtcbiAgICAgIHEuX3Rhc2tzLnVuc2hpZnQoaXRlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHEuX3Rhc2tzLnB1c2goaXRlbSk7XG4gICAgfVxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcS5wcm9jZXNzKCk7XG4gICAgfSwgMSk7XG4gIH1cblxuICBmdW5jdGlvbiBfbmV4dCh0YXNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3b3JrZXJzIC09IDE7XG4gICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3VtZW50cyk7XG5cbiAgICAgIGlmIChhcmd1bWVudHNbMF0gIT0gbnVsbCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgIHEuZXJyb3IoYXJndW1lbnRzWzBdLCB0YXNrLmRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAod29ya2VycyA8PSBxLmNvbmN1cnJlbmN5IC0gcS5idWZmZXIpIHtcbiAgICAgICAgcS51bnNhdHVyYXRlZCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAocS5pZGxlKCkpIHtcbiAgICAgICAgcS5kcmFpbigpO1xuICAgICAgfVxuXG4gICAgICBxLnByb2Nlc3MoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHE7XG59XG5cbnZhciBhc3luYyA9ICh7XG4gICAgZWFjaFNlcmllczogZWFjaFNlcmllcyxcbiAgICBxdWV1ZTogcXVldWVcbn0pO1xuXG4vLyBhIHNpbXBsZSBpbi1tZW1vcnkgY2FjaGUgZm9yIHJlc291cmNlc1xudmFyIGNhY2hlID0ge307XG4vKipcbiAqIEEgc2ltcGxlIGluLW1lbW9yeSBjYWNoZSBmb3IgcmVzb3VyY2UuXG4gKlxuICogQG1lbWJlcm9mIG1pZGRsZXdhcmVcbiAqIEBmdW5jdGlvbiBjYWNoaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5jYWNoaW5nKTtcbiAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gQ3VycmVudCBSZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dCAtIENhbGxiYWNrIHdoZW4gY29tcGxldGVcbiAqL1xuXG5mdW5jdGlvbiBjYWNoaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgLy8gaWYgY2FjaGVkLCB0aGVuIHNldCBkYXRhIGFuZCBjb21wbGV0ZSB0aGUgcmVzb3VyY2VcbiAgaWYgKGNhY2hlW3Jlc291cmNlLnVybF0pIHtcbiAgICByZXNvdXJjZS5kYXRhID0gY2FjaGVbcmVzb3VyY2UudXJsXTtcbiAgICByZXNvdXJjZS5jb21wbGV0ZSgpOyAvLyBtYXJrcyByZXNvdXJjZSBsb2FkIGNvbXBsZXRlIGFuZCBzdG9wcyBwcm9jZXNzaW5nIGJlZm9yZSBtaWRkbGV3YXJlc1xuICB9IC8vIGlmIG5vdCBjYWNoZWQsIHdhaXQgZm9yIGNvbXBsZXRlIGFuZCBzdG9yZSBpdCBpbiB0aGUgY2FjaGUuXG4gIGVsc2Uge1xuICAgICAgcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlW190aGlzLnVybF0gPSBfdGhpcy5kYXRhO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIG5leHQoKTtcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG52YXIgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpKTtcbnZhciB0ZW1wQW5jaG9yID0gbnVsbDsgLy8gc29tZSBzdGF0dXMgY29uc3RhbnRzXG5cbnZhciBTVEFUVVNfTk9ORSA9IDA7XG52YXIgU1RBVFVTX09LID0gMjAwO1xudmFyIFNUQVRVU19FTVBUWSA9IDIwNDtcbnZhciBTVEFUVVNfSUVfQlVHX0VNUFRZID0gMTIyMztcbnZhciBTVEFUVVNfVFlQRV9PSyA9IDI7IC8vIG5vb3BcblxuZnVuY3Rpb24gX25vb3AkMSgpIHt9XG4vKiBlbXB0eSAqL1xuXG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIGEgcmVzb3VyY2UgYW5kIGFsbCBjaGlsZCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKi9cblxuXG52YXIgUmVzb3VyY2UgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gbG9hZFR5cGUgLSBUaGUgbG9hZCB0eXBlIHRvIHNldCBpdCB0by5cbiAgICovXG4gIFJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICBzZXRFeHRNYXAoUmVzb3VyY2UuX2xvYWRUeXBlTWFwLCBleHRuYW1lLCBsb2FkVHlwZSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAqL1xuICA7XG5cbiAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSA9IGZ1bmN0aW9uIHNldEV4dGVuc2lvblhoclR5cGUoZXh0bmFtZSwgeGhyVHlwZSkge1xuICAgIHNldEV4dE1hcChSZXNvdXJjZS5feGhyVHlwZU1hcCwgZXh0bmFtZSwgeGhyVHlwZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCBmb3IgYXVkaW8vdmlkZW8gbG9hZHMgeW91IGNhbiBwYXNzXG4gICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGltZW91dD0wXSAtIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSBsb2FkLiBJZiB0aGUgbG9hZCB0YWtlc1xuICAgKiAgICAgIGxvbmdlciB0aGFuIHRoaXMgdGltZSBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzXG4gICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW29wdGlvbnMueGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbb3B0aW9ucy5tZXRhZGF0YV0gLSBFeHRyYSBjb25maWd1cmF0aW9uIGZvciBtaWRkbGV3YXJlIGFuZCB0aGUgUmVzb3VyY2Ugb2JqZWN0LlxuICAgKi9cbiAgO1xuXG4gIGZ1bmN0aW9uIFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQm90aCBuYW1lIGFuZCB1cmwgYXJlIHJlcXVpcmVkIGZvciBjb25zdHJ1Y3RpbmcgYSByZXNvdXJjZS4nKTtcbiAgICB9XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdGUgZmxhZ3Mgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5fZmxhZ3MgPSAwOyAvLyBzZXQgZGF0YSB1cmwgZmxhZywgbmVlZHMgdG8gYmUgc2V0IGVhcmx5IGZvciBzb21lIF9kZXRlcm1pbmVYIGNoZWNrcyB0byB3b3JrLlxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICAvKipcbiAgICAgKiBUaGUgZXh0ZW5zaW9uIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy5leHRlbnNpb24gPSB0aGlzLl9nZXRFeHRlbnNpb24oKTtcbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSB0aGF0IHdhcyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7YW55fVxuICAgICAqL1xuXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy5jcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09IHRydWUgPyAnYW5vbnltb3VzJyA6IG9wdGlvbnMuY3Jvc3NPcmlnaW47XG4gICAgLyoqXG4gICAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzIGxvbmdlciB0aGFuIHRoaXMgdGltZVxuICAgICAqIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXMgc2V0IHRvIGAwYFxuICAgICAqIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBtZXRob2Qgb2YgbG9hZGluZyB0byB1c2UgZm9yIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICovXG5cbiAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIHVzZWQgdG8gbG9hZCB0aGUgcmVzb3VyY2UgdmlhIFhIUi4gSWYgdW5zZXQsIGRldGVybWluZWQgYXV0b21hdGljYWxseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcbiAgICAvKipcbiAgICAgKiBFeHRyYSBpbmZvIGZvciBtaWRkbGV3YXJlLCBhbmQgY29udHJvbGxpbmcgc3BlY2lmaWNzIGFib3V0IGhvdyB0aGUgcmVzb3VyY2UgbG9hZHMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAqIE1lYW5pbmcgaXQgd2lsbCBtb2RpZnkgaXQgYXMgaXQgc2VlcyBmaXQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5JTWV0YWRhdGF9XG4gICAgICovXG5cbiAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSB8fCB7fTtcbiAgICAvKipcbiAgICAgKiBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIChpZiBhbnkpLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7RXJyb3J9XG4gICAgICovXG5cbiAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgWEhSIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS4gVGhpcyBpcyBvbmx5IHNldFxuICAgICAqIHdoZW4gYGxvYWRUeXBlYCBpcyBgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUmAuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtYTUxIdHRwUmVxdWVzdH1cbiAgICAgKi9cblxuICAgIHRoaXMueGhyID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgY2hpbGQgcmVzb3VyY2VzIHRoaXMgcmVzb3VyY2Ugb3ducy5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICovXG5cbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5UWVBFfVxuICAgICAqL1xuXG4gICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5VTktOT1dOO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9ncmVzcyBjaHVuayBvd25lZCBieSB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy5wcm9ncmVzc0NodW5rID0gMDtcbiAgICAvKipcbiAgICAgKiBUaGUgYGRlcXVldWVgIG1ldGhvZCB0aGF0IHdpbGwgYmUgdXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBhc3luYyBxdWV1ZSBkZXF1ZXVlIG1ldGhvZFxuICAgICAqIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fZGVxdWV1ZSA9IF9ub29wJDE7XG4gICAgLyoqXG4gICAgICogVXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBvbiBsb2FkIGJpbmRpbmcgdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgdGltZXIgZm9yIGVsZW1lbnQgbG9hZHMgdG8gY2hlY2sgaWYgdGhleSB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLl9lbGVtZW50VGltZXIgPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBgY29tcGxldGVgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kQ29tcGxldGUgPSB0aGlzLmNvbXBsZXRlLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGBfb25FcnJvcmAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBgX29uUHJvZ3Jlc3NgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kT25Qcm9ncmVzcyA9IHRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9vblRpbWVvdXRgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kT25UaW1lb3V0ID0gdGhpcy5fb25UaW1lb3V0LmJpbmQodGhpcyk7IC8vIHhociBjYWxsYmFja3NcblxuICAgIHRoaXMuX2JvdW5kWGhyT25FcnJvciA9IHRoaXMuX3hock9uRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZFhock9uVGltZW91dCA9IHRoaXMuX3hock9uVGltZW91dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZFhock9uTG9hZCA9IHRoaXMuX3hock9uTG9hZC5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcmVzb3VyY2UgYmVpbmdzIHRvIGxvYWQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25TdGFydFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25TdGFydFNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uU3RhcnQgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBlYWNoIHRpbWUgcHJvZ3Jlc3Mgb2YgdGhpcyByZXNvdXJjZSBsb2FkIHVwZGF0ZXMuXG4gICAgICogTm90IGFsbCByZXNvdXJjZXMgdHlwZXMgYW5kIGxvYWRlciBzeXN0ZW1zIGNhbiBzdXBwb3J0IHRoaXMgZXZlbnRcbiAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAqIGlzIGJlaW5nIGxvYWRlZCBvbiBhIG1vZGVybiBicm93c2VyLCB1c2luZyBYSFIsIGFuZCB0aGUgcmVtb3RlIHNlcnZlclxuICAgICAqIHByb3Blcmx5IHNldHMgQ29udGVudC1MZW5ndGggaGVhZGVycywgdGhlbiB0aGlzIHdpbGwgYmUgYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgb25jZSB0aGlzIHJlc291cmNlIGhhcyBsb2FkZWQsIGlmIHRoZXJlIHdhcyBhbiBlcnJvciBpdCB3aWxsXG4gICAgICogYmUgaW4gdGhlIGBlcnJvcmAgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBhZnRlciB0aGlzIHJlc291cmNlIGhhcyBoYWQgYWxsIHRoZSAqYWZ0ZXIqIG1pZGRsZXdhcmUgcnVuIG9uIGl0LlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkFmdGVyTWlkZGxld2FyZSA9IG5ldyBTaWduYWwoKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2Ugc3RhcnRzIHRvIGxvYWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHJlc291cmNlIHJlcG9ydHMgbG9hZGluZyBwcm9ncmVzcy5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPblByb2dyZXNzU2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudGFnZSAtIFRoZSBwcm9ncmVzcyBvZiB0aGUgbG9hZCBpbiB0aGUgcmFuZ2UgWzAsIDFdLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPbkNvbXBsZXRlU2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKi9cblxuICAvKipcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEB0eXBlZGVmIHtvYmplY3R9IElNZXRhZGF0YVxuICAgKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR8SFRNTEF1ZGlvRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbbG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAqICAgICAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzIHRvLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ3xzdHJpbmdbXX0gW21pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnRcbiAgICogICAgICBvZiBhIHZpZGVvL2F1ZGlvIGVsbWVudC4gSWYgdGhlIHVybHMgYXJlIGFuIGFycmF5LCB5b3UgY2FuIHBhc3MgdGhpcyBhcyBhbiBhcnJheSBhcyB3ZWxsXG4gICAqICAgICAgd2hlcmUgZWFjaCBpbmRleCBpcyB0aGUgbWltZSB0eXBlIHRvIHVzZSBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgdXJsIGluZGV4LlxuICAgKi9cblxuICAvKipcbiAgICogU3RvcmVzIHdoZXRoZXIgb3Igbm90IHRoaXMgdXJsIGlzIGEgZGF0YSB1cmwuXG4gICAqXG4gICAqIEByZWFkb25seVxuICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBSZXNvdXJjZS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZS5cbiAgICpcbiAgICovXG4gIF9wcm90by5jb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgIHRoaXMuX2NsZWFyRXZlbnRzKCk7XG5cbiAgICB0aGlzLl9maW5pc2goKTtcbiAgfVxuICAvKipcbiAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byB1c2UgZm9yIHRoZSBlcnJvclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hYm9ydCA9IGZ1bmN0aW9uIGFib3J0KG1lc3NhZ2UpIHtcbiAgICAvLyBhYm9ydCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBpZ25vcmUgc3Vic2VxdWVudCBjYWxscy5cbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gc3RvcmUgZXJyb3JcblxuXG4gICAgdGhpcy5lcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTsgLy8gY2xlYXIgZXZlbnRzIGJlZm9yZSBjYWxsaW5nIGFib3J0c1xuXG4gICAgdGhpcy5fY2xlYXJFdmVudHMoKTsgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG5cblxuICAgIGlmICh0aGlzLnhocikge1xuICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMueGRyKSB7XG4gICAgICB0aGlzLnhkci5hYm9ydCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAvLyBzaW5nbGUgc291cmNlXG4gICAgICBpZiAodGhpcy5kYXRhLnNyYykge1xuICAgICAgICB0aGlzLmRhdGEuc3JjID0gUmVzb3VyY2UuRU1QVFlfR0lGO1xuICAgICAgfSAvLyBtdWx0aS1zb3VyY2VcbiAgICAgIGVsc2Uge1xuICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGEuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IC8vIGRvbmUgbm93LlxuXG5cbiAgICB0aGlzLl9maW5pc2goKTtcbiAgfVxuICAvKipcbiAgICogS2lja3Mgb2ZmIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZS4gVGhpcyBtZXRob2QgaXMgYXN5bmNocm9ub3VzLlxuICAgKlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0byBjYWxsIG9uY2UgdGhlIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjYihfdGhpcyk7XG4gICAgICAgIH0sIDEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIHRydWUpO1xuXG4gICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpOyAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4gPT09IGZhbHNlIHx8IHR5cGVvZiB0aGlzLmNyb3NzT3JpZ2luICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHRoaXMuX2RldGVybWluZUNyb3NzT3JpZ2luKHRoaXMudXJsKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRoaXMubG9hZFR5cGUpIHtcbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFOlxuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuXG4gICAgICAgIHRoaXMuX2xvYWRFbGVtZW50KCdpbWFnZScpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5BVURJTzpcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5BVURJTztcblxuICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgnYXVkaW8nKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU86XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVklERU87XG5cbiAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ3ZpZGVvJyk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjpcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHVzZVhkciAmJiB0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2xvYWRYaHIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byBjaGVjay5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9oYXNGbGFnID0gZnVuY3Rpb24gX2hhc0ZsYWcoZmxhZykge1xuICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBmbGFnKSAhPT0gMDtcbiAgfVxuICAvKipcbiAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFdoZXRoZXIgdG8gc2V0IG9yICh1bilzZXQgdGhlIGZsYWcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9zZXRGbGFnID0gZnVuY3Rpb24gX3NldEZsYWcoZmxhZywgdmFsdWUpIHtcbiAgICB0aGlzLl9mbGFncyA9IHZhbHVlID8gdGhpcy5fZmxhZ3MgfCBmbGFnIDogdGhpcy5fZmxhZ3MgJiB+ZmxhZztcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIGFsbCB0aGUgZXZlbnRzIGZyb20gdGhlIHVuZGVybHlpbmcgbG9hZGluZyBzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9jbGVhckV2ZW50cyA9IGZ1bmN0aW9uIF9jbGVhckV2ZW50cygpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fZWxlbWVudFRpbWVyKTtcblxuICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbnRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEZpbmFsaXplcyB0aGUgbG9hZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2ZpbmlzaCA9IGZ1bmN0aW9uIF9maW5pc2goKSB7XG4gICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21wbGV0ZSBjYWxsZWQgYWdhaW4gZm9yIGFuIGFscmVhZHkgY29tcGxldGVkIHJlc291cmNlLicpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcblxuICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIGZhbHNlKTtcblxuICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHNpbmdsZSBzb3VyY2UsXG4gICAqIGxpa2UgYW4gSFRNTEltYWdlRWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRFbGVtZW50KHR5cGUpIHtcbiAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICB0aGlzLmRhdGEuc3JjID0gdGhpcy51cmw7XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBtdWx0aXBsZSBzb3VyY2VzLFxuICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRTb3VyY2VFbGVtZW50ID0gZnVuY3Rpb24gX2xvYWRTb3VyY2VFbGVtZW50KHR5cGUpIHtcbiAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhdWRpbycgJiYgdHlwZW9mIHdpbmRvdy5BdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuZGF0YSA9IG5ldyBBdWRpbygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGEgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuYWJvcnQoXCJVbnN1cHBvcnRlZCBlbGVtZW50OiBcIiArIHR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAvLyBzdXBwb3J0IGZvciBDb2Nvb25KUyBDYW52YXMrIHJ1bnRpbWUsIGxhY2tzIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpXG4gICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgdGhpcy5kYXRhLnNyYyA9IEFycmF5LmlzQXJyYXkodGhpcy51cmwpID8gdGhpcy51cmxbMF0gOiB0aGlzLnVybDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnVybCkpIHtcbiAgICAgICAgdmFyIG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVybC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmxbaV0sIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1tpXSA6IG1pbWVUeXBlcykpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX21pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG4gICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmwsIEFycmF5LmlzQXJyYXkoX21pbWVUeXBlcykgPyBfbWltZVR5cGVzWzBdIDogX21pbWVUeXBlcykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEubG9hZCgpO1xuXG4gICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhNTEh0dHBSZXF1ZXN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFhociA9IGZ1bmN0aW9uIF9sb2FkWGhyKCkge1xuICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgfVxuXG4gICAgdmFyIHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7IC8vIHNldCB0aGUgcmVxdWVzdCB0eXBlIGFuZCB1cmxcblxuICAgIHhoci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG4gICAgeGhyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQ7IC8vIGxvYWQganNvbiBhcyB0ZXh0IGFuZCBwYXJzZSBpdCBvdXJzZWx2ZXMuIFdlIGRvIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzXG4gICAgLy8gKmNvdWdoKiBzYWZhcmkgKmNvdWdoKiBjYW4ndCBkZWFsIHdpdGggaXQuXG5cbiAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OIHx8IHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgIH0gZWxzZSB7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gdGhpcy54aHJUeXBlO1xuICAgIH1cblxuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCd0aW1lb3V0JywgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgeGhyLnNlbmQoKTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWERvbWFpblJlcXVlc3QuIFRoaXMgaXMgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gc3VwcG9ydCBJRTkgKGdyb3NzKS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2xvYWRYZHIgPSBmdW5jdGlvbiBfbG9hZFhkcigpIHtcbiAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgIH1cblxuICAgIHZhciB4ZHIgPSB0aGlzLnhociA9IG5ldyBYRG9tYWluUmVxdWVzdCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4gICAgLy8gWERvbWFpblJlcXVlc3QgaGFzIGEgZmV3IHF1aXJrcy4gT2NjYXNpb25hbGx5IGl0IHdpbGwgYWJvcnQgcmVxdWVzdHNcbiAgICAvLyBBIHdheSB0byBhdm9pZCB0aGlzIGlzIHRvIG1ha2Ugc3VyZSBBTEwgY2FsbGJhY2tzIGFyZSBzZXQgZXZlbiBpZiBub3QgdXNlZFxuICAgIC8vIE1vcmUgaW5mbyBoZXJlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1Nzg2OTY2L3hkb21haW5yZXF1ZXN0LWFib3J0cy1wb3N0LW9uLWllLTlcblxuICAgIHhkci50aW1lb3V0ID0gdGhpcy50aW1lb3V0IHx8IDUwMDA7IC8vIFhEUiBuZWVkcyBhIHRpbWVvdXQgdmFsdWUgb3IgaXQgYnJlYWtzIGluIElFOVxuXG4gICAgeGRyLm9uZXJyb3IgPSB0aGlzLl9ib3VuZFhock9uRXJyb3I7XG4gICAgeGRyLm9udGltZW91dCA9IHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0O1xuICAgIHhkci5vbnByb2dyZXNzID0gdGhpcy5fYm91bmRPblByb2dyZXNzO1xuICAgIHhkci5vbmxvYWQgPSB0aGlzLl9ib3VuZFhock9uTG9hZDtcbiAgICB4ZHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpOyAvLyBOb3RlOiBUaGUgeGRyLnNlbmQoKSBjYWxsIGlzIHdyYXBwZWQgaW4gYSB0aW1lb3V0IHRvIHByZXZlbnQgYW5cbiAgICAvLyBpc3N1ZSB3aXRoIHRoZSBpbnRlcmZhY2Ugd2hlcmUgc29tZSByZXF1ZXN0cyBhcmUgbG9zdCBpZiBtdWx0aXBsZVxuICAgIC8vIFhEb21haW5SZXF1ZXN0cyBhcmUgYmVpbmcgc2VudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgIC8vIFNvbWUgaW5mbyBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vcGhvdG9uc3Rvcm0vcGhhc2VyL2lzc3Vlcy8xMjQ4XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB4ZHIuc2VuZCgpO1xuICAgIH0sIDEpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc291cmNlIHVzZWQgaW4gbG9hZGluZyB2aWEgYW4gZWxlbWVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgZWxlbWVudCB0eXBlICh2aWRlbyBvciBhdWRpbykuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgc291cmNlIFVSTCB0byBsb2FkIGZyb20uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbWltZV0gLSBUaGUgbWltZSB0eXBlIG9mIHRoZSB2aWRlb1xuICAgKiBAcmV0dXJuIHtIVE1MU291cmNlRWxlbWVudH0gVGhlIHNvdXJjZSBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fY3JlYXRlU291cmNlID0gZnVuY3Rpb24gX2NyZWF0ZVNvdXJjZSh0eXBlLCB1cmwsIG1pbWUpIHtcbiAgICBpZiAoIW1pbWUpIHtcbiAgICAgIG1pbWUgPSB0eXBlICsgXCIvXCIgKyB0aGlzLl9nZXRFeHRlbnNpb24odXJsKTtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgc291cmNlLnNyYyA9IHVybDtcbiAgICBzb3VyY2UudHlwZSA9IG1pbWU7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGEgbG9hZCBlcnJvcnMgb3V0LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBlcnJvciBldmVudCBmcm9tIHRoZSBlbGVtZW50IHRoYXQgZW1pdHMgaXQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vbkVycm9yID0gZnVuY3Rpb24gX29uRXJyb3IoZXZlbnQpIHtcbiAgICB0aGlzLmFib3J0KFwiRmFpbGVkIHRvIGxvYWQgZWxlbWVudCB1c2luZzogXCIgKyBldmVudC50YXJnZXQubm9kZU5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSBsb2FkIHByb2dyZXNzIGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50IG9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RQcm9ncmVzc0V2ZW50fEV2ZW50fSBldmVudCAtIFByb2dyZXNzIGV2ZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Qcm9ncmVzcyA9IGZ1bmN0aW9uIF9vblByb2dyZXNzKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ICYmIGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgIHRoaXMub25Qcm9ncmVzcy5kaXNwYXRjaCh0aGlzLCBldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25UaW1lb3V0ID0gZnVuY3Rpb24gX29uVGltZW91dCgpIHtcbiAgICB0aGlzLmFib3J0KFwiTG9hZCB0aW1lZCBvdXQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkVycm9yID0gZnVuY3Rpb24gX3hock9uRXJyb3IoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCBmYWlsZWQuIFN0YXR1czogXCIgKyB4aHIuc3RhdHVzICsgXCIsIHRleHQ6IFxcXCJcIiArIHhoci5zdGF0dXNUZXh0ICsgXCJcXFwiXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPblRpbWVvdXQgPSBmdW5jdGlvbiBfeGhyT25UaW1lb3V0KCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArIFwiIFJlcXVlc3QgdGltZWQgb3V0LlwiKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5feGhyT25BYm9ydCA9IGZ1bmN0aW9uIF94aHJPbkFib3J0KCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArIFwiIFJlcXVlc3Qgd2FzIGFib3J0ZWQgYnkgdGhlIHVzZXIuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBkYXRhIHN1Y2Nlc3NmdWxseSBsb2FkcyBmcm9tIGFuIHhoci94ZHIgcmVxdWVzdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdExvYWRFdmVudHxFdmVudH0gZXZlbnQgLSBMb2FkIGV2ZW50XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkxvYWQgPSBmdW5jdGlvbiBfeGhyT25Mb2FkKCkge1xuICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICB2YXIgdGV4dCA9ICcnO1xuICAgIHZhciBzdGF0dXMgPSB0eXBlb2YgeGhyLnN0YXR1cyA9PT0gJ3VuZGVmaW5lZCcgPyBTVEFUVVNfT0sgOiB4aHIuc3RhdHVzOyAvLyBYRFIgaGFzIG5vIGAuc3RhdHVzYCwgYXNzdW1lIDIwMC5cbiAgICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG5cbiAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHR5cGVvZiB4aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgfSAvLyBzdGF0dXMgY2FuIGJlIDAgd2hlbiB1c2luZyB0aGUgYGZpbGU6Ly9gIHByb3RvY29sIHNvIHdlIGFsc28gY2hlY2sgaWYgYSByZXNwb25zZSBpcyBzZXQuXG4gICAgLy8gSWYgaXQgaGFzIGEgcmVzcG9uc2UsIHdlIGFzc3VtZSAyMDA7IG90aGVyd2lzZSBhIDAgc3RhdHVzIGNvZGUgd2l0aCBubyBjb250ZW50cyBpcyBhbiBhYm9ydGVkIHJlcXVlc3QuXG5cblxuICAgIGlmIChzdGF0dXMgPT09IFNUQVRVU19OT05FICYmICh0ZXh0Lmxlbmd0aCA+IDAgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKSkge1xuICAgICAgc3RhdHVzID0gU1RBVFVTX09LO1xuICAgIH0gLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0lFX0JVR19FTVBUWSkge1xuICAgICAgICBzdGF0dXMgPSBTVEFUVVNfRU1QVFk7XG4gICAgICB9XG5cbiAgICB2YXIgc3RhdHVzVHlwZSA9IHN0YXR1cyAvIDEwMCB8IDA7XG5cbiAgICBpZiAoc3RhdHVzVHlwZSA9PT0gU1RBVFVTX1RZUEVfT0spIHtcbiAgICAgIC8vIGlmIHRleHQsIGp1c3QgcmV0dXJuIGl0XG4gICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IHRleHQ7XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVEVYVDtcbiAgICAgIH0gLy8gaWYganNvbiwgcGFyc2UgaW50byBqc29uIG9iamVjdFxuICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkpTT047XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQganNvbjogXCIgKyBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gaWYgeG1sLCBwYXJzZSBpbnRvIGFuIHhtbCBkb2N1bWVudCBvciBkaXYgZWxlbWVudFxuICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xuICAgICAgICAgICAgICAgIHZhciBkb21wYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9tcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGl2O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5YTUw7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWJvcnQoXCJFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIHhtbDogXCIgKyBlKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gb3RoZXIgdHlwZXMganVzdCByZXR1cm4gdGhlIHJlc3BvbnNlXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZSB8fCB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFib3J0KFwiW1wiICsgeGhyLnN0YXR1cyArIFwiXSBcIiArIHhoci5zdGF0dXNUZXh0ICsgXCI6IFwiICsgeGhyLnJlc3BvbnNlVVJMKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBsZXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICAgKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAgICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICAgKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2RldGVybWluZUNyb3NzT3JpZ2luID0gZnVuY3Rpb24gX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9IC8vIEEgc2FuZGJveGVkIGlmcmFtZSB3aXRob3V0IHRoZSAnYWxsb3ctc2FtZS1vcmlnaW4nIGF0dHJpYnV0ZSB3aWxsIGhhdmUgYSBzcGVjaWFsXG4gICAgLy8gb3JpZ2luIGRlc2lnbmVkIG5vdCB0byBtYXRjaCB3aW5kb3cubG9jYXRpb24ub3JpZ2luLCBhbmQgd2lsbCBhbHdheXMgcmVxdWlyZVxuICAgIC8vIGNyb3NzT3JpZ2luIHJlcXVlc3RzIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgbG9jYXRpb24gbWF0Y2hlcy5cblxuXG4gICAgaWYgKHdpbmRvdy5vcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pIHtcbiAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9IC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG5cblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfSAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuXG5cbiAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgdXJsID0gcGFyc2VVcmkodGVtcEFuY2hvci5ocmVmLCB7XG4gICAgICBzdHJpY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHNhbWVQb3J0ID0gIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJyB8fCB1cmwucG9ydCA9PT0gbG9jLnBvcnQ7XG4gICAgdmFyIHByb3RvY29sID0gdXJsLnByb3RvY29sID8gdXJsLnByb3RvY29sICsgXCI6XCIgOiAnJzsgLy8gaWYgY3Jvc3Mgb3JpZ2luXG5cbiAgICBpZiAodXJsLmhvc3QgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgcmVzcG9uc2VUeXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFRoZSByZXNwb25zZVR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lWGhyVHlwZSA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVYaHJUeXBlKCkge1xuICAgIHJldHVybiBSZXNvdXJjZS5feGhyVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgbG9hZFR5cGUgb2YgYSByZXNvdXJjZSBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge1Jlc291cmNlLkxPQURfVFlQRX0gVGhlIGxvYWRUeXBlIHRvIHVzZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2RldGVybWluZUxvYWRUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZUxvYWRUeXBlKCkge1xuICAgIHJldHVybiBSZXNvdXJjZS5fbG9hZFR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLkxPQURfVFlQRS5YSFI7XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3RzIHRoZSBleHRlbnNpb24gKHNhbnMgJy4nKSBvZiB0aGUgZmlsZSBiZWluZyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBleHRlbnNpb24uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9nZXRFeHRlbnNpb24gPSBmdW5jdGlvbiBfZ2V0RXh0ZW5zaW9uKCkge1xuICAgIHZhciB1cmwgPSB0aGlzLnVybDtcbiAgICB2YXIgZXh0ID0gJyc7XG5cbiAgICBpZiAodGhpcy5pc0RhdGFVcmwpIHtcbiAgICAgIHZhciBzbGFzaEluZGV4ID0gdXJsLmluZGV4T2YoJy8nKTtcbiAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcoc2xhc2hJbmRleCArIDEsIHVybC5pbmRleE9mKCc7Jywgc2xhc2hJbmRleCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gICAgICB2YXIgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICAgIHZhciBpbmRleCA9IE1hdGgubWluKHF1ZXJ5U3RhcnQgPiAtMSA/IHF1ZXJ5U3RhcnQgOiB1cmwubGVuZ3RoLCBoYXNoU3RhcnQgPiAtMSA/IGhhc2hTdGFydCA6IHVybC5sZW5ndGgpO1xuICAgICAgdXJsID0gdXJsLnN1YnN0cmluZygwLCBpbmRleCk7XG4gICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4dC50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHR5cGUgLSBUaGUgdHlwZSB0byBnZXQgYSBtaW1lIHR5cGUgZm9yLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBtaW1lIHR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZ2V0TWltZUZyb21YaHJUeXBlID0gZnVuY3Rpb24gX2dldE1pbWVGcm9tWGhyVHlwZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnknO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0I6XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vYmxvYic7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQ6XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFQ6XG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ6XG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAndGV4dC9wbGFpbic7XG4gICAgfVxuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhSZXNvdXJjZSwgW3tcbiAgICBrZXk6IFwiaXNEYXRhVXJsXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBoYXMgZmluaXNoZWQgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBoYXMgY29tcGxldGVseVxuICAgICAqIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0NvbXBsZXRlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBzdGFydHMgbG9hZGluZyxcbiAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc0xvYWRpbmdcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVzb3VyY2U7XG59KCk7XG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblxuUmVzb3VyY2UuU1RBVFVTX0ZMQUdTID0ge1xuICBOT05FOiAwLFxuICBEQVRBX1VSTDogMSA8PCAwLFxuICBDT01QTEVURTogMSA8PCAxLFxuICBMT0FESU5HOiAxIDw8IDJcbn07XG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblJlc291cmNlLlRZUEUgPSB7XG4gIFVOS05PV046IDAsXG4gIEpTT046IDEsXG4gIFhNTDogMixcbiAgSU1BR0U6IDMsXG4gIEFVRElPOiA0LFxuICBWSURFTzogNSxcbiAgVEVYVDogNlxufTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIGxvYWRpbmcgYSByZXNvdXJjZSBjYW4gdXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG5SZXNvdXJjZS5MT0FEX1RZUEUgPSB7XG4gIC8qKiBVc2VzIFhNTEh0dHBSZXF1ZXN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBYSFI6IDEsXG5cbiAgLyoqIFVzZXMgYW4gYEltYWdlYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIElNQUdFOiAyLFxuXG4gIC8qKiBVc2VzIGFuIGBBdWRpb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBBVURJTzogMyxcblxuICAvKiogVXNlcyBhIGBWaWRlb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICBWSURFTzogNFxufTtcbi8qKlxuICogVGhlIFhIUiByZWFkeSBzdGF0ZXMsIHVzZWQgaW50ZXJuYWxseS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cblxuUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUgPSB7XG4gIC8qKiBzdHJpbmcgKi9cbiAgREVGQVVMVDogJ3RleHQnLFxuXG4gIC8qKiBBcnJheUJ1ZmZlciAqL1xuICBCVUZGRVI6ICdhcnJheWJ1ZmZlcicsXG5cbiAgLyoqIEJsb2IgKi9cbiAgQkxPQjogJ2Jsb2InLFxuXG4gIC8qKiBEb2N1bWVudCAqL1xuICBET0NVTUVOVDogJ2RvY3VtZW50JyxcblxuICAvKiogT2JqZWN0ICovXG4gIEpTT046ICdqc29uJyxcblxuICAvKiogU3RyaW5nICovXG4gIFRFWFQ6ICd0ZXh0J1xufTtcblJlc291cmNlLl9sb2FkVHlwZU1hcCA9IHtcbiAgLy8gaW1hZ2VzXG4gIGdpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBwbmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgYm1wOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIGpwZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBqcGVnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHRpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICB0aWZmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHdlYnA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgdGdhOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHN2ZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAnc3ZnK3htbCc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgLy8gZm9yIFNWRyBkYXRhIHVybHNcbiAgLy8gYXVkaW9cbiAgbXAzOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gIG9nZzogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICB3YXY6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgLy8gdmlkZW9zXG4gIG1wNDogUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPLFxuICB3ZWJtOiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU9cbn07XG5SZXNvdXJjZS5feGhyVHlwZU1hcCA9IHtcbiAgLy8geG1sXG4gIHhodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgaHRtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIGh0bTogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHhtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHRteDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIHN2ZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gIC8vIFRoaXMgd2FzIGFkZGVkIHRvIGhhbmRsZSBUaWxlZCBUaWxlc2V0IFhNTCwgYnV0IC50c3ggaXMgYWxzbyBhIFR5cGVTY3JpcHQgUmVhY3QgQ29tcG9uZW50LlxuICAvLyBTaW5jZSBpdCBpcyB3YXkgbGVzcyBsaWtlbHkgZm9yIHBlb3BsZSB0byBiZSBsb2FkaW5nIFR5cGVTY3JpcHQgZmlsZXMgaW5zdGVhZCBvZiBUaWxlZCBmaWxlcyxcbiAgLy8gdGhpcyBzaG91bGQgcHJvYmFibHkgYmUgZmluZS5cbiAgdHN4OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgLy8gaW1hZ2VzXG4gIGdpZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgcG5nOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBibXA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIGpwZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAganBlZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgdGlmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0aWZmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB3ZWJwOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0Z2E6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIC8vIGpzb25cbiAganNvbjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcbiAgLy8gdGV4dFxuICB0ZXh0OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICB0eHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gIC8vIGZvbnRzXG4gIHR0ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSLFxuICBvdGY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUlxufTsgLy8gV2UgY2FuJ3Qgc2V0IHRoZSBgc3JjYCBhdHRyaWJ1dGUgdG8gZW1wdHkgc3RyaW5nLCBzbyBvbiBhYm9ydCB3ZSBzZXQgaXQgdG8gdGhpcyAxcHggdHJhbnNwYXJlbnQgZ2lmXG5cblJlc291cmNlLkVNUFRZX0dJRiA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09Jztcbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIHNldCBhIHZhbHVlIG9uIG9uZSBvZiB0aGUgZXh0ZW5zaW9uIG1hcHMuIEVuc3VyZXMgdGhlcmUgaXMgbm9cbiAqIGRvdCBhdCB0aGUgc3RhcnQgb2YgdGhlIGV4dGVuc2lvbi5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge29iamVjdH0gbWFwIC0gVGhlIG1hcCB0byBzZXQgb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gKG9yIGtleSkgdG8gc2V0LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCAtIFRoZSB2YWx1ZSB0byBzZXQuXG4gKi9cblxuZnVuY3Rpb24gc2V0RXh0TWFwKG1hcCwgZXh0bmFtZSwgdmFsKSB7XG4gIGlmIChleHRuYW1lICYmIGV4dG5hbWUuaW5kZXhPZignLicpID09PSAwKSB7XG4gICAgZXh0bmFtZSA9IGV4dG5hbWUuc3Vic3RyaW5nKDEpO1xuICB9XG5cbiAgaWYgKCFleHRuYW1lKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gZ2V0IHN0cmluZyB4aHIgdHlwZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fFhEb21haW5SZXF1ZXN0fSB4aHIgLSBUaGUgcmVxdWVzdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICByZXR1cm4geGhyLnRvU3RyaW5nKCkucmVwbGFjZSgnb2JqZWN0ICcsICcnKTtcbn1cblxudmFyIF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuLyoqXG4gKiBFbmNvZGVzIGJpbmFyeSBpbnRvIGJhc2U2NC5cbiAqXG4gKiBAZnVuY3Rpb24gZW5jb2RlQmluYXJ5XG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgVGhlIGlucHV0IGRhdGEgdG8gZW5jb2RlLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgYmFzZTY0IHN0cmluZ1xuICovXG5cbmZ1bmN0aW9uIGVuY29kZUJpbmFyeShpbnB1dCkge1xuICB2YXIgb3V0cHV0ID0gJyc7XG4gIHZhciBpbnggPSAwO1xuXG4gIHdoaWxlIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAvLyBGaWxsIGJ5dGUgYnVmZmVyIGFycmF5XG4gICAgdmFyIGJ5dGVidWZmZXIgPSBbMCwgMCwgMF07XG4gICAgdmFyIGVuY29kZWRDaGFySW5kZXhlcyA9IFswLCAwLCAwLCAwXTtcblxuICAgIGZvciAodmFyIGpueCA9IDA7IGpueCA8IGJ5dGVidWZmZXIubGVuZ3RoOyArK2pueCkge1xuICAgICAgaWYgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvRW4vVXNpbmdfWE1MSHR0cFJlcXVlc3QjSGFuZGxpbmdfYmluYXJ5X2RhdGFcbiAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gaW5wdXQuY2hhckNvZGVBdChpbngrKykgJiAweGZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gMDtcbiAgICAgIH1cbiAgICB9IC8vIEdldCBlYWNoIGVuY29kZWQgY2hhcmFjdGVyLCA2IGJpdHMgYXQgYSB0aW1lXG4gICAgLy8gaW5kZXggMTogZmlyc3QgNiBiaXRzXG5cblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1swXSA9IGJ5dGVidWZmZXJbMF0gPj4gMjsgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG5cbiAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMV0gPSAoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCB8IGJ5dGVidWZmZXJbMV0gPj4gNDsgLy8gaW5kZXggMzogdGhpcmQgNiBiaXRzICg0IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDIgKyAyIG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMylcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMiB8IGJ5dGVidWZmZXJbMl0gPj4gNjsgLy8gaW5kZXggMzogZm9ydGggNiBiaXRzICg2IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDMpXG5cbiAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSBieXRlYnVmZmVyWzJdICYgMHgzZjsgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgcGFkZGluZyBoYXBwZW5lZCwgYW5kIGFkanVzdCBhY2NvcmRpbmdseVxuXG4gICAgdmFyIHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IDY0O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAxOlxuICAgICAgICAvLyBTZXQgbGFzdCBjaGFyYWN0ZXIgdG8gcGFkZGluZyBjaGFyXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBObyBwYWRkaW5nIC0gcHJvY2VlZFxuICAgIH0gLy8gTm93IHdlIHdpbGwgZ3JhYiBlYWNoIGFwcHJvcHJpYXRlIGNoYXJhY3RlciBvdXQgb2Ygb3VyIGtleXN0cmluZ1xuICAgIC8vIGJhc2VkIG9uIG91ciBpbmRleCBhcnJheSBhbmQgYXBwZW5kIGl0IHRvIHRoZSBvdXRwdXQgc3RyaW5nXG5cblxuICAgIGZvciAodmFyIF9qbnggPSAwOyBfam54IDwgZW5jb2RlZENoYXJJbmRleGVzLmxlbmd0aDsgKytfam54KSB7XG4gICAgICBvdXRwdXQgKz0gX2tleVN0ci5jaGFyQXQoZW5jb2RlZENoYXJJbmRleGVzW19qbnhdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG52YXIgVXJsID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuLyoqXG4gKiBBIG1pZGRsZXdhcmUgZm9yIHRyYW5zZm9ybWluZyBYSFIgbG9hZGVkIEJsb2JzIGludG8gbW9yZSB1c2VmdWwgb2JqZWN0c1xuICpcbiAqIEBtZW1iZXJvZiBtaWRkbGV3YXJlXG4gKiBAZnVuY3Rpb24gcGFyc2luZ1xuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IExvYWRlciwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gKiBsb2FkZXIudXNlKG1pZGRsZXdhcmUucGFyc2luZyk7XG4gKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIEN1cnJlbnQgUmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHQgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2luZyhyZXNvdXJjZSwgbmV4dCkge1xuICBpZiAoIXJlc291cmNlLmRhdGEpIHtcbiAgICBuZXh0KCk7XG4gICAgcmV0dXJuO1xuICB9IC8vIGlmIHRoaXMgd2FzIGFuIFhIUiBsb2FkIG9mIGEgYmxvYlxuXG5cbiAgaWYgKHJlc291cmNlLnhociAmJiByZXNvdXJjZS54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CKSB7XG4gICAgLy8gaWYgdGhlcmUgaXMgbm8gYmxvYiBzdXBwb3J0IHdlIHByb2JhYmx5IGdvdCBhIGJpbmFyeSBzdHJpbmcgYmFja1xuICAgIGlmICghd2luZG93LkJsb2IgfHwgdHlwZW9mIHJlc291cmNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgdHlwZSA9IHJlc291cmNlLnhoci5nZXRSZXNwb25zZUhlYWRlcignY29udGVudC10eXBlJyk7IC8vIHRoaXMgaXMgYW4gaW1hZ2UsIGNvbnZlcnQgdGhlIGJpbmFyeSBzdHJpbmcgaW50byBhIGRhdGEgdXJsXG5cbiAgICAgIGlmICh0eXBlICYmIHR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICByZXNvdXJjZS5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gXCJkYXRhOlwiICsgdHlwZSArIFwiO2Jhc2U2NCxcIiArIGVuY29kZUJpbmFyeShyZXNvdXJjZS54aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7IC8vIHdhaXQgdW50aWwgdGhlIGltYWdlIGxvYWRzIGFuZCB0aGVuIGNhbGxiYWNrXG5cbiAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfTsgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkXG5cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyBpZiBjb250ZW50IHR5cGUgc2F5cyB0aGlzIGlzIGFuIGltYWdlLCB0aGVuIHdlIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGJsb2IgaW50byBhbiBJbWFnZSBvYmplY3RcbiAgICBlbHNlIGlmIChyZXNvdXJjZS5kYXRhLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICB2YXIgc3JjID0gVXJsLmNyZWF0ZU9iamVjdFVSTChyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgcmVzb3VyY2UuYmxvYiA9IHJlc291cmNlLmRhdGE7XG4gICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBzcmM7XG4gICAgICAgIHJlc291cmNlLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFOyAvLyBjbGVhbnVwIHRoZSBubyBsb25nZXIgdXNlZCBibG9iIGFmdGVyIHRoZSBpbWFnZSBsb2Fkc1xuICAgICAgICAvLyBUT0RPOiBJcyB0aGlzIGNvcnJlY3Q/IFdpbGwgdGhlIGltYWdlIGJlIGludmFsaWQgYWZ0ZXIgcmV2b2tpbmc/XG5cbiAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgVXJsLnJldm9rZU9iamVjdFVSTChzcmMpO1xuICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH07IC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZC5cblxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgfVxuXG4gIG5leHQoKTtcbn1cblxuLyoqXG4gKiBAbmFtZXNwYWNlIG1pZGRsZXdhcmVcbiAqL1xuXG52YXIgaW5kZXggPSAoe1xuICAgIGNhY2hpbmc6IGNhY2hpbmcsXG4gICAgcGFyc2luZzogcGFyc2luZ1xufSk7XG5cbnZhciBNQVhfUFJPR1JFU1MgPSAxMDA7XG52YXIgcmd4RXh0cmFjdFVybEhhc2ggPSAvKCNbXFx3LV0rKT8kLztcbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgbXVsdGlwbGUgcmVzb3VyY2VzIHRvIGxvYWQuXG4gKlxuICogQGNsYXNzXG4gKi9cblxudmFyIExvYWRlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICovXG4gIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoYmFzZVVybCA9PT0gdm9pZCAwKSB7XG4gICAgICBiYXNlVXJsID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKGNvbmN1cnJlbmN5ID09PSB2b2lkIDApIHtcbiAgICAgIGNvbmN1cnJlbmN5ID0gMTA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9ncmVzcyBwZXJjZW50IG9mIHRoZSBsb2FkZXIgZ29pbmcgdGhyb3VnaCB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgLyoqXG4gICAgICogTG9hZGluZyBzdGF0ZSBvZiB0aGUgbG9hZGVyLCB0cnVlIGlmIGl0IGlzIGN1cnJlbnRseSBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEEgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIGV2ZXJ5IFVSTCBhZGRlZCB0byB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogVGhpcyBzaG91bGQgYmUgYSB2YWxpZCBxdWVyeSBzdHJpbmcgKndpdGhvdXQqIHRoZSBxdWVzdGlvbi1tYXJrIChgP2ApLiBUaGUgbG9hZGVyIHdpbGxcbiAgICAgKiBhbHNvICpub3QqIGVzY2FwZSB2YWx1ZXMgZm9yIHlvdS4gTWFrZSBzdXJlIHRvIGVzY2FwZSB5b3VyIHBhcmFtZXRlcnMgd2l0aFxuICAgICAqIFtgZW5jb2RlVVJJQ29tcG9uZW50YF0oaHR0cHM6Ly9tZG4uaW8vZW5jb2RlVVJJQ29tcG9uZW50KSBiZWZvcmUgYXNzaWduaW5nIHRoaXMgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAgICAgKlxuICAgICAqIGxvYWRlci5kZWZhdWx0UXVlcnlTdHJpbmcgPSAndXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnO1xuICAgICAqXG4gICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz91c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgKiBsb2FkZXIuYWRkKCdpbWFnZS5wbmcnKS5sb2FkKCk7XG4gICAgICpcbiAgICAgKiBsb2FkZXIucmVzZXQoKTtcbiAgICAgKlxuICAgICAqIC8vIFRoaXMgd2lsbCByZXF1ZXN0ICdpbWFnZS5wbmc/dj0xJnVzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAqIGxvYWRlci5hZGQoJ2lhbWdlLnBuZz92PTEnKS5sb2FkKCk7XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgJydcbiAgICAgKi9cblxuICAgIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJyc7XG4gICAgLyoqXG4gICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGJlZm9yZSBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICovXG5cbiAgICB0aGlzLl9iZWZvcmVNaWRkbGV3YXJlID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZSA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICovXG5cbiAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIGBfbG9hZFJlc291cmNlYCBmdW5jdGlvbiBib3VuZCB3aXRoIHRoaXMgb2JqZWN0IGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHIgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGQgLSBUaGUgZGVxdWV1ZSBmdW5jdGlvblxuICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JvdW5kTG9hZFJlc291cmNlID0gZnVuY3Rpb24gKHIsIGQpIHtcbiAgICAgIHJldHVybiBfdGhpcy5fbG9hZFJlc291cmNlKHIsIGQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIHJlc291cmNlcyB3YWl0aW5nIHRvIGJlIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuXG4gICAgdGhpcy5fcXVldWUgPSBxdWV1ZSh0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSwgY29uY3VycmVuY3kpO1xuXG4gICAgdGhpcy5fcXVldWUucGF1c2UoKTtcbiAgICAvKipcbiAgICAgKiBBbGwgdGhlIHJlc291cmNlcyBmb3IgdGhpcyBsb2FkZXIga2V5ZWQgYnkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdDxzdHJpbmcsIFJlc291cmNlPn1cbiAgICAgKi9cblxuXG4gICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCBvciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAqXG4gICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkVycm9yU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25FcnJvclNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uRXJyb3IgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBsb2FkZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uTG9hZFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uTG9hZFNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uTG9hZCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIGxvYWRlciBiZWdpbnMgdG8gcHJvY2VzcyB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uU3RhcnRTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PblN0YXJ0U2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTsgLy8gQWRkIGRlZmF1bHQgYmVmb3JlIG1pZGRsZXdhcmVcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgdGhpcy5wcmUoTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZVtpXSk7XG4gICAgfSAvLyBBZGQgZGVmYXVsdCBhZnRlciBtaWRkbGV3YXJlXG5cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUubGVuZ3RoOyArK19pKSB7XG4gICAgICB0aGlzLnVzZShMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmVbX2ldKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHByb2dyZXNzIGNoYW5nZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhlIHByb2dyZXNzIGlzIGFkdmFuY2luZyBvbi5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIG9yIGZhaWxlZCB0byBjYXVzZSB0aGUgcHJvZ3Jlc3MgdG8gYWR2YW5jZS5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gYW4gZXJyb3Igb2NjdXJycyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25FcnJvclNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgZXJyb3IgaGFwcGVuZWQgaW4uXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgY2F1c2VkIHRoZSBlcnJvci5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gYSBsb2FkIGNvbXBsZXRlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Mb2FkU2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgbGFvZGVkIHRoZSByZXNvdXJjZS5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIGxvYWRpbmcuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBsb2FkZXIgc3RhcnRzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBzdGFydGVkIGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgbG9hZGVyIGNvbXBsZXRlcyBsb2FkaW5nIHJlc291cmNlcyBpdCBkaXNwYXRjaGVzIHRoaXMgY2FsbGJhY2suXG4gICAqXG4gICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBoYXMgZmluaXNoZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBPcHRpb25zIGZvciBhIGNhbGwgdG8gYC5hZGQoKWAuXG4gICAqXG4gICAqIEBzZWUgTG9hZGVyI2FkZFxuICAgKlxuICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBJQWRkT3B0aW9uc1xuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQsIGlmIG5vdCBwYXNzZWQgdGhlIHVybCBpcyB1c2VkLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2tleV0gLSBBbGlhcyBmb3IgYG5hbWVgLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICogQHByb3BlcnR5IHtzdHJpbmd8Ym9vbGVhbn0gW2Nyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICogICAgICBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAqICAgICAgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXNcbiAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtsb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW3hoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICogICAgICBzaG91bGQgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtvbkNvbXBsZXRlXSAtIENhbGxiYWNrIHRvIGFkZCBhbiBhbiBvbkNvbXBsZXRlIHNpZ25hbCBpc3RlbmVyLlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBBbGlhcyBmb3IgYG9uQ29tcGxldGVgLlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLklNZXRhZGF0YX0gW21ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAqL1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cblxuICAvKipcbiAgICogQWRkcyBhIHJlc291cmNlIChvciBtdWx0aXBsZSByZXNvdXJjZXMpIHRvIHRoZSBsb2FkZXIgcXVldWUuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gY2FuIHRha2UgYSB3aWRlIHZhcmlldHkgb2YgZGlmZmVyZW50IHBhcmFtZXRlcnMuIFRoZSBvbmx5IHRoaW5nIHRoYXQgaXMgYWx3YXlzXG4gICAqIHJlcXVpcmVkIHRoZSB1cmwgdG8gbG9hZC4gQWxsIHRoZSBmb2xsb3dpbmcgd2lsbCB3b3JrOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBsb2FkZXJcbiAgICogICAgIC8vIG5vcm1hbCBwYXJhbSBzeW50YXhcbiAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKCdodHRwOi8vLi4uJywgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKCdodHRwOi8vLi4uJylcbiAgICpcbiAgICogICAgIC8vIG9iamVjdCBzeW50YXhcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIG5hbWU6ICdrZXkyJyxcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKHtcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAqICAgICAuYWRkKHtcbiAgICogICAgICAgICBuYW1lOiAna2V5MycsXG4gICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fVxuICAgKiAgICAgfSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIHVybDogJ2h0dHBzOi8vLi4uJyxcbiAgICogICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSxcbiAgICogICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZVxuICAgKiAgICAgfSlcbiAgICpcbiAgICogICAgIC8vIHlvdSBjYW4gYWxzbyBwYXNzIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJscyBvciBib3RoXG4gICAqICAgICAuYWRkKFtcbiAgICogICAgICAgICB7IG5hbWU6ICdrZXk0JywgdXJsOiAnaHR0cDovLy4uLicsIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9IH0sXG4gICAqICAgICAgICAgeyB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICogICAgICAgICAnaHR0cDovLy4uLidcbiAgICogICAgIF0pXG4gICAqXG4gICAqICAgICAvLyBhbmQgeW91IGNhbiB1c2UgYm90aCBwYXJhbXMgYW5kIG9wdGlvbnNcbiAgICogICAgIC5hZGQoJ2tleScsICdodHRwOi8vLi4uJywgeyBjcm9zc09yaWdpbjogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBmdW5jdGlvblxuICAgKiBAdmFyaWF0aW9uIDFcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gMlxuICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDNcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiA0XG4gICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDVcbiAgKiBAcGFyYW0ge0lBZGRPcHRpb25zfSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLiBUaGlzIG9iamVjdCBtdXN0IGNvbnRhaW4gYSBgdXJsYCBwcm9wZXJ0eS5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDZcbiAgKiBAcGFyYW0ge0FycmF5PElBZGRPcHRpb25zfHN0cmluZz59IHJlc291cmNlcyAtIEFuIGFycmF5IG9mIHJlc291cmNlcyB0byBsb2FkLCB3aGVyZSBlYWNoIGlzXG4gICogICAgICBlaXRoZXIgYW4gb2JqZWN0IHdpdGggdGhlIG9wdGlvbnMgb3IgYSBzdHJpbmcgdXJsLiBJZiB5b3UgcGFzcyBhbiBvYmplY3QsIGl0IG11c3QgY29udGFpbiBhIGB1cmxgIHByb3BlcnR5LlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IExvYWRlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChuYW1lLCB1cmwsIG9wdGlvbnMsIGNiKSB7XG4gICAgLy8gc3BlY2lhbCBjYXNlIG9mIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJsc1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdGhpcy5hZGQobmFtZVtpXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gLy8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCBpbnN0ZWFkIG9mIHBhcmFtc1xuXG5cbiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBjYiA9IHVybCB8fCBuYW1lLmNhbGxiYWNrIHx8IG5hbWUub25Db21wbGV0ZTtcbiAgICAgIG9wdGlvbnMgPSBuYW1lO1xuICAgICAgdXJsID0gbmFtZS51cmw7XG4gICAgICBuYW1lID0gbmFtZS5uYW1lIHx8IG5hbWUua2V5IHx8IG5hbWUudXJsO1xuICAgIH0gLy8gY2FzZSB3aGVyZSBubyBuYW1lIGlzIHBhc3NlZCBzaGlmdCBhbGwgYXJncyBvdmVyIGJ5IG9uZS5cblxuXG4gICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0gdXJsO1xuICAgICAgdXJsID0gbmFtZTtcbiAgICB9IC8vIG5vdyB0aGF0IHdlIHNoaWZ0ZWQgbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgdXJsLlxuXG5cbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXJsIHBhc3NlZCB0byBhZGQgcmVzb3VyY2UgdG8gbG9hZGVyLicpO1xuICAgIH0gLy8gb3B0aW9ucyBhcmUgb3B0aW9uYWwgc28gcGVvcGxlIG1pZ2h0IHBhc3MgYSBmdW5jdGlvbiBhbmQgbm8gb3B0aW9uc1xuXG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgIH0gLy8gaWYgbG9hZGluZyBhbHJlYWR5IHlvdSBjYW4gb25seSBhZGQgcmVzb3VyY2VzIHRoYXQgaGF2ZSBhIHBhcmVudC5cblxuXG4gICAgaWYgKHRoaXMubG9hZGluZyAmJiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMucGFyZW50UmVzb3VyY2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgcmVzb3VyY2VzIHdoaWxlIHRoZSBsb2FkZXIgaXMgcnVubmluZy4nKTtcbiAgICB9IC8vIGNoZWNrIGlmIHJlc291cmNlIGFscmVhZHkgZXhpc3RzLlxuXG5cbiAgICBpZiAodGhpcy5yZXNvdXJjZXNbbmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlc291cmNlIG5hbWVkIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgYWxyZWFkeSBleGlzdHMuXCIpO1xuICAgIH0gLy8gYWRkIGJhc2UgdXJsIGlmIHRoaXMgaXNuJ3QgYW4gYWJzb2x1dGUgdXJsXG5cblxuICAgIHVybCA9IHRoaXMuX3ByZXBhcmVVcmwodXJsKTsgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcblxuICAgIHRoaXMucmVzb3VyY2VzW25hbWVdID0gbmV3IFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucyk7XG5cbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5vbkFmdGVyTWlkZGxld2FyZS5vbmNlKGNiKTtcbiAgICB9IC8vIGlmIGFjdGl2ZWx5IGxvYWRpbmcsIG1ha2Ugc3VyZSB0byBhZGp1c3QgcHJvZ3Jlc3MgY2h1bmtzIGZvciB0aGF0IHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuXG5cblxuICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudFJlc291cmNlO1xuICAgICAgdmFyIGluY29tcGxldGVDaGlsZHJlbiA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyArK19pMikge1xuICAgICAgICBpZiAoIXBhcmVudC5jaGlsZHJlbltfaTJdLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5bX2kyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGZ1bGxDaHVuayA9IHBhcmVudC5wcm9ncmVzc0NodW5rICogKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAxKTsgLy8gKzEgZm9yIHBhcmVudFxuXG4gICAgICB2YXIgZWFjaENodW5rID0gZnVsbENodW5rIC8gKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAyKTsgLy8gKzIgZm9yIHBhcmVudCAmIG5ldyBjaGlsZFxuXG4gICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG4gICAgICBwYXJlbnQucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcblxuICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aDsgKytfaTMpIHtcbiAgICAgICAgaW5jb21wbGV0ZUNoaWxkcmVuW19pM10ucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0ucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcbiAgICB9IC8vIGFkZCB0aGUgcmVzb3VyY2UgdG8gdGhlIHF1ZXVlXG5cblxuICAgIHRoaXMuX3F1ZXVlLnB1c2godGhpcy5yZXNvdXJjZXNbbmFtZV0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSByZXF1aXJlLWpzZG9jLHZhbGlkLWpzZG9jICovXG5cbiAgLyoqXG4gICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnByZSA9IGZ1bmN0aW9uIHByZShmbikge1xuICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51c2UgPSBmdW5jdGlvbiB1c2UoZm4pIHtcbiAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogUmVzZXRzIHRoZSBxdWV1ZSBvZiB0aGUgbG9hZGVyIHRvIHByZXBhcmUgZm9yIGEgbmV3IGxvYWQuXG4gICAqXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fcXVldWUua2lsbCgpO1xuXG4gICAgdGhpcy5fcXVldWUucGF1c2UoKTsgLy8gYWJvcnQgYWxsIHJlc291cmNlIGxvYWRzXG5cblxuICAgIGZvciAodmFyIGsgaW4gdGhpcy5yZXNvdXJjZXMpIHtcbiAgICAgIHZhciByZXMgPSB0aGlzLnJlc291cmNlc1trXTtcblxuICAgICAgaWYgKHJlcy5fb25Mb2FkQmluZGluZykge1xuICAgICAgICByZXMuX29uTG9hZEJpbmRpbmcuZGV0YWNoKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHJlcy5hYm9ydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVzb3VyY2VzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFN0YXJ0cyBsb2FkaW5nIHRoZSBxdWV1ZWQgcmVzb3VyY2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGJvdW5kIHRvIHRoZSBgY29tcGxldGVgIGV2ZW50LlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICAvLyByZWdpc3RlciBjb21wbGV0ZSBjYWxsYmFjayBpZiB0aGV5IHBhc3Mgb25lXG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgIH0gLy8gaWYgdGhlIHF1ZXVlIGhhcyBhbHJlYWR5IHN0YXJ0ZWQgd2UgYXJlIGRvbmUgaGVyZVxuXG5cbiAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcXVldWUuaWRsZSgpKSB7XG4gICAgICB0aGlzLl9vblN0YXJ0KCk7XG5cbiAgICAgIHRoaXMuX29uQ29tcGxldGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGlzdHJpYnV0ZSBwcm9ncmVzcyBjaHVua3NcbiAgICAgIHZhciBudW1UYXNrcyA9IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7XG4gICAgICB2YXIgY2h1bmsgPSBNQVhfUFJPR1JFU1MgLyBudW1UYXNrcztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdGhpcy5fcXVldWUuX3Rhc2tzW2ldLmRhdGEucHJvZ3Jlc3NDaHVuayA9IGNodW5rO1xuICAgICAgfSAvLyBub3RpZnkgd2UgYXJlIHN0YXJ0aW5nXG5cblxuICAgICAgdGhpcy5fb25TdGFydCgpOyAvLyBzdGFydCBsb2FkaW5nXG5cblxuICAgICAgdGhpcy5fcXVldWUucmVzdW1lKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDEwXG4gICAqL1xuICA7XG5cbiAgLyoqXG4gICAqIFByZXBhcmVzIGEgdXJsIGZvciB1c2FnZSBiYXNlZCBvbiB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGlzIG9iamVjdFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byBwcmVwYXJlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBwcmVwYXJlZCB1cmwuXG4gICAqL1xuICBfcHJvdG8uX3ByZXBhcmVVcmwgPSBmdW5jdGlvbiBfcHJlcGFyZVVybCh1cmwpIHtcbiAgICB2YXIgcGFyc2VkVXJsID0gcGFyc2VVcmkodXJsLCB7XG4gICAgICBzdHJpY3RNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHJlc3VsdDsgLy8gYWJzb2x1dGUgdXJsLCBqdXN0IHVzZSBpdCBhcyBpcy5cblxuICAgIGlmIChwYXJzZWRVcmwucHJvdG9jb2wgfHwgIXBhcnNlZFVybC5wYXRoIHx8IHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICByZXN1bHQgPSB1cmw7XG4gICAgfSAvLyBpZiBiYXNlVXJsIGRvZXNuJ3QgZW5kIGluIHNsYXNoIGFuZCB1cmwgZG9lc24ndCBzdGFydCB3aXRoIHNsYXNoLCB0aGVuIGFkZCBhIHNsYXNoIGluYmV0d2VlblxuICAgIGVsc2UgaWYgKHRoaXMuYmFzZVVybC5sZW5ndGggJiYgdGhpcy5iYXNlVXJsLmxhc3RJbmRleE9mKCcvJykgIT09IHRoaXMuYmFzZVVybC5sZW5ndGggLSAxICYmIHVybC5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyBcIi9cIiArIHVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIHVybDtcbiAgICAgIH0gLy8gaWYgd2UgbmVlZCB0byBhZGQgYSBkZWZhdWx0IHF1ZXJ5c3RyaW5nLCB0aGVyZSBpcyBhIGJpdCBtb3JlIHdvcmtcblxuXG4gICAgaWYgKHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nKSB7XG4gICAgICB2YXIgaGFzaCA9IHJneEV4dHJhY3RVcmxIYXNoLmV4ZWMocmVzdWx0KVswXTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5zdWJzdHIoMCwgcmVzdWx0Lmxlbmd0aCAtIGhhc2gubGVuZ3RoKTtcblxuICAgICAgaWYgKHJlc3VsdC5pbmRleE9mKCc/JykgIT09IC0xKSB7XG4gICAgICAgIHJlc3VsdCArPSBcIiZcIiArIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiP1wiICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCArPSBoYXNoO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIGEgc2luZ2xlIHJlc291cmNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkZXF1ZXVlIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB3ZSBuZWVkIHRvIGRlcXVldWUgdGhpcyBpdGVtLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFJlc291cmNlID0gZnVuY3Rpb24gX2xvYWRSZXNvdXJjZShyZXNvdXJjZSwgZGVxdWV1ZSkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgcmVzb3VyY2UuX2RlcXVldWUgPSBkZXF1ZXVlOyAvLyBydW4gYmVmb3JlIG1pZGRsZXdhcmVcblxuICAgIGVhY2hTZXJpZXModGhpcy5fYmVmb3JlTWlkZGxld2FyZSwgZnVuY3Rpb24gKGZuLCBuZXh0KSB7XG4gICAgICBmbi5jYWxsKF90aGlzMiwgcmVzb3VyY2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaWYgdGhlIGJlZm9yZSBtaWRkbGV3YXJlIG1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZSxcbiAgICAgICAgLy8gYnJlYWsgYW5kIGRvbid0IHByb2Nlc3MgYW55IG1vcmUgYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgbmV4dChyZXNvdXJjZS5pc0NvbXBsZXRlID8ge30gOiBudWxsKTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChyZXNvdXJjZS5pc0NvbXBsZXRlKSB7XG4gICAgICAgIF90aGlzMi5fb25Mb2FkKHJlc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gcmVzb3VyY2Uub25Db21wbGV0ZS5vbmNlKF90aGlzMi5fb25Mb2FkLCBfdGhpczIpO1xuICAgICAgICByZXNvdXJjZS5sb2FkKCk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIHN0YXJ0ZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblN0YXJ0ID0gZnVuY3Rpb24gX29uU3RhcnQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBvbmNlIGVhY2ggcmVzb3VyY2UgaGFzIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uQ29tcGxldGUgPSBmdW5jdGlvbiBfb25Db21wbGV0ZSgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gTUFYX1BST0dSRVNTO1xuICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzLCB0aGlzLnJlc291cmNlcyk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBlYWNoIHRpbWUgYSByZXNvdXJjZXMgaXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHdhcyBsb2FkZWRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uTG9hZCA9IGZ1bmN0aW9uIF9vbkxvYWQocmVzb3VyY2UpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHJlc291cmNlLl9vbkxvYWRCaW5kaW5nID0gbnVsbDsgLy8gcmVtb3ZlIHRoaXMgcmVzb3VyY2UgZnJvbSB0aGUgYXN5bmMgcXVldWUsIGFuZCBhZGQgaXQgdG8gb3VyIGxpc3Qgb2YgcmVzb3VyY2VzIHRoYXQgYXJlIGJlaW5nIHBhcnNlZFxuXG4gICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5wdXNoKHJlc291cmNlKTtcblxuICAgIHJlc291cmNlLl9kZXF1ZXVlKCk7IC8vIHJ1biBhbGwgdGhlIGFmdGVyIG1pZGRsZXdhcmUgZm9yIHRoaXMgcmVzb3VyY2VcblxuXG4gICAgZWFjaFNlcmllcyh0aGlzLl9hZnRlck1pZGRsZXdhcmUsIGZ1bmN0aW9uIChmbiwgbmV4dCkge1xuICAgICAgZm4uY2FsbChfdGhpczMsIHJlc291cmNlLCBuZXh0KTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5kaXNwYXRjaChyZXNvdXJjZSk7XG4gICAgICBfdGhpczMucHJvZ3Jlc3MgPSBNYXRoLm1pbihNQVhfUFJPR1JFU1MsIF90aGlzMy5wcm9ncmVzcyArIHJlc291cmNlLnByb2dyZXNzQ2h1bmspO1xuXG4gICAgICBfdGhpczMub25Qcm9ncmVzcy5kaXNwYXRjaChfdGhpczMsIHJlc291cmNlKTtcblxuICAgICAgaWYgKHJlc291cmNlLmVycm9yKSB7XG4gICAgICAgIF90aGlzMy5vbkVycm9yLmRpc3BhdGNoKHJlc291cmNlLmVycm9yLCBfdGhpczMsIHJlc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzMy5vbkxvYWQuZGlzcGF0Y2goX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTsgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuXG5cbiAgICAgIGlmIChfdGhpczMuX3F1ZXVlLmlkbGUoKSAmJiBfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIF90aGlzMy5fb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0sIHRydWUpO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhMb2FkZXIsIFt7XG4gICAga2V5OiBcImNvbmN1cnJlbmN5XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcXVldWUuY29uY3VycmVuY3k7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChjb25jdXJyZW5jeSkge1xuICAgICAgdGhpcy5fcXVldWUuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9hZGVyO1xufSgpO1xuLyoqXG4gKiBBIGRlZmF1bHQgYXJyYXkgb2YgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAqIEVhY2ggb2YgdGhlc2UgbWlkZGxld2FyZXMgYXJlIGFkZGVkIHRvIGFueSBuZXcgTG9hZGVyIGluc3RhbmNlcyB3aGVuIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gKi9cblxuXG5Mb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlID0gW107XG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBhZnRlciBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gKiBFYWNoIG9mIHRoZXNlIG1pZGRsZXdhcmVzIGFyZSBhZGRlZCB0byBhbnkgbmV3IExvYWRlciBpbnN0YW5jZXMgd2hlbiB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICovXG5cbkxvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZSA9IFtdO1xuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5cbkxvYWRlci5wcmUgPSBmdW5jdGlvbiBMb2FkZXJQcmVTdGF0aWMoZm4pIHtcbiAgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICByZXR1cm4gTG9hZGVyO1xufTtcbi8qKlxuICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5cblxuTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIExvYWRlclVzZVN0YXRpYyhmbikge1xuICBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgcmV0dXJuIExvYWRlcjtcbn07XG5cbmV4cG9ydCB7IExvYWRlciwgUmVzb3VyY2UsIGFzeW5jLCBlbmNvZGVCaW5hcnksIGluZGV4IGFzIG1pZGRsZXdhcmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc291cmNlLWxvYWRlci5lc20uanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2xvYWRlcnMgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvbG9hZGVycyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlc291cmNlLCBMb2FkZXIgYXMgTG9hZGVyJDEsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIExvYWRlciBwbHVnaW4gZm9yIGhhbmRsaW5nIFRleHR1cmUgcmVzb3VyY2VzLlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbnZhciBUZXh0dXJlTG9hZGVyID0gZnVuY3Rpb24gVGV4dHVyZUxvYWRlciAoKSB7fTtcblxuVGV4dHVyZUxvYWRlci51c2UgPSBmdW5jdGlvbiB1c2UgKHJlc291cmNlLCBuZXh0KVxue1xuICAgIC8vIGNyZWF0ZSBhIG5ldyB0ZXh0dXJlIGlmIHRoZSBkYXRhIGlzIGFuIEltYWdlIG9iamVjdFxuICAgIGlmIChyZXNvdXJjZS5kYXRhICYmIHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0UpXG4gICAge1xuICAgICAgICByZXNvdXJjZS50ZXh0dXJlID0gVGV4dHVyZS5mcm9tTG9hZGVyKFxuICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSxcbiAgICAgICAgICAgIHJlc291cmNlLnVybCxcbiAgICAgICAgICAgIHJlc291cmNlLm5hbWVcbiAgICAgICAgKTtcbiAgICB9XG4gICAgbmV4dCgpO1xufTtcblxuLyoqXG4gKiBUaGUgbmV3IGxvYWRlciwgZXh0ZW5kcyBSZXNvdXJjZSBMb2FkZXIgYnkgQ2hhZCBFbmdsZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgbG9hZGVyID0gUElYSS5Mb2FkZXIuc2hhcmVkOyAvLyBQaXhpSlMgZXhwb3NlcyBhIHByZW1hZGUgaW5zdGFuY2UgZm9yIHlvdSB0byB1c2UuXG4gKiAvL29yXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5Mb2FkZXIoKTsgLy8geW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biBpZiB5b3Ugd2FudFxuICpcbiAqIGNvbnN0IHNwcml0ZXMgPSB7fTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYGFkZGAgdG8gZW5xdWV1ZSBhIHJlc291cmNlXG4gKiBsb2FkZXIuYWRkKCdidW5ueScsICdkYXRhL2J1bm55LnBuZycpXG4gKiAgICAgICAuYWRkKCdzcGFjZXNoaXAnLCAnYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb24nKTtcbiAqIGxvYWRlci5hZGQoJ3Njb3JlRm9udCcsICdhc3NldHMvc2NvcmUuZm50Jyk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBwcmVgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYmVmb3JlKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIGNhY2hpbmcgbW9kdWxlcyAodXNpbmcgZmlsZXN5c3RlbSwgaW5kZXhlZGRiLCBtZW1vcnksIGV0YykuXG4gKiBsb2FkZXIucHJlKGNhY2hpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHVzZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICphZnRlciogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBwYXJzaW5nIG1vZHVsZXMgKGxpa2Ugc3ByaXRlc2hlZXQgcGFyc2Vycywgc3BpbmUgcGFyc2VyLCBldGMpLlxuICogbG9hZGVyLnVzZShwYXJzaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gVGhlIGBsb2FkYCBtZXRob2QgbG9hZHMgdGhlIHF1ZXVlIG9mIHJlc291cmNlcywgYW5kIGNhbGxzIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2sgY2FsbGVkIG9uY2UgYWxsXG4gKiAvLyByZXNvdXJjZXMgaGF2ZSBsb2FkZWQuXG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgICAvLyByZXNvdXJjZXMgaXMgYW4gb2JqZWN0IHdoZXJlIHRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIGxvYWRlZCBhbmQgdGhlIHZhbHVlIGlzIHRoZSByZXNvdXJjZSBvYmplY3QuXG4gKiAgICAgLy8gVGhleSBoYXZlIGEgY291cGxlIGRlZmF1bHQgcHJvcGVydGllczpcbiAqICAgICAvLyAtIGB1cmxgOiBUaGUgVVJMIHRoYXQgdGhlIHJlc291cmNlIHdhcyBsb2FkZWQgZnJvbVxuICogICAgIC8vIC0gYGVycm9yYDogVGhlIGVycm9yIHRoYXQgaGFwcGVuZWQgd2hlbiB0cnlpbmcgdG8gbG9hZCAoaWYgYW55KVxuICogICAgIC8vIC0gYGRhdGFgOiBUaGUgcmF3IGRhdGEgdGhhdCB3YXMgbG9hZGVkXG4gKiAgICAgLy8gYWxzbyBtYXkgY29udGFpbiBvdGhlciBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBtaWRkbGV3YXJlIHRoYXQgcnVucy5cbiAqICAgICBzcHJpdGVzLmJ1bm55ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5idW5ueS50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNwYWNlc2hpcCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc3BhY2VzaGlwLnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc2NvcmVGb250ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zY29yZUZvbnQudGV4dHVyZSk7XG4gKiB9KTtcbiAqXG4gKiAvLyB0aHJvdWdob3V0IHRoZSBwcm9jZXNzIG11bHRpcGxlIHNpZ25hbHMgY2FuIGJlIGRpc3BhdGNoZWQuXG4gKiBsb2FkZXIub25Qcm9ncmVzcy5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkL2Vycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uRXJyb3IuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGVycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uTG9hZC5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkIGZpbGVcbiAqIGxvYWRlci5vbkNvbXBsZXRlLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBAY2xhc3MgTG9hZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHBhcmFtIHtzdHJpbmd9IFtiYXNlVXJsPScnXSAtIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICovXG52YXIgTG9hZGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUmVzb3VyY2VMb2FkZXIpIHtcbiAgICBmdW5jdGlvbiBMb2FkZXIoYmFzZVVybCwgY29uY3VycmVuY3kpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBSZXNvdXJjZUxvYWRlci5jYWxsKHRoaXMsIGJhc2VVcmwsIGNvbmN1cnJlbmN5KTtcbiAgICAgICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX3BsdWdpbnMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBwbHVnaW4gPSBMb2FkZXIuX3BsdWdpbnNbaV07XG4gICAgICAgICAgICB2YXIgcHJlID0gcGx1Z2luLnByZTtcbiAgICAgICAgICAgIHZhciB1c2UgPSBwbHVnaW4udXNlO1xuXG4gICAgICAgICAgICBpZiAocHJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHJlKHByZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh1c2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51c2UodXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbXBhdCBsYXllciwgdHJhbnNsYXRlIHRoZSBuZXcgdjIgc2lnbmFscyBpbnRvIG9sZCB2MSBldmVudHMuXG4gICAgICAgIHRoaXMub25TdGFydC5hZGQoZnVuY3Rpb24gKGwpIHsgcmV0dXJuIHRoaXMkMS5lbWl0KCdzdGFydCcsIGwpOyB9KTtcbiAgICAgICAgdGhpcy5vblByb2dyZXNzLmFkZChmdW5jdGlvbiAobCwgcikgeyByZXR1cm4gdGhpcyQxLmVtaXQoJ3Byb2dyZXNzJywgbCwgcik7IH0pO1xuICAgICAgICB0aGlzLm9uRXJyb3IuYWRkKGZ1bmN0aW9uIChlLCBsLCByKSB7IHJldHVybiB0aGlzJDEuZW1pdCgnZXJyb3InLCBlLCBsLCByKTsgfSk7XG4gICAgICAgIHRoaXMub25Mb2FkLmFkZChmdW5jdGlvbiAobCwgcikgeyByZXR1cm4gdGhpcyQxLmVtaXQoJ2xvYWQnLCBsLCByKTsgfSk7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5hZGQoZnVuY3Rpb24gKGwsIHIpIHsgcmV0dXJuIHRoaXMkMS5lbWl0KCdjb21wbGV0ZScsIGwsIHIpOyB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBsb2FkZXIgY2Fubm90IGJlIGRlc3Ryb3llZC5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Byb3RlY3RlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICggUmVzb3VyY2VMb2FkZXIgKSBMb2FkZXIuX19wcm90b19fID0gUmVzb3VyY2VMb2FkZXI7XG4gICAgTG9hZGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFJlc291cmNlTG9hZGVyICYmIFJlc291cmNlTG9hZGVyLnByb3RvdHlwZSApO1xuICAgIExvYWRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb2FkZXI7XG5cbiAgICB2YXIgc3RhdGljQWNjZXNzb3JzID0geyBzaGFyZWQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIGxvYWRlciwgcmVtb3ZlcyByZWZlcmVuY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm90ZWN0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBwcmVtYWRlIGluc3RhbmNlIG9mIHRoZSBsb2FkZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2FkIHJlc291cmNlcy5cbiAgICAgKiBAbmFtZSBzaGFyZWRcbiAgICAgKiBAdHlwZSB7UElYSS5Mb2FkZXJ9XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICAgICAqL1xuICAgIHN0YXRpY0FjY2Vzc29ycy5zaGFyZWQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHZhciBzaGFyZWQgPSBMb2FkZXIuX3NoYXJlZDtcblxuICAgICAgICBpZiAoIXNoYXJlZClcbiAgICAgICAge1xuICAgICAgICAgICAgc2hhcmVkID0gbmV3IExvYWRlcigpO1xuICAgICAgICAgICAgc2hhcmVkLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgTG9hZGVyLl9zaGFyZWQgPSBzaGFyZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2hhcmVkO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggTG9hZGVyLCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59KExvYWRlciQxKSk7XG5cbi8vIENvcHkgRUUzIHByb3RvdHlwZSAobWl4aW4pXG5PYmplY3QuYXNzaWduKExvYWRlci5wcm90b3R5cGUsIEV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgYWxsIGluc3RhbGxlZCBgdXNlYCBtaWRkbGV3YXJlIGZvciBMb2FkZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlciB7QXJyYXk8UElYSS5JTG9hZGVyUGx1Z2luPn0gX3BsdWdpbnNcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHByaXZhdGVcbiAqL1xuTG9hZGVyLl9wbHVnaW5zID0gW107XG5cbi8qKlxuICogQWRkcyBhIExvYWRlciBwbHVnaW4gZm9yIHRoZSBnbG9iYWwgc2hhcmVkIGxvYWRlciBhbmQgYWxsXG4gKiBuZXcgTG9hZGVyIGluc3RhbmNlcyBjcmVhdGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZXRob2QgcmVnaXN0ZXJQbHVnaW5cbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQHBhcmFtIHtQSVhJLklMb2FkZXJQbHVnaW59IHBsdWdpbiAtIFRoZSBwbHVnaW4gdG8gYWRkXG4gKiBAcmV0dXJuIHtQSVhJLkxvYWRlcn0gUmVmZXJlbmNlIHRvIFBJWEkuTG9hZGVyIGZvciBjaGFpbmluZ1xuICovXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiByZWdpc3RlclBsdWdpbihwbHVnaW4pXG57XG4gICAgTG9hZGVyLl9wbHVnaW5zLnB1c2gocGx1Z2luKTtcblxuICAgIGlmIChwbHVnaW4uYWRkKVxuICAgIHtcbiAgICAgICAgcGx1Z2luLmFkZCgpO1xuICAgIH1cblxuICAgIHJldHVybiBMb2FkZXI7XG59O1xuXG4vLyBwYXJzZSBhbnkgYmxvYiBpbnRvIG1vcmUgdXNhYmxlIG9iamVjdHMgKGUuZy4gSW1hZ2UpXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oeyB1c2U6IG1pZGRsZXdhcmUucGFyc2luZyB9KTtcblxuLy8gcGFyc2UgYW55IEltYWdlIG9iamVjdHMgaW50byB0ZXh0dXJlc1xuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKFRleHR1cmVMb2FkZXIpO1xuXG4vKipcbiAqIFBsdWdpbiB0byBiZSBpbnN0YWxsZWQgZm9yIGhhbmRsaW5nIHNwZWNpZmljIExvYWRlciByZXNvdXJjZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIElMb2FkZXJQbHVnaW5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFthZGRdIC0gRnVuY3Rpb24gdG8gY2FsbCBpbW1lZGlhdGUgYWZ0ZXIgcmVnaXN0ZXJpbmcgcGx1Z2luLlxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlfSBbcHJlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGJlZm9yZSBsb2FkLCB0aGVcbiAqICAgICAgICAgICBhcmd1bWVudHMgZm9yIHRoaXMgYXJlIGAocmVzb3VyY2UsIG5leHQpYFxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlfSBbdXNlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGFmdGVyIGxvYWQsIHRoZVxuICogICAgICAgICAgIGFyZ3VtZW50cyBmb3IgdGhpcyBhcmUgYChyZXNvdXJjZSwgbmV4dClgXG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJcbiAqIEBjYWxsYmFjayBsb2FkZXJNaWRkbGV3YXJlXG4gKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0XG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtvYmplY3R9IG9uU3RhcnRcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge29iamVjdH0gb25Qcm9ncmVzc1xuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7b2JqZWN0fSBvbkVycm9yXG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtvYmplY3R9IG9uTG9hZFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7b2JqZWN0fSBvbkNvbXBsZXRlXG4gKi9cblxuLyoqXG4gKiBBcHBsaWNhdGlvbiBwbHVnaW4gZm9yIHN1cHBvcnRpbmcgbG9hZGVyIG9wdGlvbi4gSW5zdGFsbGluZyB0aGUgTG9hZGVyUGx1Z2luXG4gKiBpcyBub3QgbmVjZXNzYXJ5IGlmIHVzaW5nICoqcGl4aS5qcyoqIG9yICoqcGl4aS5qcy1sZWdhY3kqKi5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge0FwcExvYWRlclBsdWdpbn0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG4gKiBpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICdAcGl4aS9hcHAnO1xuICogQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oQXBwTG9hZGVyUGx1Z2luKTtcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFwcExvYWRlclBsdWdpbiA9IGZ1bmN0aW9uIEFwcExvYWRlclBsdWdpbiAoKSB7fTtcblxuQXBwTG9hZGVyUGx1Z2luLmluaXQgPSBmdW5jdGlvbiBpbml0IChvcHRpb25zKVxue1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgc2hhcmVkTG9hZGVyOiBmYWxzZSxcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIExvYWRlciBpbnN0YW5jZSB0byBoZWxwIHdpdGggYXNzZXQgbG9hZGluZy5cbiAgICAgKiBAbmFtZSBQSVhJLkFwcGxpY2F0aW9uI2xvYWRlclxuICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLmxvYWRlciA9IG9wdGlvbnMuc2hhcmVkTG9hZGVyID8gTG9hZGVyLnNoYXJlZCA6IG5ldyBMb2FkZXIoKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gYXBwbGljYXRpb24gZGVzdHJveWVkXG4gKiBAcHJpdmF0ZVxuICovXG5BcHBMb2FkZXJQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICBpZiAodGhpcy5sb2FkZXIpXG4gICAge1xuICAgICAgICB0aGlzLmxvYWRlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJlZmVyZW5jZSB0byAqKntAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKiByZXNvdXJjZS1sb2FkZXJ9KioncyBSZXNvdXJjZSBjbGFzcy5cbiAqIEBzZWUgaHR0cDovL2VuZ2xlcmNqLmdpdGh1Yi5pby9yZXNvdXJjZS1sb2FkZXIvUmVzb3VyY2UuaHRtbFxuICogQGNsYXNzIExvYWRlclJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTG9hZGVyUmVzb3VyY2UgPSBSZXNvdXJjZTtcblxuZXhwb3J0IHsgQXBwTG9hZGVyUGx1Z2luLCBMb2FkZXIsIExvYWRlclJlc291cmNlLCBUZXh0dXJlTG9hZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkZXJzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9wYXJ0aWNsZXMgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvcGFydGljbGVzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGhleDJyZ2IsIGNyZWF0ZUluZGljZXNGb3JRdWFkcywgY29ycmVjdEJsZW5kTW9kZSwgcHJlbXVsdGlwbHlSZ2JhLCBwcmVtdWx0aXBseVRpbnQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IEdlb21ldHJ5LCBCdWZmZXIsIE9iamVjdFJlbmRlcmVyLCBTaGFkZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFRoZSBQYXJ0aWNsZUNvbnRhaW5lciBjbGFzcyBpcyBhIHJlYWxseSBmYXN0IHZlcnNpb24gb2YgdGhlIENvbnRhaW5lciBidWlsdCBzb2xlbHkgZm9yIHNwZWVkLFxuICogc28gdXNlIHdoZW4geW91IG5lZWQgYSBsb3Qgb2Ygc3ByaXRlcyBvciBwYXJ0aWNsZXMuXG4gKlxuICogVGhlIHRyYWRlb2ZmIG9mIHRoZSBQYXJ0aWNsZUNvbnRhaW5lciBpcyB0aGF0IG1vc3QgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSB3aWxsIG5vdCB3b3JrLlxuICogUGFydGljbGVDb250YWluZXIgaW1wbGVtZW50cyB0aGUgYmFzaWMgb2JqZWN0IHRyYW5zZm9ybSAocG9zaXRpb24sIHNjYWxlLCByb3RhdGlvbilcbiAqIGFuZCBzb21lIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSB0aW50IChhcyBvZiB2NC41LjYpLlxuICpcbiAqIE90aGVyIG1vcmUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIG1hc2tpbmcsIGNoaWxkcmVuLCBmaWx0ZXJzLCBldGMgd2lsbCBub3Qgd29yayBvbiBzcHJpdGVzIGluIHRoaXMgYmF0Y2guXG4gKlxuICogSXQncyBleHRyZW1lbHkgZWFzeSB0byB1c2U6XG4gKiBgYGBqc1xuICogbGV0IGNvbnRhaW5lciA9IG5ldyBQYXJ0aWNsZUNvbnRhaW5lcigpO1xuICpcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyArK2kpXG4gKiB7XG4gKiAgICAgbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oXCJteUltYWdlLnBuZ1wiKTtcbiAqICAgICBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEFuZCBoZXJlIHlvdSBoYXZlIGEgaHVuZHJlZCBzcHJpdGVzIHRoYXQgd2lsbCBiZSByZW5kZXJlZCBhdCB0aGUgc3BlZWQgb2YgbGlnaHQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlQ29udGFpbmVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29udGFpbmVyKSB7XG4gICAgZnVuY3Rpb24gUGFydGljbGVDb250YWluZXIobWF4U2l6ZSwgcHJvcGVydGllcywgYmF0Y2hTaXplLCBhdXRvUmVzaXplKVxuICAgIHtcbiAgICAgICAgaWYgKCBtYXhTaXplID09PSB2b2lkIDAgKSBtYXhTaXplID0gMTUwMDtcbiAgICAgICAgaWYgKCBiYXRjaFNpemUgPT09IHZvaWQgMCApIGJhdGNoU2l6ZSA9IDE2Mzg0O1xuICAgICAgICBpZiAoIGF1dG9SZXNpemUgPT09IHZvaWQgMCApIGF1dG9SZXNpemUgPSBmYWxzZTtcblxuICAgICAgICBDb250YWluZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICAvLyBNYWtpbmcgc3VyZSB0aGUgYmF0Y2ggc2l6ZSBpcyB2YWxpZFxuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICB2YXIgbWF4QmF0Y2hTaXplID0gMTYzODQ7XG5cbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA+IG1heEJhdGNoU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYmF0Y2hTaXplID0gbWF4QmF0Y2hTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBwcm9wZXJ0aWVzIHRvIGJlIGR5bmFtaWMgKHRydWUpIC8gc3RhdGljIChmYWxzZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heFNpemUgPSBtYXhTaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaFNpemUgPSBiYXRjaFNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuQnVmZmVyPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmb3IgZXZlcnkgYmF0Y2ggc3RvcmVzIF91cGRhdGVJRCBjb3JyZXNwb25kaW5nIHRvIHRoZSBsYXN0IGNoYW5nZSBpbiB0aGF0IGJhdGNoXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHdoZW4gY2hpbGQgaW5zZXJ0ZWQsIHJlbW92ZWQgb3IgY2hhbmdlcyBwb3NpdGlvbiB0aGlzIG51bWJlciBnb2VzIHVwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgXG4gICAgICAgICAqIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2UgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvUmVzaXplID0gYXV0b1Jlc2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBEZWZhdWx0IHRvIHRydWUgaGVyZSBhcyBwZXJmb3JtYW5jZSBpcyB1c3VhbGx5IHRoZSBwcmlvcml0eSBmb3IgcGFydGljbGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdW5kUGl4ZWxzID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdXNlZCB0byByZW5kZXIgdGhlIGNoaWxkcmVuLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGludCA9IDA7XG4gICAgICAgIHRoaXMudGludFJnYiA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIHRoaXMudGludCA9IDB4RkZGRkZGO1xuICAgIH1cblxuICAgIGlmICggQ29udGFpbmVyICkgUGFydGljbGVDb250YWluZXIuX19wcm90b19fID0gQ29udGFpbmVyO1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbnRhaW5lciAmJiBDb250YWluZXIucHJvdG90eXBlICk7XG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUGFydGljbGVDb250YWluZXI7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB0aW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwcml2YXRlIHByb3BlcnRpZXMgYXJyYXkgdG8gZHluYW1pYyAvIHN0YXRpYyBiYXNlZCBvbiB0aGUgcGFzc2VkIHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIHRvIGJlIHVwbG9hZGVkXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnNldFByb3BlcnRpZXMgPSBmdW5jdGlvbiBzZXRQcm9wZXJ0aWVzIChwcm9wZXJ0aWVzKVxuICAgIHtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMF0gPSAndmVydGljZXMnIGluIHByb3BlcnRpZXMgfHwgJ3NjYWxlJyBpbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgPyAhIXByb3BlcnRpZXMudmVydGljZXMgfHwgISFwcm9wZXJ0aWVzLnNjYWxlIDogdGhpcy5fcHJvcGVydGllc1swXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMV0gPSAncG9zaXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucG9zaXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzFdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1syXSA9ICdyb3RhdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5yb3RhdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMl07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzNdID0gJ3V2cycgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy51dnMgOiB0aGlzLl9wcm9wZXJ0aWVzWzNdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1s0XSA9ICd0aW50JyBpbiBwcm9wZXJ0aWVzIHx8ICdhbHBoYScgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgID8gISFwcm9wZXJ0aWVzLnRpbnQgfHwgISFwcm9wZXJ0aWVzLmFscGhhIDogdGhpcy5fcHJvcGVydGllc1s0XTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSAoKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyBkb24ndCBuZWVkIHRvIVxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgLy8gIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCggdGhpcyApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuIFRoaXMgaXMgYSBoZXggdmFsdWUuXG4gICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICoqIElNUE9SVEFOVDogVGhpcyBpcyBhIFdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICBoZXgycmdiKHZhbHVlLCB0aGlzLnRpbnRSZ2IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250YWluZXIgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLmNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5yZW5kZXJhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSB0aGlzLmNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub25jZSgndXBkYXRlJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcyQxLm9uQ2hpbGRyZW5DaGFuZ2UoMCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZsYWcgdGhhdCBzdGF0aWMgZGF0YSBzaG91bGQgYmUgdXBkYXRlZCB0byB0cnVlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzbWFsbGVzdENoaWxkSW5kZXggLSBUaGUgc21hbGxlc3QgY2hpbGQgaW5kZXhcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hpbGRyZW5DaGFuZ2UgKHNtYWxsZXN0Q2hpbGRJbmRleClcbiAgICB7XG4gICAgICAgIHZhciBidWZmZXJJbmRleCA9IE1hdGguZmxvb3Ioc21hbGxlc3RDaGlsZEluZGV4IC8gdGhpcy5fYmF0Y2hTaXplKTtcblxuICAgICAgICB3aGlsZSAodGhpcy5fYnVmZmVyVXBkYXRlSURzLmxlbmd0aCA8IGJ1ZmZlckluZGV4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHNbYnVmZmVySW5kZXhdID0gKyt0aGlzLl91cGRhdGVJRDtcbiAgICB9O1xuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gUGFydGljbGVDb250YWluZXI7XG59KENvbnRhaW5lcikpO1xuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXRcbiAqIHRoZXkgbm93IHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlQnVmZmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZUJ1ZmZlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBUaGUgcGFydGljbGUgYnVmZmVyIG1hbmFnZXMgdGhlIHN0YXRpYyBhbmQgZHluYW1pYyBidWZmZXJzIGZvciBhIHBhcnRpY2xlIGNvbnRhaW5lci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVCdWZmZXIgPSBmdW5jdGlvbiBQYXJ0aWNsZUJ1ZmZlcihwcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgc2l6ZSlcbntcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KCk7XG5cbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgcGFydGljbGVzIHRoZSBidWZmZXIgY2FuIGhvbGRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgZHluYW1pYy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICovXG4gICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIHRoZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIHN0YXRpYy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICovXG4gICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyArK2kpXG4gICAge1xuICAgICAgICB2YXIgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgIC8vIE1ha2UgY29weSBvZiBwcm9wZXJ0aWVzIG9iamVjdCBzbyB0aGF0IHdoZW4gd2UgZWRpdCB0aGUgb2Zmc2V0IGl0IGRvZXNuJ3RcbiAgICAgICAgLy8gY2hhbmdlIGFsbCBvdGhlciBpbnN0YW5jZXMgb2YgdGhlIG9iamVjdCBsaXRlcmFsXG4gICAgICAgIHByb3BlcnR5ID0ge1xuICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogcHJvcGVydHkuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgIHNpemU6IHByb3BlcnR5LnNpemUsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogcHJvcGVydHkudXBsb2FkRnVuY3Rpb24sXG4gICAgICAgICAgICB0eXBlOiBwcm9wZXJ0eS50eXBlIHx8IFRZUEVTLkZMT0FULFxuICAgICAgICAgICAgb2Zmc2V0OiBwcm9wZXJ0eS5vZmZzZXQsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGR5bmFtaWNQcm9wZXJ0eUZsYWdzW2ldKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5keW5hbWljRGF0YSA9IG51bGw7XG4gICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICB0aGlzLmluaXRCdWZmZXJzKCk7XG59O1xuXG4vKipcbiAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS5pbml0QnVmZmVycyA9IGZ1bmN0aW9uIGluaXRCdWZmZXJzICgpXG57XG4gICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcblxuICAgIHZhciBkeW5hbWljT2Zmc2V0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIEhvbGRzIHRoZSBpbmRpY2VzIG9mIHRoZSBnZW9tZXRyeSAocXVhZHMpIHRvIGRyYXdcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHRoaXMuc2l6ZSksIHRydWUsIHRydWUpO1xuICAgIGdlb21ldHJ5LmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO1xuXG4gICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSlcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgcHJvcGVydHkub2Zmc2V0ID0gZHluYW1pY09mZnNldDtcbiAgICAgICAgZHluYW1pY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICB9XG5cbiAgICB2YXIgZHluQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuZHluYW1pY1N0cmlkZSAqIDQgKiA0KTtcblxuICAgIHRoaXMuZHluYW1pY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShkeW5CdWZmZXIpO1xuICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5keW5hbWljRGF0YSwgZmFsc2UsIGZhbHNlKTtcblxuICAgIC8vIHN0YXRpYyAvL1xuICAgIHZhciBzdGF0aWNPZmZzZXQgPSAwO1xuXG4gICAgdGhpcy5zdGF0aWNTdHJpZGUgPSAwO1xuXG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpJDEpXG4gICAge1xuICAgICAgICB2YXIgcHJvcGVydHkkMSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpJDFdO1xuXG4gICAgICAgIHByb3BlcnR5JDEub2Zmc2V0ID0gc3RhdGljT2Zmc2V0O1xuICAgICAgICBzdGF0aWNPZmZzZXQgKz0gcHJvcGVydHkkMS5zaXplO1xuICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSArPSBwcm9wZXJ0eSQxLnNpemU7XG4gICAgfVxuXG4gICAgdmFyIHN0YXRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5zdGF0aWNTdHJpZGUgKiA0ICogNCk7XG5cbiAgICB0aGlzLnN0YXRpY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy5zdGF0aWNEYXRhLCB0cnVlLCBmYWxzZSk7XG5cbiAgICBmb3IgKHZhciBpJDIgPSAwOyBpJDIgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpJDIpXG4gICAge1xuICAgICAgICB2YXIgcHJvcGVydHkkMiA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaSQyXTtcblxuICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBwcm9wZXJ0eSQyLmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgcHJvcGVydHkkMi50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgcHJvcGVydHkkMi50eXBlLFxuICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlICogNCxcbiAgICAgICAgICAgIHByb3BlcnR5JDIub2Zmc2V0ICogNFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkkMyA9IDA7IGkkMyA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsraSQzKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3BlcnR5JDMgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaSQzXTtcblxuICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBwcm9wZXJ0eSQzLmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlcixcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBwcm9wZXJ0eSQzLnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICBwcm9wZXJ0eSQzLnR5cGUsXG4gICAgICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSAqIDQsXG4gICAgICAgICAgICBwcm9wZXJ0eSQzLm9mZnNldCAqIDRcbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFVwbG9hZHMgdGhlIGR5bmFtaWMgcHJvcGVydGllcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gKi9cblBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS51cGxvYWREeW5hbWljID0gZnVuY3Rpb24gdXBsb2FkRHluYW1pYyAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudClcbntcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsXG4gICAgICAgICAgICBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcy5keW5hbWljRGF0YVVpbnQzMiA6IHRoaXMuZHluYW1pY0RhdGEsXG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgfVxuXG4gICAgdGhpcy5keW5hbWljQnVmZmVyLl91cGRhdGVJRCsrO1xufTtcblxuLyoqXG4gKiBVcGxvYWRzIHRoZSBzdGF0aWMgcHJvcGVydGllcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gKi9cblBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS51cGxvYWRTdGF0aWMgPSBmdW5jdGlvbiB1cGxvYWRTdGF0aWMgKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpXG57XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCxcbiAgICAgICAgICAgIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLnN0YXRpY0RhdGFVaW50MzIgOiB0aGlzLnN0YXRpY0RhdGEsXG4gICAgICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRpY0J1ZmZlci5fdXBkYXRlSUQrKztcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIFBhcnRpY2xlQnVmZmVyLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IG51bGw7XG4gICAgLy8gdGhpcy5keW5hbWljQnVmZmVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAvLyB0aGlzLnN0YXRpY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAvLyBhbGwgYnVmZmVycyBhcmUgZGVzdHJveWVkIGluc2lkZSBnZW9tZXRyeVxuICAgIHRoaXMuZ2VvbWV0cnkuZGVzdHJveSgpO1xufTtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzQgYUNvbG9yO1xcblxcbmF0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbkNvb3JkO1xcbmF0dHJpYnV0ZSBmbG9hdCBhUm90YXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIGZsb2F0IHggPSAoYVZlcnRleFBvc2l0aW9uLngpICogY29zKGFSb3RhdGlvbikgLSAoYVZlcnRleFBvc2l0aW9uLnkpICogc2luKGFSb3RhdGlvbik7XFxuICAgIGZsb2F0IHkgPSAoYVZlcnRleFBvc2l0aW9uLngpICogc2luKGFSb3RhdGlvbikgKyAoYVZlcnRleFBvc2l0aW9uLnkpICogY29zKGFSb3RhdGlvbik7XFxuXFxuICAgIHZlYzIgdiA9IHZlYzIoeCwgeSk7XFxuICAgIHYgPSB2ICsgYVBvc2l0aW9uQ29vcmQ7XFxuXFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgodHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKHYsIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2Q29sb3IgPSBhQ29sb3IgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVwiO1xuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXQgdGhleSBub3dcbiAqIHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlUmVuZGVyZXIuamF2YVxuICovXG5cbi8qKlxuICogUmVuZGVyZXIgZm9yIFBhcnRpY2xlcyB0aGF0IGlzIGRlc2lnbmVyIGZvciBzcGVlZCBvdmVyIGZlYXR1cmUgc2V0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChPYmplY3RSZW5kZXJlcikge1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlUmVuZGVyZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBPYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICAvLyBhbmQgbWF4IG51bWJlciBvZiBlbGVtZW50IGluIHRoZSBpbmRleCBidWZmZXIgaXMgMTYzODQgKiA2ID0gOTgzMDRcbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBmdWxsIGluZGV4IGJ1ZmZlciwgb3ZlcmhlYWQgaXMgOTgzMDQgKiAyID0gMTk2S29cbiAgICAgICAgLy8gbGV0IG51bUluZGljZXMgPSA5ODMwNDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc2hhZGVyIHRoYXQgaXMgdXNlZCBpZiBhIHNwcml0ZSBkb2Vzbid0IGhhdmUgYSBtb3JlIHNwZWNpZmljIG9uZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gbnVsbDtcblxuICAgICAgICB0aGlzLnRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gW1xuICAgICAgICAgICAgLy8gdmVydGljZXNEYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FWZXJ0ZXhQb3NpdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRWZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcG9zaXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FQb3NpdGlvbkNvb3JkJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyByb3RhdGlvbkRhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVJvdGF0aW9uJyxcbiAgICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFJvdGF0aW9uLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB1dnNEYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FUZXh0dXJlQ29vcmQnLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVXZzLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB0aW50RGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhQ29sb3InLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdHlwZTogVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRUaW50LFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0gXTtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHt9KTtcbiAgICB9XG5cbiAgICBpZiAoIE9iamVjdFJlbmRlcmVyICkgUGFydGljbGVSZW5kZXJlci5fX3Byb3RvX18gPSBPYmplY3RSZW5kZXJlcjtcbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE9iamVjdFJlbmRlcmVyICYmIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZSApO1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUGFydGljbGVSZW5kZXJlcjtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHBhcnRpY2xlIGNvbnRhaW5lciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgICAgICB2YXIgbWF4U2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgdG90YWxDaGlsZHJlbiA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBpZiAodG90YWxDaGlsZHJlbiA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRvdGFsQ2hpbGRyZW4gPiBtYXhTaXplICYmICFjb250YWluZXIuYXV0b1Jlc2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdG90YWxDaGlsZHJlbiA9IG1heFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycztcblxuICAgICAgICBpZiAoIWJ1ZmZlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnMgPSB0aGlzLmdlbmVyYXRlQnVmZmVycyhjb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgLy8gaWYgdGhlIHV2cyBoYXZlIG5vdCB1cGRhdGVkIHRoZW4gbm8gcG9pbnQgcmVuZGVyaW5nIGp1c3QgeWV0IVxuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShjb3JyZWN0QmxlbmRNb2RlKGNvbnRhaW5lci5ibGVuZE1vZGUsIGJhc2VUZXh0dXJlLmFscGhhTW9kZSkpO1xuXG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciBtID0gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHlUbyh0aGlzLnRlbXBNYXRyaXgpO1xuXG4gICAgICAgIG0ucHJlcGVuZChyZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4KTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IG0udG9BcnJheSh0cnVlKTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVJnYmEoY29udGFpbmVyLnRpbnRSZ2IsXG4gICAgICAgICAgICBjb250YWluZXIud29ybGRBbHBoYSwgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gYmFzZVRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgdmFyIHVwZGF0ZVN0YXRpYyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIG5vdyBsZXRzIHVwbG9hZCBhbmQgcmVuZGVyIHRoZSBidWZmZXJzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxDaGlsZHJlbjsgaSArPSBiYXRjaFNpemUsIGogKz0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9ICh0b3RhbENoaWxkcmVuIC0gaSk7XG5cbiAgICAgICAgICAgIGlmIChhbW91bnQgPiBiYXRjaFNpemUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYW1vdW50ID0gYmF0Y2hTaXplO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaiA+PSBidWZmZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2godGhpcy5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1tqXTtcblxuICAgICAgICAgICAgLy8gd2UgYWx3YXlzIHVwbG9hZCB0aGUgZHluYW1pY1xuICAgICAgICAgICAgYnVmZmVyLnVwbG9hZER5bmFtaWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG5cbiAgICAgICAgICAgIHZhciBiaWQgPSBjb250YWluZXIuX2J1ZmZlclVwZGF0ZUlEc1tqXSB8fCAwO1xuXG4gICAgICAgICAgICB1cGRhdGVTdGF0aWMgPSB1cGRhdGVTdGF0aWMgfHwgKGJ1ZmZlci5fdXBkYXRlSUQgPCBiaWQpO1xuICAgICAgICAgICAgLy8gd2Ugb25seSB1cGxvYWQgdGhlIHN0YXRpYyBjb250ZW50IHdoZW4gd2UgaGF2ZSB0byFcbiAgICAgICAgICAgIGlmICh1cGRhdGVTdGF0aWMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVyLl91cGRhdGVJRCA9IGNvbnRhaW5lci5fdXBkYXRlSUQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyLnVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYmluZCB0aGUgYnVmZmVyXG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGJ1ZmZlci5nZW9tZXRyeSk7XG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBhbW91bnQgKiA2LCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgcGFydGljbGUgYnVmZmVyIGZvciBlYWNoIGNoaWxkIGluIHRoZSBjb250YWluZXIgd2Ugd2FudCB0byByZW5kZXIgYW5kIHVwZGF0ZXMgaW50ZXJuYWwgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyW119IFRoZSBidWZmZXJzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5nZW5lcmF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiBnZW5lcmF0ZUJ1ZmZlcnMgKGNvbnRhaW5lcilcbiAgICB7XG4gICAgICAgIHZhciBidWZmZXJzID0gW107XG4gICAgICAgIHZhciBzaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkgKz0gYmF0Y2hTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICBidWZmZXJzLnB1c2gobmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIG1vcmUgcGFydGljbGUgYnVmZmVyLCBiZWNhdXNlIGNvbnRhaW5lciBoYXMgYXV0b1Jlc2l6ZSBmZWF0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJ9IGdlbmVyYXRlZCBidWZmZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIgPSBmdW5jdGlvbiBfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyIChjb250YWluZXIpXG4gICAge1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlGbGFncyA9IGNvbnRhaW5lci5fcHJvcGVydGllcztcblxuICAgICAgICByZXR1cm4gbmV3IFBhcnRpY2xlQnVmZmVyKHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgdmVydGljZXMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFZlcnRpY2VzID0gZnVuY3Rpb24gdXBsb2FkVmVydGljZXMgKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIHZhciB3MCA9IDA7XG4gICAgICAgIHZhciB3MSA9IDA7XG4gICAgICAgIHZhciBoMCA9IDA7XG4gICAgICAgIHZhciBoMSA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHN4ID0gc3ByaXRlLnNjYWxlLng7XG4gICAgICAgICAgICB2YXIgc3kgPSBzcHJpdGUuc2NhbGUueTtcbiAgICAgICAgICAgIHZhciB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG5cbiAgICAgICAgICAgIGlmICh0cmltKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZCBhbmQgaXMgbm90IGEgdGlsaW5nc3ByaXRlIHRoZW4gd2UgbmVlZCB0byBhZGQgdGhlXG4gICAgICAgICAgICAgICAgLy8gZXh0cmEgc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy4uXG4gICAgICAgICAgICAgICAgdzEgPSB0cmltLnggLSAoc3ByaXRlLmFuY2hvci54ICogb3JpZy53aWR0aCk7XG4gICAgICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG5cbiAgICAgICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChzcHJpdGUuYW5jaG9yLnkgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHcwID0gKG9yaWcud2lkdGgpICogKDEgLSBzcHJpdGUuYW5jaG9yLngpO1xuICAgICAgICAgICAgICAgIHcxID0gKG9yaWcud2lkdGgpICogLXNwcml0ZS5hbmNob3IueDtcblxuICAgICAgICAgICAgICAgIGgwID0gb3JpZy5oZWlnaHQgKiAoMSAtIHNwcml0ZS5hbmNob3IueSk7XG4gICAgICAgICAgICAgICAgaDEgPSBvcmlnLmhlaWdodCAqIC1zcHJpdGUuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB3MSAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBoMSAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdzAgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IGgwICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSB3MSAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHBvc2l0aW9ucyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkUG9zaXRpb24gPSBmdW5jdGlvbiB1cGxvYWRQb3NpdGlvbiAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHNwcml0ZVBvc2l0aW9uID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgcm90aWF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFJvdGF0aW9uID0gZnVuY3Rpb24gdXBsb2FkUm90YXRpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVSb3RhdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5yb3RhdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVJvdGF0aW9uO1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBVdnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRVdnMgPSBmdW5jdGlvbiB1cGxvYWRVdnMgKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlVXZzID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLl90ZXh0dXJlLl91dnM7XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlVXZzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB0ZXh0dXJlVXZzLngwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gdGV4dHVyZVV2cy55MDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gdGV4dHVyZVV2cy55MTtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gdGV4dHVyZVV2cy55MjtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSB0ZXh0dXJlVXZzLngzO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gdGV4dHVyZVV2cy55MztcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8geW91IGtub3cgdGhpcyBjYW4gYmUgZWFzaWVyIVxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHRpbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVGludCA9IGZ1bmN0aW9uIHVwbG9hZFRpbnQgKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgcHJlbXVsdGlwbGllZCA9IHNwcml0ZS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5hbHBoYU1vZGUgPiAwO1xuICAgICAgICAgICAgdmFyIGFscGhhID0gc3ByaXRlLmFscGhhO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgdmFyIGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBwcmVtdWx0aXBsaWVkID8gcHJlbXVsdGlwbHlUaW50KHNwcml0ZS5fdGludFJHQiwgYWxwaGEpXG4gICAgICAgICAgICAgICAgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gYXJnYjtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlUmVuZGVyZXIuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRlbXBNYXRyaXggPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFydGljbGVSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuZXhwb3J0IHsgUGFydGljbGVDb250YWluZXIsIFBhcnRpY2xlUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpY2xlcy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlc2hlZXQgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlc2hlZXQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGdldFJlc29sdXRpb25PZlVybCwgdXJsIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgTG9hZGVyUmVzb3VyY2UgfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcblxuLyoqXG4gKiBVdGlsaXR5IGNsYXNzIGZvciBtYWludGFpbmluZyByZWZlcmVuY2UgdG8gYSBjb2xsZWN0aW9uXG4gKiBvZiBUZXh0dXJlcyBvbiBhIHNpbmdsZSBTcHJpdGVzaGVldC5cbiAqXG4gKiBUbyBhY2Nlc3MgYSBzcHJpdGUgc2hlZXQgZnJvbSB5b3VyIGNvZGUgcGFzcyBpdHMgSlNPTiBkYXRhIGZpbGUgdG8gUGl4aSdzIGxvYWRlcjpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImltYWdlcy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiaW1hZ2VzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKiBXaXRoIHRoZSBgc2hlZXQudGV4dHVyZXNgIHlvdSBjYW4gY3JlYXRlIFNwcml0ZSBvYmplY3RzLGBzaGVldC5hbmltYXRpb25zYCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4gQW5pbWF0ZWRTcHJpdGUuXG4gKlxuICogU3ByaXRlIHNoZWV0cyBjYW4gYmUgcGFja2VkIHVzaW5nIHRvb2xzIGxpa2Uge0BsaW5rIGh0dHBzOi8vY29kZWFuZHdlYi5jb20vdGV4dHVyZXBhY2tlcnxUZXh0dXJlUGFja2VyfSxcbiAqIHtAbGluayBodHRwczovL3JlbmRlcmhqcy5uZXQvc2hvZWJveC98U2hvZWJveH0gb3Ige0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9rcnp5c3p0b2Ytby9zcHJpdGVzaGVldC5qc3xTcHJpdGVzaGVldC5qc30uXG4gKiBEZWZhdWx0IGFuY2hvciBwb2ludHMgKHNlZSB7QGxpbmsgUElYSS5UZXh0dXJlI2RlZmF1bHRBbmNob3J9KSBhbmQgZ3JvdXBpbmcgb2YgYW5pbWF0aW9uIHNwcml0ZXMgYXJlIGN1cnJlbnRseSBvbmx5XG4gKiBzdXBwb3J0ZWQgYnkgVGV4dHVyZVBhY2tlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVzaGVldCA9IGZ1bmN0aW9uIFNwcml0ZXNoZWV0KGJhc2VUZXh0dXJlLCBkYXRhLCByZXNvbHV0aW9uRmlsZW5hbWUpXG57XG4gICAgaWYgKCByZXNvbHV0aW9uRmlsZW5hbWUgPT09IHZvaWQgMCApIHJlc29sdXRpb25GaWxlbmFtZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhzIHNvdXJjZSB0ZXh0dXJlXG4gICAgICogQHR5cGUge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICovXG4gICAgdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgY29udGFpbmluZyBhbGwgdGV4dHVyZXMgb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgUElYSS5TcHJpdGV8U3ByaXRlfTpcbiAgICAgKiBgYGBqc1xuICAgICAqIG5ldyBQSVhJLlNwcml0ZShzaGVldC50ZXh0dXJlc1tcImltYWdlLnBuZ1wiXSk7XG4gICAgICogYGBgXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgdGhlIHRleHR1cmVzIGZvciBlYWNoIGFuaW1hdGlvbi5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4ge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV8QW5pbWF0ZWRTcHJpdGV9OlxuICAgICAqIGBgYGpzXG4gICAgICogbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImFuaW1fbmFtZVwiXSlcbiAgICAgKiBgYGBcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5hbmltYXRpb25zID0ge307XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIEpTT04gZGF0YS5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSB0aGlzLl91cGRhdGVSZXNvbHV0aW9uKFxuICAgICAgICByZXNvbHV0aW9uRmlsZW5hbWVcbiAgICAgICAgfHwgKHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UgPyB0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlLnVybCA6IG51bGwpXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIE1hcCBvZiBzcHJpdGVzaGVldCBmcmFtZXMuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZyYW1lcyA9IHRoaXMuZGF0YS5mcmFtZXM7XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGZyYW1lIG5hbWVzLlxuICAgICAqIEB0eXBlIHtzdHJpbmdbXX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZyYW1lS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX2ZyYW1lcyk7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGJhdGNoIGluZGV4IGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB3aGVuIHBhcnNlIGlzIGNvbXBsZXRlZC5cbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG59O1xuXG52YXIgc3RhdGljQWNjZXNzb3JzID0geyBCQVRDSF9TSVpFOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogR2VuZXJhdGUgdGhlIHJlc29sdXRpb24gZnJvbSB0aGUgZmlsZW5hbWUgb3IgZmFsbGJhY2tcbiAqIHRvIHRoZSBtZXRhLnNjYWxlIGZpZWxkIG9mIHRoZSBKU09OIGRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvbHV0aW9uRmlsZW5hbWUgLSBUaGUgZmlsZW5hbWUgdG8gdXNlIGZvciByZXNvbHZpbmdcbiAqICAgIHRoZSBkZWZhdWx0IHJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24gdG8gdXNlIGZvciBzcHJpdGVzaGVldC5cbiAqL1xuc3RhdGljQWNjZXNzb3JzLkJBVENIX1NJWkUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gMTAwMDtcbn07XG5cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5fdXBkYXRlUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIF91cGRhdGVSZXNvbHV0aW9uIChyZXNvbHV0aW9uRmlsZW5hbWUpXG57XG4gICAgdmFyIHNjYWxlID0gdGhpcy5kYXRhLm1ldGEuc2NhbGU7XG5cbiAgICAvLyBVc2UgYSBkZWZhdWx0VmFsdWUgb2YgYG51bGxgIHRvIGNoZWNrIGlmIGEgdXJsLWJhc2VkIHJlc29sdXRpb24gaXMgc2V0XG4gICAgdmFyIHJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwocmVzb2x1dGlvbkZpbGVuYW1lLCBudWxsKTtcblxuICAgIC8vIE5vIHJlc29sdXRpb24gZm91bmQgdmlhIFVSTFxuICAgIGlmIChyZXNvbHV0aW9uID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgLy8gVXNlIHRoZSBzY2FsZSB2YWx1ZSBvciBkZWZhdWx0IHRvIDFcbiAgICAgICAgcmVzb2x1dGlvbiA9IHNjYWxlICE9PSB1bmRlZmluZWQgPyBwYXJzZUZsb2F0KHNjYWxlKSA6IDE7XG4gICAgfVxuXG4gICAgLy8gRm9yIG5vbi0xIHJlc29sdXRpb25zLCB1cGRhdGUgYmFzZVRleHR1cmVcbiAgICBpZiAocmVzb2x1dGlvbiAhPT0gMSlcbiAgICB7XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzb2x1dGlvbjtcbn07XG5cbi8qKlxuICogUGFyc2VyIHNwcml0ZXNoZWV0IGZyb20gbG9hZGVkIGRhdGEuIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseVxuICogdG8gcHJldmVudCBjcmVhdGluZyB0b28gbWFueSBUZXh0dXJlIHdpdGhpbiBhIHNpbmdsZSBwcm9jZXNzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZSByZXR1cm5zXG4gKiAgICBhIG1hcCBvZiB0aGUgVGV4dHVyZXMgZm9yIHRoaXMgc3ByaXRlc2hlZXQuXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlIChjYWxsYmFjaylcbntcbiAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuXG4gICAgaWYgKHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGggPD0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXMoMCk7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBQcm9jZXNzIGEgYmF0Y2ggb2YgZnJhbWVzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbml0aWFsRnJhbWVJbmRleCAtIFRoZSBpbmRleCBvZiBmcmFtZSB0byBzdGFydC5cbiAqL1xuU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wcm9jZXNzRnJhbWVzID0gZnVuY3Rpb24gX3Byb2Nlc3NGcmFtZXMgKGluaXRpYWxGcmFtZUluZGV4KVxue1xuICAgIHZhciBmcmFtZUluZGV4ID0gaW5pdGlhbEZyYW1lSW5kZXg7XG4gICAgdmFyIG1heEZyYW1lcyA9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkU7XG5cbiAgICB3aGlsZSAoZnJhbWVJbmRleCAtIGluaXRpYWxGcmFtZUluZGV4IDwgbWF4RnJhbWVzICYmIGZyYW1lSW5kZXggPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLl9mcmFtZUtleXNbZnJhbWVJbmRleF07XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fZnJhbWVzW2ldO1xuICAgICAgICB2YXIgcmVjdCA9IGRhdGEuZnJhbWU7XG5cbiAgICAgICAgaWYgKHJlY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgdHJpbSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgc291cmNlU2l6ZSA9IGRhdGEudHJpbW1lZCAhPT0gZmFsc2UgJiYgZGF0YS5zb3VyY2VTaXplXG4gICAgICAgICAgICAgICAgPyBkYXRhLnNvdXJjZVNpemUgOiBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICB2YXIgb3JpZyA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIE1hdGguZmxvb3Ioc291cmNlU2l6ZS53KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHNvdXJjZVNpemUuaCkgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnJvdGF0ZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC55KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gIENoZWNrIHRvIHNlZSBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWRcbiAgICAgICAgICAgIGlmIChkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc3ByaXRlU291cmNlU2l6ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmltID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueCkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLnkpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbaV0gPSBuZXcgVGV4dHVyZShcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLFxuICAgICAgICAgICAgICAgIGZyYW1lLFxuICAgICAgICAgICAgICAgIG9yaWcsXG4gICAgICAgICAgICAgICAgdHJpbSxcbiAgICAgICAgICAgICAgICBkYXRhLnJvdGF0ZWQgPyAyIDogMCxcbiAgICAgICAgICAgICAgICBkYXRhLmFuY2hvclxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgJ2Zyb20nIGFuZCAnZnJvbUxvYWRlcicgZnVuY3Rpb25zXG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGhpcy50ZXh0dXJlc1tpXSwgaSk7XG4gICAgICAgIH1cblxuICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBQYXJzZSBhbmltYXRpb25zIGNvbmZpZ1xuICpcbiAqIEBwcml2YXRlXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcHJvY2Vzc0FuaW1hdGlvbnMgPSBmdW5jdGlvbiBfcHJvY2Vzc0FuaW1hdGlvbnMgKClcbntcbiAgICB2YXIgYW5pbWF0aW9ucyA9IHRoaXMuZGF0YS5hbmltYXRpb25zIHx8IHt9O1xuXG4gICAgZm9yICh2YXIgYW5pbU5hbWUgaW4gYW5pbWF0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc1thbmltTmFtZV0gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25zW2FuaW1OYW1lXS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGZyYW1lTmFtZSA9IGFuaW1hdGlvbnNbYW5pbU5hbWVdW2ldO1xuXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdLnB1c2godGhpcy50ZXh0dXJlc1tmcmFtZU5hbWVdKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIHBhcnNlIGhhcyBjb21wbGV0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wYXJzZUNvbXBsZXRlID0gZnVuY3Rpb24gX3BhcnNlQ29tcGxldGUgKClcbntcbiAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLl9jYWxsYmFjaztcblxuICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHRoaXMudGV4dHVyZXMpO1xufTtcblxuLyoqXG4gKiBCZWdpbiB0aGUgbmV4dCBiYXRjaCBvZiB0ZXh0dXJlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5TcHJpdGVzaGVldC5wcm90b3R5cGUuX25leHRCYXRjaCA9IGZ1bmN0aW9uIF9uZXh0QmF0Y2ggKClcbntcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKHRoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKTtcbiAgICB0aGlzLl9iYXRjaEluZGV4Kys7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzJDEuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFIDwgdGhpcyQxLl9mcmFtZUtleXMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzJDEuX25leHRCYXRjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLl9wcm9jZXNzQW5pbWF0aW9ucygpO1xuICAgICAgICAgICAgdGhpcyQxLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9LCAwKTtcbn07XG5cbi8qKlxuICogRGVzdHJveSBTcHJpdGVzaGVldCBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gKlxuICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAqL1xuU3ByaXRlc2hlZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChkZXN0cm95QmFzZSlcbntcbiAgICAgICAgaWYgKCBkZXN0cm95QmFzZSA9PT0gdm9pZCAwICkgZGVzdHJveUJhc2UgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZXh0dXJlcylcbiAgICB7XG4gICAgICAgIHRoaXMudGV4dHVyZXNbaV0uZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLl9mcmFtZXMgPSBudWxsO1xuICAgIHRoaXMuX2ZyYW1lS2V5cyA9IG51bGw7XG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB0aGlzLnRleHR1cmVzID0gbnVsbDtcbiAgICBpZiAoZGVzdHJveUJhc2UpXG4gICAge1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggU3ByaXRlc2hlZXQsIHN0YXRpY0FjY2Vzc29ycyApO1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmcgdGV4dHVyZSBhdGxhc2VzIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWQgd2l0aFxuICogVGV4dHVyZVBhY2tlciBvciBzaW1pbGFyIEpTT04tYmFzZWQgc3ByaXRlc2hlZXQuXG4gKlxuICogVGhpcyBtaWRkbGV3YXJlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzIFRleHR1cmUgcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgU3ByaXRlc2hlZXRMb2FkZXIgPSBmdW5jdGlvbiBTcHJpdGVzaGVldExvYWRlciAoKSB7fTtcblxuU3ByaXRlc2hlZXRMb2FkZXIudXNlID0gZnVuY3Rpb24gdXNlIChyZXNvdXJjZSwgbmV4dClcbntcbiAgICB2YXIgaW1hZ2VSZXNvdXJjZU5hbWUgPSAocmVzb3VyY2UubmFtZSkgKyBcIl9pbWFnZVwiO1xuXG4gICAgLy8gc2tpcCBpZiBubyBkYXRhLCBpdHMgbm90IGpzb24sIGl0IGlzbid0IHNwcml0ZXNoZWV0IGRhdGEsIG9yIHRoZSBpbWFnZSByZXNvdXJjZSBhbHJlYWR5IGV4aXN0c1xuICAgIGlmICghcmVzb3VyY2UuZGF0YVxuICAgICAgICB8fCByZXNvdXJjZS50eXBlICE9PSBMb2FkZXJSZXNvdXJjZS5UWVBFLkpTT05cbiAgICAgICAgfHwgIXJlc291cmNlLmRhdGEuZnJhbWVzXG4gICAgICAgIHx8IHRoaXMucmVzb3VyY2VzW2ltYWdlUmVzb3VyY2VOYW1lXVxuICAgIClcbiAgICB7XG4gICAgICAgIG5leHQoKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxvYWRPcHRpb25zID0ge1xuICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgIG1ldGFkYXRhOiByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhLFxuICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgfTtcblxuICAgIHZhciByZXNvdXJjZVBhdGggPSBTcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIHRoaXMuYmFzZVVybCk7XG5cbiAgICAvLyBsb2FkIHRoZSBpbWFnZSBmb3IgdGhpcyBzaGVldFxuICAgIHRoaXMuYWRkKGltYWdlUmVzb3VyY2VOYW1lLCByZXNvdXJjZVBhdGgsIGxvYWRPcHRpb25zLCBmdW5jdGlvbiBvbkltYWdlTG9hZChyZXMpXG4gICAge1xuICAgICAgICBpZiAocmVzLmVycm9yKVxuICAgICAgICB7XG4gICAgICAgICAgICBuZXh0KHJlcy5lcnJvcik7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzcHJpdGVzaGVldCA9IG5ldyBTcHJpdGVzaGVldChcbiAgICAgICAgICAgIHJlcy50ZXh0dXJlLmJhc2VUZXh0dXJlLFxuICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSxcbiAgICAgICAgICAgIHJlc291cmNlLnVybFxuICAgICAgICApO1xuXG4gICAgICAgIHNwcml0ZXNoZWV0LnBhcnNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc291cmNlLnNwcml0ZXNoZWV0ID0gc3ByaXRlc2hlZXQ7XG4gICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlcyA9IHNwcml0ZXNoZWV0LnRleHR1cmVzO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBzcHJpdGVzaGVldHMgcm9vdCBwYXRoXG4gKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlIC0gUmVzb3VyY2UgdG8gY2hlY2sgcGF0aFxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVcmwgLSBCYXNlIHJvb3QgdXJsXG4gKi9cblNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aCA9IGZ1bmN0aW9uIGdldFJlc291cmNlUGF0aCAocmVzb3VyY2UsIGJhc2VVcmwpXG57XG4gICAgLy8gUHJlcGVuZCB1cmwgcGF0aCB1bmxlc3MgdGhlIHJlc291cmNlIGltYWdlIGlzIGEgZGF0YSB1cmxcbiAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXJsLnJlc29sdmUocmVzb3VyY2UudXJsLnJlcGxhY2UoYmFzZVVybCwgJycpLCByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2UpO1xufTtcblxuZXhwb3J0IHsgU3ByaXRlc2hlZXQsIFNwcml0ZXNoZWV0TG9hZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGVzaGVldC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlLXRpbGluZyAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGUtdGlsaW5nIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSwgVGV4dHVyZU1hdHJpeCwgT2JqZWN0UmVuZGVyZXIsIFNoYWRlciwgUXVhZFV2IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBQb2ludCwgUmVjdGFuZ2xlLCBUcmFuc2Zvcm0sIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGV4dHVyZUNhY2hlLCBwcmVtdWx0aXBseVRpbnRUb1JnYmEsIGNvcnJlY3RCbGVuZE1vZGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgV1JBUF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcblxuLyoqXG4gKiBBIHRpbGluZyBzcHJpdGUgaXMgYSBmYXN0IHdheSBvZiByZW5kZXJpbmcgYSB0aWxpbmcgaW1hZ2VcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlsaW5nU3ByaXRlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3ByaXRlKSB7XG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlKHRleHR1cmUsIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICBpZiAoIHdpZHRoID09PSB2b2lkIDAgKSB3aWR0aCA9IDEwMDtcbiAgICAgICAgaWYgKCBoZWlnaHQgPT09IHZvaWQgMCApIGhlaWdodCA9IDEwMDtcblxuICAgICAgICBTcHJpdGUuY2FsbCh0aGlzLCB0ZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGlsZSB0cmFuc2Zvcm1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgLy8gLy8vIHByaXZhdGVcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbnZhcyBwYXR0ZXJuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNQYXR0ZXJufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FudmFzUGF0dGVybiA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIG1hdHJpeCB0aGF0IGlzIGFwcGxpZWQgdG8gVVYgdG8gZ2V0IHRoZSBjb29yZHMgaW4gVGV4dHVyZSBub3JtYWxpemVkIHNwYWNlIHRvIGNvb3JkcyBpbiBCYXNlVGV4dHVyZSBzcGFjZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gdGV4dHVyZS51dk1hdHJpeCB8fCBuZXcgVGV4dHVyZU1hdHJpeCh0ZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcicgbWV0aG9kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICd0aWxpbmdTcHJpdGUnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsdWdpbk5hbWUgPSAndGlsaW5nU3ByaXRlJztcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgYW5jaG9yIGFmZmVjdHMgdXZzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2UmVzcGVjdEFuY2hvciA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICggU3ByaXRlICkgVGlsaW5nU3ByaXRlLl9fcHJvdG9fXyA9IFNwcml0ZTtcbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3ByaXRlICYmIFNwcml0ZS5wcm90b3R5cGUgKTtcbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGlsaW5nU3ByaXRlO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgY2xhbXBNYXJnaW46IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGlsZVNjYWxlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRpbGVQb3NpdGlvbjogeyBjb25maWd1cmFibGU6IHRydWUgfSx3aWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxoZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nIGluIGNvcnJlc3BvbmRpbmcgdGV4dHVyZVRyYW5zZm9ybSwgc2hvcnRjdXRcbiAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuY2xhbXBNYXJnaW4uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuY2xhbXBNYXJnaW4uc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudXZNYXRyaXguY2xhbXBNYXJnaW4gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51dk1hdHJpeC51cGRhdGUodHJ1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsaW5nIG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGlsZVNjYWxlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGlsZVNjYWxlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGUuY29weUZyb20odmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2Zmc2V0IG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGlsZVBvc2l0aW9uLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGlsZVBvc2l0aW9uLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnV2TWF0cml4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnV2TWF0cml4LnRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIC8vIHR3ZWFrIG91ciB0ZXh0dXJlIHRlbXBvcmFyaWx5Li5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSB8fCAhdGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKCk7XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSB0aWxpbmcgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMgKHJlY3QpXG4gICAge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFNwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgc3ByaXRlIGNvbnRhaW5zIHRoZSBwb2ludC5cbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50IChwb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3dpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICB2YXIgeDEgPSAtd2lkdGggKiB0aGlzLmFuY2hvci5feDtcblxuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IuX3k7XG5cbiAgICAgICAgICAgIGlmICh0ZW1wUG9pbnQueSA+PSB5MSAmJiB0ZW1wUG9pbnQueSA8IHkxICsgaGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyB0aWxpbmcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRpbGluZ1Nwcml0ZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5mcm9tID0gZnVuY3Rpb24gZnJvbSAoc291cmNlLCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUoVGV4dHVyZS5mcm9tKHNvdXJjZSksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgdGlsaW5nIHNwcml0ZSB0aGF0IHdpbGwgdXNlIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgZnJhbWVJZFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5mcm9tRnJhbWUgPSBmdW5jdGlvbiBmcm9tRnJhbWUgKGZyYW1lSWQsIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmVDYWNoZVtmcmFtZUlkXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJUaGUgZnJhbWVJZCBcXFwiXCIgKyBmcmFtZUlkICsgXCJcXFwiIGRvZXMgbm90IGV4aXN0IGluIHRoZSB0ZXh0dXJlIGNhY2hlIFwiICsgKHRoaXMpKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHNwcml0ZSB0aGF0IHdpbGwgY29udGFpbiBhIHRleHR1cmUgYmFzZWQgb24gYW4gaW1hZ2UgdXJsXG4gICAgICogSWYgdGhlIGltYWdlIGlzIG5vdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSBpdCB3aWxsIGJlIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZUlkIC0gVGhlIGltYWdlIHVybCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRpbGluZ1Nwcml0ZX0gQSBuZXcgVGlsaW5nU3ByaXRlIHVzaW5nIGEgdGV4dHVyZSBmcm9tIHRoZSB0ZXh0dXJlIGNhY2hlIG1hdGNoaW5nIHRoZSBpbWFnZSBpZFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UgKGltYWdlSWQsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICAvLyBGYWxsYmFjayBzdXBwb3J0IGZvciBjcm9zc29yaWdpbiwgc2NhbGVNb2RlIHBhcmFtZXRlcnNcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKVxuICAgICAgICB7XG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogYXJndW1lbnRzWzRdLFxuICAgICAgICAgICAgICAgIHJlc291cmNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUoVGV4dHVyZS5mcm9tKGltYWdlSWQsIG9wdGlvbnMpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGlsaW5nU3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggVGlsaW5nU3ByaXRlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlO1xufShTcHJpdGUpKTtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VHJhbnNmb3JtICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG51bmlmb3JtIG1hdDMgdU1hcENvb3JkO1xcbnVuaWZvcm0gdmVjNCB1Q2xhbXBGcmFtZTtcXG51bmlmb3JtIHZlYzIgdUNsYW1wT2Zmc2V0O1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjMiBjb29yZCA9IHZUZXh0dXJlQ29vcmQgLSBmbG9vcih2VGV4dHVyZUNvb3JkIC0gdUNsYW1wT2Zmc2V0KTtcXG4gICAgY29vcmQgPSAodU1hcENvb3JkICogdmVjMyhjb29yZCwgMS4wKSkueHk7XFxuICAgIGNvb3JkID0gY2xhbXAoY29vcmQsIHVDbGFtcEZyYW1lLnh5LCB1Q2xhbXBGcmFtZS56dyk7XFxuXFxuICAgIHZlYzQgdGV4U2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleFNhbXBsZSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudFNpbXBsZSA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gc2FtcGxlICogdUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIHRlbXBNYXQgPSBuZXcgTWF0cml4KCk7XG5cbi8qKlxuICogV2ViR0wgcmVuZGVyZXIgcGx1Z2luIGZvciB0aWxpbmcgc3ByaXRlc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIFRpbGluZ1Nwcml0ZVJlbmRlcmVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoT2JqZWN0UmVuZGVyZXIpIHtcbiAgICBmdW5jdGlvbiBUaWxpbmdTcHJpdGVSZW5kZXJlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHsgZ2xvYmFsczogdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcyB9O1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudCwgdW5pZm9ybXMpO1xuXG4gICAgICAgIHRoaXMuc2ltcGxlU2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudFNpbXBsZSwgdW5pZm9ybXMpO1xuXG4gICAgICAgIHRoaXMucXVhZCA9IG5ldyBRdWFkVXYoKTtcbiAgICB9XG5cbiAgICBpZiAoIE9iamVjdFJlbmRlcmVyICkgVGlsaW5nU3ByaXRlUmVuZGVyZXIuX19wcm90b19fID0gT2JqZWN0UmVuZGVyZXI7XG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggT2JqZWN0UmVuZGVyZXIgJiYgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlICk7XG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UaWxpbmdTcHJpdGV9IHRzIHRpbGluZ1Nwcml0ZSB0byBiZSByZW5kZXJlZFxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHRzKVxuICAgIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHF1YWQgPSB0aGlzLnF1YWQ7XG5cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gcXVhZC52ZXJ0aWNlcztcblxuICAgICAgICB2ZXJ0aWNlc1swXSA9IHZlcnRpY2VzWzZdID0gKHRzLl93aWR0aCkgKiAtdHMuYW5jaG9yLng7XG4gICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSB0cy5faGVpZ2h0ICogLXRzLmFuY2hvci55O1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAodHMuX3dpZHRoKSAqICgxLjAgLSB0cy5hbmNob3IueCk7XG4gICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSB0cy5faGVpZ2h0ICogKDEuMCAtIHRzLmFuY2hvci55KTtcblxuICAgICAgICBpZiAodHMudXZSZXNwZWN0QW5jaG9yKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0aWNlcyA9IHF1YWQudXZzO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1swXSA9IHZlcnRpY2VzWzZdID0gLXRzLmFuY2hvci54O1xuICAgICAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IC10cy5hbmNob3IueTtcblxuICAgICAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9IDEuMCAtIHRzLmFuY2hvci54O1xuICAgICAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IDEuMCAtIHRzLmFuY2hvci55O1xuICAgICAgICB9XG5cbiAgICAgICAgcXVhZC5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgdmFyIHRleCA9IHRzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgYmFzZVRleCA9IHRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGx0ID0gdHMudGlsZVRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHV2ID0gdHMudXZNYXRyaXg7XG4gICAgICAgIHZhciBpc1NpbXBsZSA9IGJhc2VUZXguaXNQb3dlck9mVHdvXG4gICAgICAgICAgICAmJiB0ZXguZnJhbWUud2lkdGggPT09IGJhc2VUZXgud2lkdGggJiYgdGV4LmZyYW1lLmhlaWdodCA9PT0gYmFzZVRleC5oZWlnaHQ7XG5cbiAgICAgICAgLy8gYXV0bywgZm9yY2UgcmVwZWF0IHdyYXBNb2RlIGZvciBiaWcgdGlsaW5nIHRleHR1cmVzXG4gICAgICAgIGlmIChpc1NpbXBsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFiYXNlVGV4Ll9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoYmFzZVRleC53cmFwTW9kZSA9PT0gV1JBUF9NT0RFUy5DTEFNUClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXgud3JhcE1vZGUgPSBXUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXNTaW1wbGUgPSBiYXNlVGV4LndyYXBNb2RlICE9PSBXUkFQX01PREVTLkNMQU1QO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNoYWRlciA9IGlzU2ltcGxlID8gdGhpcy5zaW1wbGVTaGFkZXIgOiB0aGlzLnNoYWRlcjtcblxuICAgICAgICB2YXIgdyA9IHRleC53aWR0aDtcbiAgICAgICAgdmFyIGggPSB0ZXguaGVpZ2h0O1xuICAgICAgICB2YXIgVyA9IHRzLl93aWR0aDtcbiAgICAgICAgdmFyIEggPSB0cy5faGVpZ2h0O1xuXG4gICAgICAgIHRlbXBNYXQuc2V0KGx0LmEgKiB3IC8gVyxcbiAgICAgICAgICAgIGx0LmIgKiB3IC8gSCxcbiAgICAgICAgICAgIGx0LmMgKiBoIC8gVyxcbiAgICAgICAgICAgIGx0LmQgKiBoIC8gSCxcbiAgICAgICAgICAgIGx0LnR4IC8gVyxcbiAgICAgICAgICAgIGx0LnR5IC8gSCk7XG5cbiAgICAgICAgLy8gdGhhdCBwYXJ0IGlzIHRoZSBzYW1lIGFzIGFib3ZlOlxuICAgICAgICAvLyB0ZW1wTWF0LmlkZW50aXR5KCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUodGV4LndpZHRoLCB0ZXguaGVpZ2h0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5wcmVwZW5kKGx0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSgxLjAgLyB0cy5fd2lkdGgsIDEuMCAvIHRzLl9oZWlnaHQpO1xuXG4gICAgICAgIHRlbXBNYXQuaW52ZXJ0KCk7XG4gICAgICAgIGlmIChpc1NpbXBsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcE1hdC5wcmVwZW5kKHV2Lm1hcENvb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51TWFwQ29vcmQgPSB1di5tYXBDb29yZC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcEZyYW1lID0gdXYudUNsYW1wRnJhbWU7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wT2Zmc2V0ID0gdXYudUNsYW1wT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0gPSB0ZW1wTWF0LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVRpbnRUb1JnYmEodHMudGludCwgdHMud29ybGRBbHBoYSxcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXguYWxwaGFNb2RlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdHMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHRleDtcblxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHF1YWQpOy8vICwgcmVuZGVyZXIuc2hhZGVyLmdldEdMU2hhZGVyKCkpO1xuXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShjb3JyZWN0QmxlbmRNb2RlKHRzLmJsZW5kTW9kZSwgYmFzZVRleC5hbHBoYU1vZGUpKTtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLnJlbmRlcmVyLmdsLlRSSUFOR0xFUywgNiwgMCk7XG4gICAgfTtcblxuICAgIHJldHVybiBUaWxpbmdTcHJpdGVSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuZXhwb3J0IHsgVGlsaW5nU3ByaXRlLCBUaWxpbmdTcHJpdGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLXRpbGluZy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGV4dC1iaXRtYXAgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvdGV4dC1iaXRtYXAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFBvaW50LCBSZWN0YW5nbGUsIE9ic2VydmFibGVQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgcmVtb3ZlSXRlbXMsIGdldFJlc29sdXRpb25PZlVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5cbi8qKlxuICogQSBCaXRtYXBUZXh0IG9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dCB1c2luZyBiaXRtYXAgZm9udC5cbiAqXG4gKiBUaGUgcHJpbWFyeSBhZHZhbnRhZ2Ugb2YgdGhpcyBjbGFzcyBvdmVyIFRleHQgaXMgdGhhdCBhbGwgb2YgeW91ciB0ZXh0dXJlcyBhcmUgcHJlLWdlbmVyYXRlZCBhbmQgbG9hZGluZyxcbiAqIG1lYW5pbmcgdGhhdCByZW5kZXJpbmcgaXMgZmFzdCwgYW5kIGNoYW5naW5nIHRleHQgaGFzIG5vIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucy5cbiAqXG4gKiBUaGUgcHJpbWFyeSBkaXNhZHZhbnRhZ2UgaXMgdGhhdCB5b3UgbmVlZCB0byBwcmVsb2FkIHRoZSBiaXRtYXAgZm9udCBhc3NldHMsIGFuZCB0aHVzIHRoZSBzdHlsaW5nIGlzIHNldCBpbiBzdG9uZS5cbiAqIFN1cHBvcnRpbmcgY2hhcmFjdGVyIHNldHMgb3RoZXIgdGhhbiBsYXRpbiwgc3VjaCBhcyBDSksgbGFuZ3VhZ2VzLCBtYXkgYmUgaW1wcmFjdGljYWwgZHVlIHRvIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycy5cbiAqXG4gKiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicsICdcXHInIG9yICdcXHJcXG4nIGluIHlvdXIgc3RyaW5nLlxuICpcbiAqIFlvdSBjYW4gZ2VuZXJhdGUgdGhlIGZudCBmaWxlcyB1c2luZ1xuICogaHR0cDovL3d3dy5hbmdlbGNvZGUuY29tL3Byb2R1Y3RzL2JtZm9udC8gZm9yIFdpbmRvd3Mgb3JcbiAqIGh0dHA6Ly93d3cuYm1nbHlwaC5jb20vIGZvciBNYWMuXG4gKlxuICogQSBCaXRtYXBUZXh0IGNhbiBvbmx5IGJlIGNyZWF0ZWQgd2hlbiB0aGUgZm9udCBpcyBsb2FkZWQuXG4gKlxuICogYGBganNcbiAqIC8vIGluIHRoaXMgY2FzZSB0aGUgZm9udCBpcyBpbiBhIGZpbGUgY2FsbGVkICdkZXN5cmVsLmZudCdcbiAqIGxldCBiaXRtYXBUZXh0ID0gbmV3IFBJWEkuQml0bWFwVGV4dChcInRleHQgdXNpbmcgYSBmYW5jeSBmb250IVwiLCB7Zm9udDogXCIzNXB4IERlc3lyZWxcIiwgYWxpZ246IFwicmlnaHRcIn0pO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcFRleHQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDb250YWluZXIpIHtcbiAgICBmdW5jdGlvbiBCaXRtYXBUZXh0KHRleHQsIHN0eWxlKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG4gICAgICAgIGlmICggc3R5bGUgPT09IHZvaWQgMCApIHN0eWxlID0ge307XG5cbiAgICAgICAgQ29udGFpbmVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dFdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGxldHRlciBzcHJpdGUgcG9vbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGVbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2dseXBocyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mb250ID0ge1xuICAgICAgICAgICAgdGludDogc3R5bGUudGludCAhPT0gdW5kZWZpbmVkID8gc3R5bGUudGludCA6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxpZ246IHN0eWxlLmFsaWduIHx8ICdsZWZ0JyxcbiAgICAgICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgICAgICBzaXplOiAwLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IGZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm9udCA9IHN0eWxlLmZvbnQ7IC8vIHJ1biBmb250IHNldHRlclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdmFsdWUgdG8gMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpZTogd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4TGluZUhlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExldHRlciBzcGFjaW5nLiBUaGlzIGlzIHVzZWZ1bCBmb3Igc2V0dGluZyB0aGUgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBhbmNob3IuIHJlYWQtb25seVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG5ldyBPYnNlcnZhYmxlUG9pbnQoZnVuY3Rpb24gKCkgeyB0aGlzJDEuZGlydHkgPSB0cnVlOyB9LCB0aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpcnR5IHN0YXRlIG9mIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgIH1cblxuICAgIGlmICggQ29udGFpbmVyICkgQml0bWFwVGV4dC5fX3Byb3RvX18gPSBDb250YWluZXI7XG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb250YWluZXIgJiYgQ29udGFpbmVyLnByb3RvdHlwZSApO1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQml0bWFwVGV4dDtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHRpbnQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYWxpZ246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYW5jaG9yOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZvbnQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGV4dDogeyBjb25maWd1cmFibGU6IHRydWUgfSxtYXhXaWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxtYXhMaW5lSGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHRXaWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxsZXR0ZXJTcGFjaW5nOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHRIZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0ID0gZnVuY3Rpb24gdXBkYXRlVGV4dCAoKVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSBCaXRtYXBUZXh0LmZvbnRzW3RoaXMuX2ZvbnQubmFtZV07XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2ZvbnQuc2l6ZSAvIGRhdGEuc2l6ZTtcbiAgICAgICAgdmFyIHBvcyA9IG5ldyBQb2ludCgpO1xuICAgICAgICB2YXIgY2hhcnMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBbXTtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLl90ZXh0LnJlcGxhY2UoLyg/OlxcclxcbnxcXHIpL2csICdcXG4nKSB8fCAnICc7XG4gICAgICAgIHZhciB0ZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIHZhciBtYXhXaWR0aCA9IHRoaXMuX21heFdpZHRoICogZGF0YS5zaXplIC8gdGhpcy5fZm9udC5zaXplO1xuXG4gICAgICAgIHZhciBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbGluZSA9IDA7XG4gICAgICAgIHZhciBsYXN0QnJlYWtQb3MgPSAtMTtcbiAgICAgICAgdmFyIGxhc3RCcmVha1dpZHRoID0gMDtcbiAgICAgICAgdmFyIHNwYWNlc1JlbW92ZWQgPSAwO1xuICAgICAgICB2YXIgbWF4TGluZUhlaWdodCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0TGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dC5jaGFyQXQoaSk7XG5cbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGNoYXIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IGk7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrV2lkdGggPSBsYXN0TGluZVdpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hhciA9PT0gJ1xccicgfHwgY2hhciA9PT0gJ1xcbicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgKytsaW5lO1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcblxuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNoYXJEYXRhID0gZGF0YS5jaGFyc1tjaGFyQ29kZV07XG5cbiAgICAgICAgICAgIGlmICghY2hhckRhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcmV2Q2hhckNvZGUgJiYgY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hhcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGV4dHVyZTogY2hhckRhdGEudGV4dHVyZSxcbiAgICAgICAgICAgICAgICBsaW5lOiBsaW5lLFxuICAgICAgICAgICAgICAgIGNoYXJDb2RlOiBjaGFyQ29kZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFBvaW50KHBvcy54ICsgY2hhckRhdGEueE9mZnNldCArICh0aGlzLl9sZXR0ZXJTcGFjaW5nIC8gMiksIHBvcy55ICsgY2hhckRhdGEueU9mZnNldCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLnhBZHZhbmNlICsgdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBwb3MueDtcbiAgICAgICAgICAgIG1heExpbmVIZWlnaHQgPSBNYXRoLm1heChtYXhMaW5lSGVpZ2h0LCAoY2hhckRhdGEueU9mZnNldCArIGNoYXJEYXRhLnRleHR1cmUuaGVpZ2h0KSk7XG4gICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBjaGFyQ29kZTtcblxuICAgICAgICAgICAgaWYgKGxhc3RCcmVha1BvcyAhPT0gLTEgJiYgbWF4V2lkdGggPiAwICYmIHBvcy54ID4gbWF4V2lkdGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKGNoYXJzLCAxICsgbGFzdEJyZWFrUG9zIC0gc3BhY2VzUmVtb3ZlZCwgMSArIGkgLSBsYXN0QnJlYWtQb3MpO1xuICAgICAgICAgICAgICAgIGkgPSBsYXN0QnJlYWtQb3M7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrUG9zID0gLTE7XG5cbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdEJyZWFrV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdEJyZWFrV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmUrKztcblxuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsYXN0Q2hhciA9IHRleHQuY2hhckF0KHRleHQubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgaWYgKGxhc3RDaGFyICE9PSAnXFxyJyAmJiBsYXN0Q2hhciAhPT0gJ1xcbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGxhc3RDaGFyKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gbGFzdEJyZWFrV2lkdGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGluZUFsaWduT2Zmc2V0cyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8PSBsaW5lOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGFsaWduT2Zmc2V0ID0gMDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnQuYWxpZ24gPT09ICdyaWdodCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2kkMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9mb250LmFsaWduID09PSAnY2VudGVyJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2kkMV0pIC8gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGluZUFsaWduT2Zmc2V0cy5wdXNoKGFsaWduT2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsZW5DaGFycyA9IGNoYXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIHRpbnQgPSB0aGlzLnRpbnQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgbGVuQ2hhcnM7IGkkMisrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYyA9IHRoaXMuX2dseXBoc1tpJDJdOyAvLyBnZXQgdGhlIG5leHQgZ2x5cGggc3ByaXRlXG5cbiAgICAgICAgICAgIGlmIChjKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGMudGV4dHVyZSA9IGNoYXJzW2kkMl0udGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjID0gbmV3IFNwcml0ZShjaGFyc1tpJDJdLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIGMucm91bmRQaXhlbHMgPSB0aGlzLnJvdW5kUGl4ZWxzO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dseXBocy5wdXNoKGMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjLnBvc2l0aW9uLnggPSAoY2hhcnNbaSQyXS5wb3NpdGlvbi54ICsgbGluZUFsaWduT2Zmc2V0c1tjaGFyc1tpJDJdLmxpbmVdKSAqIHNjYWxlO1xuICAgICAgICAgICAgYy5wb3NpdGlvbi55ID0gY2hhcnNbaSQyXS5wb3NpdGlvbi55ICogc2NhbGU7XG4gICAgICAgICAgICBjLnNjYWxlLnggPSBjLnNjYWxlLnkgPSBzY2FsZTtcbiAgICAgICAgICAgIGMudGludCA9IHRpbnQ7XG5cbiAgICAgICAgICAgIGlmICghYy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSB1bm5lY2Vzc2FyeSBjaGlsZHJlbi5cbiAgICAgICAgZm9yICh2YXIgaSQzID0gbGVuQ2hhcnM7IGkkMyA8IHRoaXMuX2dseXBocy5sZW5ndGg7ICsraSQzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuX2dseXBoc1tpJDNdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IG1heExpbmVXaWR0aCAqIHNjYWxlO1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuXG4gICAgICAgIC8vIGFwcGx5IGFuY2hvclxuICAgICAgICBpZiAodGhpcy5hbmNob3IueCAhPT0gMCB8fCB0aGlzLmFuY2hvci55ICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDQgPSAwOyBpJDQgPCBsZW5DaGFyczsgaSQ0KyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzW2kkNF0ueCAtPSB0aGlzLl90ZXh0V2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICAgICAgICAgIHRoaXMuX2dseXBoc1tpJDRdLnkgLT0gdGhpcy5fdGV4dEhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF4TGluZUhlaWdodCA9IG1heExpbmVIZWlnaHQgKiBzY2FsZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGV4dCBiZWZvcmUgY2FsbGluZyBwYXJlbnQncyBnZXRMb2NhbEJvdW5kc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiBDb250YWluZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udC50aW50O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fZm9udC50aW50ID0gKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdmFsdWUgPj0gMCkgPyB2YWx1ZSA6IDB4RkZGRkZGO1xuXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWxpZ25tZW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYWxpZ24uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250LmFsaWduO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYWxpZ24uc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnQuYWxpZ24gPSB2YWx1ZSB8fCAnbGVmdCc7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0LlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgxLDEpYCB3b3VsZCBtZWFuIHRoZSB0ZXh0J3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50IHwgbnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbmNob3IuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbmNob3Iuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZvbnQgZGVzY3JpcHRvciBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmZvbnQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuZm9udC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKCF2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3BsaXQoJyAnKTtcblxuICAgICAgICAgICAgdGhpcy5fZm9udC5uYW1lID0gdmFsdWUubGVuZ3RoID09PSAxID8gdmFsdWVbMF0gOiB2YWx1ZS5zbGljZSgxKS5qb2luKCcgJyk7XG4gICAgICAgICAgICB0aGlzLl9mb250LnNpemUgPSB2YWx1ZS5sZW5ndGggPj0gMiA/IHBhcnNlSW50KHZhbHVlWzBdLCAxMCkgOiBCaXRtYXBUZXh0LmZvbnRzW3RoaXMuX2ZvbnQubmFtZV0uc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnQubmFtZSA9IHZhbHVlLm5hbWU7XG4gICAgICAgICAgICB0aGlzLl9mb250LnNpemUgPSB0eXBlb2YgdmFsdWUuc2l6ZSA9PT0gJ251bWJlcicgPyB2YWx1ZS5zaXplIDogcGFyc2VJbnQodmFsdWUuc2l6ZSwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0LnNldCA9IGZ1bmN0aW9uICh0ZXh0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6IHRleHQpO1xuXG4gICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHRoZSB2YWx1ZSB0byAwLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXhXaWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21heFdpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF4V2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9tYXhXaWR0aCA9PT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXhXaWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICogaS5lLiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXhMaW5lSGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21heExpbmVIZWlnaHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHRXaWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0V2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZGl0aW9uYWwgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5sZXR0ZXJTcGFjaW5nLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmxldHRlclNwYWNpbmcuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9sZXR0ZXJTcGFjaW5nICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHRIZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEhlaWdodDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBiaXRtYXAgZm9udCB3aXRoIGRhdGEgYW5kIGEgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSB4bWwgLSBUaGUgWE1MIGRvY3VtZW50IGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgUElYSS5UZXh0dXJlPnxQSVhJLlRleHR1cmV8UElYSS5UZXh0dXJlW119IHRleHR1cmVzIC0gTGlzdCBvZiB0ZXh0dXJlcyBmb3IgZWFjaCBwYWdlLlxuICAgICAqICBJZiBwcm92aWRpbmcgYW4gb2JqZWN0LCB0aGUga2V5IGlzIHRoZSBgPHBhZ2U+YCBlbGVtZW50J3MgYGZpbGVgIGF0dHJpYnV0ZSBpbiB0aGUgRk5UIGZpbGUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBSZXN1bHQgZm9udCBvYmplY3Qgd2l0aCBmb250LCBzaXplLCBsaW5lSGVpZ2h0IGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnJlZ2lzdGVyRm9udCA9IGZ1bmN0aW9uIHJlZ2lzdGVyRm9udCAoeG1sLCB0ZXh0dXJlcylcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgIHZhciBpbmZvID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF07XG4gICAgICAgIHZhciBjb21tb24gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NvbW1vbicpWzBdO1xuICAgICAgICB2YXIgcGFnZXMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKTtcbiAgICAgICAgdmFyIHJlcyA9IGdldFJlc29sdXRpb25PZlVybChwYWdlc1swXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKSwgc2V0dGluZ3MuUkVTT0xVVElPTik7XG4gICAgICAgIHZhciBwYWdlc1RleHR1cmVzID0ge307XG5cbiAgICAgICAgZGF0YS5mb250ID0gaW5mby5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKTtcbiAgICAgICAgZGF0YS5zaXplID0gcGFyc2VJbnQoaW5mby5nZXRBdHRyaWJ1dGUoJ3NpemUnKSwgMTApO1xuICAgICAgICBkYXRhLmxpbmVIZWlnaHQgPSBwYXJzZUludChjb21tb24uZ2V0QXR0cmlidXRlKCdsaW5lSGVpZ2h0JyksIDEwKSAvIHJlcztcbiAgICAgICAgZGF0YS5jaGFycyA9IHt9O1xuXG4gICAgICAgIC8vIFNpbmdsZSB0ZXh0dXJlLCBjb252ZXJ0IHRvIGxpc3RcbiAgICAgICAgaWYgKHRleHR1cmVzIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZXMgPSBbdGV4dHVyZXNdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29udmVydCB0aGUgaW5wdXQgVGV4dHVyZSwgVGV4dHVyZXMgb3Igb2JqZWN0XG4gICAgICAgIC8vIGludG8gYSBwYWdlIFRleHR1cmUgbG9va3VwIGJ5IFwiaWRcIlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaWQgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgICAgICB2YXIgZmlsZSA9IHBhZ2VzW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpO1xuXG4gICAgICAgICAgICBwYWdlc1RleHR1cmVzW2lkXSA9IHRleHR1cmVzIGluc3RhbmNlb2YgQXJyYXkgPyB0ZXh0dXJlc1tpXSA6IHRleHR1cmVzW2ZpbGVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFyc2UgbGV0dGVyc1xuICAgICAgICB2YXIgbGV0dGVycyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2hhcicpO1xuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGxldHRlcnMubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGxldHRlciA9IGxldHRlcnNbaSQxXTtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2lkJyksIDEwKTtcbiAgICAgICAgICAgIHZhciBwYWdlID0gbGV0dGVyLmdldEF0dHJpYnV0ZSgncGFnZScpIHx8IDA7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVJlY3QgPSBuZXcgUmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgIChwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4JyksIDEwKSAvIHJlcykgKyAocGFnZXNUZXh0dXJlc1twYWdlXS5mcmFtZS54IC8gcmVzKSxcbiAgICAgICAgICAgICAgICAocGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneScpLCAxMCkgLyByZXMpICsgKHBhZ2VzVGV4dHVyZXNbcGFnZV0uZnJhbWUueSAvIHJlcyksXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLCAxMCkgLyByZXNcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGRhdGEuY2hhcnNbY2hhckNvZGVdID0ge1xuICAgICAgICAgICAgICAgIHhPZmZzZXQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hvZmZzZXQnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIHlPZmZzZXQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3lvZmZzZXQnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIHhBZHZhbmNlOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4YWR2YW5jZScpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAga2VybmluZzoge30sXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogbmV3IFRleHR1cmUocGFnZXNUZXh0dXJlc1twYWdlXS5iYXNlVGV4dHVyZSwgdGV4dHVyZVJlY3QpLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFyc2Uga2VybmluZ3NcbiAgICAgICAgdmFyIGtlcm5pbmdzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdrZXJuaW5nJyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwga2VybmluZ3MubGVuZ3RoOyBpJDIrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGtlcm5pbmcgPSBrZXJuaW5nc1tpJDJdO1xuICAgICAgICAgICAgdmFyIGZpcnN0ID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ2ZpcnN0JyksIDEwKSAvIHJlcztcbiAgICAgICAgICAgIHZhciBzZWNvbmQgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnc2Vjb25kJyksIDEwKSAvIHJlcztcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnYW1vdW50JyksIDEwKSAvIHJlcztcblxuICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnNbc2Vjb25kXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhLmNoYXJzW3NlY29uZF0ua2VybmluZ1tmaXJzdF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJJ20gbGVhdmluZyB0aGlzIGFzIGEgdGVtcG9yYXJ5IGZpeCBzbyB3ZSBjYW4gdGVzdCB0aGUgYml0bWFwIGZvbnRzIGluIHYzXG4gICAgICAgIC8vIGJ1dCBpdCdzIHZlcnkgbGlrZWx5IHRvIGNoYW5nZVxuICAgICAgICBCaXRtYXBUZXh0LmZvbnRzW2RhdGEuZm9udF0gPSBkYXRhO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQml0bWFwVGV4dC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEJpdG1hcFRleHQ7XG59KENvbnRhaW5lcikpO1xuXG5CaXRtYXBUZXh0LmZvbnRzID0ge307XG5cbi8qKlxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0gbWlkZGxld2FyZSBmb3IgbG9hZGluZ1xuICogYml0bWFwLWJhc2VkIGZvbnRzIHN1aXRhYmxlIGZvciB1c2luZyB3aXRoIHtAbGluayBQSVhJLkJpdG1hcFRleHR9LlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbnZhciBCaXRtYXBGb250TG9hZGVyID0gZnVuY3Rpb24gQml0bWFwRm9udExvYWRlciAoKSB7fTtcblxuQml0bWFwRm9udExvYWRlci5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlIChyZXNvdXJjZSwgdGV4dHVyZSlcbntcbiAgICByZXNvdXJjZS5iaXRtYXBGb250ID0gQml0bWFwVGV4dC5yZWdpc3RlckZvbnQocmVzb3VyY2UuZGF0YSwgdGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aGVuIHRoZSBwbHVnaW4gaXMgaW5zdGFsbGVkLlxuICpcbiAqIEBzZWUgUElYSS5Mb2FkZXIucmVnaXN0ZXJQbHVnaW5cbiAqL1xuQml0bWFwRm9udExvYWRlci5hZGQgPSBmdW5jdGlvbiBhZGQgKClcbntcbiAgICBMb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdmbnQnLCBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCk7XG59O1xuXG4vKipcbiAqIFJlcGxhY2VtZW50IGZvciBOb2RlSlMncyBwYXRoLmRpcm5hbWVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFBhdGggdG8gZ2V0IGRpcmVjdG9yeSBmb3JcbiAqL1xuQml0bWFwRm9udExvYWRlci5kaXJuYW1lID0gZnVuY3Rpb24gZGlybmFtZSAodXJsKVxue1xuICAgIHZhciBkaXIgPSB1cmxcbiAgICAgICAgLnJlcGxhY2UoL1xcLyQvLCAnJykgLy8gcmVwbGFjZSB0cmFpbGluZyBzbGFzaFxuICAgICAgICAucmVwbGFjZSgvXFwvW15cXC9dKiQvLCAnJyk7IC8vIHJlbW92ZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBsYXN0XG5cbiAgICAvLyBGaWxlIHJlcXVlc3QgaXMgcmVsYXRpdmUsIHVzZSBjdXJyZW50IGRpcmVjdG9yeVxuICAgIGlmIChkaXIgPT09IHVybClcbiAgICB7XG4gICAgICAgIHJldHVybiAnLic7XG4gICAgfVxuICAgIC8vIFN0YXJ0ZWQgd2l0aCBhIHNsYXNoXG4gICAgZWxzZSBpZiAoZGlyID09PSAnJylcbiAgICB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpcjtcbn07XG5cbi8qKlxuICogQ2FsbGVkIGFmdGVyIGEgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0XG4gKi9cbkJpdG1hcEZvbnRMb2FkZXIudXNlID0gZnVuY3Rpb24gdXNlIChyZXNvdXJjZSwgbmV4dClcbntcbiAgICAvLyBza2lwIGlmIG5vIGRhdGEgb3Igbm90IHhtbCBkYXRhXG4gICAgaWYgKCFyZXNvdXJjZS5kYXRhIHx8IHJlc291cmNlLnR5cGUgIT09IExvYWRlclJlc291cmNlLlRZUEUuWE1MKVxuICAgIHtcbiAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBza2lwIGlmIG5vdCBiaXRtYXAgZm9udCBkYXRhLCB1c2luZyBzb21lIHNpbGx5IGR1Y2stdHlwaW5nXG4gICAgaWYgKHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKS5sZW5ndGggPT09IDBcbiAgICAgICAgfHwgcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpLmxlbmd0aCA9PT0gMFxuICAgICAgICB8fCByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF0uZ2V0QXR0cmlidXRlKCdmYWNlJykgPT09IG51bGxcbiAgICApXG4gICAge1xuICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB4bWxVcmwgPSAhcmVzb3VyY2UuaXNEYXRhVXJsID8gQml0bWFwRm9udExvYWRlci5kaXJuYW1lKHJlc291cmNlLnVybCkgOiAnJztcblxuICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpXG4gICAge1xuICAgICAgICBpZiAoeG1sVXJsID09PSAnLicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHhtbFVybCA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuYmFzZVVybCAmJiB4bWxVcmwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIGJhc2V1cmwgaGFzIGEgdHJhaWxpbmcgc2xhc2ggdGhlbiBhZGQgb25lIHRvIHhtbFVybCBzbyB0aGUgcmVwbGFjZSB3b3JrcyBiZWxvd1xuICAgICAgICAgICAgaWYgKHRoaXMuYmFzZVVybC5jaGFyQXQodGhpcy5iYXNlVXJsLmxlbmd0aCAtIDEpID09PSAnLycpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgeG1sVXJsICs9ICcvJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJlbW92ZSBiYXNlVXJsIGZyb20geG1sVXJsXG4gICAgeG1sVXJsID0geG1sVXJsLnJlcGxhY2UodGhpcy5iYXNlVXJsLCAnJyk7XG5cbiAgICAvLyBpZiB0aGVyZSBpcyBhbiB4bWxVcmwgbm93LCBpdCBuZWVkcyBhIHRyYWlsaW5nIHNsYXNoLiBFbnN1cmUgdGhhdCBpdCBkb2VzIGlmIHRoZSBzdHJpbmcgaXNuJ3QgZW1wdHkuXG4gICAgaWYgKHhtbFVybCAmJiB4bWxVcmwuY2hhckF0KHhtbFVybC5sZW5ndGggLSAxKSAhPT0gJy8nKVxuICAgIHtcbiAgICAgICAgeG1sVXJsICs9ICcvJztcbiAgICB9XG5cbiAgICB2YXIgcGFnZXMgPSByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgdmFyIHRleHR1cmVzID0ge307XG5cbiAgICAvLyBIYW5kbGUgY29tcGxldGVkLCB3aGVuIHRoZSBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAvLyBsb2FkIGlzIHRoZSBzYW1lIG51bWJlciBhcyByZWZlcmVuY2VzIGluIHRoZSBmbnQgZmlsZVxuICAgIHZhciBjb21wbGV0ZWQgPSBmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICB0ZXh0dXJlc1twYWdlLm1ldGFkYXRhLnBhZ2VGaWxlXSA9IHBhZ2UudGV4dHVyZTtcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXModGV4dHVyZXMpLmxlbmd0aCA9PT0gcGFnZXMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBCaXRtYXBGb250TG9hZGVyLnBhcnNlKHJlc291cmNlLCB0ZXh0dXJlcyk7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7ICsraSlcbiAgICB7XG4gICAgICAgIHZhciBwYWdlRmlsZSA9IHBhZ2VzW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpO1xuICAgICAgICB2YXIgdXJsID0geG1sVXJsICsgcGFnZUZpbGU7XG4gICAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcblxuICAgICAgICAvLyBpbmNhc2UgdGhlIGltYWdlIGlzIGxvYWRlZCBvdXRzaWRlXG4gICAgICAgIC8vIHVzaW5nIHRoZSBzYW1lIGxvYWRlciwgcmVzb3VyY2Ugd2lsbCBiZSBhdmFpbGFibGVcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLnJlc291cmNlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJpdG1hcFJlc291cmNlID0gdGhpcy5yZXNvdXJjZXNbbmFtZV07XG5cbiAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS51cmwgPT09IHVybClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBiaXRtYXBSZXNvdXJjZS5tZXRhZGF0YS5wYWdlRmlsZSA9IHBhZ2VGaWxlO1xuICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS50ZXh0dXJlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkKGJpdG1hcFJlc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuYWRkKGNvbXBsZXRlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0ZXh0dXJlIGlzIG5vdCBsb2FkZWQsIHdlJ2xsIGF0dGVtcHQgdG8gYWRkXG4gICAgICAgIC8vIGl0IHRvIHRoZSBsb2FkIGFuZCBhZGQgdGhlIHRleHR1cmUgdG8gdGhlIGxpc3RcbiAgICAgICAgaWYgKCFleGlzdHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFN0YW5kYXJkIGxvYWRpbmcgb3B0aW9ucyBmb3IgaW1hZ2VzXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgbG9hZFR5cGU6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICAgICAgeyBwYWdlRmlsZTogcGFnZUZpbGUgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5hZGQodXJsLCBvcHRpb25zLCBjb21wbGV0ZWQpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0IHsgQml0bWFwRm9udExvYWRlciwgQml0bWFwVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dC1iaXRtYXAuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1hbHBoYSAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItYWxwaGEgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIsIGRlZmF1bHRWZXJ0ZXggfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVBbHBoYTtcXG59XFxuXCI7XG5cbi8qKlxuICogU2ltcGxlc3QgZmlsdGVyIC0gYXBwbGllcyBhbHBoYS5cbiAqXG4gKiBVc2UgdGhpcyBpbnN0ZWFkIG9mIENvbnRhaW5lcidzIGFscGhhIHByb3BlcnR5IHRvIGF2b2lkIHZpc3VhbCBsYXllcmluZyBvZiBpbmRpdmlkdWFsIGVsZW1lbnRzLlxuICogQWxwaGFGaWx0ZXIgYXBwbGllcyBhbHBoYSBldmVubHkgYWNyb3NzIHRoZSBlbnRpcmUgZGlzcGxheSBvYmplY3QgYW5kIGFueSBvcGFxdWUgZWxlbWVudHMgaXQgY29udGFpbnMuXG4gKiBJZiBlbGVtZW50cyBhcmUgbm90IG9wYXF1ZSwgdGhleSB3aWxsIGJsZW5kIHdpdGggZWFjaCBvdGhlciBhbnl3YXkuXG4gKlxuICogVmVyeSBoYW5keSBpZiB5b3Ugd2FudCB0byB1c2UgY29tbW9uIGZlYXR1cmVzIG9mIGFsbCBmaWx0ZXJzOlxuICpcbiAqIDEuIEFzc2lnbiBhIGJsZW5kTW9kZSB0byB0aGlzIGZpbHRlciwgYmxlbmQgYWxsIGVsZW1lbnRzIGluc2lkZSBkaXNwbGF5IG9iamVjdCB3aXRoIGJhY2tncm91bmQuXG4gKlxuICogMi4gVG8gdXNlIGNsaXBwaW5nIGluIGRpc3BsYXkgY29vcmRpbmF0ZXMsIGFzc2lnbiBhIGZpbHRlckFyZWEgdG8gdGhlIHNhbWUgY29udGFpbmVyIHRoYXQgaGFzIHRoaXMgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEFscGhhRmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gQWxwaGFGaWx0ZXIoYWxwaGEpXG4gICAge1xuICAgICAgICBpZiAoIGFscGhhID09PSB2b2lkIDAgKSBhbHBoYSA9IDEuMDtcblxuICAgICAgICBGaWx0ZXIuY2FsbCh0aGlzLCBkZWZhdWx0VmVydGV4LCBmcmFnbWVudCwgeyB1QWxwaGE6IDEgfSk7XG5cbiAgICAgICAgdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgIH1cblxuICAgIGlmICggRmlsdGVyICkgQWxwaGFGaWx0ZXIuX19wcm90b19fID0gRmlsdGVyO1xuICAgIEFscGhhRmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEZpbHRlciAmJiBGaWx0ZXIucHJvdG90eXBlICk7XG4gICAgQWxwaGFGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWxwaGFGaWx0ZXI7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBhbHBoYTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogQ29lZmZpY2llbnQgZm9yIGFscGhhIG11bHRpcGxpY2F0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbHBoYS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYWxwaGEuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMudUFscGhhID0gdmFsdWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBBbHBoYUZpbHRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEFscGhhRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgQWxwaGFGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1hbHBoYS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWJsdXIgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWJsdXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG52YXIgdmVydFRlbXBsYXRlID0gXCJcXG4gICAgYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbiAgICB1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG4gICAgdW5pZm9ybSBmbG9hdCBzdHJlbmd0aDtcXG5cXG4gICAgdmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07XFxuXFxuICAgIHVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxuICAgIHVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG4gICAgdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxuICAgIHtcXG4gICAgICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgICB9XFxuXFxuICAgIHZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG4gICAge1xcbiAgICAgICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxuICAgIH1cXG5cXG4gICAgdm9pZCBtYWluKHZvaWQpXFxuICAgIHtcXG4gICAgICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXG4gICAgICAgIHZlYzIgdGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxuICAgICAgICAlYmx1ciVcXG4gICAgfVwiO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlKGtlcm5lbFNpemUsIHgpXG57XG4gICAgdmFyIGhhbGZMZW5ndGggPSBNYXRoLmNlaWwoa2VybmVsU2l6ZSAvIDIpO1xuXG4gICAgdmFyIHZlcnRTb3VyY2UgPSB2ZXJ0VGVtcGxhdGU7XG5cbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGU7XG4gICAgLy8gbGV0IHZhbHVlO1xuXG4gICAgaWYgKHgpXG4gICAge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9ICB0ZXh0dXJlQ29vcmQgKyB2ZWMyKCVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCwgMC4wKTsnO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9ICB0ZXh0dXJlQ29vcmQgKyB2ZWMyKDAuMCwgJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoKTsnO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaSk7XG5cbiAgICAgICAgLy8gdmFsdWUgPSBpO1xuXG4gICAgICAgIC8vIGlmKGkgPj0gaGFsZkxlbmd0aClcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCclc2FtcGxlSW5kZXglJywgKChpIC0gKGhhbGZMZW5ndGggLSAxKSkgKyBcIi4wXCIpKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gdmVydFNvdXJjZTtcbn1cblxudmFyIEdBVVNTSUFOX1ZBTFVFUyA9IHtcbiAgICA1OiBbMC4xNTMzODgsIDAuMjIxNDYxLCAwLjI1MDMwMV0sXG4gICAgNzogWzAuMDcxMzAzLCAwLjEzMTUxNCwgMC4xODk4NzksIDAuMjE0NjA3XSxcbiAgICA5OiBbMC4wMjg1MzIsIDAuMDY3MjM0LCAwLjEyNDAwOSwgMC4xNzkwNDQsIDAuMjAyMzZdLFxuICAgIDExOiBbMC4wMDkzLCAwLjAyODAwMiwgMC4wNjU5ODQsIDAuMTIxNzAzLCAwLjE3NTcxMywgMC4xOTg1OTZdLFxuICAgIDEzOiBbMC4wMDI0MDYsIDAuMDA5MjU1LCAwLjAyNzg2NywgMC4wNjU2NjYsIDAuMTIxMTE3LCAwLjE3NDg2OCwgMC4xOTc2NDFdLFxuICAgIDE1OiBbMC4wMDA0ODksIDAuMDAyNDAzLCAwLjAwOTI0NiwgMC4wMjc4NCwgMC4wNjU2MDIsIDAuMTIwOTk5LCAwLjE3NDY5NywgMC4xOTc0NDhdLFxufTtcblxudmFyIGZyYWdUZW1wbGF0ZSA9IFtcbiAgICAndmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07JyxcbiAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7JyxcblxuICAgICd2b2lkIG1haW4odm9pZCknLFxuICAgICd7JyxcbiAgICAnICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLFxuICAgICcgICAgJWJsdXIlJyxcbiAgICAnfScgXS5qb2luKCdcXG4nKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKVxue1xuICAgIHZhciBrZXJuZWwgPSBHQVVTU0lBTl9WQUxVRVNba2VybmVsU2l6ZV07XG4gICAgdmFyIGhhbGZMZW5ndGggPSBrZXJuZWwubGVuZ3RoO1xuXG4gICAgdmFyIGZyYWdTb3VyY2UgPSBmcmFnVGVtcGxhdGU7XG5cbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGUgPSAnZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdkJsdXJUZXhDb29yZHNbJWluZGV4JV0pICogJXZhbHVlJTsnO1xuICAgIHZhciB2YWx1ZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaSk7XG5cbiAgICAgICAgdmFsdWUgPSBpO1xuXG4gICAgICAgIGlmIChpID49IGhhbGZMZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXZhbHVlJScsIGtlcm5lbFt2YWx1ZV0pO1xuXG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cblxuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplKTtcblxuICAgIHJldHVybiBmcmFnU291cmNlO1xufVxuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyUGFzcyBhcHBsaWVzIGEgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyRmlsdGVyUGFzcyA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEZpbHRlcikge1xuICAgIGZ1bmN0aW9uIEJsdXJGaWx0ZXJQYXNzKGhvcml6b250YWwsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKVxuICAgIHtcbiAgICAgICAga2VybmVsU2l6ZSA9IGtlcm5lbFNpemUgfHwgNTtcbiAgICAgICAgdmFyIHZlcnRTcmMgPSBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlKGtlcm5lbFNpemUsIGhvcml6b250YWwpO1xuICAgICAgICB2YXIgZnJhZ1NyYyA9IGdlbmVyYXRlQmx1ckZyYWdTb3VyY2Uoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgRmlsdGVyLmNhbGwoXG4gICAgICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgICAgICB0aGlzLCB2ZXJ0U3JjLFxuICAgICAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgICAgICBmcmFnU3JjXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gaG9yaXpvbnRhbDtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgdGhpcy5fcXVhbGl0eSA9IDA7XG5cbiAgICAgICAgdGhpcy5xdWFsaXR5ID0gcXVhbGl0eSB8fCA0O1xuXG4gICAgICAgIHRoaXMuYmx1ciA9IHN0cmVuZ3RoIHx8IDg7XG4gICAgfVxuXG4gICAgaWYgKCBGaWx0ZXIgKSBCbHVyRmlsdGVyUGFzcy5fX3Byb3RvX18gPSBGaWx0ZXI7XG4gICAgQmx1ckZpbHRlclBhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsdGVyICYmIEZpbHRlci5wcm90b3R5cGUgKTtcbiAgICBCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCbHVyRmlsdGVyUGFzcztcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGJsdXI6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scXVhbGl0eTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgQmx1ckZpbHRlclBhc3MucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgaWYgKG91dHB1dClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBvdXRwdXQud2lkdGgpICogKG91dHB1dC53aWR0aCAvIGlucHV0LndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBvdXRwdXQuaGVpZ2h0KSAqIChvdXRwdXQuaGVpZ2h0IC8gaW5wdXQuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLndpZHRoKSAqIChmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLndpZHRoIC8gaW5wdXQud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0KSAqIChmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmhlaWdodCAvIGlucHV0LmhlaWdodCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNjcmVlbiBzcGFjZSFcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAqPSB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoIC89IHRoaXMucGFzc2VzO1xuXG4gICAgICAgIGlmICh0aGlzLnBhc3NlcyA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG4gICAgICAgICAgICB2YXIgcmVuZGVyZXIgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyO1xuXG4gICAgICAgICAgICB2YXIgZmxpcCA9IGlucHV0O1xuICAgICAgICAgICAgdmFyIGZsb3AgPSByZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxpcCwgZmxvcCwgZmFsc2UpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChmbGlwLCBmbGlwLmZpbHRlckZyYW1lKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNhbXBsZXIgPSBmbG9wO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBmbG9wO1xuXG4gICAgICAgICAgICAgICAgZmxvcCA9IGZsaXA7XG4gICAgICAgICAgICAgICAgZmxpcCA9IHRlbXA7XG5cbiAgICAgICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KDUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxvcCwgb3V0cHV0LCBjbGVhcik7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1ci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxNlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsdXIuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMucGFkZGluZyA9IDEgKyAoTWF0aC5hYnModmFsdWUpICogMik7XG4gICAgICAgIHRoaXMuc3RyZW5ndGggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgICAqIHF1YWlsaXR5IGJsdXJpbmcgYnV0IHRoZSBsb3dlciB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5xdWFsaXR5LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVhbGl0eTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnF1YWxpdHkuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3F1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5wYXNzZXMgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQmx1ckZpbHRlclBhc3M7XG59KEZpbHRlcikpO1xuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyIGFwcGxpZXMgYSBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgY2FuIGJlIHNldCBmb3IgdGhlIHgtYXhpcyBhbmQgeS1heGlzIHNlcGFyYXRlbHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEZpbHRlcikge1xuICAgIGZ1bmN0aW9uIEJsdXJGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpXG4gICAge1xuICAgICAgICBGaWx0ZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLmJsdXJYRmlsdGVyID0gbmV3IEJsdXJGaWx0ZXJQYXNzKHRydWUsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcbiAgICAgICAgdGhpcy5ibHVyWUZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyhmYWxzZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgdGhpcy5xdWFsaXR5ID0gcXVhbGl0eSB8fCA0O1xuICAgICAgICB0aGlzLmJsdXIgPSBzdHJlbmd0aCB8fCA4O1xuXG4gICAgICAgIHRoaXMucmVwZWF0RWRnZVBpeGVscyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICggRmlsdGVyICkgQmx1ckZpbHRlci5fX3Byb3RvX18gPSBGaWx0ZXI7XG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIgJiYgRmlsdGVyLnByb3RvdHlwZSApO1xuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmx1ckZpbHRlcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGJsdXI6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scXVhbGl0eTogeyBjb25maWd1cmFibGU6IHRydWUgfSxibHVyWDogeyBjb25maWd1cmFibGU6IHRydWUgfSxibHVyWTogeyBjb25maWd1cmFibGU6IHRydWUgfSxibGVuZE1vZGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scmVwZWF0RWRnZVBpeGVsczogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICovXG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseSAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpXG4gICAge1xuICAgICAgICB2YXIgeFN0cmVuZ3RoID0gTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCk7XG4gICAgICAgIHZhciB5U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKTtcblxuICAgICAgICBpZiAoeFN0cmVuZ3RoICYmIHlTdHJlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuXG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCByZW5kZXJUYXJnZXQsIG91dHB1dCwgY2xlYXIpO1xuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh5U3RyZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUudXBkYXRlUGFkZGluZyA9IGZ1bmN0aW9uIHVwZGF0ZVBhZGRpbmcgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1clggYW5kIGJsdXJZIHByb3BlcnRpZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsdXIuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG51bWJlciBvZiBwYXNzZXMgZm9yIGJsdXIuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlciBxdWFpbGl0eSBibHVyaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucXVhbGl0eS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnF1YWxpdHkuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eSA9IHRoaXMuYmx1cllGaWx0ZXIucXVhbGl0eSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clggcHJvcGVydHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsdXJYLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1clguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgdGhlIGJsdXJZIHByb3BlcnR5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyWS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmx1cjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsdXJZLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmxlbmRNb2RlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibGVuZE1vZGU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElmIHNldCB0byB0cnVlIHRoZSBlZGdlIG9mIHRoZSB0YXJnZXQgd2lsbCBiZSBjbGFtcGVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sfVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlcGVhdEVkZ2VQaXhlbHMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucmVwZWF0RWRnZVBpeGVscy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLl9yZXBlYXRFZGdlUGl4ZWxzID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQmx1ckZpbHRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEJsdXJGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBCbHVyRmlsdGVyLCBCbHVyRmlsdGVyUGFzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWJsdXIuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXggLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciwgZGVmYXVsdEZpbHRlclZlcnRleCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgbVsyMF07XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICB2ZWM0IGMgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcblxcbiAgICBpZiAodUFscGhhID09IDAuMCkge1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gYztcXG4gICAgICAgIHJldHVybjtcXG4gICAgfVxcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoYy5hID4gMC4wKSB7XFxuICAgICAgYy5yZ2IgLz0gYy5hO1xcbiAgICB9XFxuXFxuICAgIHZlYzQgcmVzdWx0O1xcblxcbiAgICByZXN1bHQuciA9IChtWzBdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzFdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzJdICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IChtWzNdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5yICs9IG1bNF07XFxuXFxuICAgIHJlc3VsdC5nID0gKG1bNV0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bNl0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bN10gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gKG1bOF0gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LmcgKz0gbVs5XTtcXG5cXG4gICAgcmVzdWx0LmIgPSAobVsxMF0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMV0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxMl0gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYiArPSAobVsxM10gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYiArPSBtWzE0XTtcXG5cXG4gICAgcmVzdWx0LmEgPSAobVsxNV0gKiBjLnIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxNl0gKiBjLmcpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxN10gKiBjLmIpO1xcbiAgICAgICByZXN1bHQuYSArPSAobVsxOF0gKiBjLmEpO1xcbiAgICAgICByZXN1bHQuYSArPSBtWzE5XTtcXG5cXG4gICAgdmVjMyByZ2IgPSBtaXgoYy5yZ2IsIHJlc3VsdC5yZ2IsIHVBbHBoYSk7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICByZ2IgKj0gcmVzdWx0LmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQocmdiLCByZXN1bHQuYSk7XFxufVxcblwiO1xuXG4vKipcbiAqIFRoZSBDb2xvck1hdHJpeEZpbHRlciBjbGFzcyBsZXRzIHlvdSBhcHBseSBhIDV4NCBtYXRyaXggdHJhbnNmb3JtYXRpb24gb24gdGhlIFJHQkFcbiAqIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMgb2YgZXZlcnkgcGl4ZWwgb24geW91ciBkaXNwbGF5T2JqZWN0IHRvIHByb2R1Y2UgYSByZXN1bHRcbiAqIHdpdGggYSBuZXcgc2V0IG9mIFJHQkEgY29sb3IgYW5kIGFscGhhIHZhbHVlcy4gSXQncyBwcmV0dHkgcG93ZXJmdWwhXG4gKlxuICogYGBganNcbiAqICBsZXQgY29sb3JNYXRyaXggPSBuZXcgUElYSS5maWx0ZXJzLkNvbG9yTWF0cml4RmlsdGVyKCk7XG4gKiAgY29udGFpbmVyLmZpbHRlcnMgPSBbY29sb3JNYXRyaXhdO1xuICogIGNvbG9yTWF0cml4LmNvbnRyYXN0KDIpO1xuICogYGBgXG4gKiBAYXV0aG9yIENsw6ltZW50IENoZW5lYmF1bHQgPGNsZW1lbnRAZ29vZGJveWRpZ2l0YWwuY29tPlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQ29sb3JNYXRyaXhGaWx0ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChGaWx0ZXIpIHtcbiAgICBmdW5jdGlvbiBDb2xvck1hdHJpeEZpbHRlcigpXG4gICAge1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICBtOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAwLCAxLCAwXSksXG4gICAgICAgICAgICB1QWxwaGE6IDEsXG4gICAgICAgIH07XG5cbiAgICAgICAgRmlsdGVyLmNhbGwodGhpcywgZGVmYXVsdEZpbHRlclZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKTtcblxuICAgICAgICB0aGlzLmFscGhhID0gMTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciApIENvbG9yTWF0cml4RmlsdGVyLl9fcHJvdG9fXyA9IEZpbHRlcjtcbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIgJiYgRmlsdGVyLnByb3RvdHlwZSApO1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbG9yTWF0cml4RmlsdGVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgbWF0cml4OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGFscGhhOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGN1cnJlbnQgbWF0cml4IGFuZCBzZXQgdGhlIG5ldyBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2xvYWRNYXRyaXggPSBmdW5jdGlvbiBfbG9hZE1hdHJpeCAobWF0cml4LCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGlmICggbXVsdGlwbHkgPT09IHZvaWQgMCApIG11bHRpcGx5ID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIG5ld01hdHJpeCA9IG1hdHJpeDtcblxuICAgICAgICBpZiAobXVsdGlwbHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX211bHRpcGx5KG5ld01hdHJpeCwgdGhpcy51bmlmb3Jtcy5tLCBtYXRyaXgpO1xuICAgICAgICAgICAgbmV3TWF0cml4ID0gdGhpcy5fY29sb3JNYXRyaXgobmV3TWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCB0aGUgbmV3IG1hdHJpeFxuICAgICAgICB0aGlzLnVuaWZvcm1zLm0gPSBuZXdNYXRyaXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIG1hdDUnc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBvdXQgLSA1eDQgbWF0cml4IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYSAtIDV4NCBtYXRyaXggdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBiIC0gNXg0IG1hdHJpeCB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyW119IDV4NCBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX211bHRpcGx5ID0gZnVuY3Rpb24gX211bHRpcGx5IChvdXQsIGEsIGIpXG4gICAge1xuICAgICAgICAvLyBSZWQgQ2hhbm5lbFxuICAgICAgICBvdXRbMF0gPSAoYVswXSAqIGJbMF0pICsgKGFbMV0gKiBiWzVdKSArIChhWzJdICogYlsxMF0pICsgKGFbM10gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxXSA9IChhWzBdICogYlsxXSkgKyAoYVsxXSAqIGJbNl0pICsgKGFbMl0gKiBiWzExXSkgKyAoYVszXSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzJdID0gKGFbMF0gKiBiWzJdKSArIChhWzFdICogYls3XSkgKyAoYVsyXSAqIGJbMTJdKSArIChhWzNdICogYlsxN10pO1xuICAgICAgICBvdXRbM10gPSAoYVswXSAqIGJbM10pICsgKGFbMV0gKiBiWzhdKSArIChhWzJdICogYlsxM10pICsgKGFbM10gKiBiWzE4XSk7XG4gICAgICAgIG91dFs0XSA9IChhWzBdICogYls0XSkgKyAoYVsxXSAqIGJbOV0pICsgKGFbMl0gKiBiWzE0XSkgKyAoYVszXSAqIGJbMTldKSArIGFbNF07XG5cbiAgICAgICAgLy8gR3JlZW4gQ2hhbm5lbFxuICAgICAgICBvdXRbNV0gPSAoYVs1XSAqIGJbMF0pICsgKGFbNl0gKiBiWzVdKSArIChhWzddICogYlsxMF0pICsgKGFbOF0gKiBiWzE1XSk7XG4gICAgICAgIG91dFs2XSA9IChhWzVdICogYlsxXSkgKyAoYVs2XSAqIGJbNl0pICsgKGFbN10gKiBiWzExXSkgKyAoYVs4XSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzddID0gKGFbNV0gKiBiWzJdKSArIChhWzZdICogYls3XSkgKyAoYVs3XSAqIGJbMTJdKSArIChhWzhdICogYlsxN10pO1xuICAgICAgICBvdXRbOF0gPSAoYVs1XSAqIGJbM10pICsgKGFbNl0gKiBiWzhdKSArIChhWzddICogYlsxM10pICsgKGFbOF0gKiBiWzE4XSk7XG4gICAgICAgIG91dFs5XSA9IChhWzVdICogYls0XSkgKyAoYVs2XSAqIGJbOV0pICsgKGFbN10gKiBiWzE0XSkgKyAoYVs4XSAqIGJbMTldKSArIGFbOV07XG5cbiAgICAgICAgLy8gQmx1ZSBDaGFubmVsXG4gICAgICAgIG91dFsxMF0gPSAoYVsxMF0gKiBiWzBdKSArIChhWzExXSAqIGJbNV0pICsgKGFbMTJdICogYlsxMF0pICsgKGFbMTNdICogYlsxNV0pO1xuICAgICAgICBvdXRbMTFdID0gKGFbMTBdICogYlsxXSkgKyAoYVsxMV0gKiBiWzZdKSArIChhWzEyXSAqIGJbMTFdKSArIChhWzEzXSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzEyXSA9IChhWzEwXSAqIGJbMl0pICsgKGFbMTFdICogYls3XSkgKyAoYVsxMl0gKiBiWzEyXSkgKyAoYVsxM10gKiBiWzE3XSk7XG4gICAgICAgIG91dFsxM10gPSAoYVsxMF0gKiBiWzNdKSArIChhWzExXSAqIGJbOF0pICsgKGFbMTJdICogYlsxM10pICsgKGFbMTNdICogYlsxOF0pO1xuICAgICAgICBvdXRbMTRdID0gKGFbMTBdICogYls0XSkgKyAoYVsxMV0gKiBiWzldKSArIChhWzEyXSAqIGJbMTRdKSArIChhWzEzXSAqIGJbMTldKSArIGFbMTRdO1xuXG4gICAgICAgIC8vIEFscGhhIENoYW5uZWxcbiAgICAgICAgb3V0WzE1XSA9IChhWzE1XSAqIGJbMF0pICsgKGFbMTZdICogYls1XSkgKyAoYVsxN10gKiBiWzEwXSkgKyAoYVsxOF0gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxNl0gPSAoYVsxNV0gKiBiWzFdKSArIChhWzE2XSAqIGJbNl0pICsgKGFbMTddICogYlsxMV0pICsgKGFbMThdICogYlsxNl0pO1xuICAgICAgICBvdXRbMTddID0gKGFbMTVdICogYlsyXSkgKyAoYVsxNl0gKiBiWzddKSArIChhWzE3XSAqIGJbMTJdKSArIChhWzE4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzE4XSA9IChhWzE1XSAqIGJbM10pICsgKGFbMTZdICogYls4XSkgKyAoYVsxN10gKiBiWzEzXSkgKyAoYVsxOF0gKiBiWzE4XSk7XG4gICAgICAgIG91dFsxOV0gPSAoYVsxNV0gKiBiWzRdKSArIChhWzE2XSAqIGJbOV0pICsgKGFbMTddICogYlsxNF0pICsgKGFbMThdICogYlsxOV0pICsgYVsxOV07XG5cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgRmxvYXQzMiBBcnJheSBhbmQgbm9ybWFsaXplIHRoZSBvZmZzZXQgY29tcG9uZW50IHRvIDAtMVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHJldHVybiB7bnVtYmVyW119IDV4NCBtYXRyaXggd2l0aCBhbGwgdmFsdWVzIGJldHdlZW4gMC0xXG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9jb2xvck1hdHJpeCA9IGZ1bmN0aW9uIF9jb2xvck1hdHJpeCAobWF0cml4KVxuICAgIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgRmxvYXQzMiBBcnJheSBhbmQgbm9ybWFsaXplIHRoZSBvZmZzZXQgY29tcG9uZW50IHRvIDAtMVxuICAgICAgICB2YXIgbSA9IG5ldyBGbG9hdDMyQXJyYXkobWF0cml4KTtcblxuICAgICAgICBtWzRdIC89IDI1NTtcbiAgICAgICAgbVs5XSAvPSAyNTU7XG4gICAgICAgIG1bMTRdIC89IDI1NTtcbiAgICAgICAgbVsxOV0gLz0gMjU1O1xuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGp1c3RzIGJyaWdodG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gdmFsdWUgb2YgdGhlIGJyaWd0aG5lc3MgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYnJpZ2h0bmVzcyA9IGZ1bmN0aW9uIGJyaWdodG5lc3MgKGIsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIGIsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCBiLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgYiwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1hdHJpY2VzIGluIGdyZXkgc2NhbGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB2YWx1ZSBvZiB0aGUgZ3JleSAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGUgPSBmdW5jdGlvbiBncmV5c2NhbGUgKHNjYWxlLCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBibGFjayBhbmQgd2hpdGUgbWF0cmljZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ibGFja0FuZFdoaXRlID0gZnVuY3Rpb24gYmxhY2tBbmRXaGl0ZSAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaHVlIHByb3BlcnR5IG9mIHRoZSBjb2xvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gaW4gZGVncmVlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5odWUgPSBmdW5jdGlvbiBodWUgKHJvdGF0aW9uLCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHJvdGF0aW9uID0gKHJvdGF0aW9uIHx8IDApIC8gMTgwICogTWF0aC5QSTtcblxuICAgICAgICB2YXIgY29zUiA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNpblIgPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gICAgICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuXG4gICAgICAgIC8qIGEgZ29vZCBhcHByb3hpbWF0aW9uIGZvciBodWUgcm90YXRpb25cbiAgICAgICAgIFRoaXMgbWF0cml4IGlzIGZhciBiZXR0ZXIgdGhhbiB0aGUgdmVyc2lvbnMgd2l0aCBtYWdpYyBsdW1pbmFuY2UgY29uc3RhbnRzXG4gICAgICAgICBmb3JtZXJseSB1c2VkIGhlcmUsIGJ1dCBhbHNvIHVzZWQgaW4gdGhlIHN0YXJsaW5nIGZyYW1ld29yayAoZmxhc2gpIGFuZCBrbm93biBmcm9tIHRoaXNcbiAgICAgICAgIG9sZCBwYXJ0IG9mIHRoZSBpbnRlcm5ldDogcXVhc2ltb25kby5jb20vYXJjaGl2ZXMvMDAwNTY1LnBocFxuXG4gICAgICAgICBUaGlzIG5ldyBtYXRyaXggaXMgYmFzZWQgb24gcmdiIGN1YmUgcm90YXRpb24gaW4gc3BhY2UuIExvb2sgaGVyZSBmb3IgYSBtb3JlIGRlc2NyaXB0aXZlXG4gICAgICAgICBpbXBsZW1lbnRhdGlvbiBhcyBhIHNoYWRlciBub3QgYSBnZW5lcmFsIG1hdHJpeDpcbiAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvNTg4NDFjMjM5MTliZDU5Nzg3ZWZmYzAzMzNhNDg5N2I0MzgzNTQxMi9zcmMvZmlsdGVycy9hZGp1c3QvaHVlc2F0dXJhdGlvbi5qc1xuXG4gICAgICAgICBUaGlzIGlzIHRoZSBzb3VyY2UgZm9yIHRoZSBjb2RlOlxuICAgICAgICAgc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODUwNzg4NS9zaGlmdC1odWUtb2YtYW4tcmdiLWNvbG9yLzg1MTA3NTEjODUxMDc1MVxuICAgICAgICAgKi9cblxuICAgICAgICB2YXIgdyA9IDEgLyAzO1xuICAgICAgICB2YXIgc3FyVyA9IHNxcnQodyk7IC8vIHdlaWdodCBpc1xuXG4gICAgICAgIHZhciBhMDAgPSBjb3NSICsgKCgxLjAgLSBjb3NSKSAqIHcpO1xuICAgICAgICB2YXIgYTAxID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEwMiA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG5cbiAgICAgICAgdmFyIGExMCA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMTEgPSBjb3NSICsgKHcgKiAoMS4wIC0gY29zUikpO1xuICAgICAgICB2YXIgYTEyID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcblxuICAgICAgICB2YXIgYTIwID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEyMSA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMjIgPSBjb3NSICsgKHcgKiAoMS4wIC0gY29zUikpO1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBhMDAsIGEwMSwgYTAyLCAwLCAwLFxuICAgICAgICAgICAgYTEwLCBhMTEsIGExMiwgMCwgMCxcbiAgICAgICAgICAgIGEyMCwgYTIxLCBhMjIsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb250cmFzdCBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gZGFyayBhbmQgYnJpZ2h0XG4gICAgICogSW5jcmVhc2UgY29udHJhc3QgOiBzaGFkb3dzIGRhcmtlciBhbmQgaGlnaGxpZ2h0cyBicmlnaHRlclxuICAgICAqIERlY3JlYXNlIGNvbnRyYXN0IDogYnJpbmcgdGhlIHNoYWRvd3MgdXAgYW5kIHRoZSBoaWdobGlnaHRzIGRvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB2YWx1ZSBvZiB0aGUgY29udHJhc3QgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29udHJhc3QgPSBmdW5jdGlvbiBjb250cmFzdCAoYW1vdW50LCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciB2ID0gKGFtb3VudCB8fCAwKSArIDE7XG4gICAgICAgIHZhciBvID0gLTAuNSAqICh2IC0gMSk7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHYsIDAsIDAsIDAsIG8sXG4gICAgICAgICAgICAwLCB2LCAwLCAwLCBvLFxuICAgICAgICAgICAgMCwgMCwgdiwgMCwgbyxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNhdHVyYXRpb24gbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGNvbG9yc1xuICAgICAqIEluY3JlYXNlIHNhdHVyYXRpb24gOiBpbmNyZWFzZSBjb250cmFzdCwgYnJpZ2h0bmVzcywgYW5kIHNoYXJwbmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBzYXR1cmF0aW9uIGFtb3VudCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zYXR1cmF0ZSA9IGZ1bmN0aW9uIHNhdHVyYXRlIChhbW91bnQsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgaWYgKCBhbW91bnQgPT09IHZvaWQgMCApIGFtb3VudCA9IDA7XG5cbiAgICAgICAgdmFyIHggPSAoYW1vdW50ICogMiAvIDMpICsgMTtcbiAgICAgICAgdmFyIHkgPSAoKHggLSAxKSAqIC0wLjUpO1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICB4LCB5LCB5LCAwLCAwLFxuICAgICAgICAgICAgeSwgeCwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHksIHgsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzYXR1cmF0ZSBpbWFnZSAocmVtb3ZlIGNvbG9yKVxuICAgICAqXG4gICAgICogQ2FsbCB0aGUgc2F0dXJhdGUgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5kZXNhdHVyYXRlID0gZnVuY3Rpb24gZGVzYXR1cmF0ZSAoKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICB0aGlzLnNhdHVyYXRlKC0xKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTmVnYXRpdmUgaW1hZ2UgKGludmVyc2Ugb2YgY2xhc3NpYyByZ2IgbWF0cml4KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5lZ2F0aXZlID0gZnVuY3Rpb24gbmVnYXRpdmUgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIC0xLCAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgLTEsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAtMSwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXBpYSBpbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnNlcGlhID0gZnVuY3Rpb24gc2VwaWEgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMzkzLCAwLjc2ODk5OTksIDAuMTg4OTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLjM0OSwgMC42ODU5OTk5LCAwLjE2Nzk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMC4yNzIsIDAuNTMzOTk5OSwgMC4xMzA5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBtb3Rpb24gcGljdHVyZSBwcm9jZXNzIGludmVudGVkIGluIDE5MTYgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudGVjaG5pY29sb3IgPSBmdW5jdGlvbiB0ZWNobmljb2xvciAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMS45MTI1Mjc3ODkxNDU2MDgzLCAtMC44NTQ1MzQ0OTc2OTUxNjQ1LCAtMC4wOTE1NTUwODQ4Mjc1NTU4NSwgMCwgMTEuNzkzNjAzNDM0Mzc3MzM3LFxuICAgICAgICAgICAgLTAuMzA4NzgzMzM4NTkyODA5NywgMS43NjU4OTA4NTU1NDU4NDI4LCAtMC4xMDYwMTc0MzA3NDcyMjI0NSwgMCwgLTcwLjM1MjA1MTYxNDYxMzk4LFxuICAgICAgICAgICAgLTAuMjMxMTAzMzc3NTQ4NjE2LCAtMC43NTAxODk5MTk3NDQwMjEyLCAxLjg0NzU5NzgxNjEwODE4OSwgMCwgMzAuOTUwOTQwODY5NDkxMTM4LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvbGFyb2lkIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnBvbGFyb2lkID0gZnVuY3Rpb24gcG9sYXJvaWQgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuNDM4LCAtMC4wNjIsIC0wLjA2MiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjEyMiwgMS4zNzgsIC0wLjEyMiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjAxNiwgLTAuMDE2LCAxLjQ4MywgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2hvIHRyYW5zZm9ybXMgOiBSZWQgLT4gQmx1ZSBhbmQgQmx1ZSAtPiBSZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS50b0JHUiA9IGZ1bmN0aW9uIHRvQkdSIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29sb3IgcmV2ZXJzYWwgZmlsbSBpbnRyb2R1Y2VkIGJ5IEVhc3RtYW4gS29kYWsgaW4gMTkzNS4gKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUua29kYWNocm9tZSA9IGZ1bmN0aW9uIGtvZGFjaHJvbWUgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuMTI4NTU4MjM5NjU5MzUyNSwgLTAuMzk2NzM4MjI4MzYwMTM0OCwgLTAuMDM5OTI1NTkxNzI5MjE3OTMsIDAsIDYzLjcyOTU4NzYyMTk2NTAyLFxuICAgICAgICAgICAgLTAuMTY0MDQzMzk5NjIyNDQ2MTYsIDEuMDgzNTI1MTU2NjI5MTMwNCwgLTAuMDU0OTg4MDUxMTU2MzMxMzIsIDAsIDI0LjczMjQwNzg5NjcwNjIwMyxcbiAgICAgICAgICAgIC0wLjE2Nzg2MDEwNzA2MTU1NzYzLCAtMC41NjAzNDE2Mjc3Njk1MjQ4LCAxLjYwMTQ4NTA3NjE5NjQ5NDMsIDAsIDM1LjYyOTgyODA3NDYwOTQ2LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJyb3duIGRlbGljaW91cyBicm93bmkgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyb3duaSA9IGZ1bmN0aW9uIGJyb3duaSAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC41OTk3MDIzNDk4MTU5NzE1LCAwLjM0NTUzMjQzMDQ4MzkxMjYzLCAtMC4yNzA4Mjk4Njc0NTM4MDQyLCAwLCA0Ny40MzE5Mjg1NTYwMDg3MyxcbiAgICAgICAgICAgIC0wLjAzNzcwMzI0OTgzNzc4MzE1NywgMC44NjA5NTc3NTg3OTkyNjQxLCAwLjE1MDU5NTUyMzg4NDU5OTEzLCAwLCAtMzYuOTY4NDE0OTgzMTkxMjcsXG4gICAgICAgICAgICAwLjI0MTEzNjM1MTI4MTUzMzM1LCAtMC4wNzQ0MTAzNzkwODQyMjQ5MiwgMC40NDk3MjE4MjA2NDg3NzE1MywgMCwgLTcuNTYyMDc1Mjc3NTkxMjgzLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZpbnRhZ2UgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnZpbnRhZ2UgPSBmdW5jdGlvbiB2aW50YWdlIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjYyNzkzNDU2MzU2MDU5OTQsIDAuMzIwMjE4MzQyMDgxOTM2NywgLTAuMDM5NjU0MDgyMTEzMTI0NTMsIDAsIDkuNjUxMjg1ODM1Mjk0MTIzLFxuICAgICAgICAgICAgMC4wMjU3ODM5NzcwNDgwODg2OCwgMC42NDQxMTg4NjQ0Mzc0NzcxLCAwLjAzMjU5MTI3NjE2MTQ5Mjk0LCAwLCA3LjQ2MjgyOTE3NjQ3MDU5MSxcbiAgICAgICAgICAgIDAuMDQ2NjA1NTU1Njc4MjcxOSwgLTAuMDg1MTIzMjk4NzI0Nzg5MSwgMC41MjQxNjQ4MDE4NzAwNDY1LCAwLCA1LjE1OTE5MDU4ODIzNTI5NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXZSBkb24ndCBrbm93IGV4YWN0bHkgd2hhdCBpdCBkb2VzLCBraW5kIG9mIGdyYWRpZW50IG1hcCwgYnV0IGZ1bm55IHRvIHBsYXkgd2l0aCFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXNhdHVyYXRpb24gLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9uZWQgLSBUb25lIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGlnaHRDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhcmtDb2xvciAtIFRvbmUgdmFsdWVzLCBleGFtcGxlOiBgMHhGRkU1ODBgXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbG9yVG9uZSA9IGZ1bmN0aW9uIGNvbG9yVG9uZSAoZGVzYXR1cmF0aW9uLCB0b25lZCwgbGlnaHRDb2xvciwgZGFya0NvbG9yLCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGRlc2F0dXJhdGlvbiA9IGRlc2F0dXJhdGlvbiB8fCAwLjI7XG4gICAgICAgIHRvbmVkID0gdG9uZWQgfHwgMC4xNTtcbiAgICAgICAgbGlnaHRDb2xvciA9IGxpZ2h0Q29sb3IgfHwgMHhGRkU1ODA7XG4gICAgICAgIGRhcmtDb2xvciA9IGRhcmtDb2xvciB8fCAweDMzODAwMDtcblxuICAgICAgICB2YXIgbFIgPSAoKGxpZ2h0Q29sb3IgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsRyA9ICgobGlnaHRDb2xvciA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEIgPSAobGlnaHRDb2xvciAmIDB4RkYpIC8gMjU1O1xuXG4gICAgICAgIHZhciBkUiA9ICgoZGFya0NvbG9yID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZEcgPSAoKGRhcmtDb2xvciA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZEIgPSAoZGFya0NvbG9yICYgMHhGRikgLyAyNTU7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC41OSwgMC4xMSwgMCwgMCxcbiAgICAgICAgICAgIGxSLCBsRywgbEIsIGRlc2F0dXJhdGlvbiwgMCxcbiAgICAgICAgICAgIGRSLCBkRywgZEIsIHRvbmVkLCAwLFxuICAgICAgICAgICAgbFIgLSBkUiwgbEcgLSBkRywgbEIgLSBkQiwgMCwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5pZ2h0IGVmZmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVuc2l0eSAtIFRoZSBpbnRlbnNpdHkgb2YgdGhlIG5pZ2h0IGVmZmVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubmlnaHQgPSBmdW5jdGlvbiBuaWdodCAoaW50ZW5zaXR5LCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGludGVuc2l0eSA9IGludGVuc2l0eSB8fCAwLjE7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBpbnRlbnNpdHkgKiAoLTIuMCksIC1pbnRlbnNpdHksIDAsIDAsIDAsXG4gICAgICAgICAgICAtaW50ZW5zaXR5LCAwLCBpbnRlbnNpdHksIDAsIDAsXG4gICAgICAgICAgICAwLCBpbnRlbnNpdHksIGludGVuc2l0eSAqIDIuMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVkYXRvciBlZmZlY3RcbiAgICAgKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIGEgbmV3IGluZGVwZW50IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIGhvdyBtdWNoIHRoZSBwcmVkYXRvciBmZWVscyBoaXMgZnV0dXJlIHZpY3RpbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wcmVkYXRvciA9IGZ1bmN0aW9uIHByZWRhdG9yIChhbW91bnQsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIC8vIHJvdyAxXG4gICAgICAgICAgICAxMS4yMjQxMzA2MzA0OTMxNjQgKiBhbW91bnQsXG4gICAgICAgICAgICAtNC43OTQ0ODY5OTk1MTE3MTkgKiBhbW91bnQsXG4gICAgICAgICAgICAtMi44NzQ2MTE4NTQ1NTMyMjI3ICogYW1vdW50LFxuICAgICAgICAgICAgMCAqIGFtb3VudCxcbiAgICAgICAgICAgIDAuNDAzNDI0MzgyMjA5Nzc3ODMgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgMlxuICAgICAgICAgICAgLTMuNjMzMDY5NzUzNjQ2ODUwNiAqIGFtb3VudCxcbiAgICAgICAgICAgIDkuMTkzMTU3MTk2MDQ0OTIyICogYW1vdW50LFxuICAgICAgICAgICAgLTIuOTUxODEwODM2NzkxOTkyICogYW1vdW50LFxuICAgICAgICAgICAgMCAqIGFtb3VudCxcbiAgICAgICAgICAgIC0xLjMxNjEzNTA0ODg2NjI3MiAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyAzXG4gICAgICAgICAgICAtMy4yMTg0MTk3OTAyNjc5NDQzICogYW1vdW50LFxuICAgICAgICAgICAgLTQuMjM3NTAzMDUxNzU3ODEyNSAqIGFtb3VudCxcbiAgICAgICAgICAgIDcuNDc2NDQ4MDU5MDgyMDMxICogYW1vdW50LFxuICAgICAgICAgICAgMCAqIGFtb3VudCxcbiAgICAgICAgICAgIDAuODA0NDQ1OTIyMzc0NzI1MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyA0XG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTFNEIGVmZmVjdFxuICAgICAqXG4gICAgICogTXVsdGlwbHkgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubHNkID0gZnVuY3Rpb24gbHNkIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAyLCAtMC40LCAwLjUsIDAsIDAsXG4gICAgICAgICAgICAtMC41LCAyLCAtMC40LCAwLCAwLFxuICAgICAgICAgICAgLTAuNCwgLTAuNSwgMywgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFcmFzZSB0aGUgY3VycmVudCBtYXRyaXggYnkgc2V0dGluZyB0aGUgZGVmYXVsdCBvbmVcbiAgICAgKlxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBmYWxzZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXRyaXggb2YgdGhlIGNvbG9yIG1hdHJpeCBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqIEBkZWZhdWx0IFsxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxLCAwXVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXRyaXguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm07XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXRyaXguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3BhY2l0eSB2YWx1ZSB0byB1c2Ugd2hlbiBtaXhpbmcgdGhlIG9yaWdpbmFsIGFuZCByZXN1bHRhbnQgY29sb3JzLlxuICAgICAqXG4gICAgICogV2hlbiB0aGUgdmFsdWUgaXMgMCwgdGhlIG9yaWdpbmFsIGNvbG9yIGlzIHVzZWQgd2l0aG91dCBtb2RpZmljYXRpb24uXG4gICAgICogV2hlbiB0aGUgdmFsdWUgaXMgMSwgdGhlIHJlc3VsdCBjb2xvciBpcyB1c2VkLlxuICAgICAqIFdoZW4gaW4gdGhlIHJhbmdlICgwLCAxKSB0aGUgY29sb3IgaXMgaW50ZXJwb2xhdGVkIGJldHdlZW4gdGhlIG9yaWdpbmFsIGFuZCByZXN1bHQgYnkgdGhpcyBhbW91bnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbHBoYS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYWxwaGEuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMudUFscGhhID0gdmFsdWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIENvbG9yTWF0cml4RmlsdGVyO1xufShGaWx0ZXIpKTtcblxuLy8gQW1lcmljYW5pemVkIGFsaWFzXG5Db2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JheXNjYWxlID0gQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyZXlzY2FsZTtcblxuZXhwb3J0IHsgQ29sb3JNYXRyaXhGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1jb2xvci1tYXRyaXguZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4LCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIGZpbHRlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbntcXG4gICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG5cXHRnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFx0dlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcblxcdHZGaWx0ZXJDb29yZCA9ICggZmlsdGVyTWF0cml4ICogdmVjMyggdlRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzIgc2NhbGU7XFxudW5pZm9ybSBtYXQyIHJvdGF0aW9uO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hcFNhbXBsZXI7XFxuXFxudW5pZm9ybSBoaWdocCB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgaW5wdXRDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICB2ZWM0IG1hcCA9ICB0ZXh0dXJlMkQobWFwU2FtcGxlciwgdkZpbHRlckNvb3JkKTtcXG5cXG4gIG1hcCAtPSAwLjU7XFxuICBtYXAueHkgPSBzY2FsZSAqIGlucHV0U2l6ZS56dyAqIChyb3RhdGlvbiAqIG1hcC54eSk7XFxuXFxuICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNsYW1wKHZlYzIodlRleHR1cmVDb29yZC54ICsgbWFwLngsIHZUZXh0dXJlQ29vcmQueSArIG1hcC55KSwgaW5wdXRDbGFtcC54eSwgaW5wdXRDbGFtcC56dykpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBUaGUgRGlzcGxhY2VtZW50RmlsdGVyIGNsYXNzIHVzZXMgdGhlIHBpeGVsIHZhbHVlcyBmcm9tIHRoZSBzcGVjaWZpZWQgdGV4dHVyZVxuICogKGNhbGxlZCB0aGUgZGlzcGxhY2VtZW50IG1hcCkgdG8gcGVyZm9ybSBhIGRpc3BsYWNlbWVudCBvZiBhbiBvYmplY3QuXG4gKlxuICogWW91IGNhbiB1c2UgdGhpcyBmaWx0ZXIgdG8gYXBwbHkgYWxsIG1hbm9yIG9mIGNyYXp5IHdhcnBpbmcgZWZmZWN0cy5cbiAqIEN1cnJlbnRseSB0aGUgYHJgIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSBgeGBcbiAqIGFuZCB0aGUgYGdgIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSBgeWAuXG4gKlxuICogVGhlIHdheSBpdCB3b3JrcyBpcyBpdCB1c2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGRpc3BsYWNlbWVudCBtYXAgdG8gbG9vayB1cCB0aGVcbiAqIGNvcnJlY3QgcGl4ZWxzIHRvIG91dHB1dC4gVGhpcyBtZWFucyBpdCdzIG5vdCB0ZWNobmljYWxseSBtb3ZpbmcgdGhlIG9yaWdpbmFsLlxuICogSW5zdGVhZCwgaXQncyBzdGFydGluZyBhdCB0aGUgb3V0cHV0IGFuZCBhc2tpbmcgXCJ3aGljaCBwaXhlbCBmcm9tIHRoZSBvcmlnaW5hbCBnb2VzIGhlcmVcIi5cbiAqIEZvciBleGFtcGxlLCBpZiBhIGRpc3BsYWNlbWVudCBtYXAgcGl4ZWwgaGFzIGByZWQgPSAxYCBhbmQgdGhlIGZpbHRlciBzY2FsZSBpcyBgMjBgLFxuICogdGhpcyBmaWx0ZXIgd2lsbCBvdXRwdXQgdGhlIHBpeGVsIGFwcHJveGltYXRlbHkgMjAgcGl4ZWxzIHRvIHRoZSByaWdodCBvZiB0aGUgb3JpZ2luYWwuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgRGlzcGxhY2VtZW50RmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gRGlzcGxhY2VtZW50RmlsdGVyKHNwcml0ZSwgc2NhbGUpXG4gICAge1xuICAgICAgICB2YXIgbWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIEZpbHRlci5jYWxsKHRoaXMsIHZlcnRleCwgZnJhZ21lbnQsIHtcbiAgICAgICAgICAgIG1hcFNhbXBsZXI6IHNwcml0ZS5fdGV4dHVyZSxcbiAgICAgICAgICAgIGZpbHRlck1hdHJpeDogbWFza01hdHJpeCxcbiAgICAgICAgICAgIHNjYWxlOiB7IHg6IDEsIHk6IDEgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAxXSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcblxuICAgICAgICBpZiAoc2NhbGUgPT09IG51bGwgfHwgc2NhbGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgc2NhbGUgPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzY2FsZVgsIHNjYWxlWSBmb3IgZGlzcGxhY2VtZW50c1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZSA9IG5ldyBQb2ludChzY2FsZSwgc2NhbGUpO1xuICAgIH1cblxuICAgIGlmICggRmlsdGVyICkgRGlzcGxhY2VtZW50RmlsdGVyLl9fcHJvdG9fXyA9IEZpbHRlcjtcbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsdGVyICYmIEZpbHRlci5wcm90b3R5cGUgKTtcbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRGlzcGxhY2VtZW50RmlsdGVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgbWFwOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0LlxuICAgICAqL1xuICAgIERpc3BsYWNlbWVudEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseSAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpXG4gICAge1xuICAgICAgICAvLyBmaWxsIG1hc2tNYXRyaXggd2l0aCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfXG4gICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueSA9IHRoaXMuc2NhbGUueTtcblxuICAgICAgICAvLyBFeHRyYWN0IHJvdGF0aW9uIGZyb20gd29ybGQgdHJhbnNmb3JtXG4gICAgICAgIHZhciB3dCA9IHRoaXMubWFza1Nwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBsZW5YID0gTWF0aC5zcXJ0KCh3dC5hICogd3QuYSkgKyAod3QuYiAqIHd0LmIpKTtcbiAgICAgICAgdmFyIGxlblkgPSBNYXRoLnNxcnQoKHd0LmMgKiB3dC5jKSArICh3dC5kICogd3QuZCkpO1xuXG4gICAgICAgIGlmIChsZW5YICE9PSAwICYmIGxlblkgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMF0gPSB3dC5hIC8gbGVuWDtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMV0gPSB3dC5iIC8gbGVuWDtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMl0gPSB3dC5jIC8gbGVuWTtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bM10gPSB3dC5kIC8gbGVuWTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRyYXcgdGhlIGZpbHRlci4uLlxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdXNlZCBmb3IgdGhlIGRpc3BsYWNlbWVudCBtYXAuIE11c3QgYmUgcG93ZXIgb2YgMiBzaXplZCB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXAuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXI7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXAuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlciA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gRGlzcGxhY2VtZW50RmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgRGlzcGxhY2VtZW50RmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItZGlzcGxhY2VtZW50LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItZnhhYSAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItZnhhYSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG52YXIgdmVydGV4ID0gXCJcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdkZyYWdDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRQaXhlbDtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52b2lkIHRleGNvb3Jkcyh2ZWMyIGZyYWdDb29yZCwgdmVjMiBpbnZlcnNlVlAsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JOVywgb3V0IHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYlNXLCBvdXQgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTSkge1xcbiAgICB2X3JnYk5XID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk5FID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU1cgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTRSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTSA9IHZlYzIoZnJhZ0Nvb3JkICogaW52ZXJzZVZQKTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXG4gICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFxuICAgdkZyYWdDb29yZCA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG91dHB1dEZyYW1lLnp3O1xcblxcbiAgIHRleGNvb3Jkcyh2RnJhZ0Nvb3JkLCBpbnB1dFBpeGVsLnp3LCB2X3JnYk5XLCB2X3JnYk5FLCB2X3JnYlNXLCB2X3JnYlNFLCB2X3JnYk0pO1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnZhcnlpbmcgdmVjMiB2RnJhZ0Nvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gaGlnaHAgdmVjNCBpbnB1dFBpeGVsO1xcblxcblxcbi8qKlxcbiBCYXNpYyBGWEFBIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tIHdpdGggdGhlXFxuIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXQnc1xcbiB1bnN1cHBvcnRlZCBieSBXZWJHTC5cXG5cXG4gLS1cXG5cXG4gRnJvbTpcXG4gaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcXG5cXG4gQ29weXJpZ2h0IChjKSAyMDExIGJ5IEFybWluIFJvbmFjaGVyLlxcblxcbiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cXG5cXG4gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XFxuIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcXG4gbWV0OlxcblxcbiAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XFxuIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cXG5cXG4gKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXFxuIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nXFxuIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxcbiB3aXRoIHRoZSBkaXN0cmlidXRpb24uXFxuXFxuICogVGhlIG5hbWVzIG9mIHRoZSBjb250cmlidXRvcnMgbWF5IG5vdCBiZSB1c2VkIHRvIGVuZG9yc2Ugb3JcXG4gcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljXFxuIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cXG5cXG4gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xcbiBcXFwiQVMgSVNcXFwiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcXG4gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcXG4gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXFxuIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXFxuIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxcbiBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXFxuIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxcbiBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxcbiAqL1xcblxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTUlOXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NSU4gICAoMS4wLyAxMjguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01VTFxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTVVMICAgKDEuMCAvIDguMClcXG4jZW5kaWZcXG4jaWZuZGVmIEZYQUFfU1BBTl9NQVhcXG4jZGVmaW5lIEZYQUFfU1BBTl9NQVggICAgIDguMFxcbiNlbmRpZlxcblxcbi8vb3B0aW1pemVkIHZlcnNpb24gZm9yIG1vYmlsZSwgd2hlcmUgZGVwZW5kZW50XFxuLy90ZXh0dXJlIHJlYWRzIGNhbiBiZSBhIGJvdHRsZW5lY2tcXG52ZWM0IGZ4YWEoc2FtcGxlcjJEIHRleCwgdmVjMiBmcmFnQ29vcmQsIHZlYzIgaW52ZXJzZVZQLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTlcsIHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgdmVjMiB2X3JnYlNXLCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgIHZlYzMgcmdiTlcgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5XKS54eXo7XFxuICAgIHZlYzMgcmdiTkUgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk5FKS54eXo7XFxuICAgIHZlYzMgcmdiU1cgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNXKS54eXo7XFxuICAgIHZlYzMgcmdiU0UgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYlNFKS54eXo7XFxuICAgIHZlYzQgdGV4Q29sb3IgPSB0ZXh0dXJlMkQodGV4LCB2X3JnYk0pO1xcbiAgICB2ZWMzIHJnYk0gID0gdGV4Q29sb3IueHl6O1xcbiAgICB2ZWMzIGx1bWEgPSB2ZWMzKDAuMjk5LCAwLjU4NywgMC4xMTQpO1xcbiAgICBmbG9hdCBsdW1hTlcgPSBkb3QocmdiTlcsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTkUgPSBkb3QocmdiTkUsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU1cgPSBkb3QocmdiU1csIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hU0UgPSBkb3QocmdiU0UsIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTSAgPSBkb3QocmdiTSwgIGx1bWEpO1xcbiAgICBmbG9hdCBsdW1hTWluID0gbWluKGx1bWFNLCBtaW4obWluKGx1bWFOVywgbHVtYU5FKSwgbWluKGx1bWFTVywgbHVtYVNFKSkpO1xcbiAgICBmbG9hdCBsdW1hTWF4ID0gbWF4KGx1bWFNLCBtYXgobWF4KGx1bWFOVywgbHVtYU5FKSwgbWF4KGx1bWFTVywgbHVtYVNFKSkpO1xcblxcbiAgICBtZWRpdW1wIHZlYzIgZGlyO1xcbiAgICBkaXIueCA9IC0oKGx1bWFOVyArIGx1bWFORSkgLSAobHVtYVNXICsgbHVtYVNFKSk7XFxuICAgIGRpci55ID0gICgobHVtYU5XICsgbHVtYVNXKSAtIChsdW1hTkUgKyBsdW1hU0UpKTtcXG5cXG4gICAgZmxvYXQgZGlyUmVkdWNlID0gbWF4KChsdW1hTlcgKyBsdW1hTkUgKyBsdW1hU1cgKyBsdW1hU0UpICpcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICgwLjI1ICogRlhBQV9SRURVQ0VfTVVMKSwgRlhBQV9SRURVQ0VfTUlOKTtcXG5cXG4gICAgZmxvYXQgcmNwRGlyTWluID0gMS4wIC8gKG1pbihhYnMoZGlyLngpLCBhYnMoZGlyLnkpKSArIGRpclJlZHVjZSk7XFxuICAgIGRpciA9IG1pbih2ZWMyKEZYQUFfU1BBTl9NQVgsIEZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgbWF4KHZlYzIoLUZYQUFfU1BBTl9NQVgsIC1GWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgICAgICBkaXIgKiByY3BEaXJNaW4pKSAqIGludmVyc2VWUDtcXG5cXG4gICAgdmVjMyByZ2JBID0gMC41ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDEuMCAvIDMuMCAtIDAuNSkpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMi4wIC8gMy4wIC0gMC41KSkueHl6KTtcXG4gICAgdmVjMyByZ2JCID0gcmdiQSAqIDAuNSArIDAuMjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIC0wLjUpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIDAuNSkueHl6KTtcXG5cXG4gICAgZmxvYXQgbHVtYUIgPSBkb3QocmdiQiwgbHVtYSk7XFxuICAgIGlmICgobHVtYUIgPCBsdW1hTWluKSB8fCAobHVtYUIgPiBsdW1hTWF4KSlcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JBLCB0ZXhDb2xvci5hKTtcXG4gICAgZWxzZVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkIsIHRleENvbG9yLmEpO1xcbiAgICByZXR1cm4gY29sb3I7XFxufVxcblxcbnZvaWQgbWFpbigpIHtcXG5cXG4gICAgICB2ZWM0IGNvbG9yO1xcblxcbiAgICAgIGNvbG9yID0gZnhhYSh1U2FtcGxlciwgdkZyYWdDb29yZCwgaW5wdXRQaXhlbC56dywgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG5cXG4gICAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQmFzaWMgRlhBQSAoRmFzdCBBcHByb3hpbWF0ZSBBbnRpLUFsaWFzaW5nKSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbVxuICogd2l0aCB0aGUgbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdCBpcyB1bnN1cHBvcnRlZCBieSBXZWJHTC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICpcbiAqL1xudmFyIEZYQUFGaWx0ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChGaWx0ZXIpIHtcbiAgICBmdW5jdGlvbiBGWEFBRmlsdGVyKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gLSBuZWVkcyB3b3JrXG4gICAgICAgIEZpbHRlci5jYWxsKHRoaXMsIHZlcnRleCwgZnJhZ21lbnQpO1xuICAgIH1cblxuICAgIGlmICggRmlsdGVyICkgRlhBQUZpbHRlci5fX3Byb3RvX18gPSBGaWx0ZXI7XG4gICAgRlhBQUZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIgJiYgRmlsdGVyLnByb3RvdHlwZSApO1xuICAgIEZYQUFGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRlhBQUZpbHRlcjtcblxuICAgIHJldHVybiBGWEFBRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgRlhBQUZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWZ4YWEuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1ub2lzZSAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItbm9pc2UgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXggfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIGZyYWdtZW50ID0gXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIGZsb2F0IHVOb2lzZTtcXG51bmlmb3JtIGZsb2F0IHVTZWVkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbmZsb2F0IHJhbmQodmVjMiBjbylcXG57XFxuICAgIHJldHVybiBmcmFjdChzaW4oZG90KGNvLnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpO1xcbn1cXG5cXG52b2lkIG1haW4oKVxcbntcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGZsb2F0IHJhbmRvbVZhbHVlID0gcmFuZChnbF9GcmFnQ29vcmQueHkgKiB1U2VlZCk7XFxuICAgIGZsb2F0IGRpZmYgPSAocmFuZG9tVmFsdWUgLSAwLjUpICogdU5vaXNlO1xcblxcbiAgICAvLyBVbi1wcmVtdWx0aXBseSBhbHBoYSBiZWZvcmUgYXBwbHlpbmcgdGhlIGNvbG9yIG1hdHJpeC4gU2VlIGlzc3VlICMzNTM5LlxcbiAgICBpZiAoY29sb3IuYSA+IDAuMCkge1xcbiAgICAgICAgY29sb3IucmdiIC89IGNvbG9yLmE7XFxuICAgIH1cXG5cXG4gICAgY29sb3IuciArPSBkaWZmO1xcbiAgICBjb2xvci5nICs9IGRpZmY7XFxuICAgIGNvbG9yLmIgKz0gZGlmZjtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIGNvbG9yLnJnYiAqPSBjb2xvci5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogQGF1dGhvciBWaWNvIEB2aWNvY290ZWFcbiAqIG9yaWdpbmFsIGZpbHRlcjogaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi9tYXN0ZXIvc3JjL2ZpbHRlcnMvYWRqdXN0L25vaXNlLmpzXG4gKi9cblxuLyoqXG4gKiBBIE5vaXNlIGVmZmVjdCBmaWx0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgTm9pc2VGaWx0ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChGaWx0ZXIpIHtcbiAgICBmdW5jdGlvbiBOb2lzZUZpbHRlcihub2lzZSwgc2VlZClcbiAgICB7XG4gICAgICAgIGlmICggbm9pc2UgPT09IHZvaWQgMCApIG5vaXNlID0gMC41O1xuICAgICAgICBpZiAoIHNlZWQgPT09IHZvaWQgMCApIHNlZWQgPSBNYXRoLnJhbmRvbSgpO1xuXG4gICAgICAgIEZpbHRlci5jYWxsKHRoaXMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICB1Tm9pc2U6IDAsXG4gICAgICAgICAgICB1U2VlZDogMCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5ub2lzZSA9IG5vaXNlO1xuICAgICAgICB0aGlzLnNlZWQgPSBzZWVkO1xuICAgIH1cblxuICAgIGlmICggRmlsdGVyICkgTm9pc2VGaWx0ZXIuX19wcm90b19fID0gRmlsdGVyO1xuICAgIE5vaXNlRmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEZpbHRlciAmJiBGaWx0ZXIucHJvdG90eXBlICk7XG4gICAgTm9pc2VGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTm9pc2VGaWx0ZXI7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBub2lzZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxzZWVkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIG5vaXNlIHRvIGFwcGx5LCB0aGlzIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgKDAsIDFdLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ub2lzZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudU5vaXNlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubm9pc2Uuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMudU5vaXNlID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgc2VlZCB2YWx1ZSB0byBhcHBseSB0byB0aGUgcmFuZG9tIG5vaXNlIGdlbmVyYXRpb24uIGBNYXRoLnJhbmRvbSgpYCBpcyBhIGdvb2QgdmFsdWUgdG8gdXNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zZWVkLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2VlZDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnNlZWQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMudVNlZWQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE5vaXNlRmlsdGVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gTm9pc2VGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBOb2lzZUZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLW5vaXNlLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSwgQmFzZVRleHR1cmUsIFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHVpZCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG52YXIgX3RlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwID0gZmFsc2U7XG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVEYXRhID0gZmFsc2U7XG5cbi8vIGZpZ3VyZWQgdGhlcmVzIG5vIHBvaW50IGFkZGluZyBBTEwgdGhlIGV4dHJhIHZhcmlhYmxlcyB0byBwcm90b3R5cGUuXG4vLyB0aGlzIG1vZGVsIGNhbiBob2xkIHRoZSBpbmZvcm1hdGlvbiBuZWVkZWQuIFRoaXMgY2FuIGFsc28gYmUgZ2VuZXJhdGVkIG9uIGRlbWFuZCBhc1xuLy8gbW9zdCBvYmplY3RzIGFyZSBub3QgY2FjaGVkIGFzIGJpdG1hcHMuXG4vKipcbiAqIEBjbGFzc1xuICogQGlnbm9yZVxuICovXG52YXIgQ2FjaGVEYXRhID0gZnVuY3Rpb24gQ2FjaGVEYXRhKClcbntcbiAgICB0aGlzLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcblxuICAgIHRoaXMub3JpZ2luYWxSZW5kZXIgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxSZW5kZXJDYW52YXMgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IG51bGw7XG5cbiAgICB0aGlzLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsSGl0VGVzdCA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbERlc3Ryb3kgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxNYXNrID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsRmlsdGVyQXJlYSA9IG51bGw7XG4gICAgdGhpcy5zcHJpdGUgPSBudWxsO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIHtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIHlvdSB3YW50IHRoaXMgZGlzcGxheSBvYmplY3QgdG8gYmUgY2FjaGVkIGFzIGEgYml0bWFwLlxuICAgICAqIFRoaXMgYmFzaWNhbGx5IHRha2VzIGEgc25hcCBzaG90IG9mIHRoZSBkaXNwbGF5IG9iamVjdCBhcyBpdCBpcyBhdCB0aGF0IG1vbWVudC4gSXQgY2FuXG4gICAgICogcHJvdmlkZSBhIHBlcmZvcm1hbmNlIGJlbmVmaXQgZm9yIGNvbXBsZXggc3RhdGljIGRpc3BsYXlPYmplY3RzLlxuICAgICAqIFRvIHJlbW92ZSBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gYGZhbHNlYFxuICAgICAqXG4gICAgICogSU1QT1JUQU5UIEdPVENIQSAtIE1ha2Ugc3VyZSB0aGF0IGFsbCB5b3VyIHRleHR1cmVzIGFyZSBwcmVsb2FkZWQgQkVGT1JFIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byB0cnVlXG4gICAgICogYXMgaXQgd2lsbCB0YWtlIGEgc25hcHNob3Qgb2Ygd2hhdCBpcyBjdXJyZW50bHkgdGhlcmUuIElmIHRoZSB0ZXh0dXJlcyBoYXZlIG5vdCBsb2FkZWQgdGhlbiB0aGV5IHdpbGwgbm90IGFwcGVhci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjYWNoZUFzQml0bWFwOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVBc0JpdG1hcCA9PT0gdmFsdWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jYWNoZUFzQml0bWFwID0gdmFsdWU7XG5cbiAgICAgICAgICAgIHZhciBkYXRhO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYWNoZURhdGEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZURhdGEgPSBuZXcgQ2FjaGVEYXRhKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXIgPSB0aGlzLnJlbmRlcjtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gdGhpcy5yZW5kZXJDYW52YXM7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtID0gdGhpcy51cGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuY2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHM7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRGVzdHJveSA9IHRoaXMuZGVzdHJveTtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50ID0gdGhpcy5jb250YWluc1BvaW50O1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbE1hc2sgPSB0aGlzLl9tYXNrO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhID0gdGhpcy5maWx0ZXJBcmVhO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSB0aGlzLl9jYWNoZUFzQml0bWFwRGVzdHJveTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3ByaXRlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlciA9IGRhdGEub3JpZ2luYWxSZW5kZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmdldExvY2FsQm91bmRzID0gZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gZGF0YS5vcmlnaW5hbERlc3Ryb3k7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluc1BvaW50ID0gZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrID0gZGF0YS5vcmlnaW5hbE1hc2s7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gZGF0YS5vcmlnaW5hbEZpbHRlckFyZWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuXG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggV2ViR0xcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWQgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkKHJlbmRlcmVyKVxue1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS50cmFuc2Zvcm0uX3dvcmxkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyKHJlbmRlcmVyKTtcbn07XG5cbi8qKlxuICogUHJlcGFyZXMgdGhlIFdlYkdMIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKVxue1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBtYWtlIHN1cmUgYWxwaGEgaXMgc2V0IHRvIDEgb3RoZXJ3aXNlIGl0IHdpbGwgZ2V0IHJlbmRlcmVkIGFzIGludmlzaWJsZSFcbiAgICB2YXIgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG5cbiAgICB0aGlzLmFscGhhID0gMTtcblxuICAgIC8vIGZpcnN0IHdlIGZsdXNoIGFueXRoaW5nIGxlZnQgaW4gdGhlIHJlbmRlcmVyIChvdGhlcndpc2UgaXQgd291bGQgZ2V0IHJlbmRlcmVkIHRvIHRoZSBjYWNoZWQgdGV4dHVyZSlcbiAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgIC8vIHRoaXMuZmlsdGVycz0gW107XG5cbiAgICAvLyBuZXh0IHdlIGZpbmQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHVudHJhbnNmb3JtZWQgb2JqZWN0XG4gICAgLy8gdGhpcyBmdW5jdGlvbiBhbHNvIGNhbGxzIHVwZGF0ZXRyYW5zZm9ybSBvbiBhbGwgaXRzIGNoaWxkcmVuIGFzIHBhcnQgb2YgdGhlIG1lYXN1cmluZy5cbiAgICAvLyBUaGlzIG1lYW5zIHdlIGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZSB0cmFuc2Zvcm0gYWdhaW4gaW4gdGhpcyBmdW5jdGlvblxuICAgIC8vIFRPRE8gcGFzcyBhbiBvYmplY3QgdG8gY2xvbmUgdG9vPyBzYXZlcyBoYXZpbmcgdG8gY3JlYXRlIGEgbmV3IG9uZSBlYWNoIHRpbWUhXG4gICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5jbG9uZSgpO1xuXG4gICAgLy8gYWRkIHNvbWUgcGFkZGluZyFcbiAgICBpZiAodGhpcy5maWx0ZXJzKVxuICAgIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLmZpbHRlcnNbMF0ucGFkZGluZztcblxuICAgICAgICBib3VuZHMucGFkKHBhZGRpbmcpO1xuICAgIH1cblxuICAgIGJvdW5kcy5jZWlsKHNldHRpbmdzLlJFU09MVVRJT04pO1xuXG4gICAgLy8gZm9yIG5vdyB3ZSBjYWNoZSB0aGUgY3VycmVudCByZW5kZXJUYXJnZXQgdGhhdCB0aGUgV2ViR0wgcmVuZGVyZXIgaXMgY3VycmVudGx5IHVzaW5nLlxuICAgIC8vIHRoaXMgY291bGQgYmUgbW9yZSBlbGVnYW50Li5cbiAgICB2YXIgY2FjaGVkUmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudDtcbiAgICB2YXIgY2FjaGVkU291cmNlRnJhbWUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lO1xuICAgIHZhciBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtID0gcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm07XG5cbiAgICAvLyBXZSBhbHNvIHN0b3JlIHRoZSBmaWx0ZXIgc3RhY2sgLSBJIHdpbGwgZGVmaW5pdGVseSBsb29rIHRvIGNoYW5nZSBob3cgdGhpcyB3b3JrcyBhIGxpdHRsZSBsYXRlciBkb3duIHRoZSBsaW5lLlxuICAgIC8vIGNvbnN0IHN0YWNrID0gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjaztcblxuICAgIC8vIHRoaXMgcmVuZGVyVGV4dHVyZSB3aWxsIGJlIHVzZWQgdG8gc3RvcmUgdGhlIGNhY2hlZCBEaXNwbGF5T2JqZWN0XG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZShib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpO1xuXG4gICAgdmFyIHRleHR1cmVDYWNoZUlkID0gXCJjYWNoZUFzQml0bWFwX1wiICsgKHVpZCgpKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuXG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcblxuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgdmFyIG0gPSBfdGVtcE1hdHJpeDtcblxuICAgIG0udHggPSAtYm91bmRzLng7XG4gICAgbS50eSA9IC1ib3VuZHMueTtcblxuICAgIC8vIHJlc2V0XG4gICAgdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uaWRlbnRpdHkoKTtcblxuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyO1xuXG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMsIHJlbmRlclRleHR1cmUsIHRydWUsIG0sIHRydWUpO1xuXG4gICAgLy8gbm93IHJlc3RvcmUgdGhlIHN0YXRlIGJlIHNldHRpbmcgdGhlIG5ldyBwcm9wZXJ0aWVzXG4gICAgcmVuZGVyZXIucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBjYWNoZWRQcm9qZWN0aW9uVHJhbnNmb3JtO1xuICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChjYWNoZWRSZW5kZXJUZXh0dXJlLCBjYWNoZWRTb3VyY2VGcmFtZSk7XG5cbiAgICAvLyByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrID0gc3RhY2s7XG5cbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX3JlbmRlckNhY2hlZDtcbiAgICAvLyB0aGUgcmVzdCBpcyB0aGUgc2FtZSBhcyBmb3IgQ2FudmFzXG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG4gICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG4gICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IHRoaXMuX2dldENhY2hlZExvY2FsQm91bmRzO1xuXG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuXG4gICAgY2FjaGVkU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgICBjYWNoZWRTcHJpdGUuYWxwaGEgPSBjYWNoZUFscGhhO1xuICAgIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcblxuICAgIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIC8vIHJlc3RvcmUgdGhlIHRyYW5zZm9ybSBvZiB0aGUgY2FjaGVkIHNwcml0ZSB0byBhdm9pZCB0aGUgbmFzdHkgZmxpY2tlci4uXG4gICAgaWYgKCF0aGlzLnBhcmVudClcbiAgICB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcmVuZGVyZXIuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuXG4gICAgLy8gbWFwIHRoZSBoaXQgdGVzdC4uXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcblxuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIGNhbnZhc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX3JlbmRlckNhY2hlZENhbnZhc1xuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZENhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXMocmVuZGVyZXIpXG57XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcik7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fcmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbn07XG5cbi8vIFRPRE8gdGhpcyBjYW4gYmUgdGhlIHNhbWUgYXMgdGhlIFdlYkdMIHZlcnNpb24uLiB3aWxsIG5lZWQgdG8gZG8gYSBsaXR0bGUgdHdlYWtpbmcgZmlyc3QgdGhvdWdoLi5cbi8qKlxuICogUHJlcGFyZXMgdGhlIENhbnZhcyByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXNcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcilcbntcbiAgICBpZiAodGhpcy5fY2FjaGVEYXRhICYmIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZ2V0IGJvdW5kcyBhY3R1YWxseSB0cmFuc2Zvcm1zIHRoZSBvYmplY3QgZm9yIHVzIGFscmVhZHkhXG4gICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKTtcblxuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcblxuICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgdmFyIGNhY2hlZFJlbmRlclRhcmdldCA9IHJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICBib3VuZHMuY2VpbChzZXR0aW5ncy5SRVNPTFVUSU9OKTtcblxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KTtcblxuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9IFwiY2FjaGVBc0JpdG1hcF9cIiArICh1aWQoKSk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcblxuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gX3RlbXBNYXRyaXg7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5VG8obSk7XG4gICAgbS5pbnZlcnQoKTtcblxuICAgIG0udHggLT0gYm91bmRzLng7XG4gICAgbS50eSAtPSBib3VuZHMueTtcblxuICAgIC8vIG0uYXBwZW5kKHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLilcbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcblxuICAgIC8vIHJlbmRlclRleHR1cmUucmVuZGVyKHRoaXMsIG0sIHRydWUpO1xuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCBmYWxzZSk7XG5cbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5jb250ZXh0ID0gY2FjaGVkUmVuZGVyVGFyZ2V0O1xuXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG4gICAgLy8gdGhlIHJlc3QgaXMgdGhlIHNhbWUgYXMgZm9yIFdlYkdMXG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG4gICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHM7XG4gICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IHRoaXMuX2dldENhY2hlZExvY2FsQm91bmRzO1xuXG4gICAgdGhpcy5fbWFzayA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgIC8vIGNyZWF0ZSBvdXIgY2FjaGVkIHNwcml0ZVxuICAgIHZhciBjYWNoZWRTcHJpdGUgPSBuZXcgU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuXG4gICAgY2FjaGVkU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgICBjYWNoZWRTcHJpdGUuYWxwaGEgPSBjYWNoZUFscGhhO1xuICAgIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcblxuICAgIHRoaXMudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgIC8vIHJlc3RvcmUgdGhlIHRyYW5zZm9ybSBvZiB0aGUgY2FjaGVkIHNwcml0ZSB0byBhdm9pZCB0aGUgbmFzdHkgZmxpY2tlci4uXG4gICAgaWYgKCF0aGlzLnBhcmVudClcbiAgICB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcmVuZGVyZXIuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuXG4gICAgLy8gbWFwIHRoZSBoaXQgdGVzdC4uXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcygpXG57XG4gICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS50cmFuc2Zvcm0uX3dvcmxkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICB0aGlzLl9sYXN0Qm91bmRzSUQgPSB0aGlzLl9ib3VuZHNJRDtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtSZWN0YW5nbGV9IFRoZSBsb2NhbCBib3VuZHMuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9nZXRDYWNoZWRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIF9nZXRDYWNoZWRMb2NhbEJvdW5kcygpXG57XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuZ2V0TG9jYWxCb3VuZHMoKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0ID0gZnVuY3Rpb24gX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KClcbntcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl90ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IG51bGw7XG5cbiAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGNhY2hlZCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWUuXG4gKiAgVXNlZCB3aGVuIGRlc3Ryb3lpbmcgY29udGFpbmVycywgc2VlIHRoZSBDb250YWluZXIuZGVzdHJveSBtZXRob2QuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwRGVzdHJveSA9IGZ1bmN0aW9uIF9jYWNoZUFzQml0bWFwRGVzdHJveShvcHRpb25zKVxue1xuICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuICAgIHRoaXMuZGVzdHJveShvcHRpb25zKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi1jYWNoZS1hcy1iaXRtYXAuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCwgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8qKlxuICogVGhlIGluc3RhbmNlIG5hbWUgb2YgdGhlIG9iamVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQG1lbWJlciB7c3RyaW5nfSBuYW1lXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLm5hbWUgPSBudWxsO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRpc3BsYXkgb2JqZWN0IGluIHRoZSBjb250YWluZXIuXG4gKlxuICogQG1ldGhvZCBnZXRDaGlsZEJ5TmFtZVxuICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBJbnN0YW5jZSBuYW1lLlxuICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKi9cbkNvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRCeU5hbWUgPSBmdW5jdGlvbiBnZXRDaGlsZEJ5TmFtZShuYW1lKVxue1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldLm5hbWUgPT09IG5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24gLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbiBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LiBEb2VzIG5vdCBkZXBlbmQgb24gb2JqZWN0IHNjYWxlLCByb3RhdGlvbiBhbmQgcGl2b3QuXG4gKlxuICogQG1ldGhvZCBnZXRHbG9iYWxQb3NpdGlvblxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50PW5ldyBQSVhJLlBvaW50KCldIC0gVGhlIHBvaW50IHRvIHdyaXRlIHRoZSBnbG9iYWwgdmFsdWUgdG8uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNldHRpbmcgdG8gdHJ1ZSB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3QuXG4gKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgdXBkYXRlZCBwb2ludC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0R2xvYmFsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRHbG9iYWxQb3NpdGlvbihwb2ludCwgc2tpcFVwZGF0ZSlcbntcbiAgICBpZiAoIHBvaW50ID09PSB2b2lkIDAgKSBwb2ludCA9IG5ldyBQb2ludCgpO1xuICAgIGlmICggc2tpcFVwZGF0ZSA9PT0gdm9pZCAwICkgc2tpcFVwZGF0ZSA9IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMucGFyZW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5wYXJlbnQudG9HbG9iYWwodGhpcy5wb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBwb2ludC54ID0gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICBwb2ludC55ID0gdGhpcy5wb3NpdGlvbi55O1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tZXNoIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIEBwaXhpL21lc2ggaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBTdGF0ZSwgU2hhZGVyLCBQcm9ncmFtLCBUZXh0dXJlTWF0cml4LCBHZW9tZXRyeSwgQnVmZmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBQb2ludCwgUG9seWdvbiwgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBEUkFXX01PREVTLCBCTEVORF9NT0RFUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IHByZW11bHRpcGx5VGludFRvUmdiYSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBDbGFzcyBjb250cm9scyBjYWNoZSBmb3IgVVYgbWFwcGluZyBmcm9tIFRleHR1cmUgbm9ybWFsIHNwYWNlIHRvIEJhc2VUZXh0dXJlIG5vcm1hbCBzcGFjZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNZXNoQmF0Y2hVdnMgPSBmdW5jdGlvbiBNZXNoQmF0Y2hVdnModXZCdWZmZXIsIHV2TWF0cml4KVxue1xuICAgIC8qKlxuICAgICAqIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgVVYnc1xuICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMudXZCdWZmZXIgPSB1dkJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIE1hdGVyaWFsIFVWIG1hdHJpeFxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLnV2TWF0cml4ID0gdXZNYXRyaXg7XG5cbiAgICAvKipcbiAgICAgKiBVViBCdWZmZXIgZGF0YVxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuXG4gICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSAtMTtcblxuICAgIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9IC0xO1xuXG4gICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xufTtcblxuLyoqXG4gKiB1cGRhdGVzXG4gKlxuICogQHBhcmFtIHtib29sZWFufSBmb3JjZVVwZGF0ZSAtIGZvcmNlIHRoZSB1cGRhdGVcbiAqL1xuTWVzaEJhdGNoVXZzLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGZvcmNlVXBkYXRlKVxue1xuICAgIGlmICghZm9yY2VVcGRhdGVcbiAgICAgICAgJiYgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPT09IHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEXG4gICAgICAgICYmIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9PT0gdGhpcy51dk1hdHJpeC5fdXBkYXRlSUQpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRDtcbiAgICB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPSB0aGlzLnV2TWF0cml4Ll91cGRhdGVJRDtcblxuICAgIHZhciBkYXRhID0gdGhpcy51dkJ1ZmZlci5kYXRhO1xuXG4gICAgaWYgKCF0aGlzLmRhdGEgfHwgdGhpcy5kYXRhLmxlbmd0aCAhPT0gZGF0YS5sZW5ndGgpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICB9XG5cbiAgICB0aGlzLnV2TWF0cml4Lm11bHRpcGx5VXZzKGRhdGEsIHRoaXMuZGF0YSk7XG5cbiAgICB0aGlzLl91cGRhdGVJRCsrO1xufTtcblxudmFyIHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xudmFyIHRlbXBQb2x5Z29uID0gbmV3IFBvbHlnb24oKTtcblxuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3MuXG4gKlxuICogVGhpcyBjbGFzcyBlbXBvd2VycyB5b3UgdG8gaGF2ZSBtYXhpbXVtIGZsZXhpYmlsaXR5IHRvIHJlbmRlciBhbnkga2luZCBvZiBXZWJHTCB2aXN1YWxzIHlvdSBjYW4gdGhpbmsgb2YuXG4gKiBUaGlzIGNsYXNzIGFzc3VtZXMgYSBjZXJ0YWluIGxldmVsIG9mIFdlYkdMIGtub3dsZWRnZS5cbiAqIElmIHlvdSBrbm93IGEgYml0IHRoaXMgc2hvdWxkIGFic3RyYWN0IGVub3VnaCBhd2F5IHRvIG1ha2UgeW91IGxpZmUgZWFzaWVyIVxuICpcbiAqIFByZXR0eSBtdWNoIEFMTCBXZWJHTCBjYW4gYmUgYnJva2VuIGRvd24gaW50byB0aGUgZm9sbG93aW5nOlxuICogLSBHZW9tZXRyeSAtIFRoZSBzdHJ1Y3R1cmUgYW5kIGRhdGEgZm9yIHRoZSBtZXNoLiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuLlxuICogLSBTaGFkZXIgLSBUaGlzIGlzIHRoZSBzaGFkZXIgdGhhdCBQaXhpSlMgd2lsbCByZW5kZXIgdGhlIGdlb21ldHJ5IHdpdGggKGF0dHJpYnV0ZXMgaW4gdGhlIHNoYWRlciBtdXN0IG1hdGNoIHRoZSBnZW9tZXRyeSlcbiAqIC0gU3RhdGUgLSBUaGlzIGlzIHRoZSBzdGF0ZSBvZiBXZWJHTCByZXF1aXJlZCB0byByZW5kZXIgdGhlIG1lc2guXG4gKlxuICogVGhyb3VnaCBhIGNvbWJpbmF0aW9uIG9mIHRoZSBhYm92ZSBlbGVtZW50cyB5b3UgY2FuIHJlbmRlciBhbnl0aGluZyB5b3Ugd2FudCwgMkQgb3IgM0QhXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2ggPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDb250YWluZXIpIHtcbiAgICBmdW5jdGlvbiBNZXNoKGdlb21ldHJ5LCBzaGFkZXIsIHN0YXRlLCBkcmF3TW9kZSkvLyB2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzLCBkcmF3TW9kZSlcbiAgICB7XG4gICAgICAgIGlmICggZHJhd01vZGUgPT09IHZvaWQgMCApIGRyYXdNb2RlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG5cbiAgICAgICAgQ29udGFpbmVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluY2x1ZGVzIHZlcnRleCBwb3NpdGlvbnMsIGZhY2UgaW5kaWNlcywgbm9ybWFscywgY29sb3JzLCBVVnMsIGFuZFxuICAgICAgICAgKiBjdXN0b20gYXR0cmlidXRlcyB3aXRoaW4gYnVmZmVycywgcmVkdWNpbmcgdGhlIGNvc3Qgb2YgcGFzc2luZyBhbGxcbiAgICAgICAgICogdGhpcyBkYXRhIHRvIHRoZSBHUFUuIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR2VvbWV0cnl9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuXG4gICAgICAgIGdlb21ldHJ5LnJlZkNvdW50Kys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycyB0aGF0IHByb2Nlc3NlcyB0aGUgZ2VvbWV0cnkgYW5kIHJ1bnMgb24gdGhlIEdQVS5cbiAgICAgICAgICogQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ8UElYSS5NZXNoTWF0ZXJpYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IHNoYWRlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgV2ViR0wgc3RhdGUgdGhlIE1lc2ggcmVxdWlyZWQgdG8gcmVuZGVyLCBleGNsdWRlcyBzaGFkZXIgYW5kIGdlb21ldHJ5LiBFLmcuLFxuICAgICAgICAgKiBibGVuZCBtb2RlLCBjdWxsaW5nLCBkZXB0aCB0ZXN0aW5nLCBkaXJlY3Rpb24gb2YgcmVuZGVyaW5nIHRyaWFuZ2xlcywgYmFja2ZhY2UsIGV0Yy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZSB8fCBTdGF0ZS5mb3IyZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2F5IHRoZSBNZXNoIHNob3VsZCBiZSBkcmF3biwgY2FuIGJlIGFueSBvZiB0aGUge0BsaW5rIFBJWEkuRFJBV19NT0RFU30gY29uc3RhbnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5EUkFXX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRyYXdNb2RlID0gZHJhd01vZGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR5cGljYWxseSB0aGUgaW5kZXggb2YgdGhlIEluZGV4QnVmZmVyIHdoZXJlIHRvIHN0YXJ0IGRyYXdpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyBtdWNoIG9mIHRoZSBnZW9tZXRyeSB0byBkcmF3LCBieSBkZWZhdWx0IGAwYCByZW5kZXJzIGV2ZXJ5dGhpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlYXNlIGFyZSB1c2VkIGFzIGVhc3kgYWNjZXNzIGZvciBiYXRjaGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZWFzZSBhcmUgdXNlZCBhcyBlYXN5IGFjY2VzcyBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHRoZSBjYWNoaW5nIGxheWVyIHVzZWQgYnkgdGhlIGJhdGNoZXJcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSgxKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZ2VvbWV0cnkgaXMgY2hhbmdlZCB1c2VkIHRvIGRlY2lkZSB0byByZS10cmFuc2Zvcm1cbiAgICAgICAgICogdGhlIHZlcnRleERhdGEuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4RGlydHkgPSAwO1xuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG5cbiAgICAgICAgLy8gSW5oZXJpdGVkIGZyb20gRGlzcGxheU1vZGUsIHNldCBkZWZhdWx0c1xuICAgICAgICB0aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJvdW5kUGl4ZWxzIGZpZWxkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2hlZCBVVidzIGFyZSBjYWNoZWQgZm9yIGF0bGFzIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWVzaEJhdGNoVXZzfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaFV2cyA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCBDb250YWluZXIgKSBNZXNoLl9fcHJvdG9fXyA9IENvbnRhaW5lcjtcbiAgICBNZXNoLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbnRhaW5lciAmJiBDb250YWluZXIucHJvdG90eXBlICk7XG4gICAgTWVzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNZXNoO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdXZCdWZmZXI6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdmVydGljZXNCdWZmZXI6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbWF0ZXJpYWw6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYmxlbmRNb2RlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJvdW5kUGl4ZWxzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRpbnQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGV4dHVyZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogVG8gY2hhbmdlIG1lc2ggdXYncywgY2hhbmdlIGl0cyB1dkJ1ZmZlciBkYXRhIGFuZCBpbmNyZW1lbnQgaXRzIF91cGRhdGVJRC5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudXZCdWZmZXIuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRvIGNoYW5nZSBtZXNoIHZlcnRpY2VzLCBjaGFuZ2UgaXRzIHV2QnVmZmVyIGRhdGEgYW5kIGluY3JlbWVudCBpdHMgX3VwZGF0ZUlELlxuICAgICAqIEluY3JlbWVudGluZyBfdXBkYXRlSUQgaXMgb3B0aW9uYWwgYmVjYXVzZSBtb3N0IG9mIE1lc2ggb2JqZWN0cyBkbyBpdCBhbnl3YXkuXG4gICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnZlcnRpY2VzQnVmZmVyLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Ige0BsaW5rIFBJWEkuTWVzaCNzaGFkZXJ9LlxuICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfFBJWEkuTWVzaE1hdGVyaWFsfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXRlcmlhbC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnNoYWRlciA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF0ZXJpYWwuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgTWVzaC4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmxlbmRNb2RlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm91bmRQaXhlbHMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm91bmRQaXhlbHMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG11bHRpcGx5IHRpbnQgYXBwbGllZCB0byB0aGUgTWVzaC4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZlxuICAgICAqIGAweEZGRkZGRmAgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50aW50O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnNoYWRlci50aW50ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIE1lc2ggdXNlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRleHR1cmU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc2hhZGVyLnRleHR1cmUgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhbmRhcmQgcmVuZGVyZXIgZHJhdy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIC8vIHNldCBwcm9wZXJ0aWVzIGZvciBiYXRjaGluZy4uXG4gICAgICAgIC8vIFRPRE8gY291bGQgdXNlIGEgZGlmZmVyZW50IHdheSB0byBncmFiIHZlcnRzP1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0uZGF0YTtcblxuICAgICAgICAvLyBUT0RPIGJlbmNobWFyayBjaGVjayBmb3IgYXR0cmlidXRlIHNpemUuLlxuICAgICAgICBpZiAodGhpcy5zaGFkZXIuYmF0Y2hhYmxlICYmIHRoaXMuZHJhd01vZGUgPT09IERSQVdfTU9ERVMuVFJJQU5HTEVTICYmIHZlcnRpY2VzLmxlbmd0aCA8IE1lc2guQkFUQ0hBQkxFX1NJWkUgKiAyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUb0JhdGNoKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckRlZmF1bHQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIG5vbi1iYXRjaGluZyB3YXkgb2YgcmVuZGVyaW5nLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlckRlZmF1bHQgPSBmdW5jdGlvbiBfcmVuZGVyRGVmYXVsdCAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5zaGFkZXI7XG5cbiAgICAgICAgc2hhZGVyLmFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICBpZiAoc2hhZGVyLnVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgc2hhZGVyLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcblxuICAgICAgICBpZiAoc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEudHJhbnNsYXRpb25NYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiaW5kIGFuZCBzeW5jIHVuaWZvcm1zLi5cbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyKTtcblxuICAgICAgICAvLyBzZXQgc3RhdGUuLlxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG5cbiAgICAgICAgLy8gYmluZCB0aGUgZ2VvbWV0cnkuLi5cbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLmdlb21ldHJ5LCBzaGFkZXIpO1xuXG4gICAgICAgIC8vIHRoZW4gcmVuZGVyIGl0XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodGhpcy5kcmF3TW9kZSwgdGhpcy5zaXplLCB0aGlzLnN0YXJ0LCB0aGlzLmdlb21ldHJ5Lmluc3RhbmNlQ291bnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJpbmcgYnkgdXNpbmcgdGhlIEJhdGNoIHN5c3RlbS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXJUb0JhdGNoID0gZnVuY3Rpb24gX3JlbmRlclRvQmF0Y2ggKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcblxuICAgICAgICBpZiAodGhpcy5zaGFkZXIudXZNYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVyLnV2TWF0cml4LnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVVdnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBwcm9wZXJ0aWVzIGZvciBiYXRjaGluZy4uXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YTtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9IHRoaXMuc2hhZGVyLl90aW50UkdCO1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5zaGFkZXIudGV4dHVyZTtcblxuICAgICAgICB2YXIgcGx1Z2luTmFtZSA9IHRoaXMubWF0ZXJpYWwucGx1Z2luTmFtZTtcblxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdmVydGV4RGF0YSBmaWVsZCBiYXNlZCBvbiB0cmFuc2Zvcm0gYW5kIHZlcnRpY2VzXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVWZXJ0aWNlcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gZ2VvbWV0cnkuYnVmZmVyc1swXS5kYXRhO1xuXG4gICAgICAgIGlmIChnZW9tZXRyeS52ZXJ0ZXhEaXJ0eUlkID09PSB0aGlzLnZlcnRleERpcnR5ICYmIHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcblxuICAgICAgICBpZiAodGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCAhPT0gdmVydGljZXMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG5cbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aCAvIDI7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHggPSB2ZXJ0aWNlc1soaSAqIDIpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdmVydGljZXNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMildID0gKGEgKiB4KSArIChjICogeSkgKyB0eDtcbiAgICAgICAgICAgIHZlcnRleERhdGFbKGkgKiAyKSArIDFdID0gKGIgKiB4KSArIChkICogeSkgKyB0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdmVydGV4RGF0YS5sZW5ndGg7IGkkMSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaSQxXSA9IE1hdGgucm91bmQodmVydGV4RGF0YVtpJDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmVydGV4RGlydHkgPSBnZW9tZXRyeS52ZXJ0ZXhEaXJ0eUlkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHV2IGZpZWxkIGJhc2VkIG9uIGZyb20gZ2VvbWV0cnkgdXYncyBvciBiYXRjaFV2c1xuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmNhbGN1bGF0ZVV2cyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVV2cyAoKVxuICAgIHtcbiAgICAgICAgdmFyIGdlb21VdnMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV07XG5cbiAgICAgICAgaWYgKCF0aGlzLnNoYWRlci51dk1hdHJpeC5pc1NpbXBsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhdGNoVXZzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hVdnMgPSBuZXcgTWVzaEJhdGNoVXZzKGdlb21VdnMsIHRoaXMuc2hhZGVyLnV2TWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmF0Y2hVdnMudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IHRoaXMuYmF0Y2hVdnMuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXZzID0gZ2VvbVV2cy5kYXRhO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgbWVzaCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgICAqIHRoZXJlIG11c3QgYmUgYSBhVmVydGV4UG9zaXRpb24gYXR0cmlidXRlIHByZXNlbnQgaW4gdGhlIGdlb21ldHJ5IGZvciBib3VuZHMgdG8gYmUgY2FsY3VsYXRlZCBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkVmVydGV4RGF0YSh0aGlzLnZlcnRleERhdGEsIDAsIHRoaXMudmVydGV4RGF0YS5sZW5ndGgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIG1lc2guIFdvcmtzIG9ubHkgZm9yIFBJWEkuRFJBV19NT0RFUy5UUklBTkdMRVMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50IChwb2ludClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludC54LCBwb2ludC55KSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRlbXBQb2x5Z29uLnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSAgdGhpcy5nZW9tZXRyeS5nZXRJbmRleCgpLmRhdGE7XG4gICAgICAgIHZhciBsZW4gPSBpbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgdmFyIHN0ZXAgPSB0aGlzLmRyYXdNb2RlID09PSA0ID8gMyA6IDE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgKyAyIDwgbGVuOyBpICs9IHN0ZXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpbmQwID0gaW5kaWNlc1tpXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kMSA9IGluZGljZXNbaSArIDFdICogMjtcbiAgICAgICAgICAgIHZhciBpbmQyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuXG4gICAgICAgICAgICBwb2ludHNbMF0gPSB2ZXJ0aWNlc1tpbmQwXTtcbiAgICAgICAgICAgIHBvaW50c1sxXSA9IHZlcnRpY2VzW2luZDAgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHZlcnRpY2VzW2luZDFdO1xuICAgICAgICAgICAgcG9pbnRzWzNdID0gdmVydGljZXNbaW5kMSArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzRdID0gdmVydGljZXNbaW5kMl07XG4gICAgICAgICAgICBwb2ludHNbNV0gPSB2ZXJ0aWNlc1tpbmQyICsgMV07XG5cbiAgICAgICAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIE1lc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS5yZWZDb3VudC0tO1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeS5yZWZDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBudWxsO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggTWVzaC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIE1lc2g7XG59KENvbnRhaW5lcikpO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB2ZXJ0aWNlcyB0byBjb25zaWRlciBiYXRjaGFibGUuIEdlbmVyYWxseSwgdGhlIGNvbXBsZXhpdHlcbiAqIG9mIHRoZSBnZW9tZXRyeS5cbiAqIEBtZW1iZXJvZiBQSVhJLk1lc2hcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge251bWJlcn0gQkFUQ0hBQkxFX1NJWkVcbiAqL1xuTWVzaC5CQVRDSEFCTEVfU0laRSA9IDEwMDtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VGV4dHVyZU1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRleHR1cmVNYXRyaXggKiB2ZWMzKGFUZXh0dXJlQ29vcmQsIDEuMCkpLnh5O1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbi8qKlxuICogU2xpZ2h0bHkgb3BpbmlvbmF0ZWQgZGVmYXVsdCBzaGFkZXIgZm9yIFBpeGlKUyAyRCBvYmplY3RzLlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xudmFyIE1lc2hNYXRlcmlhbCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNoYWRlcikge1xuICAgIGZ1bmN0aW9uIE1lc2hNYXRlcmlhbCh1U2FtcGxlciwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIHVTYW1wbGVyOiB1U2FtcGxlcixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgdVRleHR1cmVNYXRyaXg6IE1hdHJpeC5JREVOVElUWSxcbiAgICAgICAgICAgIHVDb2xvcjogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgcGx1Z2luTmFtZTogJ2JhdGNoJyxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudW5pZm9ybXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odW5pZm9ybXMsIG9wdGlvbnMudW5pZm9ybXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgU2hhZGVyLmNhbGwodGhpcywgb3B0aW9ucy5wcm9ncmFtIHx8IFByb2dyYW0uZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50KSwgdW5pZm9ybXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbmx5IGRvIHVwZGF0ZSBpZiB0aW50IG9yIGFscGhhIGNoYW5nZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmVNYXRyaXggaW5zdGFuY2UgZm9yIHRoaXMgTWVzaCwgdXNlZCB0byB0cmFjayBUZXh0dXJlIGNoYW5nZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh1U2FtcGxlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBzaGFkZXIgY2FuIGJlIGJhdGNoIHdpdGggdGhlIHJlbmRlcmVyJ3MgYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IG9wdGlvbnMucHJvZ3JhbSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gb3B0aW9ucy5wbHVnaW5OYW1lO1xuXG4gICAgICAgIHRoaXMudGludCA9IG9wdGlvbnMudGludDtcbiAgICAgICAgdGhpcy5hbHBoYSA9IG9wdGlvbnMuYWxwaGE7XG4gICAgfVxuXG4gICAgaWYgKCBTaGFkZXIgKSBNZXNoTWF0ZXJpYWwuX19wcm90b19fID0gU2hhZGVyO1xuICAgIE1lc2hNYXRlcmlhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTaGFkZXIgJiYgU2hhZGVyLnByb3RvdHlwZSApO1xuICAgIE1lc2hNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNZXNoTWF0ZXJpYWw7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB0ZXh0dXJlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGFscGhhOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRpbnQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byB0aGUgdGV4dHVyZSBiZWluZyByZW5kZXJlZC5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyO1xuICAgIH07XG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudW5pZm9ybXMudVNhbXBsZXIgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnV2TWF0cml4LnRleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGdldHMgYXV0b21hdGljYWxseSBzZXQgYnkgdGhlIG9iamVjdCB1c2luZyB0aGlzLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYWxwaGEuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl9hbHBoYSkgeyByZXR1cm47IH1cblxuICAgICAgICB0aGlzLl9hbHBoYSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbHBoYS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FscGhhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aW50IGZvciB0aGUgbWF0ZXJpYWwuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl90aW50KSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgfTtcbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlIE1lc2guIEludGVuZGVkIHRvIGJlIG92ZXJyaWRkZW4gZm9yIGN1c3RvbVxuICAgICAqIE1lc2hNYXRlcmlhbCBvYmplY3RzLlxuICAgICAqL1xuICAgIE1lc2hNYXRlcmlhbC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fY29sb3JEaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICBwcmVtdWx0aXBseVRpbnRUb1JnYmEodGhpcy5fdGludCwgdGhpcy5fYWxwaGEsIHRoaXMudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5hbHBoYU1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnV2TWF0cml4LnVwZGF0ZSgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVUZXh0dXJlTWF0cml4ID0gdGhpcy51dk1hdHJpeC5tYXBDb29yZDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gTWVzaE1hdGVyaWFsO1xufShTaGFkZXIpKTtcblxuLyoqXG4gKiBTdGFuZGFyZCAyRCBnZW9tZXRyeSB1c2VkIGluIFBpeGlKUy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pO1xuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG52YXIgTWVzaEdlb21ldHJ5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoR2VvbWV0cnkpIHtcbiAgICBmdW5jdGlvbiBNZXNoR2VvbWV0cnkodmVydGljZXMsIHV2cywgaW5kZXgpXG4gICAge1xuICAgICAgICBHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlc0J1ZmZlciA9IG5ldyBCdWZmZXIodmVydGljZXMpO1xuICAgICAgICB2YXIgdXZzQnVmZmVyID0gbmV3IEJ1ZmZlcih1dnMsIHRydWUpO1xuICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKGluZGV4LCB0cnVlLCB0cnVlKTtcblxuICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgdmVydGljZXNCdWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCB1dnNCdWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRJbmRleChpbmRleEJ1ZmZlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpcnR5IGZsYWcgdG8gbGltaXQgdXBkYXRlIGNhbGxzIG9uIE1lc2guIEZvciBleGFtcGxlLFxuICAgICAgICAgKiBsaW1pdGluZyB1cGRhdGVzIG9uIGEgc2luZ2xlIE1lc2ggaW5zdGFuY2Ugd2l0aCBhIHNoYXJlZCBHZW9tZXRyeVxuICAgICAgICAgKiB3aXRoaW4gdGhlIHJlbmRlciBsb29wLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl91cGRhdGVJZCA9IC0xO1xuICAgIH1cblxuICAgIGlmICggR2VvbWV0cnkgKSBNZXNoR2VvbWV0cnkuX19wcm90b19fID0gR2VvbWV0cnk7XG4gICAgTWVzaEdlb21ldHJ5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEdlb21ldHJ5ICYmIEdlb21ldHJ5LnByb3RvdHlwZSApO1xuICAgIE1lc2hHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNZXNoR2VvbWV0cnk7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB2ZXJ0ZXhEaXJ0eUlkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdmVydGV4IHBvc2l0aW9uIGlzIHVwZGF0ZWQuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnZlcnRleERpcnR5SWQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnNbMF0uX3VwZGF0ZUlEO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggTWVzaEdlb21ldHJ5LnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gTWVzaEdlb21ldHJ5O1xufShHZW9tZXRyeSkpO1xuXG5leHBvcnQgeyBNZXNoLCBNZXNoQmF0Y2hVdnMsIE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNoLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tZXNoLWV4dHJhcyAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9tZXNoLWV4dHJhcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IE1lc2hHZW9tZXRyeSwgTWVzaCwgTWVzaE1hdGVyaWFsIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgeyBXUkFQX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIFBsYW5lR2VvbWV0cnkgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChNZXNoR2VvbWV0cnkpIHtcbiAgICBmdW5jdGlvbiBQbGFuZUdlb21ldHJ5KHdpZHRoLCBoZWlnaHQsIHNlZ1dpZHRoLCBzZWdIZWlnaHQpXG4gICAge1xuICAgICAgICBpZiAoIHdpZHRoID09PSB2b2lkIDAgKSB3aWR0aCA9IDEwMDtcbiAgICAgICAgaWYgKCBoZWlnaHQgPT09IHZvaWQgMCApIGhlaWdodCA9IDEwMDtcbiAgICAgICAgaWYgKCBzZWdXaWR0aCA9PT0gdm9pZCAwICkgc2VnV2lkdGggPSAxMDtcbiAgICAgICAgaWYgKCBzZWdIZWlnaHQgPT09IHZvaWQgMCApIHNlZ0hlaWdodCA9IDEwO1xuXG4gICAgICAgIE1lc2hHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc2VnV2lkdGggPSBzZWdXaWR0aDtcbiAgICAgICAgdGhpcy5zZWdIZWlnaHQgPSBzZWdIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICB0aGlzLmJ1aWxkKCk7XG4gICAgfVxuXG4gICAgaWYgKCBNZXNoR2VvbWV0cnkgKSBQbGFuZUdlb21ldHJ5Ll9fcHJvdG9fXyA9IE1lc2hHZW9tZXRyeTtcbiAgICBQbGFuZUdlb21ldHJ5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE1lc2hHZW9tZXRyeSAmJiBNZXNoR2VvbWV0cnkucHJvdG90eXBlICk7XG4gICAgUGxhbmVHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQbGFuZUdlb21ldHJ5O1xuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbGFuZUdlb21ldHJ5LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uIGJ1aWxkICgpXG4gICAge1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLnNlZ1dpZHRoICogdGhpcy5zZWdIZWlnaHQ7XG4gICAgICAgIHZhciB2ZXJ0cyA9IFtdO1xuICAgICAgICB2YXIgdXZzID0gW107XG4gICAgICAgIHZhciBpbmRpY2VzID0gW107XG5cbiAgICAgICAgdmFyIHNlZ21lbnRzWCA9IHRoaXMuc2VnV2lkdGggLSAxO1xuICAgICAgICB2YXIgc2VnbWVudHNZID0gdGhpcy5zZWdIZWlnaHQgLSAxO1xuXG4gICAgICAgIHZhciBzaXplWCA9ICh0aGlzLndpZHRoKSAvIHNlZ21lbnRzWDtcbiAgICAgICAgdmFyIHNpemVZID0gKHRoaXMuaGVpZ2h0KSAvIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4ID0gKGkgJSB0aGlzLnNlZ1dpZHRoKTtcbiAgICAgICAgICAgIHZhciB5ID0gKChpIC8gdGhpcy5zZWdXaWR0aCkgfCAwKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG4gICAgICAgICAgICB1dnMucHVzaCh4IC8gc2VnbWVudHNYLCB5IC8gc2VnbWVudHNZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3RhbFN1YiA9IHNlZ21lbnRzWCAqIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0b3RhbFN1YjsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4cG9zID0gaSQxICUgc2VnbWVudHNYO1xuICAgICAgICAgICAgdmFyIHlwb3MgPSAoaSQxIC8gc2VnbWVudHNYKSB8IDA7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9ICh5cG9zICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zO1xuICAgICAgICAgICAgdmFyIHZhbHVlMiA9ICh5cG9zICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zICsgMTtcbiAgICAgICAgICAgIHZhciB2YWx1ZTMgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTQgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG5cbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2YWx1ZSwgdmFsdWUyLCB2YWx1ZTMsXG4gICAgICAgICAgICAgICAgdmFsdWUyLCB2YWx1ZTQsIHZhbHVlMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydHMpO1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbMV0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodXZzKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpO1xuXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBsYW5lR2VvbWV0cnk7XG59KE1lc2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFJvcGVHZW9tZXRyeSBhbGxvd3MgeW91IHRvIGRyYXcgYSBnZW9tZXRyeSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHMuXG4gKlxuICogYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGNvbnN0IHJvcGUgPSBuZXcgUElYSS5Sb3BlR2VvbWV0cnkoMTAwLCBwb2ludHMpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hHZW9tZXRyeVxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBSb3BlR2VvbWV0cnkgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChNZXNoR2VvbWV0cnkpIHtcbiAgICBmdW5jdGlvbiBSb3BlR2VvbWV0cnkod2lkdGgsIHBvaW50cywgdGV4dHVyZVNjYWxlKVxuICAgIHtcbiAgICAgICAgaWYgKCB3aWR0aCA9PT0gdm9pZCAwICkgd2lkdGggPSAyMDA7XG4gICAgICAgIGlmICggdGV4dHVyZVNjYWxlID09PSB2b2lkIDAgKSB0ZXh0dXJlU2NhbGUgPSAwO1xuXG4gICAgICAgIE1lc2hHZW9tZXRyeS5jYWxsKHRoaXMsIG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLFxuICAgICAgICAgICAgbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksXG4gICAgICAgICAgICBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRoYXQgZGV0ZXJtaW5lIHRoZSByb3BlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvcGUgdGV4dHVyZSBzY2FsZSwgaWYgemVybyB0aGVuIHRoZSByb3BlIHRleHR1cmUgaXMgc3RyZXRjaGVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlU2NhbGUgPSB0ZXh0dXJlU2NhbGU7XG5cbiAgICAgICAgdGhpcy5idWlsZCgpO1xuICAgIH1cblxuICAgIGlmICggTWVzaEdlb21ldHJ5ICkgUm9wZUdlb21ldHJ5Ll9fcHJvdG9fXyA9IE1lc2hHZW9tZXRyeTtcbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTWVzaEdlb21ldHJ5ICYmIE1lc2hHZW9tZXRyeS5wcm90b3R5cGUgKTtcbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUm9wZUdlb21ldHJ5O1xuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBSb3BlIGluZGljZXMgYW5kIHV2c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uIGJ1aWxkICgpXG4gICAge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgaWYgKCFwb2ludHMpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKTtcbiAgICAgICAgdmFyIHV2QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleCgpO1xuXG4gICAgICAgIC8vIGlmIHRvbyBsaXR0bGUgcG9pbnRzLCBvciB0ZXh0dXJlIGhhc24ndCBnb3QgVVZzIHNldCB5ZXQganVzdCBtb3ZlIG9uLlxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBudW1iZXIgb2YgcG9pbnRzIGhhcyBjaGFuZ2VkIHdlIHdpbGwgbmVlZCB0byByZWNyZWF0ZSB0aGUgYXJyYXlidWZmZXJzXG4gICAgICAgIGlmICh2ZXJ0ZXhCdWZmZXIuZGF0YS5sZW5ndGggLyA0ICE9PSBwb2ludHMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgdXZCdWZmZXIuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIuZGF0YSA9IG5ldyBVaW50MTZBcnJheSgocG9pbnRzLmxlbmd0aCAtIDEpICogNik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdXZzID0gdXZCdWZmZXIuZGF0YTtcbiAgICAgICAgdmFyIGluZGljZXMgPSBpbmRleEJ1ZmZlci5kYXRhO1xuXG4gICAgICAgIHV2c1swXSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IDA7XG4gICAgICAgIHV2c1syXSA9IDA7XG4gICAgICAgIHV2c1szXSA9IDE7XG5cbiAgICAgICAgdmFyIGFtb3VudCA9IDA7XG4gICAgICAgIHZhciBwcmV2ID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgdGV4dHVyZVdpZHRoID0gdGhpcy53aWR0aCAqIHRoaXMudGV4dHVyZVNjYWxlO1xuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoOyAvLyAtIDE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aW1lIHRvIGRvIHNvbWUgc21hcnQgZHJhd2luZyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuXG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0dXJlU2NhbGUgPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBwaXhlbCBkaXN0YW5jZSBmcm9tIHByZXZpb3VzIHBvaW50XG4gICAgICAgICAgICAgICAgdmFyIGR4ID0gcHJldi54IC0gcG9pbnRzW2ldLng7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0gcHJldi55IC0gcG9pbnRzW2ldLnk7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG5cbiAgICAgICAgICAgICAgICBwcmV2ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIGFtb3VudCArPSBkaXN0YW5jZSAvIHRleHR1cmVXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBzdHJldGNoIHRleHR1cmVcbiAgICAgICAgICAgICAgICBhbW91bnQgPSBpIC8gKHRvdGFsIC0gMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHV2c1tpbmRleF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAxXSA9IDA7XG5cbiAgICAgICAgICAgIHV2c1tpbmRleCArIDJdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgM10gPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZGV4Q291bnQgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRvdGFsIC0gMTsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpbmRleCQxID0gaSQxICogMjtcblxuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXgkMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4JDEgKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXgkMSArIDI7XG5cbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4JDEgKyAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXgkMSArIDE7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCQxICsgMztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB1dkJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgaW5kZXhCdWZmZXIudXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNlcygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiByZWZyZXNoZXMgdmVydGljZXMgb2YgUm9wZSBtZXNoXG4gICAgICovXG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS51cGRhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwZGF0ZVZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdFBvaW50ID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgbmV4dFBvaW50O1xuICAgICAgICB2YXIgcGVycFggPSAwO1xuICAgICAgICB2YXIgcGVycFkgPSAwO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDQ7XG5cbiAgICAgICAgICAgIGlmIChpIDwgcG9pbnRzLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGVycFkgPSAtKG5leHRQb2ludC54IC0gbGFzdFBvaW50LngpO1xuICAgICAgICAgICAgcGVycFggPSBuZXh0UG9pbnQueSAtIGxhc3RQb2ludC55O1xuXG4gICAgICAgICAgICB2YXIgcGVycExlbmd0aCA9IE1hdGguc3FydCgocGVycFggKiBwZXJwWCkgKyAocGVycFkgKiBwZXJwWSkpO1xuICAgICAgICAgICAgdmFyIG51bSA9IHRoaXMudGV4dHVyZVNjYWxlID4gMCA/IHRoaXMudGV4dHVyZVNjYWxlICogdGhpcy53aWR0aCAvIDIgOiB0aGlzLndpZHRoIC8gMjtcblxuICAgICAgICAgICAgcGVycFggLz0gcGVycExlbmd0aDtcbiAgICAgICAgICAgIHBlcnBZIC89IHBlcnBMZW5ndGg7XG5cbiAgICAgICAgICAgIHBlcnBYICo9IG51bTtcbiAgICAgICAgICAgIHBlcnBZICo9IG51bTtcblxuICAgICAgICAgICAgdmVydGljZXNbaW5kZXhdID0gcG9pbnQueCArIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAxXSA9IHBvaW50LnkgKyBwZXJwWTtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMl0gPSBwb2ludC54IC0gcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDNdID0gcG9pbnQueSAtIHBlcnBZO1xuXG4gICAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRleHR1cmVTY2FsZSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoKTsgLy8gd2UgbmVlZCB0byB1cGRhdGUgVVZzXG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFJvcGVHZW9tZXRyeTtcbn0oTWVzaEdlb21ldHJ5KSk7XG5cbi8qKlxuICogVGhlIHJvcGUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgcm9wZSA9IG5ldyBQSVhJLlNpbXBsZVJvcGUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgU2ltcGxlUm9wZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE1lc2gpIHtcbiAgICBmdW5jdGlvbiBTaW1wbGVSb3BlKHRleHR1cmUsIHBvaW50cywgdGV4dHVyZVNjYWxlKVxuICAgIHtcbiAgICAgICAgaWYgKCB0ZXh0dXJlU2NhbGUgPT09IHZvaWQgMCApIHRleHR1cmVTY2FsZSA9IDA7XG5cbiAgICAgICAgdmFyIHJvcGVHZW9tZXRyeSA9IG5ldyBSb3BlR2VvbWV0cnkodGV4dHVyZS5oZWlnaHQsIHBvaW50cywgdGV4dHVyZVNjYWxlKTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG5cbiAgICAgICAgaWYgKHRleHR1cmVTY2FsZSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGF0dGVtcHQgdG8gc2V0IFVWIHdyYXBwaW5nLCB3aWxsIGZhaWwgb24gbm9uLXBvd2VyIG9mIHR3byB0ZXh0dXJlc1xuICAgICAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICB9XG4gICAgICAgIE1lc2guY2FsbCh0aGlzLCByb3BlR2VvbWV0cnksIG1lc2hNYXRlcmlhbCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlLWNhbGN1bGF0ZSB2ZXJ0aWNlcyBieSByb3BlIHBvaW50cyBlYWNoIGZyYW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICggTWVzaCApIFNpbXBsZVJvcGUuX19wcm90b19fID0gTWVzaDtcbiAgICBTaW1wbGVSb3BlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE1lc2ggJiYgTWVzaC5wcm90b3R5cGUgKTtcbiAgICBTaW1wbGVSb3BlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNpbXBsZVJvcGU7XG5cbiAgICBTaW1wbGVSb3BlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlXG4gICAgICAgICAgICB8fCB0aGlzLmdlb21ldHJ5LndpZHRoICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS53aWR0aCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIHJldHVybiBTaW1wbGVSb3BlO1xufShNZXNoKSk7XG5cbi8qKlxuICogVGhlIFNpbXBsZVBsYW5lIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IFNpbXBsZVBsYW5lID0gbmV3IFBJWEkuU2ltcGxlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgU2ltcGxlUGxhbmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChNZXNoKSB7XG4gICAgZnVuY3Rpb24gU2ltcGxlUGxhbmUodGV4dHVyZSwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpXG4gICAge1xuICAgICAgICB2YXIgcGxhbmVHZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSk7XG4gICAgICAgIHZhciBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuV0hJVEUpO1xuXG4gICAgICAgIE1lc2guY2FsbCh0aGlzLCBwbGFuZUdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwpO1xuXG4gICAgICAgIC8vIGxldHMgY2FsbCB0aGUgc2V0dGVyIHRvIGVuc3VyZSBhbGwgbmVjZXNzYXJ5IHVwZGF0ZXMgYXJlIHBlcmZvcm1lZFxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgIH1cblxuICAgIGlmICggTWVzaCApIFNpbXBsZVBsYW5lLl9fcHJvdG9fXyA9IE1lc2g7XG4gICAgU2ltcGxlUGxhbmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTWVzaCAmJiBNZXNoLnByb3RvdHlwZSApO1xuICAgIFNpbXBsZVBsYW5lLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNpbXBsZVBsYW5lO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdGV4dHVyZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHVzZWQgZm9yIG92ZXJyaWRlcywgdG8gZG8gc29tZXRoaW5nIGluIGNhc2UgdGV4dHVyZSBmcmFtZSB3YXMgY2hhbmdlZC5cbiAgICAgKiBNZXNoZXMgYmFzZWQgb24gcGxhbmUgY2FuIG92ZXJyaWRlIGl0IGFuZCBjaGFuZ2UgbW9yZSBkZXRhaWxzIGJhc2VkIG9uIHRleHR1cmUuXG4gICAgICovXG4gICAgU2ltcGxlUGxhbmUucHJvdG90eXBlLnRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gdGV4dHVyZVVwZGF0ZWQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkud2lkdGggPSB0aGlzLnNoYWRlci50ZXh0dXJlLndpZHRoO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmhlaWdodCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVpbGQoKTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgLy8gVHJhY2sgdGV4dHVyZSBzYW1lIHdheSBzcHJpdGUgZG9lcy5cbiAgICAgICAgLy8gRm9yIGdlbmVyYXRlZCBtZXNoZXMgbGlrZSBOaW5lU2xpY2VQbGFuZSBpdCBjYW4gY2hhbmdlIHRoZSBnZW9tZXRyeS5cbiAgICAgICAgLy8gVW5mb3J0dW5hdGVseSwgdGhpcyBtZXRob2QgbWlnaHQgbm90IHdvcmsgaWYgeW91IGRpcmVjdGx5IGNoYW5nZSB0ZXh0dXJlIGluIG1hdGVyaWFsLlxuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlci50ZXh0dXJlID09PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMudGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIudGV4dHVyZTtcbiAgICB9O1xuXG4gICAgU2ltcGxlUGxhbmUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVVcGRhdGVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggU2ltcGxlUGxhbmUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBTaW1wbGVQbGFuZTtcbn0oTWVzaCkpO1xuXG4vKipcbiAqIFRoZSBTaW1wbGUgTWVzaCBjbGFzcyBtaW1pY3MgTWVzaCBpbiBQaXhpSlMgdjQsIHByb3ZpZGluZyBlYXN5LXRvLXVzZSBjb25zdHJ1Y3RvciBhcmd1bWVudHMuXG4gKiBGb3IgbW9yZSByb2J1c3QgY3VzdG9taXphdGlvbiwgdXNlIHtAbGluayBQSVhJLk1lc2h9LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU2ltcGxlTWVzaCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE1lc2gpIHtcbiAgICBmdW5jdGlvbiBTaW1wbGVNZXNoKHRleHR1cmUsIHZlcnRpY2VzLCB1dnMsIGluZGljZXMsIGRyYXdNb2RlKVxuICAgIHtcbiAgICAgICAgaWYgKCB0ZXh0dXJlID09PSB2b2lkIDAgKSB0ZXh0dXJlID0gVGV4dHVyZS5FTVBUWTtcblxuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgTWVzaEdlb21ldHJ5KHZlcnRpY2VzLCB1dnMsIGluZGljZXMpO1xuXG4gICAgICAgIGdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuc3RhdGljID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG5cbiAgICAgICAgTWVzaC5jYWxsKHRoaXMsIGdlb21ldHJ5LCBtZXNoTWF0ZXJpYWwsIG51bGwsIGRyYXdNb2RlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdXBsb2FkIHZlcnRpY2VzIGJ1ZmZlciBlYWNoIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICggTWVzaCApIFNpbXBsZU1lc2guX19wcm90b19fID0gTWVzaDtcbiAgICBTaW1wbGVNZXNoLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE1lc2ggJiYgTWVzaC5wcm90b3R5cGUgKTtcbiAgICBTaW1wbGVNZXNoLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNpbXBsZU1lc2g7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB2ZXJ0aWNlczogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiB2ZXJ0aWNlcyBkYXRhLlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudmVydGljZXMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcbiAgICB9O1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy52ZXJ0aWNlcy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBTaW1wbGVNZXNoLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggU2ltcGxlTWVzaC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFNpbXBsZU1lc2g7XG59KE1lc2gpKTtcblxudmFyIERFRkFVTFRfQk9SREVSX1NJWkUgPSAxMDtcblxuLyoqXG4gKiBUaGUgTmluZVNsaWNlUGxhbmUgYWxsb3dzIHlvdSB0byBzdHJldGNoIGEgdGV4dHVyZSB1c2luZyA5LXNsaWNlIHNjYWxpbmcuIFRoZSBjb3JuZXJzIHdpbGwgcmVtYWluIHVuc2NhbGVkICh1c2VmdWxcbiAqIGZvciBidXR0b25zIHdpdGggcm91bmRlZCBjb3JuZXJzIGZvciBleGFtcGxlKSBhbmQgdGhlIG90aGVyIGFyZWFzIHdpbGwgYmUgc2NhbGVkIGhvcml6b250YWxseSBhbmQgb3IgdmVydGljYWxseVxuICpcbiAqYGBganNcbiAqIGxldCBQbGFuZTkgPSBuZXcgUElYSS5OaW5lU2xpY2VQbGFuZShQSVhJLlRleHR1cmUuZnJvbSgnQm94V2l0aFJvdW5kZWRDb3JuZXJzLnBuZycpLCAxNSwgMTUsIDE1LCAxNSk7XG4gKiAgYGBgXG4gKiA8cHJlPlxuICogICAgICBBICAgICAgICAgICAgICAgICAgICAgICAgICBCXG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEMgfCAxIHwgICAgICAgICAgMiAgICAgICAgICAgfCAzIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgfCA0IHwgICAgICAgICAgNSAgICAgICAgICAgfCA2IHxcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEQgfCA3IHwgICAgICAgICAgOCAgICAgICAgICAgfCA5IHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG5cbiAqICBXaGVuIGNoYW5naW5nIHRoaXMgb2JqZWN0cyB3aWR0aCBhbmQvb3IgaGVpZ2h0OlxuICogICAgIGFyZWFzIDEgMyA3IGFuZCA5IHdpbGwgcmVtYWluIHVuc2NhbGVkLlxuICogICAgIGFyZWFzIDIgYW5kIDggd2lsbCBiZSBzdHJldGNoZWQgaG9yaXpvbnRhbGx5XG4gKiAgICAgYXJlYXMgNCBhbmQgNiB3aWxsIGJlIHN0cmV0Y2hlZCB2ZXJ0aWNhbGx5XG4gKiAgICAgYXJlYSA1IHdpbGwgYmUgc3RyZXRjaGVkIGJvdGggaG9yaXpvbnRhbGx5IGFuZCB2ZXJ0aWNhbGx5XG4gKiA8L3ByZT5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU2ltcGxlUGxhbmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgTmluZVNsaWNlUGxhbmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTaW1wbGVQbGFuZSkge1xuICAgIGZ1bmN0aW9uIE5pbmVTbGljZVBsYW5lKHRleHR1cmUsIGxlZnRXaWR0aCwgdG9wSGVpZ2h0LCByaWdodFdpZHRoLCBib3R0b21IZWlnaHQpXG4gICAge1xuICAgICAgICBTaW1wbGVQbGFuZS5jYWxsKHRoaXMsIFRleHR1cmUuV0hJVEUsIDQsIDQpO1xuXG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGggPSB0aGlzLl9vcmlnV2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHRoaXMuX29yaWdIZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW4gKGEpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHR5cGVvZiBsZWZ0V2lkdGggIT09ICd1bmRlZmluZWQnID8gbGVmdFdpZHRoIDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW4gKGIpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB0eXBlb2YgcmlnaHRXaWR0aCAhPT0gJ3VuZGVmaW5lZCcgPyByaWdodFdpZHRoIDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvdyAoYylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdG9wSGVpZ2h0ID0gdHlwZW9mIHRvcEhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgPyB0b3BIZWlnaHQgOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93IChkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB0eXBlb2YgYm90dG9tSGVpZ2h0ICE9PSAndW5kZWZpbmVkJyA/IGJvdHRvbUhlaWdodCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLy8gbGV0cyBjYWxsIHRoZSBzZXR0ZXIgdG8gZW5zdXJlIGFsbCBuZWNlc3NhcnkgdXBkYXRlcyBhcmUgcGVyZm9ybWVkXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgfVxuXG4gICAgaWYgKCBTaW1wbGVQbGFuZSApIE5pbmVTbGljZVBsYW5lLl9fcHJvdG9fXyA9IFNpbXBsZVBsYW5lO1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNpbXBsZVBsYW5lICYmIFNpbXBsZVBsYW5lLnByb3RvdHlwZSApO1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE5pbmVTbGljZVBsYW5lO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdmVydGljZXM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxlZnRXaWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxyaWdodFdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRvcEhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSxib3R0b21IZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS50ZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uIHRleHR1cmVVcGRhdGVkICgpXG4gICAge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudmVydGljZXMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnZlcnRpY2VzLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGhvcml6b250YWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzID0gZnVuY3Rpb24gdXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZhciBoID0gdGhpcy5fdG9wSGVpZ2h0ICsgdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9oZWlnaHQgPiBoID8gMS4wIDogdGhpcy5faGVpZ2h0IC8gaDtcblxuICAgICAgICB2ZXJ0aWNlc1s5XSA9IHZlcnRpY2VzWzExXSA9IHZlcnRpY2VzWzEzXSA9IHZlcnRpY2VzWzE1XSA9IHRoaXMuX3RvcEhlaWdodCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1sxN10gPSB2ZXJ0aWNlc1sxOV0gPSB2ZXJ0aWNlc1syMV0gPSB2ZXJ0aWNlc1syM10gPSB0aGlzLl9oZWlnaHQgLSAodGhpcy5fYm90dG9tSGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1syNV0gPSB2ZXJ0aWNlc1syN10gPSB2ZXJ0aWNlc1syOV0gPSB2ZXJ0aWNlc1szMV0gPSB0aGlzLl9oZWlnaHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZlcnRpY2FsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMgPSBmdW5jdGlvbiB1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZhciB3ID0gdGhpcy5fbGVmdFdpZHRoICsgdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fd2lkdGggPiB3ID8gMS4wIDogdGhpcy5fd2lkdGggLyB3O1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbMTBdID0gdmVydGljZXNbMThdID0gdmVydGljZXNbMjZdID0gdGhpcy5fbGVmdFdpZHRoICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzRdID0gdmVydGljZXNbMTJdID0gdmVydGljZXNbMjBdID0gdmVydGljZXNbMjhdID0gdGhpcy5fd2lkdGggLSAodGhpcy5fcmlnaHRXaWR0aCAqIHNjYWxlKTtcbiAgICAgICAgdmVydGljZXNbNl0gPSB2ZXJ0aWNlc1sxNF0gPSB2ZXJ0aWNlc1syMl0gPSB2ZXJ0aWNlc1szMF0gPSB0aGlzLl93aWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5sZWZ0V2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5sZWZ0V2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJpZ2h0V2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucmlnaHRXaWR0aC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fcmlnaHRXaWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3dcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudG9wSGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9wSGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudG9wSGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl90b3BIZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJvdHRvbUhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJvdHRvbUhlaWdodC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIE5pbmVTbGljZVBsYW5lIGNvb3Jkcy4gQWxsIG9mIHRoZW0uXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2ggKClcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuXG4gICAgICAgIHZhciB1dnMgPSB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV0uZGF0YTtcblxuICAgICAgICB0aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIHZhciBfdXZ3ID0gMS4wIC8gdGhpcy5fb3JpZ1dpZHRoO1xuICAgICAgICB2YXIgX3V2aCA9IDEuMCAvIHRoaXMuX29yaWdIZWlnaHQ7XG5cbiAgICAgICAgdXZzWzBdID0gdXZzWzhdID0gdXZzWzE2XSA9IHV2c1syNF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSB1dnNbM10gPSB1dnNbNV0gPSB1dnNbN10gPSAwO1xuICAgICAgICB1dnNbNl0gPSB1dnNbMTRdID0gdXZzWzIyXSA9IHV2c1szMF0gPSAxO1xuICAgICAgICB1dnNbMjVdID0gdXZzWzI3XSA9IHV2c1syOV0gPSB1dnNbMzFdID0gMTtcblxuICAgICAgICB1dnNbMl0gPSB1dnNbMTBdID0gdXZzWzE4XSA9IHV2c1syNl0gPSBfdXZ3ICogdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB1dnNbNF0gPSB1dnNbMTJdID0gdXZzWzIwXSA9IHV2c1syOF0gPSAxIC0gKF91dncgKiB0aGlzLl9yaWdodFdpZHRoKTtcbiAgICAgICAgdXZzWzldID0gdXZzWzExXSA9IHV2c1sxM10gPSB1dnNbMTVdID0gX3V2aCAqIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgdXZzWzE3XSA9IHV2c1sxOV0gPSB1dnNbMjFdID0gdXZzWzIzXSA9IDEgLSAoX3V2aCAqIHRoaXMuX2JvdHRvbUhlaWdodCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVIb3Jpem9udGFsVmVydGljZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKCk7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIE5pbmVTbGljZVBsYW5lO1xufShTaW1wbGVQbGFuZSkpO1xuXG5leHBvcnQgeyBOaW5lU2xpY2VQbGFuZSwgUGxhbmVHZW9tZXRyeSwgUm9wZUdlb21ldHJ5LCBTaW1wbGVNZXNoLCBTaW1wbGVQbGFuZSwgU2ltcGxlUm9wZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzaC1leHRyYXMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZS1hbmltYXRlZCAtIHY1LjIuMFxuICogQ29tcGlsZWQgV2VkLCAwNiBOb3YgMjAxOSAwMjozMjo0MyBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGUtYW5pbWF0ZWQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuXG4vKipcbiAqIEFuIEFuaW1hdGVkU3ByaXRlIGlzIGEgc2ltcGxlIHdheSB0byBkaXNwbGF5IGFuIGFuaW1hdGlvbiBkZXBpY3RlZCBieSBhIGxpc3Qgb2YgdGV4dHVyZXMuXG4gKlxuICogYGBganNcbiAqIGxldCBhbGllbkltYWdlcyA9IFtcImltYWdlX3NlcXVlbmNlXzAxLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDIucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMy5wbmdcIixcImltYWdlX3NlcXVlbmNlXzA0LnBuZ1wiXTtcbiAqIGxldCB0ZXh0dXJlQXJyYXkgPSBbXTtcbiAqXG4gKiBmb3IgKGxldCBpPTA7IGkgPCA0OyBpKyspXG4gKiB7XG4gKiAgICAgIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oYWxpZW5JbWFnZXNbaV0pO1xuICogICAgICB0ZXh0dXJlQXJyYXkucHVzaCh0ZXh0dXJlKTtcbiAqIH07XG4gKlxuICogbGV0IGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUodGV4dHVyZUFycmF5KTtcbiAqIGBgYFxuICpcbiAqIFRoZSBtb3JlIGVmZmljaWVudCBhbmQgc2ltcGxlciB3YXkgdG8gY3JlYXRlIGFuIGFuaW1hdGVkIHNwcml0ZSBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fVxuICogY29udGFpbmluZyB0aGUgYW5pbWF0aW9uIGRlZmluaXRpb25zOlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgYW5pbWF0ZWRTcHJpdGUgPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZShzaGVldC5hbmltYXRpb25zW1wiaW1hZ2Vfc2VxdWVuY2VcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBbmltYXRlZFNwcml0ZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNwcml0ZSkge1xuICAgIGZ1bmN0aW9uIEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzLCBhdXRvVXBkYXRlKVxuICAgIHtcbiAgICAgICAgU3ByaXRlLmNhbGwodGhpcywgdGV4dHVyZXNbMF0gaW5zdGFuY2VvZiBUZXh0dXJlID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlc1swXS50ZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIHVzZXMgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IGF1dG9VcGRhdGUgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BlZWQgdGhhdCB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCBwbGF5IGF0LiBIaWdoZXIgaXMgZmFzdGVyLCBsb3dlciBpcyBzbG93ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmltYXRpb25TcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBhbmltYXRlIHNwcml0ZSByZXBlYXRzIGFmdGVyIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9vcCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBhbmNob3IgdG8gW1RleHR1cmUncyBkZWZhdWx0QW5jaG9yXXtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0gd2hlbiBmcmFtZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBVc2VmdWwgd2l0aCBbc3ByaXRlIHNoZWV0IGFuaW1hdGlvbnNde0BsaW5rIFBJWEkuU3ByaXRlc2hlZXQjYW5pbWF0aW9uc30gY3JlYXRlZCB3aXRoIHRvb2xzLlxuICAgICAgICAgKiBDaGFuZ2luZyBhbmNob3IgZm9yIGVhY2ggZnJhbWUgYWxsb3dzIHRvIHBpbiBzcHJpdGUgb3JpZ2luIHRvIGNlcnRhaW4gbW92aW5nIGZlYXR1cmVcbiAgICAgICAgICogb2YgdGhlIGZyYW1lIChlLmcuIGxlZnQgZm9vdCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGU6IEVuYWJsaW5nIHRoaXMgd2lsbCBvdmVycmlkZSBhbnkgcHJldmlvdXNseSBzZXQgYGFuY2hvcmAgb24gZWFjaCBmcmFtZSBjaGFuZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwZGF0ZUFuY2hvciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gYW4gQW5pbWF0ZWRTcHJpdGUgZmluaXNoZXMgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gYW4gQW5pbWF0ZWRTcHJpdGUgY2hhbmdlcyB3aGljaCB0ZXh0dXJlIGlzIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBgbG9vcGAgaXMgdHJ1ZSwgYW5kIGFuIEFuaW1hdGVkU3ByaXRlIGlzIHBsYXllZCBhbmQgbG9vcHMgYXJvdW5kIHRvIHN0YXJ0IGFnYWluLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Mb29wID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWxhcHNlZCB0aW1lIHNpbmNlIGFuaW1hdGlvbiBoYXMgYmVlbiBzdGFydGVkLCB1c2VkIGludGVybmFsbHkgdG8gZGlzcGxheSBjdXJyZW50IHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBBbmltYXRlZFNwcml0ZSBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIFNwcml0ZSApIEFuaW1hdGVkU3ByaXRlLl9fcHJvdG9fXyA9IFNwcml0ZTtcbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTcHJpdGUgJiYgU3ByaXRlLnByb3RvdHlwZSApO1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFuaW1hdGVkU3ByaXRlO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdG90YWxGcmFtZXM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGV4dHVyZXM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sY3VycmVudEZyYW1lOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5wbGF5aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQbGF5cyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uIHBsYXkgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBsYXlpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZ29lcyB0byBhIHNwZWNpZmljIGZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gRnJhbWUgaW5kZXggdG8gc3RvcCBhdC5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFN0b3AgPSBmdW5jdGlvbiBnb3RvQW5kU3RvcCAoZnJhbWVOdW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUgYW5kIGJlZ2lucyBwbGF5aW5nIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIEZyYW1lIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5nb3RvQW5kUGxheSA9IGZ1bmN0aW9uIGdvdG9BbmRQbGF5IChmcmFtZU51bWJlcilcbiAgICB7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcblxuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGRlbHRhVGltZSlcbiAgICB7XG4gICAgICAgIHZhciBlbGFwc2VkID0gdGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZTtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb25zICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbGFnID0gdGhpcy5fY3VycmVudFRpbWUgJSAxICogdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcblxuICAgICAgICAgICAgbGFnICs9IGVsYXBzZWQgLyA2MCAqIDEwMDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPCAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lLS07XG4gICAgICAgICAgICAgICAgbGFnICs9IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzaWduID0gTWF0aC5zaWduKHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWUpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpO1xuXG4gICAgICAgICAgICB3aGlsZSAobGFnID49IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFnIC09IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0gKiBzaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IHNpZ247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGxhZyAvIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBlbGFwc2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRUaW1lIDwgMCAmJiAhdGhpcy5sb29wKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRUaW1lID49IHRoaXMuX3RleHR1cmVzLmxlbmd0aCAmJiAhdGhpcy5sb29wKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKHRoaXMuX3RleHR1cmVzLmxlbmd0aCAtIDEpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb29wICYmIHRoaXMub25Mb29wKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkID4gMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA8IHByZXZpb3VzRnJhbWUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkIDwgMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA+IHByZXZpb3VzRnJhbWUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZGlzcGxheWVkIHRleHR1cmUgdG8gbWF0Y2ggdGhlIGN1cnJlbnQgZnJhbWUgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRoaXMuX3RleHR1cmVzW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuXG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUFuY2hvcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHRoaXMuX3RleHR1cmUuZGVmYXVsdEFuY2hvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vbkZyYW1lQ2hhbmdlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UodGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZGVzdHJveXMgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIElmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbC5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkxvb3AgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGFuIEFuaW1hdGVkU3ByaXRlIGZyb20gYW4gYXJyYXkgb2YgZnJhbWUgaWRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGZyYW1lcyAtIFRoZSBhcnJheSBvZiBmcmFtZXMgaWRzIHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXMuXG4gICAgICogQHJldHVybiB7QW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZWQgc3ByaXRlIHdpdGggdGhlIHNwZWNpZmllZCBmcmFtZXMuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUZyYW1lcyA9IGZ1bmN0aW9uIGZyb21GcmFtZXMgKGZyYW1lcylcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShmcmFtZXNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGFuIEFuaW1hdGVkU3ByaXRlIGZyb20gYW4gYXJyYXkgb2YgaW1hZ2UgaWRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGltYWdlcyAtIFRoZSBhcnJheSBvZiBpbWFnZSB1cmxzIHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXMuXG4gICAgICogQHJldHVybiB7QW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZSBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGltYWdlcyBhcyBmcmFtZXMuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUltYWdlcyA9IGZ1bmN0aW9uIGZyb21JbWFnZXMgKGltYWdlcylcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShpbWFnZXNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgQW5pbWF0ZWRTcHJpdGUuIFRoaXMgaXMgdGhlIHNhbWUgYXMgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICogYXNzaWduZWQgdG8gdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudG90YWxGcmFtZXMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiB0ZXh0dXJlcyB1c2VkIGZvciB0aGlzIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlW119XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmVzLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXM7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlcy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlWzBdIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMucHVzaCh2YWx1ZVtpXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMucHVzaCh2YWx1ZVtpXS50aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKiBUaGUgQW5pbWF0ZWRTcHJpdGVzIGN1cnJlbnQgZnJhbWUgaW5kZXguXG4gICAgKlxuICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICogQHJlYWRvbmx5XG4gICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuY3VycmVudEZyYW1lLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICB2YXIgY3VycmVudEZyYW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSkgJSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRGcmFtZSA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN1cnJlbnRGcmFtZSArPSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3VycmVudEZyYW1lO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBBbmltYXRlZFNwcml0ZTtcbn0oU3ByaXRlKSk7XG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuQW5pbWF0ZWRTcHJpdGVcbiAqIEB0eXBlZGVmIHtvYmplY3R9IEZyYW1lT2JqZWN0XG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUge0BsaW5rIFBJWEkuVGV4dHVyZX0gb2YgdGhlIGZyYW1lXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGltZSAtIHRoZSBkdXJhdGlvbiBvZiB0aGUgZnJhbWUgaW4gbXNcbiAqL1xuXG5leHBvcnQgeyBBbmltYXRlZFNwcml0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLWFuaW1hdGVkLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBwaXhpLmpzIC0gdjUuMi4wXG4gKiBDb21waWxlZCBXZWQsIDA2IE5vdiAyMDE5IDAyOjMyOjQzIFVUQ1xuICpcbiAqIHBpeGkuanMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgJ0BwaXhpL3BvbHlmaWxsJztcbmltcG9ydCB7IEFjY2Vzc2liaWxpdHlNYW5hZ2VyIH0gZnJvbSAnQHBpeGkvYWNjZXNzaWJpbGl0eSc7XG5pbXBvcnQgKiBhcyBhY2Nlc3NpYmlsaXR5IGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuZXhwb3J0IHsgYWNjZXNzaWJpbGl0eSB9O1xuaW1wb3J0IHsgRXh0cmFjdCB9IGZyb20gJ0BwaXhpL2V4dHJhY3QnO1xuaW1wb3J0ICogYXMgZXh0cmFjdCBmcm9tICdAcGl4aS9leHRyYWN0JztcbmV4cG9ydCB7IGV4dHJhY3QgfTtcbmltcG9ydCB7IEludGVyYWN0aW9uTWFuYWdlciB9IGZyb20gJ0BwaXhpL2ludGVyYWN0aW9uJztcbmltcG9ydCAqIGFzIGludGVyYWN0aW9uIGZyb20gJ0BwaXhpL2ludGVyYWN0aW9uJztcbmV4cG9ydCB7IGludGVyYWN0aW9uIH07XG5pbXBvcnQgeyBQcmVwYXJlIH0gZnJvbSAnQHBpeGkvcHJlcGFyZSc7XG5pbXBvcnQgKiBhcyBwcmVwYXJlIGZyb20gJ0BwaXhpL3ByZXBhcmUnO1xuZXhwb3J0IHsgcHJlcGFyZSB9O1xuaW1wb3J0IHsgZGVwcmVjYXRpb24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICdAcGl4aS91dGlscyc7XG5leHBvcnQgeyB1dGlscyB9O1xuaW1wb3J0IHsgQXBwbGljYXRpb24gfSBmcm9tICdAcGl4aS9hcHAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvYXBwJztcbmltcG9ydCB7IFJlbmRlcmVyLCBCYXRjaFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IExvYWRlciwgQXBwTG9hZGVyUGx1Z2luIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCB7IFBhcnRpY2xlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9wYXJ0aWNsZXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvcGFydGljbGVzJztcbmltcG9ydCB7IFNwcml0ZXNoZWV0TG9hZGVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuaW1wb3J0IHsgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuaW1wb3J0IHsgQml0bWFwRm9udExvYWRlciB9IGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmltcG9ydCB7IFRpY2tlclBsdWdpbiB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgQWxwaGFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItYWxwaGEnO1xuaW1wb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfSBmcm9tICdAcGl4aS9maWx0ZXItYmx1cic7XG5pbXBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXgnO1xuaW1wb3J0IHsgRGlzcGxhY2VtZW50RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCc7XG5pbXBvcnQgeyBGWEFBRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWZ4YWEnO1xuaW1wb3J0IHsgTm9pc2VGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItbm9pc2UnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24nO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWF0aCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gtZXh0cmFzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3J1bm5lcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlLWFuaW1hdGVkJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG52YXIgdjUgPSAnNS4wLjAnO1xuXG4vKipcbiAqIERlcHJlY2F0aW9ucyAoYmFja3dhcmQgY29tcGF0aWJpbGl0aWVzKSBhcmUgYXV0b21hdGljYWxseSBhcHBsaWVkIGZvciBicm93c2VyIGJ1bmRsZXNcbiAqIGluIHRoZSBVTUQgbW9kdWxlIGZvcm1hdC4gSWYgdXNpbmcgV2VicGFjayBvciBSb2xsdXAsIHlvdSdsbCBuZWVkIHRvIGFwcGx5IHRoZXNlXG4gKiBkZXByZWNhdGlvbnMgbWFudWFsbHkgYnkgZG9pbmcgc29tZXRoaW5nIGxpa2UgdGhpczpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuICogUElYSS51c2VEZXByZWNhdGVkKCk7IC8vIE1VU1QgYmUgYm91bmQgdG8gbmFtZXNwYWNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIHVzZURlcHJlY2F0ZWRcbiAqL1xuZnVuY3Rpb24gdXNlRGVwcmVjYXRlZCgpXG57XG4gICAgdmFyIFBJWEkgPSB0aGlzO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBTVkdfU0laRVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLlNWR19TSVpFXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBTVkdfU0laRToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5TVkdfU0laRSBwcm9wZXJ0eSBoYXMgbW92ZWQgdG8gUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuU1ZHX1NJWkUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNWR1Jlc291cmNlLlNWR19TSVpFO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuVHJhbnNmb3JtU3RhdGljXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UcmFuc2Zvcm1cbiAgICAgICAgICovXG4gICAgICAgIFRyYW5zZm9ybVN0YXRpYzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UcmFuc2Zvcm1TdGF0aWMgY2xhc3MgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuVHJhbnNmb3JtJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UcmFuc2Zvcm07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5UcmFuc2Zvcm1CYXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UcmFuc2Zvcm1cbiAgICAgICAgICovXG4gICAgICAgIFRyYW5zZm9ybUJhc2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuVHJhbnNmb3JtQmFzZSBjbGFzcyBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5UcmFuc2Zvcm0nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRyYW5zZm9ybTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgdGhlIHRyYW5zZm9ybSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBUUkFOU0ZPUk1fTU9ERVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAZW51bSB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gU1RBVElDXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEWU5BTUlDXG4gICAgICAgICAqL1xuICAgICAgICBUUkFOU0ZPUk1fTU9ERToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geyBTVEFUSUM6IDAsIERZTkFNSUM6IDEgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLldlYkdMUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBXZWJHTFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLldlYkdMUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuQ2FudmFzUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBzZWUgUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc1JlbmRlclRhcmdldDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5DYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkudXRpbHMuQ2FudmFzUmVuZGVyVGFyZ2V0Jyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAbmFtZSBsb2FkZXJcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnNoYXJlZFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgbG9hZGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlciBpbnN0YW5jZSBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXIuc2hhcmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXIuc2hhcmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuRmlsdGVyTWFuYWdlclxuICAgICAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEZpbHRlck1hbmFnZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuRmlsdGVyTWFuYWdlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZXNwYWNlIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5jYW52YXNVdGlsc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzVGludGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMi4wJywgJ1BJWEkuQ2FudmFzVGludGVyIG5hbWVzcGFjZSBoYXMgbW92ZWQgdG8gUElYSS5jYW52YXNVdGlscycpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuY2FudmFzVXRpbHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZXNwYWNlIFBJWEkuR3JvdXBEOFxuICAgICAgICAgKiBAc2VlIFBJWEkuZ3JvdXBEOFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgR3JvdXBEODoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkdyb3VwRDggbmFtZXNwYWNlIGhhcyBtb3ZlZCB0byBQSVhJLmdyb3VwRDgnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLmdyb3VwRDg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gQWxsIGNsYXNzZXMgcHJldmlvdXMgbmVzdGVkXG4gICAgICogdW5kZXIgdGhpcyBuYW1lc3BhY2UgaGF2ZSBiZWVuIG1vdmVkIHRvIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkuZXh0cmFzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLmV4dHJhcyA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5leHRyYXMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVcbiAgICAgICAgICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlsaW5nU3ByaXRlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlRpbGluZ1Nwcml0ZVJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBBbmltYXRlZFNwcml0ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQW5pbWF0ZWRTcHJpdGUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0XG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBUZXh0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBCaXRtYXBUZXh0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5CaXRtYXBUZXh0IGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcFRleHQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJpdG1hcFRleHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS51dGlscywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkudXRpbHMuZ2V0U3ZnU2l6ZVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLmdldFNpemVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGdldFN2Z1NpemU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMuZ2V0U3ZnU2l6ZSBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU1ZHUmVzb3VyY2UuZ2V0U2l6ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBbGwgY2xhc3NlcyBvbiB0aGlzIG5hbWVzcGFjZSBoYXZlIG1vdmVkIHRvIHRoZSBoaWdoLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLm1lc2hcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkubWVzaCA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5tZXNoLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk1lc2hcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZU1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE1lc2g6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5NZXNoIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlNpbXBsZU1lc2gnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZU1lc2g7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5OaW5lU2xpY2VQbGFuZVxuICAgICAgICAgKiBAc2VlIFBJWEkuTmluZVNsaWNlUGxhbmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE5pbmVTbGljZVBsYW5lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guTmluZVNsaWNlUGxhbmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTmluZVNsaWNlUGxhbmUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk5pbmVTbGljZVBsYW5lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUGxhbmVcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZVBsYW5lXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBQbGFuZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLlBsYW5lIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlNpbXBsZVBsYW5lJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TaW1wbGVQbGFuZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlJvcGVcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZVJvcGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJvcGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5Sb3BlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlNpbXBsZVJvcGUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZVJvcGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5SYXdNZXNoXG4gICAgICAgICAqIEBzZWUgUElYSS5NZXNoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSYXdNZXNoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUmF3TWVzaCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5NZXNoJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guQ2FudmFzTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5DYW52YXNNZXNoUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc01lc2hSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLkNhbnZhc01lc2hSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5DYW52YXNNZXNoUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkNhbnZhc01lc2hSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk1lc2hSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBNZXNoUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5NZXNoUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTWVzaFJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZCBhbmQgaXRlbXMgaGF2ZSBiZWVuIG1vdmVkIHRvXG4gICAgICogdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5wYXJ0aWNsZXNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkucGFydGljbGVzID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnBhcnRpY2xlcywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKi9cbiAgICAgICAgUGFydGljbGVDb250YWluZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlBhcnRpY2xlQ29udGFpbmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5QYXJ0aWNsZUNvbnRhaW5lcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuUGFydGljbGVSZW5kZXJlclxuICAgICAgICAgKi9cbiAgICAgICAgUGFydGljbGVSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wYXJ0aWNsZXMuUGFydGljbGVSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5QYXJ0aWNsZVJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5QYXJ0aWNsZVJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGl0ZW1zIGhhdmUgYmVlbiBtb3ZlZCB0b1xuICAgICAqIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkudGlja2VyXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnRpY2tlciA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS50aWNrZXIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnRpY2tlci5UaWNrZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRpY2tlclxuICAgICAgICAgKi9cbiAgICAgICAgVGlja2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnRpY2tlci5UaWNrZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlja2VyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWNrZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS50aWNrZXIuc2hhcmVkXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHNoYXJlZDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS50aWNrZXIuc2hhcmVkIGluc3RhbmNlIGhhcyBtb3ZlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWxsIGNsYXNzZXMgb24gdGhpcyBuYW1lc3BhY2UgaGF2ZSBtb3ZlZCB0byB0aGUgaGlnaC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5sb2FkZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLmxvYWRlcnMgPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkubG9hZGVycywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubG9hZGVycy5Mb2FkZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTG9hZGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuTG9hZGVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmxvYWRlcnMuUmVzb3VyY2VcbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlclJlc291cmNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSZXNvdXJjZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLlJlc291cmNlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlclJlc291cmNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXJSZXNvdXJjZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLmJpdG1hcEZvbnRQYXJzZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBiaXRtYXBGb250UGFyc2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuYml0bWFwRm9udFBhcnNlciBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQml0bWFwRm9udExvYWRlci51c2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5wYXJzZUJpdG1hcEZvbnREYXRhXG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250TG9hZGVyLnBhcnNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBwYXJzZUJpdG1hcEZvbnREYXRhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMucGFyc2VCaXRtYXBGb250RGF0YSBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5CaXRtYXBGb250TG9hZGVyLnBhcnNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBGb250TG9hZGVyLnBhcnNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuc3ByaXRlc2hlZXRQYXJzZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgc3ByaXRlc2hlZXRQYXJzZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5zcHJpdGVzaGVldFBhcnNlciBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5TcHJpdGVzaGVldExvYWRlci51c2UnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLmdldFJlc291cmNlUGF0aFxuICAgICAgICAgKiBAc2VlIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBnZXRSZXNvdXJjZVBhdGg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5nZXRSZXNvdXJjZVBhdGggcHJvcGVydHkgaGFzIG1vdmVkIHRvIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmVcbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtaWRkbGV3YXJlXG4gICAgICovXG4gICAgUElYSS5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmUgPSBmdW5jdGlvbiBhZGRQaXhpTWlkZGxld2FyZShtaWRkbGV3YXJlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsXG4gICAgICAgICAgICAnUElYSS5sb2FkZXJzLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZSBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5sb2FkZXJzLkxvYWRlci5yZWdpc3RlclBsdWdpbidcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gUElYSS5sb2FkZXJzLkxvYWRlci5yZWdpc3RlclBsdWdpbih7IHVzZTogbWlkZGxld2FyZSgpIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgUElYSS5leHRyYWN0LldlYkdMRXh0cmFjdFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLmV4dHJhY3QuRXh0cmFjdFxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLmV4dHJhY3QsICdXZWJHTEV4dHJhY3QnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0IG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5leHRyYWN0LkV4dHJhY3QnKTtcblxuICAgICAgICAgICAgcmV0dXJuIFBJWEkuZXh0cmFjdC5FeHRyYWN0O1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBJWEkucHJlcGFyZS5XZWJHTFByZXBhcmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5wcmVwYXJlLlByZXBhcmVcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5wcmVwYXJlLCAnV2ViR0xQcmVwYXJlJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5wcmVwYXJlLlByZXBhcmUnKTtcblxuICAgICAgICAgICAgcmV0dXJuIFBJWEkucHJlcGFyZS5QcmVwYXJlO1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNfcmVuZGVyV2ViR0xcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIuX3JlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIuX3JlbmRlcicpO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjcmVuZGVyV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLnJlbmRlcicpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkRpc3BsYXlPYmplY3QjcmVuZGVyV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5EaXNwbGF5T2JqZWN0I3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuRGlzcGxheU9iamVjdC5yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuRGlzcGxheU9iamVjdC5yZW5kZXInKTtcblxuICAgICAgICB0aGlzLnJlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjcmVuZGVyQWR2YW5jZWRXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJBZHZhbmNlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWRXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlckFkdmFuY2VkV2ViR0wocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ29udGFpbmVyLnJlbmRlckFkdmFuY2VkV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lci5yZW5kZXJBZHZhbmNlZCcpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnNldHRpbmdzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IHRyYW5zZm9ybSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRSQU5TRk9STV9NT0RFfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRSQU5TRk9STV9NT0RFLlNUQVRJQ1xuICAgICAgICAgKi9cbiAgICAgICAgVFJBTlNGT1JNX01PREU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc2V0dGluZ3MuVFJBTlNGT1JNX01PREUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zZXR0aW5ncy5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIEJhc2VUZXh0dXJlID0gUElYSS5CYXNlVGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgbG9hZFNvdXJjZVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlI1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmxvYWRTb3VyY2UgPSBmdW5jdGlvbiBsb2FkU291cmNlKGltYWdlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmxvYWRTb3VyY2UgbWV0aG9kIGhhcyBiZWVuIGRlcHJlY2F0ZWQnKTtcblxuICAgICAgICB2YXIgcmVzb3VyY2UgPSBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2UoaW1hZ2UpO1xuXG4gICAgICAgIHJlc291cmNlLmludGVybmFsID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgdmFyIGJhc2VUZXh0dXJlSWREZXByZWNhdGlvbiA9IGZhbHNlO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQmFzZVRleHR1cmUucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI2hhc0xvYWRlZFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZSN2YWxpZFxuICAgICAgICAgKi9cbiAgICAgICAgaGFzTG9hZGVkOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmhhc0xvYWRlZCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS52YWxpZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsaWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNpbWFnZVVybFxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2UuSW1hZ2VSZXNvdXJjZSN1cmxcbiAgICAgICAgICovXG4gICAgICAgIGltYWdlVXJsOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmltYWdlVXJsIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnVybCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2UgJiYgdGhpcy5yZXNvdXJjZS51cmw7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbWFnZVVybClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuaW1hZ2VVcmwgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2UudXJsJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2UudXJsID0gaW1hZ2VVcmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjc291cmNlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2Ujc291cmNlXG4gICAgICAgICAqL1xuICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuc291cmNlIHByb3BlcnR5IGhhcyBiZWVuIG1vdmVkLCB1c2UgYFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2Uuc291cmNlYCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2UgJiYgdGhpcy5yZXNvdXJjZS5zb3VyY2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoc291cmNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5zb3VyY2UgcHJvcGVydHkgaGFzIGJlZW4gbW92ZWQsIHVzZSBgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS5zb3VyY2VgICdcbiAgICAgICAgICAgICAgICAgICAgKyAnaWYgeW91IHdhbnQgdG8gc2V0IEhUTUxDYW52YXNFbGVtZW50LiBPdGhlcndpc2UsIGNyZWF0ZSBuZXcgQmFzZVRleHR1cmUuJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2Uuc291cmNlID0gc291cmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjcHJlbXVsdGlwbHlBbHBoYVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZSNhbHBoYU1vZGVcbiAgICAgICAgICovXG4gICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5CYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhIHByb3BlcnR5IGhhcyBiZWVuIGNoYW5nZWQgdG8gYGFscGhhTW9kZWAnXG4gICAgICAgICAgICAgICAgICAgICsgJywgc2VlIGBQSVhJLkFMUEhBX01PREVTYCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxwaGFNb2RlICE9PSAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgcHJvcGVydHkgaGFzIGJlZW4gY2hhbmdlZCB0byBgYWxwaGFNb2RlYCdcbiAgICAgICAgICAgICAgICAgICAgKyAnLCBzZWUgYFBJWEkuQUxQSEFfTU9ERVNgJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFscGhhTW9kZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2ggbG9jYWwgZmllbGQsIHN0b3JlcyBjdXJyZW50IHRleHR1cmUgbG9jYXRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNfaWRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlI19iYXRjaExvY2F0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2VUZXh0dXJlSWREZXByZWNhdGlvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vICNwb3BlbHlzaGV2OiBUaGF0IHByb3BlcnR5IHdhcyBhIGhvdCBwbGFjZSwgSSBkb24ndCB3YW50IHRvIGNhbGwgZGVwcmVjYXRpb24gbWV0aG9kIG9uIGl0IGlmIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLkJhc2VUZXh0dXJlLl9pZCBiYXRjaCBsb2NhbCBmaWVsZCBoYXMgYmVlbiBjaGFuZ2VkIHRvIGBfYmF0Y2hMb2NhdGlvbmAnKTtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleHR1cmVJZERlcHJlY2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmF0Y2hMb2NhdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9iYXRjaExvY2F0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmcm9tSW1hZ2VcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGNhbnZhcywgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc2NhbGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbUltYWdlIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuXG4gICAgICAgIHZhciByZXNvdXJjZU9wdGlvbnMgPSB7IHNjYWxlOiBzY2FsZSwgY3Jvc3NvcmlnaW46IGNyb3Nzb3JpZ2luIH07XG5cbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZTogc2NhbGVNb2RlLCByZXNvdXJjZU9wdGlvbnM6IHJlc291cmNlT3B0aW9ucyB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmcm9tQ2FudmFzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb21DYW52YXMgPSBmdW5jdGlvbiBmcm9tQ2FudmFzKGNhbnZhcywgc2NhbGVNb2RlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmZyb21DYW52YXMgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5CYXNlVGV4dHVyZS5mcm9tJyk7XG5cbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZTogc2NhbGVNb2RlIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21TVkdcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbVNWRyA9IGZ1bmN0aW9uIGZyb21TVkcoY2FudmFzLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzY2FsZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tU1ZHIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuXG4gICAgICAgIHZhciByZXNvdXJjZU9wdGlvbnMgPSB7IHNjYWxlOiBzY2FsZSwgY3Jvc3NvcmlnaW46IGNyb3Nzb3JpZ2luIH07XG5cbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZTogc2NhbGVNb2RlLCByZXNvdXJjZU9wdGlvbnM6IHJlc291cmNlT3B0aW9ucyB9KTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2UjcHJlbXVsdGlwbHlBbHBoYVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4yLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZSNhbHBoYU1vZGVcbiAgICAgICAgICovXG4gICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbignNS4yLjAnLCAnUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZS5wcmVtdWx0aXBseUFscGhhIHByb3BlcnR5ICdcbiAgICAgICAgICAgICAgICAgICAgKyAnaGFzIGJlZW4gY2hhbmdlZCB0byBgYWxwaGFNb2RlYCwgc2VlIGBQSVhJLkFMUEhBX01PREVTYCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxwaGFNb2RlICE9PSAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjIuMCcsICdQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlLnByZW11bHRpcGx5QWxwaGEgcHJvcGVydHkgJ1xuICAgICAgICAgICAgICAgICAgICArICdoYXMgYmVlbiBjaGFuZ2VkIHRvIGBhbHBoYU1vZGVgLCBzZWUgYFBJWEkuQUxQSEFfTU9ERVNgJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbHBoYU1vZGUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Qb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlBvaW50LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5Qb2ludC5jb3B5RnJvbScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5PYnNlcnZhYmxlUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLk9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocClcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5PYnNlcnZhYmxlUG9pbnQuY29weSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLk9ic2VydmFibGVQb2ludC5jb3B5RnJvbScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuUmVjdGFuZ2xlI2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5SZWN0YW5nbGUjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlJlY3RhbmdsZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocClcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZWN0YW5nbGUuY29weSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLlJlY3RhbmdsZS5jb3B5RnJvbScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuTWF0cml4I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5NYXRyaXgjY29weVRvXG4gICAgICovXG4gICAgUElYSS5NYXRyaXgucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuTWF0cml4LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5NYXRyaXguY29weVRvJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29weVRvKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbSNzZXRTdGF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMS4wXG4gICAgICogQHNlZSBQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW0jc2V0XG4gICAgICovXG4gICAgUElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKHMpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbigndjUuMS4wJywgJ1N0YXRlU3lzdGVtLnNldFN0YXRlIGhhcyBiZWVuIHJlbmFtZWQgdG8gU3RhdGVTeXN0ZW0uc2V0Jyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KHMpO1xuICAgIH07XG5cbiAgICBPYmplY3QuYXNzaWduKFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuRmlsdGVyTWFuYWdlciNnZXRSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2dldEZpbHRlclRleHR1cmVcbiAgICAgICAgICovXG4gICAgICAgIGdldFJlbmRlclRhcmdldDogZnVuY3Rpb24gZ2V0UmVuZGVyVGFyZ2V0KGNsZWFyLCByZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSxcbiAgICAgICAgICAgICAgICAnUElYSS5GaWx0ZXJNYW5hZ2VyLmdldFJlbmRlclRhcmdldCBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2dldEZpbHRlclRleHR1cmUnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGaWx0ZXJUZXh0dXJlKHJlc29sdXRpb24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuRmlsdGVyTWFuYWdlciNyZXR1cm5SZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI3JldHVybkZpbHRlclRleHR1cmVcbiAgICAgICAgICovXG4gICAgICAgIHJldHVyblJlbmRlclRhcmdldDogZnVuY3Rpb24gcmV0dXJuUmVuZGVyVGFyZ2V0KHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LFxuICAgICAgICAgICAgICAgICdQSVhJLkZpbHRlck1hbmFnZXIucmV0dXJuUmVuZGVyVGFyZ2V0IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoICdcbiAgICAgICAgICAgICAgICArICdQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLnJldHVybkZpbHRlclRleHR1cmUnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSB0aGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAgICAgKi9cbiAgICAgICAgY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXg6IGZ1bmN0aW9uIGNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4IG1ldGhvZCBpcyByZW1vdmVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGAodlRleHR1cmVDb29yZCAqIGlucHV0U2l6ZS54eSkgKyBvdXRwdXRGcmFtZS54eWAgaW5zdGVhZCcpO1xuXG4gICAgICAgICAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG4gICAgICAgICAgICB2YXIgcmVmID0gdGhpcy5hY3RpdmVTdGF0ZTtcbiAgICAgICAgICAgIHZhciBzb3VyY2VGcmFtZSA9IHJlZi5zb3VyY2VGcmFtZTtcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gcmVmLmRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc291cmNlRnJhbWUueCAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIHNvdXJjZUZyYW1lLnkgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUoZGVzdGluYXRpb25GcmFtZS53aWR0aCwgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIFRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICAgICAqL1xuICAgICAgICBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXg6IGZ1bmN0aW9uIGNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zeXN0ZW1zLkZpbHRlck1hbmFnZXIuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4IG1ldGhvZCBpcyByZW1vdmVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGAoKHZUZXh0dXJlQ29vcmQgKiBpbnB1dFNpemUueHkpICsgb3V0cHV0RnJhbWUueHkpIC8gb3V0cHV0RnJhbWUuendgIGluc3RlYWQuJyk7XG5cbiAgICAgICAgICAgIHZhciByZWYgPSB0aGlzLmFjdGl2ZVN0YXRlO1xuICAgICAgICAgICAgdmFyIHNvdXJjZUZyYW1lID0gcmVmLnNvdXJjZUZyYW1lO1xuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSByZWYuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguaWRlbnRpdHkoKTtcblxuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzb3VyY2VGcmFtZS54IC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCwgc291cmNlRnJhbWUueSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVNjYWxlWCA9IChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gc291cmNlRnJhbWUud2lkdGgpO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVNjYWxlWSA9IChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHNvdXJjZUZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC5zY2FsZSh0cmFuc2xhdGVTY2FsZVgsIHRyYW5zbGF0ZVNjYWxlWSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLlJlbmRlclRleHR1cmUucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlclRleHR1cmUjc291cmNlRnJhbWVcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHNvdXJjZUZyYW1lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlclRleHR1cmUuc291cmNlRnJhbWUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyRnJhbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJUZXh0dXJlI3NpemVcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyVGV4dHVyZS5zaXplIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmx1clhGaWx0ZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgICAqL1xuICAgIHZhciBCbHVyWEZpbHRlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKHN1cGVyY2xhc3MpIHtcbiAgICAgICAgZnVuY3Rpb24gQmx1clhGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5maWx0ZXJzLkJsdXJYRmlsdGVyIGNsYXNzIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MnKTtcblxuICAgICAgICAgICAgc3VwZXJjbGFzcy5jYWxsKHRoaXMsIHRydWUsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggc3VwZXJjbGFzcyApIEJsdXJYRmlsdGVyLl9fcHJvdG9fXyA9IHN1cGVyY2xhc3M7XG4gICAgICAgIEJsdXJYRmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIHN1cGVyY2xhc3MgJiYgc3VwZXJjbGFzcy5wcm90b3R5cGUgKTtcbiAgICAgICAgQmx1clhGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmx1clhGaWx0ZXI7XG5cbiAgICAgICAgcmV0dXJuIEJsdXJYRmlsdGVyO1xuICAgIH0oUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzKSk7XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmx1cllGaWx0ZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgICAqL1xuICAgIHZhciBCbHVyWUZpbHRlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKHN1cGVyY2xhc3MpIHtcbiAgICAgICAgZnVuY3Rpb24gQmx1cllGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5maWx0ZXJzLkJsdXJZRmlsdGVyIGNsYXNzIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MnKTtcblxuICAgICAgICAgICAgc3VwZXJjbGFzcy5jYWxsKHRoaXMsIGZhbHNlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHN1cGVyY2xhc3MgKSBCbHVyWUZpbHRlci5fX3Byb3RvX18gPSBzdXBlcmNsYXNzO1xuICAgICAgICBCbHVyWUZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBzdXBlcmNsYXNzICYmIHN1cGVyY2xhc3MucHJvdG90eXBlICk7XG4gICAgICAgIEJsdXJZRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJsdXJZRmlsdGVyO1xuXG4gICAgICAgIHJldHVybiBCbHVyWUZpbHRlcjtcbiAgICB9KFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcykpO1xuXG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLmZpbHRlcnMsIHtcbiAgICAgICAgQmx1clhGaWx0ZXI6IEJsdXJYRmlsdGVyLFxuICAgICAgICBCbHVyWUZpbHRlcjogQmx1cllGaWx0ZXIsXG4gICAgfSk7XG5cbiAgICB2YXIgU3ByaXRlID0gUElYSS5TcHJpdGU7XG4gICAgdmFyIFRleHR1cmUgPSBQSVhJLlRleHR1cmU7XG4gICAgdmFyIEdyYXBoaWNzID0gUElYSS5HcmFwaGljcztcblxuICAgIC8vIFN1cHBvcnQgZm9yIHBpeGkuanMtbGVnYWN5IGJpZnVyY2F0aW9uXG4gICAgLy8gZ2l2ZSB1c2VycyBhIGZyaWVuZGx5IGFzc2lzdCB0byB1c2UgbGVnYWN5XG4gICAgaWYgKCFHcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVDYW52YXNUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgR3JhcGhpY3MucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlQ2FudmFzVGV4dHVyZSgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5HcmFwaGljcy5nZW5lcmF0ZUNhbnZhc1RleHR1cmUgbWV0aG9kIGlzIG9ubHkgYXZhaWxhYmxlIGluIFwicGl4aS5qcy1sZWdhY3lcIicpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc30gUElYSS5HcmFwaGljcyNncmFwaGljc0RhdGFcbiAgICAgKiBAc2VlIFBJWEkuR3JhcGhpY3MjZ2VvbWV0cnlcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5HcmFwaGljcy5wcm90b3R5cGUsICdncmFwaGljc0RhdGEnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkdyYXBoaWNzLmdyYXBoaWNzRGF0YSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5HcmFwaGljcy5nZW9tZXRyeS5ncmFwaGljc0RhdGEnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhO1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gVXNlIHRoZXNlIHRvIGRlcHJlY2F0ZSBhbGwgdGhlIFNwcml0ZSBmcm9tKiBtZXRob2RzXG4gICAgZnVuY3Rpb24gc3ByaXRlRnJvbShuYW1lLCBzb3VyY2UsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgKFwiUElYSS5TcHJpdGUuXCIgKyBuYW1lICsgXCIgbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlNwcml0ZS5mcm9tXCIpKTtcblxuICAgICAgICByZXR1cm4gU3ByaXRlLmZyb20oc291cmNlLCB7XG4gICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tSW1hZ2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbUltYWdlID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tSW1hZ2UnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tU1ZHXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21TVkcgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21TVkcnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tQ2FudmFzXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21DYW52YXMgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21DYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tVmlkZW9cbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbVZpZGVvID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tVmlkZW8nKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tRnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbUZyYW1lID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tRnJhbWUnKTtcblxuICAgIC8vIFVzZSB0aGVzZSB0byBkZXByZWNhdGUgYWxsIHRoZSBUZXh0dXJlIGZyb20qIG1ldGhvZHNcbiAgICBmdW5jdGlvbiB0ZXh0dXJlRnJvbShuYW1lLCBzb3VyY2UsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgKFwiUElYSS5UZXh0dXJlLlwiICsgbmFtZSArIFwiIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5UZXh0dXJlLmZyb21cIikpO1xuXG4gICAgICAgIHJldHVybiBUZXh0dXJlLmZyb20oc291cmNlLCB7XG4gICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUltYWdlXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21JbWFnZSA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21JbWFnZScpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tU1ZHXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21TVkcgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tU1ZHJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21DYW52YXNcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUNhbnZhcyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21DYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbVZpZGVvXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21WaWRlbyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21WaWRlbycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tRnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUZyYW1lID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUZyYW1lJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59IFBJWEkuQWJzdHJhY3RSZW5kZXJlciNhdXRvUmVzaXplXG4gICAgICogQHNlZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIjYXV0b0RlbnNpdHlcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5BYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgJ2F1dG9SZXNpemUnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b1Jlc2l6ZSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIFBJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvRGVuc2l0eScpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRvRGVuc2l0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9SZXNpemUgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b0RlbnNpdHknKTtcblxuICAgICAgICAgICAgdGhpcy5hdXRvRGVuc2l0eSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZVN5c3RlbX0gUElYSS5SZW5kZXJlciN0ZXh0dXJlTWFuYWdlclxuICAgICAqIEBzZWUgUElYSS5SZW5kZXJlciN0ZXh0dXJlXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuUmVuZGVyZXIucHJvdG90eXBlLCAndGV4dHVyZU1hbmFnZXInLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlJlbmRlcmVyLnRleHR1cmUnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS51dGlscy5taXhpbnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkudXRpbHMubWl4aW5zID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBtaXhpblxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgbWl4aW46IGZ1bmN0aW9uIG1peGluKClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5taXhpbiBmdW5jdGlvbiBpcyBubyBsb25nZXIgYXZhaWxhYmxlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAgICAgICAgICogQGZ1bmN0aW9uIGRlbGF5TWl4aW5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGRlbGF5TWl4aW46IGZ1bmN0aW9uIGRlbGF5TWl4aW4oKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLmRlbGF5TWl4aW4gZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBwZXJmb3JtTWl4aW5zXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBwZXJmb3JtTWl4aW5zOiBmdW5jdGlvbiBwZXJmb3JtTWl4aW5zKClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5wZXJmb3JtTWl4aW5zIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG4vLyBJbnN0YWxsIHJlbmRlcmVyIHBsdWdpbnNcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdhY2Nlc3NpYmlsaXR5JywgQWNjZXNzaWJpbGl0eU1hbmFnZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2V4dHJhY3QnLCBFeHRyYWN0KTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIEludGVyYWN0aW9uTWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigncGFydGljbGUnLCBQYXJ0aWNsZVJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwcmVwYXJlJywgUHJlcGFyZSk7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignYmF0Y2gnLCBCYXRjaFJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCd0aWxpbmdTcHJpdGUnLCBUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG5cbkxvYWRlci5yZWdpc3RlclBsdWdpbihCaXRtYXBGb250TG9hZGVyKTtcbkxvYWRlci5yZWdpc3RlclBsdWdpbihTcHJpdGVzaGVldExvYWRlcik7XG5cbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFRpY2tlclBsdWdpbik7XG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihBcHBMb2FkZXJQbHVnaW4pO1xuXG4vKipcbiAqIFN0cmluZyBvZiB0aGUgY3VycmVudCBQSVhJIHZlcnNpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgVkVSU0lPTlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIFZFUlNJT04gPSAnNS4yLjAnO1xuXG4vKipcbiAqIEBuYW1lc3BhY2UgUElYSVxuICovXG5cbi8qKlxuICogVGhpcyBuYW1lc3BhY2UgY29udGFpbnMgV2ViR0wtb25seSBkaXNwbGF5IGZpbHRlcnMgdGhhdCBjYW4gYmUgYXBwbGllZFxuICogdG8gRGlzcGxheU9iamVjdHMgdXNpbmcgdGhlIHtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZmlsdGVycyBmaWx0ZXJzfSBwcm9wZXJ0eS5cbiAqXG4gKiBTaW5jZSBQaXhpSlMgb25seSBoYWQgYSBoYW5kZnVsIG9mIGJ1aWx0LWluIGZpbHRlcnMsIGFkZGl0aW9uYWwgZmlsdGVyc1xuICogY2FuIGJlIGRvd25sb2FkZWQge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1maWx0ZXJzIGhlcmV9IGZyb20gdGhlXG4gKiBQaXhpSlMgRmlsdGVycyByZXBvc2l0b3J5LlxuICpcbiAqIEFsbCBmaWx0ZXJzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLkZpbHRlcn0uXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBEcmF3IGEgZ3JlZW4gcmVjdGFuZ2xlXG4gKiBjb25zdCByZWN0ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHgwMGZmMDApXG4gKiAgICAgLmRyYXdSZWN0KDQwLCA0MCwgMjAwLCAyMDApO1xuICpcbiAqIC8vIEFkZCBhIGJsdXIgZmlsdGVyXG4gKiByZWN0LmZpbHRlcnMgPSBbbmV3IFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyKCldO1xuICpcbiAqIC8vIERpc3BsYXkgcmVjdGFuZ2xlXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqIEBuYW1lc3BhY2UgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBmaWx0ZXJzID0ge1xuICAgIEFscGhhRmlsdGVyOiBBbHBoYUZpbHRlcixcbiAgICBCbHVyRmlsdGVyOiBCbHVyRmlsdGVyLFxuICAgIEJsdXJGaWx0ZXJQYXNzOiBCbHVyRmlsdGVyUGFzcyxcbiAgICBDb2xvck1hdHJpeEZpbHRlcjogQ29sb3JNYXRyaXhGaWx0ZXIsXG4gICAgRGlzcGxhY2VtZW50RmlsdGVyOiBEaXNwbGFjZW1lbnRGaWx0ZXIsXG4gICAgRlhBQUZpbHRlcjogRlhBQUZpbHRlcixcbiAgICBOb2lzZUZpbHRlcjogTm9pc2VGaWx0ZXIsXG59O1xuXG5leHBvcnQgeyBWRVJTSU9OLCBmaWx0ZXJzLCB1c2VEZXByZWNhdGVkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXhpLmVzLmpzLm1hcFxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHB1bnljb2RlID0gcmVxdWlyZSgncHVueWNvZGUnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmV4cG9ydHMucGFyc2UgPSB1cmxQYXJzZTtcbmV4cG9ydHMucmVzb2x2ZSA9IHVybFJlc29sdmU7XG5leHBvcnRzLnJlc29sdmVPYmplY3QgPSB1cmxSZXNvbHZlT2JqZWN0O1xuZXhwb3J0cy5mb3JtYXQgPSB1cmxGb3JtYXQ7XG5cbmV4cG9ydHMuVXJsID0gVXJsO1xuXG5mdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgICBwb3J0UGF0dGVybiA9IC86WzAtOV0qJC8sXG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGEgc2ltcGxlIHBhdGggVVJMXG4gICAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgcmVzZXJ2ZWQgZm9yIGRlbGltaXRpbmcgVVJMcy5cbiAgICAvLyBXZSBhY3R1YWxseSBqdXN0IGF1dG8tZXNjYXBlIHRoZXNlLlxuICAgIGRlbGltcyA9IFsnPCcsICc+JywgJ1wiJywgJ2AnLCAnICcsICdcXHInLCAnXFxuJywgJ1xcdCddLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgbm90IGFsbG93ZWQgZm9yIHZhcmlvdXMgcmVhc29ucy5cbiAgICB1bndpc2UgPSBbJ3snLCAnfScsICd8JywgJ1xcXFwnLCAnXicsICdgJ10uY29uY2F0KGRlbGltcyksXG5cbiAgICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuXG4gICAgYXV0b0VzY2FwZSA9IFsnXFwnJ10uY29uY2F0KHVud2lzZSksXG4gICAgLy8gQ2hhcmFjdGVycyB0aGF0IGFyZSBuZXZlciBldmVyIGFsbG93ZWQgaW4gYSBob3N0bmFtZS5cbiAgICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlXG4gICAgLy8gYXJlIHRoZSBvbmVzIHRoYXQgYXJlICpleHBlY3RlZCogdG8gYmUgc2Vlbiwgc28gd2UgZmFzdC1wYXRoXG4gICAgLy8gdGhlbS5cbiAgICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgICBob3N0RW5kaW5nQ2hhcnMgPSBbJy8nLCAnPycsICcjJ10sXG4gICAgaG9zdG5hbWVNYXhMZW4gPSAyNTUsXG4gICAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLyxcbiAgICBob3N0bmFtZVBhcnRTdGFydCA9IC9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBjYW4gYWxsb3cgXCJ1bnNhZmVcIiBhbmQgXCJ1bndpc2VcIiBjaGFycy5cbiAgICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS5cbiAgICBob3N0bGVzc1Byb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gICAgc2xhc2hlZFByb3RvY29sID0ge1xuICAgICAgJ2h0dHAnOiB0cnVlLFxuICAgICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAgICdmdHAnOiB0cnVlLFxuICAgICAgJ2dvcGhlcic6IHRydWUsXG4gICAgICAnZmlsZSc6IHRydWUsXG4gICAgICAnaHR0cDonOiB0cnVlLFxuICAgICAgJ2h0dHBzOic6IHRydWUsXG4gICAgICAnZnRwOic6IHRydWUsXG4gICAgICAnZ29waGVyOic6IHRydWUsXG4gICAgICAnZmlsZTonOiB0cnVlXG4gICAgfSxcbiAgICBxdWVyeXN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiB1dGlsLmlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5cblVybC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICghdXRpbC5pc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIgKyB0eXBlb2YgdXJsKTtcbiAgfVxuXG4gIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLlxuICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcbiAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcbiAgdmFyIHF1ZXJ5SW5kZXggPSB1cmwuaW5kZXhPZignPycpLFxuICAgICAgc3BsaXR0ZXIgPVxuICAgICAgICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLFxuICAgICAgc2xhc2hSZWdleCA9IC9cXFxcL2c7XG4gIHVTcGxpdFswXSA9IHVTcGxpdFswXS5yZXBsYWNlKHNsYXNoUmVnZXgsICcvJyk7XG4gIHVybCA9IHVTcGxpdC5qb2luKHNwbGl0dGVyKTtcblxuICB2YXIgcmVzdCA9IHVybDtcblxuICAvLyB0cmltIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgcGFyc2Ugc3R1ZmYgbGlrZSBcIiAgaHR0cDovL2Zvby5jb20gIFxcblwiXG4gIHJlc3QgPSByZXN0LnRyaW0oKTtcblxuICBpZiAoIXNsYXNoZXNEZW5vdGVIb3N0ICYmIHVybC5zcGxpdCgnIycpLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFRyeSBmYXN0IHBhdGggcmVnZXhwXG4gICAgdmFyIHNpbXBsZVBhdGggPSBzaW1wbGVQYXRoUGF0dGVybi5leGVjKHJlc3QpO1xuICAgIGlmIChzaW1wbGVQYXRoKSB7XG4gICAgICB0aGlzLnBhdGggPSByZXN0O1xuICAgICAgdGhpcy5ocmVmID0gcmVzdDtcbiAgICAgIHRoaXMucGF0aG5hbWUgPSBzaW1wbGVQYXRoWzFdO1xuICAgICAgaWYgKHNpbXBsZVBhdGhbMl0pIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBzaW1wbGVQYXRoWzJdO1xuICAgICAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnNlYXJjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvdG8gPSBwcm90b2NvbFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgaWYgKHByb3RvKSB7XG4gICAgcHJvdG8gPSBwcm90b1swXTtcbiAgICB2YXIgbG93ZXJQcm90byA9IHByb3RvLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm90b2NvbCA9IGxvd2VyUHJvdG87XG4gICAgcmVzdCA9IHJlc3Quc3Vic3RyKHByb3RvLmxlbmd0aCk7XG4gIH1cblxuICAvLyBmaWd1cmUgb3V0IGlmIGl0J3MgZ290IGEgaG9zdFxuICAvLyB1c2VyQHNlcnZlciBpcyAqYWx3YXlzKiBpbnRlcnByZXRlZCBhcyBhIGhvc3RuYW1lLCBhbmQgdXJsXG4gIC8vIHJlc29sdXRpb24gd2lsbCB0cmVhdCAvL2Zvby9iYXIgYXMgaG9zdD1mb28scGF0aD1iYXIgYmVjYXVzZSB0aGF0J3NcbiAgLy8gaG93IHRoZSBicm93c2VyIHJlc29sdmVzIHJlbGF0aXZlIFVSTHMuXG4gIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSkge1xuICAgIHZhciBzbGFzaGVzID0gcmVzdC5zdWJzdHIoMCwgMikgPT09ICcvLyc7XG4gICAgaWYgKHNsYXNoZXMgJiYgIShwcm90byAmJiBob3N0bGVzc1Byb3RvY29sW3Byb3RvXSkpIHtcbiAgICAgIHJlc3QgPSByZXN0LnN1YnN0cigyKTtcbiAgICAgIHRoaXMuc2xhc2hlcyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFob3N0bGVzc1Byb3RvY29sW3Byb3RvXSAmJlxuICAgICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3N0RW5kaW5nQ2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2YoaG9zdEVuZGluZ0NoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG5cbiAgICAvLyBhdCB0aGlzIHBvaW50LCBlaXRoZXIgd2UgaGF2ZSBhbiBleHBsaWNpdCBwb2ludCB3aGVyZSB0aGVcbiAgICAvLyBhdXRoIHBvcnRpb24gY2Fubm90IGdvIHBhc3QsIG9yIHRoZSBsYXN0IEAgY2hhciBpcyB0aGUgZGVjaWRlci5cbiAgICB2YXIgYXV0aCwgYXRTaWduO1xuICAgIGlmIChob3N0RW5kID09PSAtMSkge1xuICAgICAgLy8gYXRTaWduIGNhbiBiZSBhbnl3aGVyZS5cbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLlxuICAgICAgLy8gaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGRcbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnLCBob3N0RW5kKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgaGF2ZSBhIHBvcnRpb24gd2hpY2ggaXMgZGVmaW5pdGVseSB0aGUgYXV0aC5cbiAgICAvLyBQdWxsIHRoYXQgb2ZmLlxuICAgIGlmIChhdFNpZ24gIT09IC0xKSB7XG4gICAgICBhdXRoID0gcmVzdC5zbGljZSgwLCBhdFNpZ24pO1xuICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoYXRTaWduICsgMSk7XG4gICAgICB0aGlzLmF1dGggPSBkZWNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGhvc3QgaXMgdGhlIHJlbWFpbmluZyB0byB0aGUgbGVmdCBvZiB0aGUgZmlyc3Qgbm9uLWhvc3QgY2hhclxuICAgIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihub25Ib3N0Q2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIG5vdCBoaXQgaXQsIHRoZW4gdGhlIGVudGlyZSB0aGluZyBpcyBhIGhvc3QuXG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKVxuICAgICAgaG9zdEVuZCA9IHJlc3QubGVuZ3RoO1xuXG4gICAgdGhpcy5ob3N0ID0gcmVzdC5zbGljZSgwLCBob3N0RW5kKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZShob3N0RW5kKTtcblxuICAgIC8vIHB1bGwgb3V0IHBvcnQuXG4gICAgdGhpcy5wYXJzZUhvc3QoKTtcblxuICAgIC8vIHdlJ3ZlIGluZGljYXRlZCB0aGF0IHRoZXJlIGlzIGEgaG9zdG5hbWUsXG4gICAgLy8gc28gZXZlbiBpZiBpdCdzIGVtcHR5LCBpdCBoYXMgdG8gYmUgcHJlc2VudC5cbiAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcblxuICAgIC8vIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdXG4gICAgLy8gYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuXG4gICAgdmFyIGlwdjZIb3N0bmFtZSA9IHRoaXMuaG9zdG5hbWVbMF0gPT09ICdbJyAmJlxuICAgICAgICB0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT09ICddJztcblxuICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLlxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB2YXIgaG9zdHBhcnRzID0gdGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGhvc3RwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBob3N0cGFydHNbaV07XG4gICAgICAgIGlmICghcGFydCkgY29udGludWU7XG4gICAgICAgIGlmICghcGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgIHZhciBuZXdwYXJ0ID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGsgPSBwYXJ0Lmxlbmd0aDsgaiA8IGs7IGorKykge1xuICAgICAgICAgICAgaWYgKHBhcnQuY2hhckNvZGVBdChqKSA+IDEyNykge1xuICAgICAgICAgICAgICAvLyB3ZSByZXBsYWNlIG5vbi1BU0NJSSBjaGFyIHdpdGggYSB0ZW1wb3JhcnkgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGlzIHRvIG1ha2Ugc3VyZSBzaXplIG9mIGhvc3RuYW1lIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBicm9rZW4gYnkgcmVwbGFjaW5nIG5vbi1BU0NJSSBieSBub3RoaW5nXG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gJ3gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3cGFydCArPSBwYXJ0W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3ZSB0ZXN0IGFnYWluIHdpdGggQVNDSUkgY2hhciBvbmx5XG4gICAgICAgICAgaWYgKCFuZXdwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXJ0cyA9IGhvc3RwYXJ0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIHZhciBub3RIb3N0ID0gaG9zdHBhcnRzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgICAgIHZhciBiaXQgPSBwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChiaXQpIHtcbiAgICAgICAgICAgICAgdmFsaWRQYXJ0cy5wdXNoKGJpdFsxXSk7XG4gICAgICAgICAgICAgIG5vdEhvc3QudW5zaGlmdChiaXRbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vdEhvc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlc3QgPSAnLycgKyBub3RIb3N0LmpvaW4oJy4nKSArIHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhvc3RuYW1lID0gdmFsaWRQYXJ0cy5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob3N0bmFtZS5sZW5ndGggPiBob3N0bmFtZU1heExlbikge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBob3N0bmFtZXMgYXJlIGFsd2F5cyBsb3dlciBjYXNlLlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgICAvLyBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0XG4gICAgICAvLyBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmXG4gICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5ob3N0bmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHAgPSB0aGlzLnBvcnQgPyAnOicgKyB0aGlzLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG4gICAgdGhpcy5ob3N0ID0gaCArIHA7XG4gICAgdGhpcy5ocmVmICs9IHRoaXMuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnN1YnN0cigxLCB0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF1dG9Fc2NhcGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYWUgPSBhdXRvRXNjYXBlW2ldO1xuICAgICAgaWYgKHJlc3QuaW5kZXhPZihhZSkgPT09IC0xKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpO1xuICAgICAgaWYgKGVzYyA9PT0gYWUpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGFlKTtcbiAgICAgIH1cbiAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7XG4gICAgfVxuICB9XG5cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHRoaXMucGF0aG5hbWUgPSByZXN0O1xuICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmXG4gICAgICB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgaWYgKHRoaXMucGF0aG5hbWUgfHwgdGhpcy5zZWFyY2gpIHtcbiAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgJyc7XG4gICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCAnJztcbiAgICB0aGlzLnBhdGggPSBwICsgcztcbiAgfVxuXG4gIC8vIGZpbmFsbHksIHJlY29uc3RydWN0IHRoZSBocmVmIGJhc2VkIG9uIHdoYXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICB0aGlzLmhyZWYgPSB0aGlzLmZvcm1hdCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGZvcm1hdCBhIHBhcnNlZCBvYmplY3QgaW50byBhIHVybCBzdHJpbmdcbmZ1bmN0aW9uIHVybEZvcm1hdChvYmopIHtcbiAgLy8gZW5zdXJlIGl0J3MgYW4gb2JqZWN0LCBhbmQgbm90IGEgc3RyaW5nIHVybC5cbiAgLy8gSWYgaXQncyBhbiBvYmosIHRoaXMgaXMgYSBuby1vcC5cbiAgLy8gdGhpcyB3YXksIHlvdSBjYW4gY2FsbCB1cmxfZm9ybWF0KCkgb24gc3RyaW5nc1xuICAvLyB0byBjbGVhbiB1cCBwb3RlbnRpYWxseSB3b25reSB1cmxzLlxuICBpZiAodXRpbC5pc1N0cmluZyhvYmopKSBvYmogPSB1cmxQYXJzZShvYmopO1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBVcmwpKSByZXR1cm4gVXJsLnByb3RvdHlwZS5mb3JtYXQuY2FsbChvYmopO1xuICByZXR1cm4gb2JqLmZvcm1hdCgpO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXV0aCA9IHRoaXMuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCB8fCAnJyxcbiAgICAgIHBhdGhuYW1lID0gdGhpcy5wYXRobmFtZSB8fCAnJyxcbiAgICAgIGhhc2ggPSB0aGlzLmhhc2ggfHwgJycsXG4gICAgICBob3N0ID0gZmFsc2UsXG4gICAgICBxdWVyeSA9ICcnO1xuXG4gIGlmICh0aGlzLmhvc3QpIHtcbiAgICBob3N0ID0gYXV0aCArIHRoaXMuaG9zdDtcbiAgfSBlbHNlIGlmICh0aGlzLmhvc3RuYW1lKSB7XG4gICAgaG9zdCA9IGF1dGggKyAodGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgPT09IC0xID9cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA6XG4gICAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmICh0aGlzLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgdGhpcy5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5ICYmXG4gICAgICB1dGlsLmlzT2JqZWN0KHRoaXMucXVlcnkpICYmXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KTtcbiAgfVxuXG4gIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaCB8fCAocXVlcnkgJiYgKCc/JyArIHF1ZXJ5KSkgfHwgJyc7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLnN1YnN0cigtMSkgIT09ICc6JykgcHJvdG9jb2wgKz0gJzonO1xuXG4gIC8vIG9ubHkgdGhlIHNsYXNoZWRQcm90b2NvbHMgZ2V0IHRoZSAvLy4gIE5vdCBtYWlsdG86LCB4bXBwOiwgZXRjLlxuICAvLyB1bmxlc3MgdGhleSBoYWQgdGhlbSB0byBiZWdpbiB3aXRoLlxuICBpZiAodGhpcy5zbGFzaGVzIHx8XG4gICAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlKHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgcmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh1cmxQYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpKS5mb3JtYXQoKTtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmVPYmplY3Qoc291cmNlLCByZWxhdGl2ZSkge1xuICBpZiAoIXNvdXJjZSkgcmV0dXJuIHJlbGF0aXZlO1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZU9iamVjdChyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIGlmICh1dGlsLmlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgICByZXN1bHQuaG9zdG5hbWUgJiYgIXJlc3VsdC5wYXRobmFtZSkge1xuICAgICAgcmVzdWx0LnBhdGggPSByZXN1bHQucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIgcmVsUGF0aCA9IChyZWxhdGl2ZS5wYXRobmFtZSB8fCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIHdoaWxlIChyZWxQYXRoLmxlbmd0aCAmJiAhKHJlbGF0aXZlLmhvc3QgPSByZWxQYXRoLnNoaWZ0KCkpKTtcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdCkgcmVsYXRpdmUuaG9zdCA9ICcnO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgcmVsYXRpdmUuaG9zdG5hbWUgPSAnJztcbiAgICAgIGlmIChyZWxQYXRoWzBdICE9PSAnJykgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIGlmIChyZWxQYXRoLmxlbmd0aCA8IDIpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDtcbiAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkge1xuICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7XG4gICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7XG4gICAgICByZXN1bHQucGF0aCA9IHAgKyBzO1xuICAgIH1cbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBpc1NvdXJjZUFicyA9IChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSxcbiAgICAgIGlzUmVsQWJzID0gKFxuICAgICAgICAgIHJlbGF0aXZlLmhvc3QgfHxcbiAgICAgICAgICByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJ1xuICAgICAgKSxcbiAgICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5ob3N0ICYmIHJlbGF0aXZlLnBhdGhuYW1lKSksXG4gICAgICByZW1vdmVBbGxEb3RzID0gbXVzdEVuZEFicyxcbiAgICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICByZWxQYXRoID0gcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHBzeWNob3RpYyA9IHJlc3VsdC5wcm90b2NvbCAmJiAhc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF07XG5cbiAgLy8gaWYgdGhlIHVybCBpcyBhIG5vbi1zbGFzaGVkIHVybCwgdGhlbiByZWxhdGl2ZVxuICAvLyBsaW5rcyBsaWtlIC4uLy4uIHNob3VsZCBiZSBhYmxlXG4gIC8vIHRvIGNyYXdsIHVwIHRvIHRoZSBob3N0bmFtZSwgYXMgd2VsbC4gIFRoaXMgaXMgc3RyYW5nZS5cbiAgLy8gcmVzdWx0LnByb3RvY29sIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IG5vdy5cbiAgLy8gTGF0ZXIgb24sIHB1dCB0aGUgZmlyc3QgcGF0aCBwYXJ0IGludG8gdGhlIGhvc3QgZmllbGQuXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAnJztcbiAgICByZXN1bHQucG9ydCA9IG51bGw7XG4gICAgaWYgKHJlc3VsdC5ob3N0KSB7XG4gICAgICBpZiAoc3JjUGF0aFswXSA9PT0gJycpIHNyY1BhdGhbMF0gPSByZXN1bHQuaG9zdDtcbiAgICAgIGVsc2Ugc3JjUGF0aC51bnNoaWZ0KHJlc3VsdC5ob3N0KTtcbiAgICB9XG4gICAgcmVzdWx0Lmhvc3QgPSAnJztcbiAgICBpZiAocmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lID0gbnVsbDtcbiAgICAgIHJlbGF0aXZlLnBvcnQgPSBudWxsO1xuICAgICAgaWYgKHJlbGF0aXZlLmhvc3QpIHtcbiAgICAgICAgaWYgKHJlbFBhdGhbMF0gPT09ICcnKSByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgZWxzZSByZWxQYXRoLnVuc2hpZnQocmVsYXRpdmUuaG9zdCk7XG4gICAgICB9XG4gICAgICByZWxhdGl2ZS5ob3N0ID0gbnVsbDtcbiAgICB9XG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgJiYgKHJlbFBhdGhbMF0gPT09ICcnIHx8IHNyY1BhdGhbMF0gPT09ICcnKTtcbiAgfVxuXG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA6IHJlc3VsdC5ob3N0bmFtZTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHNyY1BhdGggPSByZWxQYXRoO1xuICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZG90LWhhbmRsaW5nIGJlbG93LlxuICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7XG4gICAgLy8gaXQncyByZWxhdGl2ZVxuICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLlxuICAgIGlmICghc3JjUGF0aCkgc3JjUGF0aCA9IFtdO1xuICAgIHNyY1BhdGgucG9wKCk7XG4gICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gIH0gZWxzZSBpZiAoIXV0aWwuaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdO1xuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0IHx8IHNyY1BhdGgubGVuZ3RoID4gMSkgJiZcbiAgICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgICAoIXNyY1BhdGhbMF0gfHwgc3JjUGF0aFswXS5jaGFyQXQoMCkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgKHNyY1BhdGguam9pbignLycpLnN1YnN0cigtMSkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnB1c2goJycpO1xuICB9XG5cbiAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSAnJyB8fFxuICAgICAgKHNyY1BhdGhbMF0gJiYgc3JjUGF0aFswXS5jaGFyQXQoMCkgPT09ICcvJyk7XG5cbiAgLy8gcHV0IHRoZSBob3N0IGJhY2tcbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gaXNBYnNvbHV0ZSA/ICcnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogJyc7XG4gICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyB8fCAocmVzdWx0Lmhvc3QgJiYgc3JjUGF0aC5sZW5ndGgpO1xuXG4gIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTtcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gIHZhciBwb3J0ID0gcG9ydFBhdHRlcm4uZXhlYyhob3N0KTtcbiAgaWYgKHBvcnQpIHtcbiAgICBwb3J0ID0gcG9ydFswXTtcbiAgICBpZiAocG9ydCAhPT0gJzonKSB7XG4gICAgICB0aGlzLnBvcnQgPSBwb3J0LnN1YnN0cigxKTtcbiAgICB9XG4gICAgaG9zdCA9IGhvc3Quc3Vic3RyKDAsIGhvc3QubGVuZ3RoIC0gcG9ydC5sZW5ndGgpO1xuICB9XG4gIGlmIChob3N0KSB0aGlzLmhvc3RuYW1lID0gaG9zdDtcbn07XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZVVSSSAoc3RyLCBvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9XG5cbiAgdmFyIG8gPSB7XG4gICAga2V5OiBbJ3NvdXJjZScsICdwcm90b2NvbCcsICdhdXRob3JpdHknLCAndXNlckluZm8nLCAndXNlcicsICdwYXNzd29yZCcsICdob3N0JywgJ3BvcnQnLCAncmVsYXRpdmUnLCAncGF0aCcsICdkaXJlY3RvcnknLCAnZmlsZScsICdxdWVyeScsICdhbmNob3InXSxcbiAgICBxOiB7XG4gICAgICBuYW1lOiAncXVlcnlLZXknLFxuICAgICAgcGFyc2VyOiAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2dcbiAgICB9LFxuICAgIHBhcnNlcjoge1xuICAgICAgc3RyaWN0OiAvXig/OihbXjpcXC8/I10rKTopPyg/OlxcL1xcLygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSk/KCgoKD86W14/I1xcL10qXFwvKSopKFtePyNdKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvLFxuICAgICAgbG9vc2U6IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pL1xuICAgIH1cbiAgfVxuXG4gIHZhciBtID0gby5wYXJzZXJbb3B0cy5zdHJpY3RNb2RlID8gJ3N0cmljdCcgOiAnbG9vc2UnXS5leGVjKHN0cilcbiAgdmFyIHVyaSA9IHt9XG4gIHZhciBpID0gMTRcblxuICB3aGlsZSAoaS0tKSB1cmlbby5rZXlbaV1dID0gbVtpXSB8fCAnJ1xuXG4gIHVyaVtvLnEubmFtZV0gPSB7fVxuICB1cmlbby5rZXlbMTJdXS5yZXBsYWNlKG8ucS5wYXJzZXIsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgaWYgKCQxKSB1cmlbby5xLm5hbWVdWyQxXSA9ICQyXG4gIH0pXG5cbiAgcmV0dXJuIHVyaVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzO1xuXG4gICAgdmFyIG1pblgsIG1pblksIG1heFgsIG1heFksIHgsIHksIGludlNpemU7XG5cbiAgICBpZiAoaGFzSG9sZXMpIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSk7XG5cbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcbiAgICBpZiAoZGF0YS5sZW5ndGggPiA4MCAqIGRpbSkge1xuICAgICAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07XG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGltOyBpIDwgb3V0ZXJMZW47IGkgKz0gZGltKSB7XG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xuICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcbiAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvblxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICAgICAgaW52U2l6ZSA9IGludlNpemUgIT09IDAgPyAxIC8gaW52U2l6ZSA6IDA7XG4gICAgfVxuXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbn1cblxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGksIGxhc3Q7XG5cbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH1cblxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XG5cbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBhZ2FpbjtcbiAgICBkbyB7XG4gICAgICAgIGFnYWluID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XG5cbiAgICByZXR1cm4gZW5kO1xufVxuXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XG4gICAgaWYgKCFlYXIpIHJldHVybjtcblxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHN0b3AgPSBlYXIsXG4gICAgICAgIHByZXYsIG5leHQ7XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xuXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV4dC5pIC8gZGltKTtcblxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xuXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0pO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAyKTtcblxuICAgICAgICAgICAgLy8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMikge1xuICAgICAgICAgICAgICAgIHNwbGl0RWFyY3V0KGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gY2hlY2sgd2hldGhlciBhIHBvbHlnb24gbm9kZSBmb3JtcyBhIHZhbGlkIGVhciB3aXRoIGFkamFjZW50IG5vZGVzXG5mdW5jdGlvbiBpc0VhcihlYXIpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyBub3cgbWFrZSBzdXJlIHdlIGRvbid0IGhhdmUgb3RoZXIgcG9pbnRzIGluc2lkZSB0aGUgcG90ZW50aWFsIGVhclxuICAgIHZhciBwID0gZWFyLm5leHQubmV4dDtcblxuICAgIHdoaWxlIChwICE9PSBlYXIucHJldikge1xuICAgICAgICBpZiAocG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxuICAgICAgICBiID0gZWFyLFxuICAgICAgICBjID0gZWFyLm5leHQ7XG5cbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG5cbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxuICAgIHZhciBtaW5UWCA9IGEueCA8IGIueCA/IChhLnggPCBjLnggPyBhLnggOiBjLngpIDogKGIueCA8IGMueCA/IGIueCA6IGMueCksXG4gICAgICAgIG1pblRZID0gYS55IDwgYi55ID8gKGEueSA8IGMueSA/IGEueSA6IGMueSkgOiAoYi55IDwgYy55ID8gYi55IDogYy55KSxcbiAgICAgICAgbWF4VFggPSBhLnggPiBiLnggPyAoYS54ID4gYy54ID8gYS54IDogYy54KSA6IChiLnggPiBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtYXhUWSA9IGEueSA+IGIueSA/IChhLnkgPiBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA+IGMueSA/IGIueSA6IGMueSk7XG5cbiAgICAvLyB6LW9yZGVyIHJhbmdlIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZSBiYm94O1xuICAgIHZhciBtaW5aID0gek9yZGVyKG1pblRYLCBtaW5UWSwgbWluWCwgbWluWSwgaW52U2l6ZSksXG4gICAgICAgIG1heFogPSB6T3JkZXIobWF4VFgsIG1heFRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBwID0gZWFyLnByZXZaLFxuICAgICAgICBuID0gZWFyLm5leHRaO1xuXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gYm90aCBkaXJlY3Rpb25zXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblogJiYgbiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAocCAhPT0gZWFyLnByZXYgJiYgcCAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG5cbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyXG4gICAgd2hpbGUgKG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKG4gIT09IGVhci5wcmV2ICYmIG4gIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgbi54LCBuLnkpICYmXG4gICAgICAgICAgICBhcmVhKG4ucHJldiwgbiwgbi5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIG4gPSBuLm5leHRaO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9uc1xuZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhzdGFydCwgdHJpYW5nbGVzLCBkaW0pIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGEgPSBwLnByZXYsXG4gICAgICAgICAgICBiID0gcC5uZXh0Lm5leHQ7XG5cbiAgICAgICAgaWYgKCFlcXVhbHMoYSwgYikgJiYgaW50ZXJzZWN0cyhhLCBwLCBwLm5leHQsIGIpICYmIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSkge1xuXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChhLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocC5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGIuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0d28gbm9kZXMgaW52b2x2ZWRcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHAubmV4dCk7XG5cbiAgICAgICAgICAgIHAgPSBzdGFydCA9IGI7XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gZmlsdGVyUG9pbnRzKHApO1xufVxuXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbiAgICB2YXIgYSA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcblxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGEubmV4dDtcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XG59XG5cbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xuICAgIHZhciBxdWV1ZSA9IFtdLFxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XG4gICAgfVxuXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XG5cbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xuICAgICAgICBvdXRlck5vZGUgPSBmaWx0ZXJQb2ludHMob3V0ZXJOb2RlLCBvdXRlck5vZGUubmV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dGVyTm9kZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVgoYSwgYikge1xuICAgIHJldHVybiBhLnggLSBiLng7XG59XG5cbi8vIGZpbmQgYSBicmlkZ2UgYmV0d2VlbiB2ZXJ0aWNlcyB0aGF0IGNvbm5lY3RzIGhvbGUgd2l0aCBhbiBvdXRlciByaW5nIGFuZCBhbmQgbGluayBpdFxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICBvdXRlck5vZGUgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpO1xuICAgIGlmIChvdXRlck5vZGUpIHtcbiAgICAgICAgdmFyIGIgPSBzcGxpdFBvbHlnb24ob3V0ZXJOb2RlLCBob2xlKTtcblxuICAgICAgICAvLyBmaWx0ZXIgY29sbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgZmlsdGVyUG9pbnRzKG91dGVyTm9kZSwgb3V0ZXJOb2RlLm5leHQpO1xuICAgICAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTtcbiAgICB9XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC55KSByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG07IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxlZnRtb3N0IGVuZHBvaW50XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIHBvaW50cyBmb3VuZCwgd2UgaGF2ZSBhIHZhbGlkIGNvbm5lY3Rpb247XG4gICAgLy8gb3RoZXJ3aXNlIGNob29zZSB0aGUgcG9pbnQgb2YgdGhlIG1pbmltdW0gYW5nbGUgd2l0aCB0aGUgcmF5IGFzIGNvbm5lY3Rpb24gcG9pbnRcblxuICAgIHZhciBzdG9wID0gbSxcbiAgICAgICAgbXggPSBtLngsXG4gICAgICAgIG15ID0gbS55LFxuICAgICAgICB0YW5NaW4gPSBJbmZpbml0eSxcbiAgICAgICAgdGFuO1xuXG4gICAgcCA9IG07XG5cbiAgICBkbyB7XG4gICAgICAgIGlmIChoeCA+PSBwLnggJiYgcC54ID49IG14ICYmIGh4ICE9PSBwLnggJiZcbiAgICAgICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoaHkgPCBteSA/IGh4IDogcXgsIGh5LCBteCwgbXksIGh5IDwgbXkgPyBxeCA6IGh4LCBoeSwgcC54LCBwLnkpKSB7XG5cbiAgICAgICAgICAgIHRhbiA9IE1hdGguYWJzKGh5IC0gcC55KSAvIChoeCAtIHAueCk7IC8vIHRhbmdlbnRpYWxcblxuICAgICAgICAgICAgaWYgKGxvY2FsbHlJbnNpZGUocCwgaG9sZSkgJiZcbiAgICAgICAgICAgICAgICAodGFuIDwgdGFuTWluIHx8ICh0YW4gPT09IHRhbk1pbiAmJiAocC54ID4gbS54IHx8IChwLnggPT09IG0ueCAmJiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSkpKSkpIHtcbiAgICAgICAgICAgICAgICBtID0gcDtcbiAgICAgICAgICAgICAgICB0YW5NaW4gPSB0YW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0b3ApO1xuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIHdoZXRoZXIgc2VjdG9yIGluIHZlcnRleCBtIGNvbnRhaW5zIHNlY3RvciBpbiB2ZXJ0ZXggcCBpbiB0aGUgc2FtZSBjb29yZGluYXRlc1xuZnVuY3Rpb24gc2VjdG9yQ29udGFpbnNTZWN0b3IobSwgcCkge1xuICAgIHJldHVybiBhcmVhKG0ucHJldiwgbSwgcC5wcmV2KSA8IDAgJiYgYXJlYShwLm5leHQsIG0sIG0ubmV4dCkgPCAwO1xufVxuXG4vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG5mdW5jdGlvbiBpbmRleEN1cnZlKHN0YXJ0LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnogPT09IG51bGwpIHAueiA9IHpPcmRlcihwLngsIHAueSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgIHAucHJldlogPSBwLnByZXY7XG4gICAgICAgIHAubmV4dFogPSBwLm5leHQ7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcC5wcmV2Wi5uZXh0WiA9IG51bGw7XG4gICAgcC5wcmV2WiA9IG51bGw7XG5cbiAgICBzb3J0TGlua2VkKHApO1xufVxuXG4vLyBTaW1vbiBUYXRoYW0ncyBsaW5rZWQgbGlzdCBtZXJnZSBzb3J0IGFsZ29yaXRobVxuLy8gaHR0cDovL3d3dy5jaGlhcmsuZ3JlZW5lbmQub3JnLnVrL35zZ3RhdGhhbS9hbGdvcml0aG1zL2xpc3Rzb3J0Lmh0bWxcbmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkge1xuICAgIHZhciBpLCBwLCBxLCBlLCB0YWlsLCBudW1NZXJnZXMsIHBTaXplLCBxU2l6ZSxcbiAgICAgICAgaW5TaXplID0gMTtcblxuICAgIGRvIHtcbiAgICAgICAgcCA9IGxpc3Q7XG4gICAgICAgIGxpc3QgPSBudWxsO1xuICAgICAgICB0YWlsID0gbnVsbDtcbiAgICAgICAgbnVtTWVyZ2VzID0gMDtcblxuICAgICAgICB3aGlsZSAocCkge1xuICAgICAgICAgICAgbnVtTWVyZ2VzKys7XG4gICAgICAgICAgICBxID0gcDtcbiAgICAgICAgICAgIHBTaXplID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpblNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHBTaXplKys7XG4gICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgaWYgKCFxKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHFTaXplID0gaW5TaXplO1xuXG4gICAgICAgICAgICB3aGlsZSAocFNpemUgPiAwIHx8IChxU2l6ZSA+IDAgJiYgcSkpIHtcblxuICAgICAgICAgICAgICAgIGlmIChwU2l6ZSAhPT0gMCAmJiAocVNpemUgPT09IDAgfHwgIXEgfHwgcC56IDw9IHEueikpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHA7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBwU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBxO1xuICAgICAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcVNpemUtLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGFpbCkgdGFpbC5uZXh0WiA9IGU7XG4gICAgICAgICAgICAgICAgZWxzZSBsaXN0ID0gZTtcblxuICAgICAgICAgICAgICAgIGUucHJldlogPSB0YWlsO1xuICAgICAgICAgICAgICAgIHRhaWwgPSBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwID0gcTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWwubmV4dFogPSBudWxsO1xuICAgICAgICBpblNpemUgKj0gMjtcblxuICAgIH0gd2hpbGUgKG51bU1lcmdlcyA+IDEpO1xuXG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbi8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveFxuZnVuY3Rpb24gek9yZGVyKHgsIHksIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBjb29yZHMgYXJlIHRyYW5zZm9ybWVkIGludG8gbm9uLW5lZ2F0aXZlIDE1LWJpdCBpbnRlZ2VyIHJhbmdlXG4gICAgeCA9IDMyNzY3ICogKHggLSBtaW5YKSAqIGludlNpemU7XG4gICAgeSA9IDMyNzY3ICogKHkgLSBtaW5ZKSAqIGludlNpemU7XG5cbiAgICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KSB7XG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnggPCBsZWZ0bW9zdC54IHx8IChwLnggPT09IGxlZnRtb3N0LnggJiYgcC55IDwgbGVmdG1vc3QueSkpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJiAvLyBkb25lcyd0IGludGVyc2VjdCBvdGhlciBlZGdlc1xuICAgICAgICAgICAobG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpICYmIG1pZGRsZUluc2lkZShhLCBiKSAmJiAvLyBsb2NhbGx5IHZpc2libGVcbiAgICAgICAgICAgIChhcmVhKGEucHJldiwgYSwgYi5wcmV2KSB8fCBhcmVhKGEsIGIucHJldiwgYikpIHx8IC8vIGRvZXMgbm90IGNyZWF0ZSBvcHBvc2l0ZS1mYWNpbmcgc2VjdG9yc1xuICAgICAgICAgICAgZXF1YWxzKGEsIGIpICYmIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpID4gMCAmJiBhcmVhKGIucHJldiwgYiwgYi5uZXh0KSA+IDApOyAvLyBzcGVjaWFsIHplcm8tbGVuZ3RoIGNhc2Vcbn1cblxuLy8gc2lnbmVkIGFyZWEgb2YgYSB0cmlhbmdsZVxuZnVuY3Rpb24gYXJlYShwLCBxLCByKSB7XG4gICAgcmV0dXJuIChxLnkgLSBwLnkpICogKHIueCAtIHEueCkgLSAocS54IC0gcC54KSAqIChyLnkgLSBxLnkpO1xufVxuXG4vLyBjaGVjayBpZiB0d28gcG9pbnRzIGFyZSBlcXVhbFxuZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xuICAgIHJldHVybiBwMS54ID09PSBwMi54ICYmIHAxLnkgPT09IHAyLnk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBzZWdtZW50cyBpbnRlcnNlY3RcbmZ1bmN0aW9uIGludGVyc2VjdHMocDEsIHExLCBwMiwgcTIpIHtcbiAgICB2YXIgbzEgPSBzaWduKGFyZWEocDEsIHExLCBwMikpO1xuICAgIHZhciBvMiA9IHNpZ24oYXJlYShwMSwgcTEsIHEyKSk7XG4gICAgdmFyIG8zID0gc2lnbihhcmVhKHAyLCBxMiwgcDEpKTtcbiAgICB2YXIgbzQgPSBzaWduKGFyZWEocDIsIHEyLCBxMSkpO1xuXG4gICAgaWYgKG8xICE9PSBvMiAmJiBvMyAhPT0gbzQpIHJldHVybiB0cnVlOyAvLyBnZW5lcmFsIGNhc2VcblxuICAgIGlmIChvMSA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHAyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHAyIGFyZSBjb2xsaW5lYXIgYW5kIHAyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMiA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHEyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHEyIGFyZSBjb2xsaW5lYXIgYW5kIHEyIGxpZXMgb24gcDFxMVxuICAgIGlmIChvMyA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHAxLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHAxIGFyZSBjb2xsaW5lYXIgYW5kIHAxIGxpZXMgb24gcDJxMlxuICAgIGlmIChvNCA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHExLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHExIGFyZSBjb2xsaW5lYXIgYW5kIHExIGxpZXMgb24gcDJxMlxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBmb3IgY29sbGluZWFyIHBvaW50cyBwLCBxLCByLCBjaGVjayBpZiBwb2ludCBxIGxpZXMgb24gc2VnbWVudCBwclxuZnVuY3Rpb24gb25TZWdtZW50KHAsIHEsIHIpIHtcbiAgICByZXR1cm4gcS54IDw9IE1hdGgubWF4KHAueCwgci54KSAmJiBxLnggPj0gTWF0aC5taW4ocC54LCByLngpICYmIHEueSA8PSBNYXRoLm1heChwLnksIHIueSkgJiYgcS55ID49IE1hdGgubWluKHAueSwgci55KTtcbn1cblxuZnVuY3Rpb24gc2lnbihudW0pIHtcbiAgICByZXR1cm4gbnVtID4gMCA/IDEgOiBudW0gPCAwID8gLTEgOiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IG51bGw7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiaW1wb3J0IHtCZWhhdmlvclN1YmplY3R9IGZyb20gXCJyeGpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogR2FtZVN0YXRlO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3BhdXNlZCQ6IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPjtcclxuICAgIHB1YmxpYyBnZXQgcGF1c2VkJCgpIHtyZXR1cm4gdGhpcy5fcGF1c2VkJH1cclxuICAgIHB1YmxpYyBnZXQgcGF1c2VkKCkge3JldHVybiB0aGlzLl9wYXVzZWQkLnZhbHVlfTtcclxuICAgIHB1YmxpYyBzZXQgcGF1c2VkKG5ld1N0YXRlOmJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9wYXVzZWQkLm5leHQobmV3U3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3Njb3JlJDogQmVoYXZpb3JTdWJqZWN0PG51bWJlcj47XHJcbiAgICBwdWJsaWMgZ2V0IHNjb3JlJCgpIHtyZXR1cm4gdGhpcy5fc2NvcmUkfVxyXG4gICAgcHVibGljIGdldCBzY29yZSgpIHtyZXR1cm4gdGhpcy5fc2NvcmUkLnZhbHVlfTtcclxuICAgIHB1YmxpYyBzZXQgc2NvcmUobmV3U3RhdGU6bnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fc2NvcmUkLm5leHQobmV3U3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fcGF1c2VkJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuX3Njb3JlJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8bnVtYmVyPigwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IEdhbWVTdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuIiwiaW1wb3J0ICogYXMgUElYSSBmcm9tIFwicGl4aS5qc1wiO1xyXG5pbXBvcnQge0lBY3Rvck9wdGlvbnN9IGZyb20gXCIuL2FjdG9yLmludGVyZmFjZVwiO1xyXG5pbXBvcnQgU3ByaXRlID0gUElYSS5TcHJpdGU7XHJcbmltcG9ydCB7SG93bH0gZnJvbSAnaG93bGVyJ1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFjdG9yIHtcclxuICAgIHByb3RlY3RlZCBzdGF0aWMgc291bmRzVXJsczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcclxuICAgIHByb3RlY3RlZCBzdGF0aWMgc291bmRzOiBSZWNvcmQ8c3RyaW5nLCBIb3dsPjtcclxuICAgIHB1YmxpYyByZWFkb25seSBhYnN0cmFjdCBzcHJpdGU6IFNwcml0ZTtcclxuICAgIHJlYWRvbmx5IGtleTogc3RyaW5nO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmtleSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIGxvYWRSZXNvdXJjZXMoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdW5kc1VybHMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kcyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuc291bmRzVXJscykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmRzW2tleV0gPSBuZXcgSG93bCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogdGhpcy5zb3VuZHNVcmxzW2tleV1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kc1trZXldLm9uY2UoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QudmFsdWVzKHRoaXMuc291bmRzKS5ldmVyeShzID0+IHMuc3RhdGUoKSA9PT0gJ2xvYWRlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNvdW5kc1trZXldLm9uY2UoJ2xvYWRFcnJvcicsICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ2NvdWxkIG5vdCBsb2FkIHNvdW5kJykpKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcGxheVNvdW5kKHNvdW5kS2V5OiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvclsnc291bmRzJ10gJiYgdGhpcy5jb25zdHJ1Y3Rvclsnc291bmRzJ11bc291bmRLZXldKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3JbJ3NvdW5kcyddW3NvdW5kS2V5XS5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbmZpZ3VyZShvcHRpb25zPzogSUFjdG9yT3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMudGhyb3dJZlNwcml0ZU1pc3NlZCgpO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmNob3Iuc2V0KDAuNSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUucGl2b3Quc2V0KDAuNSk7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuYnV0dG9uTW9kZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3ZlKHg/OiBudW1iZXIsIHk/OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnRocm93SWZTcHJpdGVNaXNzZWQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUucG9zaXRpb24uc2V0KHgsIHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdGhyb3dJZlNwcml0ZU1pc3NlZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3ByaXRlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc3ByaXRlIGRvZXMgbm90IGV4aXN0cyBvbiAke3RoaXMuY29uc3RydWN0b3IubmFtZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4iLCIoZnVuY3Rpb24oZ2xvYmFsKXtcblxuLy9cbi8vIENoZWNrIGZvciBuYXRpdmUgUHJvbWlzZSBhbmQgaXQgaGFzIGNvcnJlY3QgaW50ZXJmYWNlXG4vL1xuXG52YXIgTmF0aXZlUHJvbWlzZSA9IGdsb2JhbFsnUHJvbWlzZSddO1xudmFyIG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPVxuICBOYXRpdmVQcm9taXNlICYmXG4gIC8vIFNvbWUgb2YgdGhlc2UgbWV0aG9kcyBhcmUgbWlzc2luZyBmcm9tXG4gIC8vIEZpcmVmb3gvQ2hyb21lIGV4cGVyaW1lbnRhbCBpbXBsZW1lbnRhdGlvbnNcbiAgJ3Jlc29sdmUnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ3JlamVjdCcgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAnYWxsJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdyYWNlJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gIC8vIE9sZGVyIHZlcnNpb24gb2YgdGhlIHNwZWMgaGFkIGEgcmVzb2x2ZXIgb2JqZWN0XG4gIC8vIGFzIHRoZSBhcmcgcmF0aGVyIHRoYW4gYSBmdW5jdGlvblxuICAoZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVzb2x2ZTtcbiAgICBuZXcgTmF0aXZlUHJvbWlzZShmdW5jdGlvbihyKXsgcmVzb2x2ZSA9IHI7IH0pO1xuICAgIHJldHVybiB0eXBlb2YgcmVzb2x2ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgfSkoKTtcblxuXG4vL1xuLy8gZXhwb3J0IGlmIG5lY2Vzc2FyeVxuLy9cblxuaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyAmJiBleHBvcnRzKVxue1xuICAvLyBub2RlLmpzXG4gIGV4cG9ydHMuUHJvbWlzZSA9IG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPyBOYXRpdmVQcm9taXNlIDogUHJvbWlzZTtcbiAgZXhwb3J0cy5Qb2x5ZmlsbCA9IFByb21pc2U7XG59XG5lbHNlXG57XG4gIC8vIEFNRFxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG4gIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID8gTmF0aXZlUHJvbWlzZSA6IFByb21pc2U7XG4gICAgfSk7XG4gIH1cbiAgZWxzZVxuICB7XG4gICAgLy8gaW4gYnJvd3NlciBhZGQgdG8gZ2xvYmFsXG4gICAgaWYgKCFuYXRpdmVQcm9taXNlU3VwcG9ydGVkKVxuICAgICAgZ2xvYmFsWydQcm9taXNlJ10gPSBQcm9taXNlO1xuICB9XG59XG5cblxuLy9cbi8vIFBvbHlmaWxsXG4vL1xuXG52YXIgUEVORElORyA9ICdwZW5kaW5nJztcbnZhciBTRUFMRUQgPSAnc2VhbGVkJztcbnZhciBGVUxGSUxMRUQgPSAnZnVsZmlsbGVkJztcbnZhciBSRUpFQ1RFRCA9ICdyZWplY3RlZCc7XG52YXIgTk9PUCA9IGZ1bmN0aW9uKCl7fTtcblxuZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLy8gYXN5bmMgY2FsbHNcbnZhciBhc3luY1NldFRpbWVyID0gdHlwZW9mIHNldEltbWVkaWF0ZSAhPT0gJ3VuZGVmaW5lZCcgPyBzZXRJbW1lZGlhdGUgOiBzZXRUaW1lb3V0O1xudmFyIGFzeW5jUXVldWUgPSBbXTtcbnZhciBhc3luY1RpbWVyO1xuXG5mdW5jdGlvbiBhc3luY0ZsdXNoKCl7XG4gIC8vIHJ1biBwcm9taXNlIGNhbGxiYWNrc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFzeW5jUXVldWUubGVuZ3RoOyBpKyspXG4gICAgYXN5bmNRdWV1ZVtpXVswXShhc3luY1F1ZXVlW2ldWzFdKTtcblxuICAvLyByZXNldCBhc3luYyBhc3luY1F1ZXVlXG4gIGFzeW5jUXVldWUgPSBbXTtcbiAgYXN5bmNUaW1lciA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBhc3luY0NhbGwoY2FsbGJhY2ssIGFyZyl7XG4gIGFzeW5jUXVldWUucHVzaChbY2FsbGJhY2ssIGFyZ10pO1xuXG4gIGlmICghYXN5bmNUaW1lcilcbiAge1xuICAgIGFzeW5jVGltZXIgPSB0cnVlO1xuICAgIGFzeW5jU2V0VGltZXIoYXN5bmNGbHVzaCwgMCk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgcHJvbWlzZSkge1xuICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIocmVzb2x2ZVByb21pc2UsIHJlamVjdFByb21pc2UpO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZWplY3RQcm9taXNlKGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHN1YnNjcmliZXIpe1xuICB2YXIgb3duZXIgPSBzdWJzY3JpYmVyLm93bmVyO1xuICB2YXIgc2V0dGxlZCA9IG93bmVyLnN0YXRlXztcbiAgdmFyIHZhbHVlID0gb3duZXIuZGF0YV87ICBcbiAgdmFyIGNhbGxiYWNrID0gc3Vic2NyaWJlcltzZXR0bGVkXTtcbiAgdmFyIHByb21pc2UgPSBzdWJzY3JpYmVyLnRoZW47XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJylcbiAge1xuICAgIHNldHRsZWQgPSBGVUxGSUxMRUQ7XG4gICAgdHJ5IHtcbiAgICAgIHZhbHVlID0gY2FsbGJhY2sodmFsdWUpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGUpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKVxuICB7XG4gICAgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRClcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuXG4gICAgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKVxuICAgICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkge1xuICB2YXIgcmVzb2x2ZWQ7XG5cbiAgdHJ5IHtcbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuJyk7XG5cbiAgICBpZiAodmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSlcbiAgICB7XG4gICAgICB2YXIgdGhlbiA9IHZhbHVlLnRoZW47ICAvLyB0aGVuIHNob3VsZCBiZSByZXRyaXZlZCBvbmx5IG9uY2VcblxuICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAge1xuICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdmFsKVxuICAgICAgICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCFyZXNvbHZlZClcbiAgICAgIHJlamVjdChwcm9taXNlLCBlKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKXtcbiAgaWYgKHByb21pc2UgPT09IHZhbHVlIHx8ICFoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkpXG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpe1xuICBpZiAocHJvbWlzZS5zdGF0ZV8gPT09IFBFTkRJTkcpXG4gIHtcbiAgICBwcm9taXNlLnN0YXRlXyA9IFNFQUxFRDtcbiAgICBwcm9taXNlLmRhdGFfID0gdmFsdWU7XG5cbiAgICBhc3luY0NhbGwocHVibGlzaEZ1bGZpbGxtZW50LCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3QocHJvbWlzZSwgcmVhc29uKXtcbiAgaWYgKHByb21pc2Uuc3RhdGVfID09PSBQRU5ESU5HKVxuICB7XG4gICAgcHJvbWlzZS5zdGF0ZV8gPSBTRUFMRUQ7XG4gICAgcHJvbWlzZS5kYXRhXyA9IHJlYXNvbjtcblxuICAgIGFzeW5jQ2FsbChwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoKHByb21pc2UpIHtcbiAgdmFyIGNhbGxiYWNrcyA9IHByb21pc2UudGhlbl87XG4gIHByb21pc2UudGhlbl8gPSB1bmRlZmluZWQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBpbnZva2VDYWxsYmFjayhjYWxsYmFja3NbaV0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hGdWxmaWxsbWVudChwcm9taXNlKXtcbiAgcHJvbWlzZS5zdGF0ZV8gPSBGVUxGSUxMRUQ7XG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSl7XG4gIHByb21pc2Uuc3RhdGVfID0gUkVKRUNURUQ7XG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbi8qKlxuKiBAY2xhc3NcbiovXG5mdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKXtcbiAgaWYgKHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlIGNvbnN0cnVjdG9yIHRha2VzIGEgZnVuY3Rpb24gYXJndW1lbnQnKTtcblxuICBpZiAodGhpcyBpbnN0YW5jZW9mIFByb21pc2UgPT09IGZhbHNlKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBjb25zdHJ1Y3QgXFwnUHJvbWlzZVxcJzogUGxlYXNlIHVzZSB0aGUgXFwnbmV3XFwnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uJyk7XG5cbiAgdGhpcy50aGVuXyA9IFtdO1xuXG4gIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCB0aGlzKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gIHN0YXRlXzogUEVORElORyxcbiAgdGhlbl86IG51bGwsXG4gIGRhdGFfOiB1bmRlZmluZWQsXG5cbiAgdGhlbjogZnVuY3Rpb24ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pe1xuICAgIHZhciBzdWJzY3JpYmVyID0ge1xuICAgICAgb3duZXI6IHRoaXMsXG4gICAgICB0aGVuOiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihOT09QKSxcbiAgICAgIGZ1bGZpbGxlZDogb25GdWxmaWxsbWVudCxcbiAgICAgIHJlamVjdGVkOiBvblJlamVjdGlvblxuICAgIH07XG5cbiAgICBpZiAodGhpcy5zdGF0ZV8gPT09IEZVTEZJTExFRCB8fCB0aGlzLnN0YXRlXyA9PT0gUkVKRUNURUQpXG4gICAge1xuICAgICAgLy8gYWxyZWFkeSByZXNvbHZlZCwgY2FsbCBjYWxsYmFjayBhc3luY1xuICAgICAgYXN5bmNDYWxsKGludm9rZUNhbGxiYWNrLCBzdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgIC8vIHN1YnNjcmliZVxuICAgICAgdGhpcy50aGVuXy5wdXNoKHN1YnNjcmliZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBzdWJzY3JpYmVyLnRoZW47XG4gIH0sXG5cbiAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfVxufTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbihwcm9taXNlcyl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIFByb21pc2UuYWxsKCkuJyk7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHJlbWFpbmluZyA9IDA7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcihpbmRleCl7XG4gICAgICByZW1haW5pbmcrKztcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIHJlc3VsdHNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIGlmICghLS1yZW1haW5pbmcpXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV07XG5cbiAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlcihpKSwgcmVqZWN0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVzdWx0c1tpXSA9IHByb21pc2U7XG4gICAgfVxuXG4gICAgaWYgKCFyZW1haW5pbmcpXG4gICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uKHByb21pc2VzKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAoIWlzQXJyYXkocHJvbWlzZXMpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gUHJvbWlzZS5yYWNlKCkuJyk7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcHJvbWlzZTsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgaWYgKHByb21pc2UgJiYgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlc29sdmUocHJvbWlzZSk7XG4gICAgfVxuICB9KTtcbn07XG5cblByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQ2xhc3MpXG4gICAgcmV0dXJuIHZhbHVlO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSl7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbihyZWFzb24pe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuXG59KSh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsImltcG9ydCB7R2FtZX0gZnJvbSBcIi4vbW9kZWxzL0dhbWVcIjtcclxuaW1wb3J0IHtDT05GSUd9IGZyb20gXCIuL2NvbmZpZ1wiO1xyXG5cclxuXHJcbmlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcihgL3NlcnZpY2Utd29ya2VyLmpzYClcclxuICAgICAgICAgICAgLnRoZW4oKHJlZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2Ugd29ya2VyIHJlZ2lzdGVyZWQuJywgcmVnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgYXBwQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BpeGlBcHAnKTtcclxuY29uc3QgZ2FtZSA9IG5ldyBHYW1lKGFwcENvbnRhaW5lcik7XHJcblxyXG5nYW1lLnJ1bigpO1xyXG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gXCJwaXhpLmpzXCI7XHJcbmltcG9ydCBBcHBsaWNhdGlvbiA9IFBJWEkuQXBwbGljYXRpb247XHJcbmltcG9ydCBDb250YWluZXIgPSBQSVhJLkNvbnRhaW5lcjtcclxuaW1wb3J0IHtGaXJzdExldmVsfSBmcm9tIFwiLi4vbGV2ZWxzL0ZpcnN0TGV2ZWxcIjtcclxuaW1wb3J0IHtMZXZlbH0gZnJvbSBcIi4vTGV2ZWxcIjtcclxuaW1wb3J0IHtVaUxheWVyfSBmcm9tIFwiLi9VaS1sYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWUge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGl4aUFwcDogQXBwbGljYXRpb247XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN0YWdlOiBDb250YWluZXI7XHJcbiAgICBwcml2YXRlIGFjdGl2ZUxldmVsOiBMZXZlbDtcclxuICAgIHByaXZhdGUgdWlMYXllcjogVWlMYXllcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVySCA9IGNvbnRhaW5lci5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyVyA9IGNvbnRhaW5lci5jbGllbnRXaWR0aDtcclxuXHJcbiAgICAgICAgdGhpcy5waXhpQXBwID0gbmV3IEFwcGxpY2F0aW9uKHtcclxuICAgICAgICAgICAgd2lkdGg6IGNvbnRhaW5lclcsXHJcbiAgICAgICAgICAgIGhlaWdodDogY29udGFpbmVySCxcclxuICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IDB4ODdDRUVCXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zdGFnZSA9IHRoaXMucGl4aUFwcC5zdGFnZTtcclxuICAgICAgICB0aGlzLnVpTGF5ZXIgPSBuZXcgVWlMYXllcihjb250YWluZXIpO1xyXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnBpeGlBcHAudmlldyk7XHJcbiAgICB9XHJcblxyXG4gICAgcnVuKCkge1xyXG4gICAgICAgIHRoaXMuc3RhcnRMZXZlbChuZXcgRmlyc3RMZXZlbCgpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRMZXZlbChsZXZlbDogTGV2ZWwpIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZUxldmVsID0gbGV2ZWw7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVMZXZlbC5hdHRhY2hUb0FwcCh0aGlzLnBpeGlBcHApO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUxldmVsLnJ1bigpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiIsIi8qIVxuICogQHBpeGkvcG9seWZpbGwgLSB2NS4yLjBcbiAqIENvbXBpbGVkIFdlZCwgMDYgTm92IDIwMTkgMDI6MzI6NDMgVVRDXG4gKlxuICogQHBpeGkvcG9seWZpbGwgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBQb2x5ZmlsbCB9IGZyb20gJ2VzNi1wcm9taXNlLXBvbHlmaWxsJztcbmltcG9ydCBvYmplY3RBc3NpZ24gZnJvbSAnb2JqZWN0LWFzc2lnbic7XG5cbi8vIFN1cHBvcnQgZm9yIElFIDkgLSAxMSB3aGljaCBkb2VzIG5vdCBpbmNsdWRlIFByb21pc2VzXG5pZiAoIXdpbmRvdy5Qcm9taXNlKVxue1xuICAgIHdpbmRvdy5Qcm9taXNlID0gUG9seWZpbGw7XG59XG5cbi8vIFJlZmVyZW5jZXM6XG5cbmlmICghT2JqZWN0LmFzc2lnbilcbntcbiAgICBPYmplY3QuYXNzaWduID0gb2JqZWN0QXNzaWduO1xufVxuXG52YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNTc5NjcxXG4vLyBodHRwOi8vdXBkYXRlcy5odG1sNXJvY2tzLmNvbS8yMDEyLzA1L3JlcXVlc3RBbmltYXRpb25GcmFtZS1BUEktbm93LXdpdGgtc3ViLW1pbGxpc2Vjb25kLXByZWNpc2lvblxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vdGltaGFsbC80MDc4NjE0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvdHJlZS9tYXN0ZXIvcG9seWZpbGxzL3JlcXVlc3RBbmltYXRpb25GcmFtZVxuXG4vLyBFeHBlY3RlZCB0byBiZSB1c2VkIHdpdGggQnJvd3NlcmZpeVxuLy8gQnJvd3NlcmlmeSBhdXRvbWF0aWNhbGx5IGRldGVjdHMgdGhlIHVzZSBvZiBgZ2xvYmFsYCBhbmQgcGFzc2VzIHRoZVxuLy8gY29ycmVjdCByZWZlcmVuY2Ugb2YgYGdsb2JhbGAsIGBzZWxmYCwgYW5kIGZpbmFsbHkgYHdpbmRvd2BcblxudmFyIE9ORV9GUkFNRV9USU1FID0gMTY7XG5cbi8vIERhdGUubm93XG5pZiAoIShEYXRlLm5vdyAmJiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lKSlcbntcbiAgICBEYXRlLm5vdyA9IGZ1bmN0aW9uIG5vdygpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cblxuLy8gcGVyZm9ybWFuY2Uubm93XG5pZiAoIShjb21tb25qc0dsb2JhbC5wZXJmb3JtYW5jZSAmJiBjb21tb25qc0dsb2JhbC5wZXJmb3JtYW5jZS5ub3cpKVxue1xuICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgaWYgKCFjb21tb25qc0dsb2JhbC5wZXJmb3JtYW5jZSlcbiAgICB7XG4gICAgICAgIGNvbW1vbmpzR2xvYmFsLnBlcmZvcm1hbmNlID0ge307XG4gICAgfVxuXG4gICAgY29tbW9uanNHbG9iYWwucGVyZm9ybWFuY2Uubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTsgfTtcbn1cblxuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG52YXIgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuXG5mb3IgKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICFjb21tb25qc0dsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreClcbntcbiAgICB2YXIgcCA9IHZlbmRvcnNbeF07XG5cbiAgICBjb21tb25qc0dsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBjb21tb25qc0dsb2JhbFsocCArIFwiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIpXTtcbiAgICBjb21tb25qc0dsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGNvbW1vbmpzR2xvYmFsWyhwICsgXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiKV0gfHwgY29tbW9uanNHbG9iYWxbKHAgKyBcIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZVwiKV07XG59XG5cbmlmICghY29tbW9uanNHbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxue1xuICAgIGNvbW1vbmpzR2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKChjYWxsYmFjayArIFwiaXMgbm90IGEgZnVuY3Rpb25cIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGRlbGF5ID0gT05FX0ZSQU1FX1RJTUUgKyBsYXN0VGltZSAtIGN1cnJlbnRUaW1lO1xuXG4gICAgICAgIGlmIChkZWxheSA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RUaW1lID0gY3VycmVudFRpbWU7XG5cbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY2FsbGJhY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfTtcbn1cblxuaWYgKCFjb21tb25qc0dsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSlcbntcbiAgICBjb21tb25qc0dsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTsgfTtcbn1cblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc2lnblxuXG5pZiAoIU1hdGguc2lnbilcbntcbiAgICBNYXRoLnNpZ24gPSBmdW5jdGlvbiBtYXRoU2lnbih4KVxuICAgIHtcbiAgICAgICAgeCA9IE51bWJlcih4KTtcblxuICAgICAgICBpZiAoeCA9PT0gMCB8fCBpc05hTih4KSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geCA+IDAgPyAxIDogLTE7XG4gICAgfTtcbn1cblxuLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci9pc0ludGVnZXJcblxuaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKVxue1xuICAgIE51bWJlci5pc0ludGVnZXIgPSBmdW5jdGlvbiBudW1iZXJJc0ludGVnZXIodmFsdWUpXG4gICAge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xuICAgIH07XG59XG5cbmlmICghd2luZG93LkFycmF5QnVmZmVyKVxue1xuICAgIHdpbmRvdy5BcnJheUJ1ZmZlciA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5GbG9hdDMyQXJyYXkpXG57XG4gICAgd2luZG93LkZsb2F0MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MzJBcnJheSlcbntcbiAgICB3aW5kb3cuVWludDMyQXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuVWludDE2QXJyYXkpXG57XG4gICAgd2luZG93LlVpbnQxNkFycmF5ID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LlVpbnQ4QXJyYXkpXG57XG4gICAgd2luZG93LlVpbnQ4QXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuSW50MzJBcnJheSlcbntcbiAgICB3aW5kb3cuSW50MzJBcnJheSA9IEFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9seWZpbGwuZXMuanMubWFwXG4iLCJ2YXIgc2NvcGUgPSAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwpIHx8XG4gICAgICAgICAgICAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZikgfHxcbiAgICAgICAgICAgIHdpbmRvdztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcblxuLy8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3NcblxuZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdGltZW91dC5jbG9zZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHNjb3BlLCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gc2V0aW1tZWRpYXRlIGF0dGFjaGVzIGl0c2VsZiB0byB0aGUgZ2xvYmFsIG9iamVjdFxucmVxdWlyZShcInNldGltbWVkaWF0ZVwiKTtcbi8vIE9uIHNvbWUgZXhvdGljIGVudmlyb25tZW50cywgaXQncyBub3QgY2xlYXIgd2hpY2ggb2JqZWN0IGBzZXRpbW1lZGlhdGVgIHdhc1xuLy8gYWJsZSB0byBpbnN0YWxsIG9udG8uICBTZWFyY2ggZWFjaCBwb3NzaWJpbGl0eSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcbi8vIGBzZXRpbW1lZGlhdGVgIGxpYnJhcnkuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5zZXRJbW1lZGlhdGUpO1xuZXhwb3J0cy5jbGVhckltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLmNsZWFySW1tZWRpYXRlKTtcbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCB1bmRlZmluZWQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV4dEhhbmRsZSA9IDE7IC8vIFNwZWMgc2F5cyBncmVhdGVyIHRoYW4gemVyb1xuICAgIHZhciB0YXNrc0J5SGFuZGxlID0ge307XG4gICAgdmFyIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgIHZhciBkb2MgPSBnbG9iYWwuZG9jdW1lbnQ7XG4gICAgdmFyIHJlZ2lzdGVySW1tZWRpYXRlO1xuXG4gICAgZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4gICAgICAvLyBDYWxsYmFjayBjYW4gZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG5ldyBGdW5jdGlvbihcIlwiICsgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgLy8gQ29weSBmdW5jdGlvbiBhcmd1bWVudHNcbiAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gU3RvcmUgYW5kIHJlZ2lzdGVyIHRoZSB0YXNrXG4gICAgICB2YXIgdGFzayA9IHsgY2FsbGJhY2s6IGNhbGxiYWNrLCBhcmdzOiBhcmdzIH07XG4gICAgICB0YXNrc0J5SGFuZGxlW25leHRIYW5kbGVdID0gdGFzaztcbiAgICAgIHJlZ2lzdGVySW1tZWRpYXRlKG5leHRIYW5kbGUpO1xuICAgICAgcmV0dXJuIG5leHRIYW5kbGUrKztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpIHtcbiAgICAgICAgZGVsZXRlIHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW4odGFzaykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICAgICAgICB2YXIgYXJncyA9IHRhc2suYXJncztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5JZlByZXNlbnQoaGFuZGxlKSB7XG4gICAgICAgIC8vIEZyb20gdGhlIHNwZWM6IFwiV2FpdCB1bnRpbCBhbnkgaW52b2NhdGlvbnMgb2YgdGhpcyBhbGdvcml0aG0gc3RhcnRlZCBiZWZvcmUgdGhpcyBvbmUgaGF2ZSBjb21wbGV0ZWQuXCJcbiAgICAgICAgLy8gU28gaWYgd2UncmUgY3VycmVudGx5IHJ1bm5pbmcgYSB0YXNrLCB3ZSdsbCBuZWVkIHRvIGRlbGF5IHRoaXMgaW52b2NhdGlvbi5cbiAgICAgICAgaWYgKGN1cnJlbnRseVJ1bm5pbmdBVGFzaykge1xuICAgICAgICAgICAgLy8gRGVsYXkgYnkgZG9pbmcgYSBzZXRUaW1lb3V0LiBzZXRJbW1lZGlhdGUgd2FzIHRyaWVkIGluc3RlYWQsIGJ1dCBpbiBGaXJlZm94IDcgaXQgZ2VuZXJhdGVkIGFcbiAgICAgICAgICAgIC8vIFwidG9vIG11Y2ggcmVjdXJzaW9uXCIgZXJyb3IuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgICAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bih0YXNrKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckltbWVkaWF0ZShoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkgeyBydW5JZlByZXNlbnQoaGFuZGxlKTsgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuVXNlUG9zdE1lc3NhZ2UoKSB7XG4gICAgICAgIC8vIFRoZSB0ZXN0IGFnYWluc3QgYGltcG9ydFNjcmlwdHNgIHByZXZlbnRzIHRoaXMgaW1wbGVtZW50YXRpb24gZnJvbSBiZWluZyBpbnN0YWxsZWQgaW5zaWRlIGEgd2ViIHdvcmtlcixcbiAgICAgICAgLy8gd2hlcmUgYGdsb2JhbC5wb3N0TWVzc2FnZWAgbWVhbnMgc29tZXRoaW5nIGNvbXBsZXRlbHkgZGlmZmVyZW50IGFuZCBjYW4ndCBiZSB1c2VkIGZvciB0aGlzIHB1cnBvc2UuXG4gICAgICAgIGlmIChnbG9iYWwucG9zdE1lc3NhZ2UgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgICAgICB2YXIgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2xkT25NZXNzYWdlID0gZ2xvYmFsLm9ubWVzc2FnZTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKFwiXCIsIFwiKlwiKTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBvbGRPbk1lc3NhZ2U7XG4gICAgICAgICAgICByZXR1cm4gcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICAvLyBJbnN0YWxscyBhbiBldmVudCBoYW5kbGVyIG9uIGBnbG9iYWxgIGZvciB0aGUgYG1lc3NhZ2VgIGV2ZW50OiBzZWVcbiAgICAgICAgLy8gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9ET00vd2luZG93LnBvc3RNZXNzYWdlXG4gICAgICAgIC8vICogaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvY29tbXMuaHRtbCNjcm9zc0RvY3VtZW50TWVzc2FnZXNcblxuICAgICAgICB2YXIgbWVzc2FnZVByZWZpeCA9IFwic2V0SW1tZWRpYXRlJFwiICsgTWF0aC5yYW5kb20oKSArIFwiJFwiO1xuICAgICAgICB2YXIgb25HbG9iYWxNZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGdsb2JhbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBldmVudC5kYXRhID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5pbmRleE9mKG1lc3NhZ2VQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KCtldmVudC5kYXRhLnNsaWNlKG1lc3NhZ2VQcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWwuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UobWVzc2FnZVByZWZpeCArIGhhbmRsZSwgXCIqXCIpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0ID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBodG1sLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIElmIHN1cHBvcnRlZCwgd2Ugc2hvdWxkIGF0dGFjaCB0byB0aGUgcHJvdG90eXBlIG9mIGdsb2JhbCwgc2luY2UgdGhhdCBpcyB3aGVyZSBzZXRUaW1lb3V0IGV0IGFsLiBsaXZlLlxuICAgIHZhciBhdHRhY2hUbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTtcbiAgICBhdHRhY2hUbyA9IGF0dGFjaFRvICYmIGF0dGFjaFRvLnNldFRpbWVvdXQgPyBhdHRhY2hUbyA6IGdsb2JhbDtcblxuICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgZS5nLiBicm93c2VyaWZ5IGVudmlyb25tZW50cy5cbiAgICBpZiAoe30udG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09IFwiW29iamVjdCBwcm9jZXNzXVwiKSB7XG4gICAgICAgIC8vIEZvciBOb2RlLmpzIGJlZm9yZSAwLjlcbiAgICAgICAgaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoY2FuVXNlUG9zdE1lc3NhZ2UoKSkge1xuICAgICAgICAvLyBGb3Igbm9uLUlFMTAgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICAvLyBGb3Igd2ViIHdvcmtlcnMsIHdoZXJlIHN1cHBvcnRlZFxuICAgICAgICBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChkb2MgJiYgXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiBpbiBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSkge1xuICAgICAgICAvLyBGb3IgSUUgNuKAkzhcbiAgICAgICAgaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUby5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG4gICAgYXR0YWNoVG8uY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcbn0odHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyB0eXBlb2YgZ2xvYmFsID09PSBcInVuZGVmaW5lZFwiID8gdGhpcyA6IGdsb2JhbCA6IHNlbGYpKTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjQuMScsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHtcblx0XHRcdC8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTdHJpbmc6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09PSBudWxsO1xuICB9LFxuICBpc051bGxPclVuZGVmaW5lZDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PSBudWxsO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG4iLCJpbXBvcnQge0xldmVsfSBmcm9tIFwiLi4vbW9kZWxzL0xldmVsXCI7XHJcbmltcG9ydCB7QmFsbG9vbiwgUmVkQmFsbG9vbn0gZnJvbSBcIi4uL21vZGVscy9CYWxsb29uXCI7XHJcbmltcG9ydCB7Q2xvdWR9IGZyb20gXCIuLi9tb2RlbHMvQ2xvdWRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGaXJzdExldmVsIGV4dGVuZHMgTGV2ZWwge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgYmFsbG9vblNwZWVkID0gMjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgYmFsbG9vbkxhdW5jaEludGVydmFsID0gMTUwMDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgY2xvdWRTcGF3blRvcEJvcmRlciA9IDAuMDE7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNsb3VkU3Bhd25Cb3R0b21Cb3JkZXIgPSAwLjM1O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBjbG91ZExhdW5jaEludGVydmFsID0gMTAwMDA7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNsb3VkU3BlZWQgPSAwLjM7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBpbml0KCkge1xyXG4gICAgICAgIGF3YWl0IFJlZEJhbGxvb24ubG9hZFJlc291cmNlcygpO1xyXG4gICAgICAgIGF3YWl0IENsb3VkLmxvYWRSZXNvdXJjZXMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFydExhdW5jaGluZ0Nsb3VkcygpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRMYXVuY2hpbmdCYWxsb29ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByZW5kZXIoZGVsdGFUaW1lOiBudW1iZXIpIHtcclxuICAgICAgICBmb3IgKGxldCBhY3RvcktleSBpbiB0aGlzLmFjdG9ycykge1xyXG4gICAgICAgICAgICBjb25zdCBhY3RvciA9IHRoaXMuYWN0b3JzW2FjdG9yS2V5XTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhY3RvciBpbnN0YW5jZW9mIEJhbGxvb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQmFsbG9vbihhY3RvciwgZGVsdGFUaW1lKVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFjdG9yIGluc3RhbmNlb2YgQ2xvdWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2xvdWQoYWN0b3IsIGRlbHRhVGltZSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGFydExhdW5jaGluZ0Nsb3VkcygpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgY2xvdWQgPSB0aGlzLmNyZWF0ZUNsb3VkKCk7XHJcbiAgICAgICAgICAgIGNsb3VkLm1vdmUoLi4udGhpcy5nZXRDbG91ZFNwYXduUG9pbnQoY2xvdWQsIHRydWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVTdGF0ZS5wYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjbG91ZCA9IHRoaXMuY3JlYXRlQ2xvdWQoKTtcclxuICAgICAgICAgICAgICAgIGNsb3VkLm1vdmUoLi4udGhpcy5nZXRDbG91ZFNwYXduUG9pbnQoY2xvdWQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMuY2xvdWRMYXVuY2hJbnRlcnZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVCYWxsb29uKGJhbGxvb246IEJhbGxvb24sIGRlbHRhVGltZTogbnVtYmVyKSB7XHJcblxyXG4gICAgICAgIGlmIChiYWxsb29uLnNwcml0ZS55ID4gMCAtIGJhbGxvb24uc3ByaXRlLmhlaWdodCkge1xyXG4gICAgICAgICAgICBiYWxsb29uLnNwcml0ZS55ID0gYmFsbG9vbi5zcHJpdGUueSAtIHRoaXMuYmFsbG9vblNwZWVkICogZGVsdGFUaW1lO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWN0b3IoYmFsbG9vbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlQ2xvdWQoY2xvdWQ6IENsb3VkLCBkZWx0YVRpbWU6IG51bWJlcikge1xyXG5cclxuICAgICAgICBpZiAoY2xvdWQuc3ByaXRlLnggPiAwIC0gY2xvdWQuc3ByaXRlLndpZHRoKSB7XHJcbiAgICAgICAgICAgIGNsb3VkLnNwcml0ZS54ID0gY2xvdWQuc3ByaXRlLnggLSB0aGlzLmNsb3VkU3BlZWQgKiBkZWx0YVRpbWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVBY3RvcihjbG91ZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhcnRMYXVuY2hpbmdCYWxsb29ucygpIHtcclxuICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nYW1lU3RhdGUucGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmFsbG9vbiA9IHRoaXMuY3JlYXRlQmFsbG9vbigpO1xyXG4gICAgICAgICAgICAgICAgYmFsbG9vbi5tb3ZlKC4uLnRoaXMuZ2V0QmFsbG9vblNwYXduUG9pbnQoYmFsbG9vbikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcy5iYWxsb29uTGF1bmNoSW50ZXJ2YWwpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZUJhbGxvb24oKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhbGxvb24gPSBuZXcgUmVkQmFsbG9vbigpO1xyXG5cclxuICAgICAgICBiYWxsb29uLnNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlLnNjb3JlKys7XHJcbiAgICAgICAgICAgIGJhbGxvb24ucGxheVNvdW5kKCdwb3AnKTtcclxuICAgICAgICAgICAgYmFsbG9vbi5wbGF5QW5pbWF0aW9uKHtcclxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHRoaXMucmVtb3ZlQWN0b3IoYmFsbG9vbilcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoQWN0b3IoYmFsbG9vbik7XHJcblxyXG4gICAgICAgIHJldHVybiBiYWxsb29uO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlQ2xvdWQoKSB7XHJcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBDbG91ZC5zaGFwZXNbdGhpcy5nZXRSYW5kb21OdW1iZXIoMCwgQ2xvdWQuc2hhcGVzLmxlbmd0aCAtIDEpXTtcclxuXHJcbiAgICAgICAgY29uc3QgY2xvdWQgPSBuZXcgQ2xvdWQoc2hhcGUpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNoQWN0b3IoY2xvdWQpO1xyXG4gICAgICAgIHJldHVybiBjbG91ZDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEJhbGxvb25TcGF3blBvaW50KGJhbGxvb246IEJhbGxvb24pIHtcclxuICAgICAgICBjb25zdCBoYWxmT2ZCYWxsb29uVyA9IGJhbGxvb24uc3ByaXRlLndpZHRoIC8gMjtcclxuICAgICAgICBjb25zdCBiYWxsb29uSCA9IGJhbGxvb24uc3ByaXRlLmhlaWdodDtcclxuICAgICAgICBjb25zdCB2aWV3VyA9IHRoaXMuYXBwLnNjcmVlbi53aWR0aDtcclxuICAgICAgICBjb25zdCByYW5kID0gdGhpcy5nZXRSYW5kb21OdW1iZXIoaGFsZk9mQmFsbG9vblcsIHZpZXdXIC0gaGFsZk9mQmFsbG9vblcpO1xyXG4gICAgICAgIHJldHVybiBbTWF0aC5mbG9vcihyYW5kKSwgdGhpcy5hcHAuc2NyZWVuLmhlaWdodCArIGJhbGxvb25IXTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENsb3VkU3Bhd25Qb2ludChjbG91ZDogQ2xvdWQsIHNwYXduSW5WaWV3OiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCBjbG91ZFcgPSBjbG91ZC5zcHJpdGUud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaGFsZkNsb3VkSCA9IGNsb3VkLnNwcml0ZS5oZWlnaHQgLyAyO1xyXG4gICAgICAgIGNvbnN0IHRvcEJvcmRlciA9IHRoaXMuYXBwLnNjcmVlbi5oZWlnaHQgKiB0aGlzLmNsb3VkU3Bhd25Ub3BCb3JkZXI7XHJcbiAgICAgICAgY29uc3QgYm90dG9tQm9yZGVyID0gdGhpcy5hcHAuc2NyZWVuLmhlaWdodCAqIHRoaXMuY2xvdWRTcGF3bkJvdHRvbUJvcmRlcjtcclxuICAgICAgICBjb25zdCByaWdodEJvcmRlciA9IHRoaXMuYXBwLnNjcmVlbi53aWR0aCArIGNsb3VkVyArIDUwO1xyXG5cclxuICAgICAgICBjb25zdCB4ID0gc3Bhd25JblZpZXdcclxuICAgICAgICAgICAgPyB0aGlzLmdldFJhbmRvbU51bWJlcigwLCByaWdodEJvcmRlcilcclxuICAgICAgICAgICAgOiByaWdodEJvcmRlcjtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy5nZXRSYW5kb21OdW1iZXIodG9wQm9yZGVyICsgaGFsZkNsb3VkSCwgYm90dG9tQm9yZGVyIC0gaGFsZkNsb3VkSCk7XHJcblxyXG4gICAgICAgIHJldHVybiBbeCwgeV07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRSYW5kb21OdW1iZXIobWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCArIDEgLSBtaW4pKVxyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gXCJwaXhpLmpzXCI7XHJcbmltcG9ydCBDb250YWluZXIgPSBQSVhJLkNvbnRhaW5lcjtcclxuaW1wb3J0IExvYWRlclJlc291cmNlID0gUElYSS5Mb2FkZXJSZXNvdXJjZTtcclxuaW1wb3J0IHtBY3Rvcn0gZnJvbSBcIi4vYWN0b3IvQWN0b3JcIjtcclxuaW1wb3J0IFJlbmRlcmVyID0gUElYSS5SZW5kZXJlcjtcclxuaW1wb3J0IEFwcGxpY2F0aW9uID0gUElYSS5BcHBsaWNhdGlvbjtcclxuaW1wb3J0IHtHYW1lU3RhdGV9IGZyb20gXCIuL0dhbWUtc3RhdGVcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBMZXZlbCB7XHJcblxyXG4gICAgcHJvdGVjdGVkIGxldmVsQ29udGFpbmVyID0gbmV3IENvbnRhaW5lcigpO1xyXG4gICAgcHJvdGVjdGVkIGFwcDogQXBwbGljYXRpb247XHJcbiAgICBwcm90ZWN0ZWQgYWN0b3JzOiB7W2tleTogc3RyaW5nXTogQWN0b3J9ID0ge307XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHJlbmRlckY6IChkOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgICBwcm90ZWN0ZWQgZ2FtZVN0YXRlOiBHYW1lU3RhdGU7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlLmluc3RhbmNlO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlckYgPSAoZGVsdGEpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nYW1lU3RhdGUucGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcihkZWx0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGF0dGFjaFRvQXBwKGFwcDogQXBwbGljYXRpb24pIHtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgICAgICB0aGlzLmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLmxldmVsQ29udGFpbmVyKVxyXG4gICAgfVxyXG5cclxuICAgIGF0dGFjaFJlbmRlckYoKSB7XHJcbiAgICAgICAgdGhpcy5hcHAudGlja2VyLmFkZCh0aGlzLnJlbmRlckYpO1xyXG4gICAgfVxyXG5cclxuICAgIGRldGFjaFJlbmRlckYoKSB7XHJcbiAgICAgICAgdGhpcy5hcHAudGlja2VyLnJlbW92ZSh0aGlzLnJlbmRlckYpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhdHRhY2hBY3RvcihhY3RvcjogQWN0b3IpIHtcclxuICAgICAgICB0aGlzLmFjdG9yc1thY3Rvci5rZXldID0gYWN0b3I7XHJcbiAgICAgICAgdGhpcy5sZXZlbENvbnRhaW5lci5hZGRDaGlsZChhY3Rvci5zcHJpdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUFjdG9yKGFjdG9yOiBBY3Rvcikge1xyXG4gICAgICAgIGlmIChhY3Rvci5rZXkgaW4gdGhpcy5hY3RvcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5sZXZlbENvbnRhaW5lci5yZW1vdmVDaGlsZChhY3Rvci5zcHJpdGUpO1xyXG5cclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWN0b3JzW2FjdG9yLmtleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBhc3luYyBpbml0KCk7XHJcblxyXG4gICAgcnVuKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdCgpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuYXR0YWNoUmVuZGVyRigpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgcmVuZGVyKGRlbHRhVGltZTogbnVtYmVyKTogdm9pZFxyXG5cclxufVxyXG4iLCJpbXBvcnQge0FjdG9yfSBmcm9tIFwiLi9hY3Rvci9BY3RvclwiO1xyXG5pbXBvcnQge011bHRpY2FzdE9wZXJhdG9yfSBmcm9tIFwicnhqcy9pbnRlcm5hbC9vcGVyYXRvcnMvbXVsdGljYXN0XCI7XHJcbmltcG9ydCB7TXVsdGlUZXh0dXJlQWN0b3J9IGZyb20gXCIuL2FjdG9yL211bHRpLXRleHR1cmUtYWN0b3JcIjtcclxuaW1wb3J0IHtBbmltYXRlZEFjdG9yfSBmcm9tIFwiLi9hY3Rvci9hbmltYXRlZC1hY3RvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBlbnVtIEVCYWxsb29uQ29sb3Ige1xyXG4gICAgcmVkPSAncmVkJyxcclxuICAgIGdyZWVuID0gJ2dyZWVuJyxcclxuICAgIGJsdWUgPSAnYmx1ZScsXHJcbiAgICB5ZWxsb3cgPSAneWVsbG93J1xyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFsbG9vbiBleHRlbmRzIEFuaW1hdGVkQWN0b3Ige1xyXG5cclxuICAgIHByb3RlY3RlZCBzdGF0aWMgc291bmRzVXJscyA9IHtcclxuICAgICAgICAncG9wJzogJ2Fzc2V0cy9zb3VuZHMvYmFsbG9vbi1wb3AubXAzJ1xyXG4gICAgfTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoe2ludGVyYWN0aXZlOiB0cnVlfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSZWRCYWxsb29uIGV4dGVuZHMgQmFsbG9vbntcclxuXHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIGFuaW1hdGlvbnNVcmxzID0ge1xyXG4gICAgICAgICdiYWxsb29uLXBvcCc6ICdhc3NldHMvaW1hZ2VzL2JhbGxvb24tcmVkL3Nwcml0ZXMuanNvbidcclxuICAgIH07XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vXHJcbi8vIFJlZEJhbGxvb24udGV4dHVyZVVybCA9ICdhc3NldHMvaW1hZ2VzL3JlZC1iYWxsb29uLnBuZyc7XHJcbi8vIEdyZWVuQmFsbG9vbi50ZXh0dXJlVXJsID0gJ2Fzc2V0cy9pbWFnZXMvZ3JlZW4tYmFsbG9vbi5wbmcnO1xyXG4vLyBCbHVlQmFsbG9vbi50ZXh0dXJlVXJsID0gJ2Fzc2V0cy9pbWFnZXMvYmx1ZS1iYWxsb29uLnBuZyc7XHJcbi8vIFllbGxvd0JhbGxvb24udGV4dHVyZVVybCA9ICdhc3NldHMvaW1hZ2VzL3llbGxvdy1iYWxsb29uLnBuZyc7XHJcblxyXG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gXCJwaXhpLmpzXCI7XHJcbmltcG9ydCB7QWN0b3J9IGZyb20gXCIuL0FjdG9yXCI7XHJcbmltcG9ydCBBbmltYXRlZFNwcml0ZSA9IFBJWEkuQW5pbWF0ZWRTcHJpdGU7XHJcbmltcG9ydCB7SUFjdG9yT3B0aW9uc30gZnJvbSBcIi4vYWN0b3IuaW50ZXJmYWNlXCI7XHJcbmltcG9ydCBUZXh0dXJlID0gUElYSS5UZXh0dXJlO1xyXG5pbXBvcnQgTG9hZGVyID0gUElYSS5Mb2FkZXI7XHJcblxyXG5leHBvcnQgY2xhc3MgQW5pbWF0ZWRBY3RvciBleHRlbmRzIEFjdG9yIHtcclxuICAgIC8vIFRPRE8gbWFrZSBhbmltYXRpb25zIGJlIGluIHNpbmdsZSBmb3JtIChOb3QgUmVjb3JkIGFuZCBqdXN0IFRleHR1cmVbXSlcclxuICAgIHByb3RlY3RlZCBzdGF0aWMgYW5pbWF0aW9uczogUmVjb3JkPHN0cmluZywgVGV4dHVyZVtdPjtcclxuICAgIHByb3RlY3RlZCBzdGF0aWMgYW5pbWF0aW9uc1VybHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBsb2FkUmVzb3VyY2VzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5hbmltYXRpb25zVXJscyB8fCAhT2JqZWN0LmtleXModGhpcy5hbmltYXRpb25zVXJscykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgYW5pbWF0aW9uc1VybHMgZG9lcyBub3Qgc2V0IG9uIGNsYXNzICR7dGhpcy5uYW1lfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgQWN0b3IubG9hZFJlc291cmNlcy5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB7fTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5hbmltYXRpb25zVXJscykge1xyXG4gICAgICAgICAgICAgICAgbG9hZGVyLmFkZChrZXksIHRoaXMuYW5pbWF0aW9uc1VybHNba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxvYWRlci5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlc291cmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNba2V5XS50ZXh0dXJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNba2V5XSA9IE9iamVjdC52YWx1ZXMocmVzb3VyY2VzW2tleV0udGV4dHVyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbG9hZGVyLm9uKCdlcnJvcicsIGVycm9yID0+IHJlamVjdChlcnJvcikpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3ByaXRlOiBBbmltYXRlZFNwcml0ZTtcclxuICAgIHByb3RlY3RlZCBjdXJyZW50QW5pbWF0aW9uS2V5OiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86IElBbmltYXRlZEFjdG9yT3B0aW9ucykge1xyXG4gICAgICAgIGxldCB7aW50ZXJhY3RpdmV9ID0gb3B0aW9ucztcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIGlmICghdGhpcy5jb25zdHJ1Y3RvclsnYW5pbWF0aW9ucyddIHx8ICFPYmplY3Qua2V5cyh0aGlzLmNvbnN0cnVjdG9yWydhbmltYXRpb25zJ10pLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGRlZmluZSBzb21lIGFuaW1hdGlvbiBvbiAke3RoaXMuY29uc3RydWN0b3IubmFtZX1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpbml0aWFsQW5pbWF0aW9uS2V5ID0gb3B0aW9ucy5pbml0aWFsQW5pbUtleSA/IG9wdGlvbnMuaW5pdGlhbEFuaW1LZXkgOiBPYmplY3Qua2V5cyh0aGlzLmNvbnN0cnVjdG9yWydhbmltYXRpb25zJ10pWzBdO1xyXG4gICAgICAgIGxldCBpbml0aWFsQW5pbWF0aW9uID0gdGhpcy5jb25zdHJ1Y3RvclsnYW5pbWF0aW9ucyddW2luaXRpYWxBbmltYXRpb25LZXldO1xyXG5cclxuICAgICAgICBpZiAoIWluaXRpYWxBbmltYXRpb24pIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjb3VsZCBub3QgZ2V0IGluaXRpYWwgYW5pbWF0aW9uIG9uICR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbktleSA9IGluaXRpYWxBbmltYXRpb25LZXk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBuZXcgQW5pbWF0ZWRTcHJpdGUoaW5pdGlhbEFuaW1hdGlvbik7XHJcbiAgICAgICAgdGhpcy5jb25maWd1cmUoe2ludGVyYWN0aXZlfSk7XHJcbiAgICAgICAgLy9UT0RPIGdldCByZWVkIG9mIGhhcmRjb2RlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYW5pbWF0aW9uU3BlZWQgPSAwLjY7XHJcbiAgICB9XHJcblxyXG4gICAgcGxheUFuaW1hdGlvbihvcHRpb25zPzoge2FuaW1hdGlvbktleT86IHN0cmluZywgbG9vcD86IGJvb2xlYW4sIG9uQ29tcGxldGU/OiAoKSA9PiB2b2lkfSkge1xyXG4gICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmxvb3AgPSBvcHRpb25zLmxvb3A7XHJcblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLmFuaW1hdGlvbktleSAmJiB0aGlzLmN1cnJlbnRBbmltYXRpb25LZXkgIT09IG9wdGlvbnMuYW5pbWF0aW9uS2V5KSB7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5vbkNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5vbkNvbXBsZXRlID0gb3B0aW9ucy5vbkNvbXBsZXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuaW50ZXJmYWNlIElBbmltYXRlZEFjdG9yT3B0aW9ucyBleHRlbmRzIElBY3Rvck9wdGlvbnMge1xyXG4gICAgaW5pdGlhbEFuaW1LZXk/OiBzdHJpbmdcclxufVxyXG4iLCIvKiFcbiAqICBob3dsZXIuanMgdjIuMS4zXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMTksIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKiBHbG9iYWwgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBnbG9iYWwgY29udHJvbGxlci4gQWxsIGNvbnRhaW5lZCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFwcGx5XG4gICAqIHRvIGFsbCBzb3VuZHMgdGhhdCBhcmUgY3VycmVudGx5IHBsYXlpbmcgb3Igd2lsbCBiZSBpbiB0aGUgZnV0dXJlLlxuICAgKi9cbiAgdmFyIEhvd2xlckdsb2JhbCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIENyZWF0ZSBhIGdsb2JhbCBJRCBjb3VudGVyLlxuICAgICAgc2VsZi5fY291bnRlciA9IDEwMDA7XG5cbiAgICAgIC8vIFBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cy5cbiAgICAgIHNlbGYuX2h0bWw1QXVkaW9Qb29sID0gW107XG4gICAgICBzZWxmLmh0bWw1UG9vbFNpemUgPSAxMDtcblxuICAgICAgLy8gSW50ZXJuYWwgcHJvcGVydGllcy5cbiAgICAgIHNlbGYuX2NvZGVjcyA9IHt9O1xuICAgICAgc2VsZi5faG93bHMgPSBbXTtcbiAgICAgIHNlbGYuX211dGVkID0gZmFsc2U7XG4gICAgICBzZWxmLl92b2x1bWUgPSAxO1xuICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXl0aHJvdWdoJztcbiAgICAgIHNlbGYuX25hdmlnYXRvciA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yKSA/IHdpbmRvdy5uYXZpZ2F0b3IgOiBudWxsO1xuXG4gICAgICAvLyBQdWJsaWMgcHJvcGVydGllcy5cbiAgICAgIHNlbGYubWFzdGVyR2FpbiA9IG51bGw7XG4gICAgICBzZWxmLm5vQXVkaW8gPSBmYWxzZTtcbiAgICAgIHNlbGYudXNpbmdXZWJBdWRpbyA9IHRydWU7XG4gICAgICBzZWxmLmF1dG9TdXNwZW5kID0gdHJ1ZTtcbiAgICAgIHNlbGYuY3R4ID0gbnVsbDtcblxuICAgICAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhlIGF1dG8gYXVkaW8gdW5sb2NrZXIuXG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSB0cnVlO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgdmFyaW91cyBzdGF0ZSB2YWx1ZXMgZm9yIGdsb2JhbCB0cmFja2luZy5cbiAgICAgIHNlbGYuX3NldHVwKCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHRoZSBnbG9iYWwgdm9sdW1lIGZvciBhbGwgc291bmRzLlxuICAgICAqIEBwYXJhbSAge0Zsb2F0fSB2b2wgVm9sdW1lIGZyb20gMC4wIHRvIDEuMC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXIvRmxvYXR9ICAgICBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbih2b2wpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2b2wgPSBwYXJzZUZsb2F0KHZvbCk7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSBhbnkgb2YgdGhlIG5vZGVzIGlmIHdlIGFyZSBtdXRlZC5cbiAgICAgICAgaWYgKHNlbGYuX211dGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHVzaW5nIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIGFkanVzdCB0aGUgbWFzdGVyIGdhaW4uXG4gICAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFuZCBjaGFuZ2Ugdm9sdW1lIGZvciBhbGwgSFRNTDUgYXVkaW8gbm9kZXMuXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2hvd2xzW2ldLl9nZXRTb3VuZElkcygpO1xuXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgY2hhbmdlIHRoZSB2b2x1bWVzLlxuICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIHZvbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbXV0aW5nIGFuZCB1bm11dGluZyBnbG9iYWxseS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBtdXRlZCBJcyBtdXRlZCBvciBub3QuXG4gICAgICovXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gQXVkaW9Db250ZXh0IGNyZWF0ZWQgeWV0LCBydW4gdGhlIHNldHVwLlxuICAgICAgaWYgKCFzZWxmLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9tdXRlZCA9IG11dGVkO1xuXG4gICAgICAvLyBXaXRoIFdlYiBBdWRpbywgd2UganVzdCBuZWVkIHRvIG11dGUgdGhlIG1hc3RlciBnYWluLlxuICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbykge1xuICAgICAgICBzZWxmLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzZWxmLl92b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYW5kIG11dGUgYWxsIEhUTUw1IEF1ZGlvIG5vZGVzLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX2hvd2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICB2YXIgaWRzID0gc2VsZi5faG93bHNbaV0uX2dldFNvdW5kSWRzKCk7XG5cbiAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHNvdW5kcyBhbmQgbWFyayB0aGUgYXVkaW8gbm9kZSBhcyBtdXRlZC5cbiAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XG5cbiAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IChtdXRlZCkgPyB0cnVlIDogc291bmQuX211dGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IGFsbCBjdXJyZW50bHkgbG9hZGVkIEhvd2wgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgdW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIGZvciAodmFyIGk9c2VsZi5faG93bHMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgICBzZWxmLl9ob3dsc1tpXS51bmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IEF1ZGlvQ29udGV4dCB0byBtYWtlIHN1cmUgaXQgaXMgZnVsbHkgcmVzZXQuXG4gICAgICBpZiAoc2VsZi51c2luZ1dlYkF1ZGlvICYmIHNlbGYuY3R4ICYmIHR5cGVvZiBzZWxmLmN0eC5jbG9zZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZi5jdHguY2xvc2UoKTtcbiAgICAgICAgc2VsZi5jdHggPSBudWxsO1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgZm9yIGNvZGVjIHN1cHBvcnQgb2Ygc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gZXh0IEF1ZGlvIGZpbGUgZXh0ZW50aW9uLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgY29kZWNzOiBmdW5jdGlvbihleHQpIHtcbiAgICAgIHJldHVybiAodGhpcyB8fCBIb3dsZXIpLl9jb2RlY3NbZXh0LnJlcGxhY2UoL154LS8sICcnKV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHZhcmlvdXMgc3RhdGUgdmFsdWVzIGZvciBnbG9iYWwgdHJhY2tpbmcuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9zZXR1cDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xuXG4gICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgc3VzcGVuZC9yZXN1bWUgc3RhdGUgb2YgdGhlIEF1ZGlvQ29udGV4dC5cbiAgICAgIHNlbGYuc3RhdGUgPSBzZWxmLmN0eCA/IHNlbGYuY3R4LnN0YXRlIHx8ICdzdXNwZW5kZWQnIDogJ3N1c3BlbmRlZCc7XG5cbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgYmVnaW4gdGhlIDMwLXNlY29uZCBzdXNwZW5kIHByb2Nlc3NcbiAgICAgIHNlbGYuX2F1dG9TdXNwZW5kKCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIGF1ZGlvIGlzIGF2YWlsYWJsZS5cbiAgICAgIGlmICghc2VsZi51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIC8vIE5vIGF1ZGlvIGlzIGF2YWlsYWJsZSBvbiB0aGlzIHN5c3RlbSBpZiBub0F1ZGlvIGlzIHNldCB0byB0cnVlLlxuICAgICAgICBpZiAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FucGxheXRocm91Z2ggZXZlbnQgaXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXN0Lm9uY2FucGxheXRocm91Z2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2NhblBsYXlFdmVudCA9ICdjYW5wbGF5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGVzdCB0byBtYWtlIHN1cmUgYXVkaW8gaXNuJ3QgZGlzYWJsZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xuICAgICAgICBpZiAodGVzdC5tdXRlZCkge1xuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIC8vIENoZWNrIGZvciBzdXBwb3J0ZWQgY29kZWNzLlxuICAgICAgaWYgKCFzZWxmLm5vQXVkaW8pIHtcbiAgICAgICAgc2VsZi5fc2V0dXBDb2RlY3MoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGZvciBicm93c2VyIHN1cHBvcnQgZm9yIHZhcmlvdXMgY29kZWNzIGFuZCBjYWNoZSB0aGUgcmVzdWx0cy5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3NldHVwQ29kZWNzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG4gICAgICB2YXIgYXVkaW9UZXN0ID0gbnVsbDtcblxuICAgICAgLy8gTXVzdCB3cmFwIGluIGEgdHJ5L2NhdGNoIGJlY2F1c2UgSUUxMSBpbiBzZXJ2ZXIgbW9kZSB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICB0cnkge1xuICAgICAgICBhdWRpb1Rlc3QgPSAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykgPyBuZXcgQXVkaW8oKSA6IG51bGw7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXVkaW9UZXN0IHx8IHR5cGVvZiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIHZhciBtcGVnVGVzdCA9IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXBlZzsnKS5yZXBsYWNlKC9ebm8kLywgJycpO1xuXG4gICAgICAvLyBPcGVyYSB2ZXJzaW9uIDwzMyBoYXMgbWl4ZWQgTVAzIHN1cHBvcnQsIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGFuZCBibG9jayBpdC5cbiAgICAgIHZhciBjaGVja09wZXJhID0gc2VsZi5fbmF2aWdhdG9yICYmIHNlbGYuX25hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL09QUlxcLyhbMC02XS4pL2cpO1xuICAgICAgdmFyIGlzT2xkT3BlcmEgPSAoY2hlY2tPcGVyYSAmJiBwYXJzZUludChjaGVja09wZXJhWzBdLnNwbGl0KCcvJylbMV0sIDEwKSA8IDMzKTtcblxuICAgICAgc2VsZi5fY29kZWNzID0ge1xuICAgICAgICBtcDM6ICEhKCFpc09sZE9wZXJhICYmIChtcGVnVGVzdCB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wMzsnKS5yZXBsYWNlKC9ebm8kLywgJycpKSksXG4gICAgICAgIG1wZWc6ICEhbXBlZ1Rlc3QsXG4gICAgICAgIG9wdXM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cIm9wdXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIG9nZzogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBvZ2E6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgd2F2OiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2OyBjb2RlY3M9XCIxXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBhYWM6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgY2FmOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1jYWY7JykucmVwbGFjZSgvXm5vJC8sICcnKSxcbiAgICAgICAgbTRhOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbTRhOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbTRhOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBtcDQ6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tcDQ7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDQ7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdlYmE6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIHdlYm06ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXG4gICAgICAgIGRvbGJ5OiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OyBjb2RlY3M9XCJlYy0zXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxuICAgICAgICBmbGFjOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtZmxhYzsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2ZsYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJylcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTb21lIGJyb3dzZXJzL2RldmljZXMgd2lsbCBvbmx5IGFsbG93IGF1ZGlvIHRvIGJlIHBsYXllZCBhZnRlciBhIHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICogQXR0ZW1wdCB0byBhdXRvbWF0aWNhbGx5IHVubG9jayBhdWRpbyBvbiB0aGUgZmlyc3QgdXNlciBpbnRlcmFjdGlvbi5cbiAgICAgKiBDb25jZXB0IGZyb206IGh0dHA6Ly9wYXVsYmFrYXVzLmNvbS90dXRvcmlhbHMvaHRtbDUvd2ViLWF1ZGlvLW9uLWlvcy9cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX3VubG9ja0F1ZGlvOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIE9ubHkgcnVuIHRoaXMgaWYgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZCBhbmQgaXQgaGFzbid0IGFscmVhZHkgYmVlbiB1bmxvY2tlZC5cbiAgICAgIGlmIChzZWxmLl9hdWRpb1VubG9ja2VkIHx8ICFzZWxmLmN0eCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX2F1ZGlvVW5sb2NrZWQgPSBmYWxzZTtcbiAgICAgIHNlbGYuYXV0b1VubG9jayA9IGZhbHNlO1xuXG4gICAgICAvLyBTb21lIG1vYmlsZSBkZXZpY2VzL3BsYXRmb3JtcyBoYXZlIGRpc3RvcnRpb24gaXNzdWVzIHdoZW4gb3BlbmluZy9jbG9zaW5nIHRhYnMgYW5kL29yIHdlYiB2aWV3cy5cbiAgICAgIC8vIEJ1Z3MgaW4gdGhlIGJyb3dzZXIgKGVzcGVjaWFsbHkgTW9iaWxlIFNhZmFyaSkgY2FuIGNhdXNlIHRoZSBzYW1wbGVSYXRlIHRvIGNoYW5nZSBmcm9tIDQ0MTAwIHRvIDQ4MDAwLlxuICAgICAgLy8gQnkgY2FsbGluZyBIb3dsZXIudW5sb2FkKCksIHdlIGNyZWF0ZSBhIG5ldyBBdWRpb0NvbnRleHQgd2l0aCB0aGUgY29ycmVjdCBzYW1wbGVSYXRlLlxuICAgICAgaWYgKCFzZWxmLl9tb2JpbGVVbmxvYWRlZCAmJiBzZWxmLmN0eC5zYW1wbGVSYXRlICE9PSA0NDEwMCkge1xuICAgICAgICBzZWxmLl9tb2JpbGVVbmxvYWRlZCA9IHRydWU7XG4gICAgICAgIHNlbGYudW5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNjcmF0Y2ggYnVmZmVyIGZvciBlbmFibGluZyBpT1MgdG8gZGlzcG9zZSBvZiB3ZWIgYXVkaW8gYnVmZmVycyBjb3JyZWN0bHksIGFzIHBlcjpcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQxMTk2ODRcbiAgICAgIHNlbGYuX3NjcmF0Y2hCdWZmZXIgPSBzZWxmLmN0eC5jcmVhdGVCdWZmZXIoMSwgMSwgMjIwNTApO1xuXG4gICAgICAvLyBDYWxsIHRoaXMgbWV0aG9kIG9uIHRvdWNoIHN0YXJ0IHRvIGNyZWF0ZSBhbmQgcGxheSBhIGJ1ZmZlcixcbiAgICAgIC8vIHRoZW4gY2hlY2sgaWYgdGhlIGF1ZGlvIGFjdHVhbGx5IHBsYXllZCB0byBkZXRlcm1pbmUgaWZcbiAgICAgIC8vIGF1ZGlvIGhhcyBub3cgYmVlbiB1bmxvY2tlZCBvbiBpT1MsIEFuZHJvaWQsIGV0Yy5cbiAgICAgIHZhciB1bmxvY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cyB0aGF0IGNhblxuICAgICAgICAvLyBiZSB1c2VkIGZvciBwbGF5aW5nIHNvdW5kcyB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24uIEhUTUw1XG4gICAgICAgIC8vIEF1ZGlvIG9iamVjdHMgbXVzdCBiZSBpbmRpdmlkdWFsbHkgdW5sb2NrZWQsIGFzIG9wcG9zZWRcbiAgICAgICAgLy8gdG8gdGhlIFdlYkF1ZGlvIEFQSSB3aGljaCBvbmx5IG5lZWRzIGEgc2luZ2xlIGFjdGl2YXRpb24uXG4gICAgICAgIC8vIFRoaXMgbXVzdCBvY2N1ciBiZWZvcmUgV2ViQXVkaW8gc2V0dXAgb3IgdGhlIHNvdXJjZS5vbmVuZGVkXG4gICAgICAgIC8vIGV2ZW50IHdpbGwgbm90IGZpcmUuXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLmh0bWw1UG9vbFNpemU7IGkrKykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9Ob2RlID0gbmV3IEF1ZGlvKCk7XG5cbiAgICAgICAgICAgIC8vIE1hcmsgdGhpcyBBdWRpbyBvYmplY3QgYXMgdW5sb2NrZWQgdG8gZW5zdXJlIGl0IGNhbiBnZXQgcmV0dXJuZWRcbiAgICAgICAgICAgIC8vIHRvIHRoZSB1bmxvY2tlZCBwb29sIHdoZW4gcmVsZWFzZWQuXG4gICAgICAgICAgICBhdWRpb05vZGUuX3VubG9ja2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gQWRkIHRoZSBhdWRpbyBub2RlIHRvIHRoZSBwb29sLlxuICAgICAgICAgICAgc2VsZi5fcmVsZWFzZUh0bWw1QXVkaW8oYXVkaW9Ob2RlKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbnkgYXNzaWduZWQgYXVkaW8gbm9kZXMgYW5kIHVubG9jayB0aGVtLlxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoIXNlbGYuX2hvd2xzW2ldLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcblxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIHVubG9jayB0aGUgYXVkaW8gbm9kZXMuXG4gICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8aWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX2hvd2xzW2ldLl9zb3VuZEJ5SWQoaWRzW2pdKTtcblxuICAgICAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9ub2RlLl91bmxvY2tlZCkge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLl91bmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUubG9hZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRml4IEFuZHJvaWQgY2FuIG5vdCBwbGF5IGluIHN1c3BlbmQgc3RhdGUuXG4gICAgICAgIHNlbGYuX2F1dG9SZXN1bWUoKTtcblxuICAgICAgICAvLyBDcmVhdGUgYW4gZW1wdHkgYnVmZmVyLlxuICAgICAgICB2YXIgc291cmNlID0gc2VsZi5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgIHNvdXJjZS5idWZmZXIgPSBzZWxmLl9zY3JhdGNoQnVmZmVyO1xuICAgICAgICBzb3VyY2UuY29ubmVjdChzZWxmLmN0eC5kZXN0aW5hdGlvbik7XG5cbiAgICAgICAgLy8gUGxheSB0aGUgZW1wdHkgYnVmZmVyLlxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZS5zdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBzb3VyY2Uubm90ZU9uKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNvdXJjZS5zdGFydCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGxpbmcgcmVzdW1lKCkgb24gYSBzdGFjayBpbml0aWF0ZWQgYnkgdXNlciBnZXN0dXJlIGlzIHdoYXQgYWN0dWFsbHkgdW5sb2NrcyB0aGUgYXVkaW8gb24gQW5kcm9pZCBDaHJvbWUgPj0gNTUuXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgucmVzdW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2VsZi5jdHgucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXR1cCBhIHRpbWVvdXQgdG8gY2hlY2sgdGhhdCB3ZSBhcmUgdW5sb2NrZWQgb24gdGhlIG5leHQgZXZlbnQgbG9vcC5cbiAgICAgICAgc291cmNlLm9uZW5kZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzb3VyY2UuZGlzY29ubmVjdCgwKTtcblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdW5sb2NrZWQgc3RhdGUgYW5kIHByZXZlbnQgdGhpcyBjaGVjayBmcm9tIGhhcHBlbmluZyBhZ2Fpbi5cbiAgICAgICAgICBzZWxmLl9hdWRpb1VubG9ja2VkID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdG91Y2ggc3RhcnQgbGlzdGVuZXIuXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB1bmxvY2ssIHRydWUpO1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdW5sb2NrLCB0cnVlKTtcblxuICAgICAgICAgIC8vIExldCBhbGwgc291bmRzIGtub3cgdGhhdCBhdWRpbyBoYXMgYmVlbiB1bmxvY2tlZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCd1bmxvY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICAvLyBTZXR1cCBhIHRvdWNoIHN0YXJ0IGxpc3RlbmVyIHRvIGF0dGVtcHQgYW4gdW5sb2NrIGluLlxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHVubG9jaywgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVubG9jaywgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuIElmIG5vbmUgYXJlIGxlZnQsXG4gICAgICogcmV0dXJuIGEgbmV3IEF1ZGlvIG9iamVjdCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAqIEByZXR1cm4ge0F1ZGlvfSBIVE1MNSBBdWRpbyBvYmplY3QuXG4gICAgICovXG4gICAgX29idGFpbkh0bWw1QXVkaW86IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBuZXh0IG9iamVjdCBmcm9tIHRoZSBwb29sIGlmIG9uZSBleGlzdHMuXG4gICAgICBpZiAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgLy8uQ2hlY2sgaWYgdGhlIGF1ZGlvIGlzIGxvY2tlZCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxuICAgICAgdmFyIHRlc3RQbGF5ID0gbmV3IEF1ZGlvKCkucGxheSgpO1xuICAgICAgaWYgKHRlc3RQbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAodGVzdFBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiB0ZXN0UGxheS50aGVuID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0ZXN0UGxheS5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0hUTUw1IEF1ZGlvIHBvb2wgZXhoYXVzdGVkLCByZXR1cm5pbmcgcG90ZW50aWFsbHkgbG9ja2VkIGF1ZGlvIG9iamVjdC4nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQXVkaW8oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFjdGl2YXRlZCBIVE1MNSBBdWRpbyBvYmplY3QgdG8gdGhlIHBvb2wuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIF9yZWxlYXNlSHRtbDVBdWRpbzogZnVuY3Rpb24oYXVkaW8pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XG5cbiAgICAgIC8vIERvbid0IGFkZCBhdWRpbyB0byB0aGUgcG9vbCBpZiB3ZSBkb24ndCBrbm93IGlmIGl0IGhhcyBiZWVuIHVubG9ja2VkLlxuICAgICAgaWYgKGF1ZGlvLl91bmxvY2tlZCkge1xuICAgICAgICBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wdXNoKGF1ZGlvKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc3VzcGVuZCB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCBhZnRlciBubyBzb3VuZCBoYXMgcGxheWVkIGZvciAzMCBzZWNvbmRzLlxuICAgICAqIFRoaXMgc2F2ZXMgcHJvY2Vzc2luZy9lbmVyZ3kgYW5kIGZpeGVzIHZhcmlvdXMgYnJvd3Nlci1zcGVjaWZpYyBidWdzIHdpdGggYXVkaW8gZ2V0dGluZyBzdHVjay5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9TdXNwZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKCFzZWxmLmF1dG9TdXNwZW5kIHx8ICFzZWxmLmN0eCB8fCB0eXBlb2Ygc2VsZi5jdHguc3VzcGVuZCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgYW55IHNvdW5kcyBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPHNlbGYuX2hvd2xzW2ldLl9zb3VuZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3NvdW5kc1tqXS5fcGF1c2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBzb3VuZCBoYXMgcGxheWVkIGFmdGVyIDMwIHNlY29uZHMsIHN1c3BlbmQgdGhlIGNvbnRleHQuXG4gICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRpbmcnO1xuICAgICAgICBzZWxmLmN0eC5zdXNwZW5kKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRlZCc7XG5cbiAgICAgICAgICBpZiAoc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kKSB7XG4gICAgICAgICAgICBkZWxldGUgc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kO1xuICAgICAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCAzMDAwMCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHJlc3VtZSB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCB3aGVuIGEgbmV3IHNvdW5kIGlzIHBsYXllZC5cbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XG4gICAgICovXG4gICAgX2F1dG9SZXN1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoIXNlbGYuY3R4IHx8IHR5cGVvZiBzZWxmLmN0eC5yZXN1bWUgPT09ICd1bmRlZmluZWQnIHx8ICFIb3dsZXIudXNpbmdXZWJBdWRpbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSAncnVubmluZycgJiYgc2VsZi5fc3VzcGVuZFRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xuICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xuICAgICAgICBzZWxmLmN0eC5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuc3RhdGUgPSAncnVubmluZyc7XG5cbiAgICAgICAgICAvLyBFbWl0IHRvIGFsbCBIb3dscyB0aGF0IHRoZSBhdWRpbyBoYXMgcmVzdW1lZC5cbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYuX2hvd2xzW2ldLl9lbWl0KCdyZXN1bWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzZWxmLl9zdXNwZW5kVGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fc3VzcGVuZFRpbWVyKTtcbiAgICAgICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kaW5nJykge1xuICAgICAgICBzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0dXAgdGhlIGdsb2JhbCBhdWRpbyBjb250cm9sbGVyLlxuICB2YXIgSG93bGVyID0gbmV3IEhvd2xlckdsb2JhbCgpO1xuXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gYXVkaW8gZ3JvdXAgY29udHJvbGxlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG8gUGFzc2VkIGluIHByb3BlcnRpZXMgZm9yIHRoaXMgZ3JvdXAuXG4gICAqL1xuICB2YXIgSG93bCA9IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBubyBzb3VyY2UgaXMgcHJvdmlkZWQuXG4gICAgaWYgKCFvLnNyYyB8fCBvLnNyYy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGFycmF5IG9mIHNvdXJjZSBmaWxlcyBtdXN0IGJlIHBhc3NlZCB3aXRoIGFueSBuZXcgSG93bC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLmluaXQobyk7XG4gIH07XG4gIEhvd2wucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgSG93bCBncm91cCBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvIFBhc3NlZCBpbiBwcm9wZXJ0aWVzIGZvciB0aGlzIGdyb3VwLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24obykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIEF1ZGlvQ29udGV4dCBjcmVhdGVkIHlldCwgcnVuIHRoZSBzZXR1cC5cbiAgICAgIGlmICghSG93bGVyLmN0eCkge1xuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fYXV0b3BsYXkgPSBvLmF1dG9wbGF5IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fZm9ybWF0ID0gKHR5cGVvZiBvLmZvcm1hdCAhPT0gJ3N0cmluZycpID8gby5mb3JtYXQgOiBbby5mb3JtYXRdO1xuICAgICAgc2VsZi5faHRtbDUgPSBvLmh0bWw1IHx8IGZhbHNlO1xuICAgICAgc2VsZi5fbXV0ZWQgPSBvLm11dGUgfHwgZmFsc2U7XG4gICAgICBzZWxmLl9sb29wID0gby5sb29wIHx8IGZhbHNlO1xuICAgICAgc2VsZi5fcG9vbCA9IG8ucG9vbCB8fCA1O1xuICAgICAgc2VsZi5fcHJlbG9hZCA9ICh0eXBlb2Ygby5wcmVsb2FkID09PSAnYm9vbGVhbicpID8gby5wcmVsb2FkIDogdHJ1ZTtcbiAgICAgIHNlbGYuX3JhdGUgPSBvLnJhdGUgfHwgMTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9IG8uc3ByaXRlIHx8IHt9O1xuICAgICAgc2VsZi5fc3JjID0gKHR5cGVvZiBvLnNyYyAhPT0gJ3N0cmluZycpID8gby5zcmMgOiBbby5zcmNdO1xuICAgICAgc2VsZi5fdm9sdW1lID0gby52b2x1bWUgIT09IHVuZGVmaW5lZCA/IG8udm9sdW1lIDogMTtcbiAgICAgIHNlbGYuX3hocldpdGhDcmVkZW50aWFscyA9IG8ueGhyV2l0aENyZWRlbnRpYWxzIHx8IGZhbHNlO1xuXG4gICAgICAvLyBTZXR1cCBhbGwgb3RoZXIgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fZHVyYXRpb24gPSAwO1xuICAgICAgc2VsZi5fc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgICAgc2VsZi5fc291bmRzID0gW107XG4gICAgICBzZWxmLl9lbmRUaW1lcnMgPSB7fTtcbiAgICAgIHNlbGYuX3F1ZXVlID0gW107XG4gICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuXG4gICAgICAvLyBTZXR1cCBldmVudCBsaXN0ZW5lcnMuXG4gICAgICBzZWxmLl9vbmVuZCA9IG8ub25lbmQgPyBbe2ZuOiBvLm9uZW5kfV0gOiBbXTtcbiAgICAgIHNlbGYuX29uZmFkZSA9IG8ub25mYWRlID8gW3tmbjogby5vbmZhZGV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25sb2FkID0gby5vbmxvYWQgPyBbe2ZuOiBvLm9ubG9hZH1dIDogW107XG4gICAgICBzZWxmLl9vbmxvYWRlcnJvciA9IG8ub25sb2FkZXJyb3IgPyBbe2ZuOiBvLm9ubG9hZGVycm9yfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucGxheWVycm9yID0gby5vbnBsYXllcnJvciA/IFt7Zm46IG8ub25wbGF5ZXJyb3J9XSA6IFtdO1xuICAgICAgc2VsZi5fb25wYXVzZSA9IG8ub25wYXVzZSA/IFt7Zm46IG8ub25wYXVzZX1dIDogW107XG4gICAgICBzZWxmLl9vbnBsYXkgPSBvLm9ucGxheSA/IFt7Zm46IG8ub25wbGF5fV0gOiBbXTtcbiAgICAgIHNlbGYuX29uc3RvcCA9IG8ub25zdG9wID8gW3tmbjogby5vbnN0b3B9XSA6IFtdO1xuICAgICAgc2VsZi5fb25tdXRlID0gby5vbm11dGUgPyBbe2ZuOiBvLm9ubXV0ZX1dIDogW107XG4gICAgICBzZWxmLl9vbnZvbHVtZSA9IG8ub252b2x1bWUgPyBbe2ZuOiBvLm9udm9sdW1lfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucmF0ZSA9IG8ub25yYXRlID8gW3tmbjogby5vbnJhdGV9XSA6IFtdO1xuICAgICAgc2VsZi5fb25zZWVrID0gby5vbnNlZWsgPyBbe2ZuOiBvLm9uc2Vla31dIDogW107XG4gICAgICBzZWxmLl9vbnVubG9jayA9IG8ub251bmxvY2sgPyBbe2ZuOiBvLm9udW5sb2NrfV0gOiBbXTtcbiAgICAgIHNlbGYuX29ucmVzdW1lID0gW107XG5cbiAgICAgIC8vIFdlYiBBdWRpbyBvciBIVE1MNSBBdWRpbz9cbiAgICAgIHNlbGYuX3dlYkF1ZGlvID0gSG93bGVyLnVzaW5nV2ViQXVkaW8gJiYgIXNlbGYuX2h0bWw1O1xuXG4gICAgICAvLyBBdXRvbWF0aWNhbGx5IHRyeSB0byBlbmFibGUgYXVkaW8uXG4gICAgICBpZiAodHlwZW9mIEhvd2xlci5jdHggIT09ICd1bmRlZmluZWQnICYmIEhvd2xlci5jdHggJiYgSG93bGVyLmF1dG9VbmxvY2spIHtcbiAgICAgICAgSG93bGVyLl91bmxvY2tBdWRpbygpO1xuICAgICAgfVxuXG4gICAgICAvLyBLZWVwIHRyYWNrIG9mIHRoaXMgSG93bCBncm91cCBpbiB0aGUgZ2xvYmFsIGNvbnRyb2xsZXIuXG4gICAgICBIb3dsZXIuX2hvd2xzLnB1c2goc2VsZik7XG5cbiAgICAgIC8vIElmIHRoZXkgc2VsZWN0ZWQgYXV0b3BsYXksIGFkZCBhIHBsYXkgZXZlbnQgdG8gdGhlIGxvYWQgcXVldWUuXG4gICAgICBpZiAoc2VsZi5fYXV0b3BsYXkpIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wbGF5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9hZCB0aGUgc291cmNlIGZpbGUgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gICAgICBpZiAoc2VsZi5fcHJlbG9hZCkge1xuICAgICAgICBzZWxmLmxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGF1ZGlvIGZpbGUuXG4gICAgICogQHJldHVybiB7SG93bGVyfVxuICAgICAqL1xuICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHVybCA9IG51bGw7XG5cbiAgICAgIC8vIElmIG5vIGF1ZGlvIGlzIGF2YWlsYWJsZSwgcXVpdCBpbW1lZGlhdGVseS5cbiAgICAgIGlmIChIb3dsZXIubm9BdWRpbykge1xuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gYXVkaW8gc3VwcG9ydC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgb3VyIHNvdXJjZSBpcyBpbiBhbiBhcnJheS5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5fc3JjID09PSAnc3RyaW5nJykge1xuICAgICAgICBzZWxmLl9zcmMgPSBbc2VsZi5fc3JjXTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBzb3VyY2VzIGFuZCBwaWNrIHRoZSBmaXJzdCBvbmUgdGhhdCBpcyBjb21wYXRpYmxlLlxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NyYy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXh0LCBzdHI7XG5cbiAgICAgICAgaWYgKHNlbGYuX2Zvcm1hdCAmJiBzZWxmLl9mb3JtYXRbaV0pIHtcbiAgICAgICAgICAvLyBJZiBhbiBleHRlbnNpb24gd2FzIHNwZWNpZmllZCwgdXNlIHRoYXQgaW5zdGVhZC5cbiAgICAgICAgICBleHQgPSBzZWxmLl9mb3JtYXRbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcuXG4gICAgICAgICAgc3RyID0gc2VsZi5fc3JjW2ldO1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vbi1zdHJpbmcgZm91bmQgaW4gc2VsZWN0ZWQgYXVkaW8gc291cmNlcyAtIGlnbm9yaW5nLicpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXh0cmFjdCB0aGUgZmlsZSBleHRlbnNpb24gZnJvbSB0aGUgVVJMIG9yIGJhc2U2NCBkYXRhIFVSSS5cbiAgICAgICAgICBleHQgPSAvXmRhdGE6YXVkaW9cXC8oW147LF0rKTsvaS5leGVjKHN0cik7XG4gICAgICAgICAgaWYgKCFleHQpIHtcbiAgICAgICAgICAgIGV4dCA9IC9cXC4oW14uXSspJC8uZXhlYyhzdHIuc3BsaXQoJz8nLCAxKVswXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV4dCkge1xuICAgICAgICAgICAgZXh0ID0gZXh0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG9nIGEgd2FybmluZyBpZiBubyBleHRlbnNpb24gd2FzIGZvdW5kLlxuICAgICAgICBpZiAoIWV4dCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZmlsZSBleHRlbnNpb24gd2FzIGZvdW5kLiBDb25zaWRlciB1c2luZyB0aGUgXCJmb3JtYXRcIiBwcm9wZXJ0eSBvciBzcGVjaWZ5IGFuIGV4dGVuc2lvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgZXh0ZW5zaW9uIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKGV4dCAmJiBIb3dsZXIuY29kZWNzKGV4dCkpIHtcbiAgICAgICAgICB1cmwgPSBzZWxmLl9zcmNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vIGNvZGVjIHN1cHBvcnQgZm9yIHNlbGVjdGVkIGF1ZGlvIHNvdXJjZXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fc3JjID0gdXJsO1xuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XG5cbiAgICAgIC8vIElmIHRoZSBob3N0aW5nIHBhZ2UgaXMgSFRUUFMgYW5kIHRoZSBzb3VyY2UgaXNuJ3QsXG4gICAgICAvLyBkcm9wIGRvd24gdG8gSFRNTDUgQXVkaW8gdG8gYXZvaWQgTWl4ZWQgQ29udGVudCBlcnJvcnMuXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyAmJiB1cmwuc2xpY2UoMCwgNSkgPT09ICdodHRwOicpIHtcbiAgICAgICAgc2VsZi5faHRtbDUgPSB0cnVlO1xuICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgc291bmQgb2JqZWN0IGFuZCBhZGQgaXQgdG8gdGhlIHBvb2wuXG4gICAgICBuZXcgU291bmQoc2VsZik7XG5cbiAgICAgIC8vIExvYWQgYW5kIGRlY29kZSB0aGUgYXVkaW8gZGF0YSBmb3IgcGxheWJhY2suXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgbG9hZEJ1ZmZlcihzZWxmKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBsYXkgYSBzb3VuZCBvciByZXN1bWUgcHJldmlvdXMgcGxheWJhY2suXG4gICAgICogQHBhcmFtICB7U3RyaW5nL051bWJlcn0gc3ByaXRlICAgU3ByaXRlIG5hbWUgZm9yIHNwcml0ZSBwbGF5YmFjayBvciBzb3VuZCBpZCB0byBjb250aW51ZSBwcmV2aW91cy5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpbnRlcm5hbCBJbnRlcm5hbCBVc2U6IHRydWUgcHJldmVudHMgZXZlbnQgZmlyaW5nLlxuICAgICAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgU291bmQgSUQuXG4gICAgICovXG4gICAgcGxheTogZnVuY3Rpb24oc3ByaXRlLCBpbnRlcm5hbCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGlkID0gbnVsbDtcblxuICAgICAgLy8gRGV0ZXJtaW5lIGlmIGEgc3ByaXRlLCBzb3VuZCBpZCBvciBub3RoaW5nIHdhcyBwYXNzZWRcbiAgICAgIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZCA9IHNwcml0ZTtcbiAgICAgICAgc3ByaXRlID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3N0cmluZycgJiYgc2VsZi5fc3RhdGUgPT09ICdsb2FkZWQnICYmICFzZWxmLl9zcHJpdGVbc3ByaXRlXSkge1xuICAgICAgICAvLyBJZiB0aGUgcGFzc2VkIHNwcml0ZSBkb2Vzbid0IGV4aXN0LCBkbyBub3RoaW5nLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwcml0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0IHNvdW5kIHNwcml0ZSAocGxheXMgdGhlIGZ1bGwgYXVkaW8gbGVuZ3RoKS5cbiAgICAgICAgc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBzaW5nbGUgcGF1c2VkIHNvdW5kIHRoYXQgaXNuJ3QgZW5kZWQuIFxuICAgICAgICAvLyBJZiB0aGVyZSBpcywgcGxheSB0aGF0IHNvdW5kLiBJZiBub3QsIGNvbnRpbnVlIGFzIHVzdWFsLiAgXG4gICAgICAgIGlmICghc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgICB2YXIgbnVtID0gMDtcbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fc291bmRzW2ldLl9wYXVzZWQgJiYgIXNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAgICAgbnVtKys7XG4gICAgICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzW2ldLl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobnVtID09PSAxKSB7XG4gICAgICAgICAgICBzcHJpdGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgc2VsZWN0ZWQgbm9kZSwgb3IgZ2V0IG9uZSBmcm9tIHRoZSBwb29sLlxuICAgICAgdmFyIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5faW5hY3RpdmVTb3VuZCgpO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgZG9lc24ndCBleGlzdCwgZG8gbm90aGluZy5cbiAgICAgIGlmICghc291bmQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlbGVjdCB0aGUgc3ByaXRlIGRlZmluaXRpb24uXG4gICAgICBpZiAoaWQgJiYgIXNwcml0ZSkge1xuICAgICAgICBzcHJpdGUgPSBzb3VuZC5fc3ByaXRlIHx8ICdfX2RlZmF1bHQnO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgd2UgbXVzdCB3YWl0IHRvIGdldCB0aGUgYXVkaW8ncyBkdXJhdGlvbi5cbiAgICAgIC8vIFdlIGFsc28gbmVlZCB0byB3YWl0IHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBydW4gaW50byByYWNlIGNvbmRpdGlvbnMgd2l0aFxuICAgICAgLy8gdGhlIG9yZGVyIG9mIGZ1bmN0aW9uIGNhbGxzLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICAvLyBTZXQgdGhlIHNwcml0ZSB2YWx1ZSBvbiB0aGlzIHNvdW5kLlxuICAgICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xuXG4gICAgICAgIC8vIE1hcmsgdGhpcyBzb3VuZCBhcyBub3QgZW5kZWQgaW4gY2FzZSBhbm90aGVyIHNvdW5kIGlzIHBsYXllZCBiZWZvcmUgdGhpcyBvbmUgbG9hZHMuXG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgc291bmQgdG8gdGhlIHF1ZXVlIHRvIGJlIHBsYXllZCBvbiBsb2FkLlxuICAgICAgICB2YXIgc291bmRJZCA9IHNvdW5kLl9pZDtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdwbGF5JyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wbGF5KHNvdW5kSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNvdW5kSWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHBsYXkgdGhlIHNvdW5kIGlmIGFuIGlkIHdhcyBwYXNzZWQgYW5kIGl0IGlzIGFscmVhZHkgcGxheWluZy5cbiAgICAgIGlmIChpZCAmJiAhc291bmQuX3BhdXNlZCkge1xuICAgICAgICAvLyBUcmlnZ2VyIHRoZSBwbGF5IGV2ZW50LCBpbiBvcmRlciB0byBrZWVwIGl0ZXJhdGluZyB0aHJvdWdoIHF1ZXVlLlxuICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCdwbGF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291bmQuX2lkO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIEF1ZGlvQ29udGV4dCBpc24ndCBzdXNwZW5kZWQsIGFuZCByZXN1bWUgaXQgaWYgaXQgaXMuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgSG93bGVyLl9hdXRvUmVzdW1lKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERldGVybWluZSBob3cgbG9uZyB0byBwbGF5IGZvciBhbmQgd2hlcmUgdG8gc3RhcnQgcGxheWluZy5cbiAgICAgIHZhciBzZWVrID0gTWF0aC5tYXgoMCwgc291bmQuX3NlZWsgPiAwID8gc291bmQuX3NlZWsgOiBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDApO1xuICAgICAgdmFyIGR1cmF0aW9uID0gTWF0aC5tYXgoMCwgKChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDApIC0gc2Vlayk7XG4gICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xuICAgICAgdmFyIHN0YXJ0ID0gc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gLyAxMDAwO1xuICAgICAgdmFyIHN0b3AgPSAoc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc3ByaXRlXVsxXSkgLyAxMDAwO1xuICAgICAgc291bmQuX3Nwcml0ZSA9IHNwcml0ZTtcblxuICAgICAgLy8gTWFyayB0aGUgc291bmQgYXMgZW5kZWQgaW5zdGFudGx5IHNvIHRoYXQgdGhpcyBhc3luYyBwbGF5YmFja1xuICAgICAgLy8gZG9lc24ndCBnZXQgZ3JhYmJlZCBieSBhbm90aGVyIGNhbGwgdG8gcGxheSB3aGlsZSB0aGlzIG9uZSB3YWl0cyB0byBzdGFydC5cbiAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHBhcmFtZXRlcnMgb2YgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNldFBhcmFtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzb3VuZC5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHNvdW5kLl9zZWVrID0gc2VlaztcbiAgICAgICAgc291bmQuX3N0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHNvdW5kLl9zdG9wID0gc3RvcDtcbiAgICAgICAgc291bmQuX2xvb3AgPSAhIShzb3VuZC5fbG9vcCB8fCBzZWxmLl9zcHJpdGVbc3ByaXRlXVsyXSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBFbmQgdGhlIHNvdW5kIGluc3RhbnRseSBpZiBzZWVrIGlzIGF0IHRoZSBlbmQuXG4gICAgICBpZiAoc2VlayA+PSBzdG9wKSB7XG4gICAgICAgIHNlbGYuX2VuZGVkKHNvdW5kKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBCZWdpbiB0aGUgYWN0dWFsIHBsYXliYWNrLlxuICAgICAgdmFyIG5vZGUgPSBzb3VuZC5fbm9kZTtcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBXZWIgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5V2ViQXVkaW8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgIHNlbGYuX3JlZnJlc2hCdWZmZXIoc291bmQpO1xuXG4gICAgICAgICAgLy8gU2V0dXAgdGhlIHBsYXliYWNrIHBhcmFtcy5cbiAgICAgICAgICB2YXIgdm9sID0gKHNvdW5kLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCkgPyAwIDogc291bmQuX3ZvbHVtZTtcbiAgICAgICAgICBub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICBzb3VuZC5fcGxheVN0YXJ0ID0gSG93bGVyLmN0eC5jdXJyZW50VGltZTtcblxuICAgICAgICAgIC8vIFBsYXkgdGhlIHNvdW5kIHVzaW5nIHRoZSBzdXBwb3J0ZWQgbWV0aG9kLlxuICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5idWZmZXJTb3VyY2Uuc3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIGR1cmF0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc291bmQuX2xvb3AgPyBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCA4NjQwMCkgOiBub2RlLmJ1ZmZlclNvdXJjZS5zdGFydCgwLCBzZWVrLCBkdXJhdGlvbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3RhcnQgYSBuZXcgdGltZXIgaWYgbm9uZSBpcyBwcmVzZW50LlxuICAgICAgICAgIGlmICh0aW1lb3V0ICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKEhvd2xlci5zdGF0ZSA9PT0gJ3J1bm5pbmcnKSB7XG4gICAgICAgICAgcGxheVdlYkF1ZGlvKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGF1ZGlvIGNvbnRleHQgdG8gcmVzdW1lIGJlZm9yZSBwbGF5aW5nLlxuICAgICAgICAgIHNlbGYub25jZSgncmVzdW1lJywgcGxheVdlYkF1ZGlvKTtcblxuICAgICAgICAgIC8vIENhbmNlbCB0aGUgZW5kIHRpbWVyLlxuICAgICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmlyZSB0aGlzIHdoZW4gdGhlIHNvdW5kIGlzIHJlYWR5IHRvIHBsYXkgdG8gYmVnaW4gSFRNTDUgQXVkaW8gcGxheWJhY2suXG4gICAgICAgIHZhciBwbGF5SHRtbDUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBub2RlLmN1cnJlbnRUaW1lID0gc2VlaztcbiAgICAgICAgICBub2RlLm11dGVkID0gc291bmQuX211dGVkIHx8IHNlbGYuX211dGVkIHx8IEhvd2xlci5fbXV0ZWQgfHwgbm9kZS5tdXRlZDtcbiAgICAgICAgICBub2RlLnZvbHVtZSA9IHNvdW5kLl92b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XG4gICAgICAgICAgbm9kZS5wbGF5YmFja1JhdGUgPSBzb3VuZC5fcmF0ZTtcblxuICAgICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGlzIGlzIGNhbGxlZCB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwbGF5ID0gbm9kZS5wbGF5KCk7XG5cbiAgICAgICAgICAgIC8vIFN1cHBvcnQgb2xkZXIgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHByb21pc2VzLCBhbmQgdGh1cyBkb24ndCBoYXZlIHRoaXMgaXNzdWUuXG4gICAgICAgICAgICBpZiAocGxheSAmJiB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgKHBsYXkgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHR5cGVvZiBwbGF5LnRoZW4gPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICAgIC8vIEltcGxlbWVudHMgYSBsb2NrIHRvIHByZXZlbnQgRE9NRXhjZXB0aW9uOiBUaGUgcGxheSgpIHJlcXVlc3Qgd2FzIGludGVycnVwdGVkIGJ5IGEgY2FsbCB0byBwYXVzZSgpLlxuICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XG5cbiAgICAgICAgICAgICAgLy8gU2V0IHBhcmFtIHZhbHVlcyBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgICAgc2V0UGFyYW1zKCk7XG5cbiAgICAgICAgICAgICAgLy8gUmVsZWFzZXMgdGhlIGxvY2sgYW5kIGV4ZWN1dGVzIHF1ZXVlZCBhY3Rpb25zLlxuICAgICAgICAgICAgICBwbGF5XG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgbm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheWVycm9yJywgc291bmQuX2lkLCAnUGxheWJhY2sgd2FzIHVuYWJsZSB0byBzdGFydC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGFuIGlzc3VlICcgK1xuICAgICAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBlbmRlZCBhbmQgcGF1c2VkIHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzb3VuZC5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNldFBhcmFtcygpO1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcbiAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldHRpbmcgcmF0ZSBiZWZvcmUgcGxheWluZyB3b24ndCB3b3JrIGluIElFLCBzbyB3ZSBzZXQgaXQgYWdhaW4gaGVyZS5cbiAgICAgICAgICAgIG5vZGUucGxheWJhY2tSYXRlID0gc291bmQuX3JhdGU7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBub2RlIGlzIHN0aWxsIHBhdXNlZCwgdGhlbiB3ZSBjYW4gYXNzdW1lIHRoZXJlIHdhcyBhIHBsYXliYWNrIGlzc3VlLlxuICAgICAgICAgICAgaWYgKG5vZGUucGF1c2VkKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXllcnJvcicsIHNvdW5kLl9pZCwgJ1BsYXliYWNrIHdhcyB1bmFibGUgdG8gc3RhcnQuIFRoaXMgaXMgbW9zdCBjb21tb25seSBhbiBpc3N1ZSAnICtcbiAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2V0dXAgdGhlIGVuZCB0aW1lciBvbiBzcHJpdGVzIG9yIGxpc3RlbiBmb3IgdGhlIGVuZGVkIGV2ZW50LlxuICAgICAgICAgICAgaWYgKHNwcml0ZSAhPT0gJ19fZGVmYXVsdCcgfHwgc291bmQuX2xvb3ApIHtcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZSBlbmRlZCBvbiB0aGlzIGF1ZGlvIG5vZGUuXG4gICAgICAgICAgICAgICAgc2VsZi5fZW5kZWQoc291bmQpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhpcyBsaXN0ZW5lci5cbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5ZXJyb3InLCBzb3VuZC5faWQsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIElmIHRoaXMgaXMgc3RyZWFtaW5nIGF1ZGlvLCBtYWtlIHN1cmUgdGhlIHNyYyBpcyBzZXQgYW5kIGxvYWQgYWdhaW4uXG4gICAgICAgIGlmIChub2RlLnNyYyA9PT0gJ2RhdGE6YXVkaW8vd2F2O2Jhc2U2NCxVa2xHUmlnQUFBQlhRVlpGWm0xMElCSUFBQUFCQUFFQVJLd0FBSWhZQVFBQ0FCQUFBQUJrWVhSaEFnQUFBQUVBJykge1xuICAgICAgICAgIG5vZGUuc3JjID0gc2VsZi5fc3JjO1xuICAgICAgICAgIG5vZGUubG9hZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGxheSBpbW1lZGlhdGVseSBpZiByZWFkeSwgb3Igd2FpdCBmb3IgdGhlICdjYW5wbGF5dGhyb3VnaCdlIHZlbnQuXG4gICAgICAgIHZhciBsb2FkZWROb1JlYWR5U3RhdGUgPSAod2luZG93ICYmIHdpbmRvdy5lamVjdGEpIHx8ICghbm9kZS5yZWFkeVN0YXRlICYmIEhvd2xlci5fbmF2aWdhdG9yLmlzQ29jb29uSlMpO1xuICAgICAgICBpZiAobm9kZS5yZWFkeVN0YXRlID49IDMgfHwgbG9hZGVkTm9SZWFkeVN0YXRlKSB7XG4gICAgICAgICAgcGxheUh0bWw1KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSB0cnVlO1xuXG4gICAgICAgICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBCZWdpbiBwbGF5YmFjay5cbiAgICAgICAgICAgIHBsYXlIdG1sNSgpO1xuXG4gICAgICAgICAgICAvLyBDbGVhciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuXG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBlbmQgdGltZXIuXG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzb3VuZC5faWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhdXNlIHBsYXliYWNrIGFuZCBzYXZlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgSUQgKGVtcHR5IHRvIHBhdXNlIGFsbCBpbiBncm91cCkuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBwYXVzZTogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQgb3IgYSBwbGF5KCkgcHJvbWlzZSBpcyBwZW5kaW5nLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gcGF1c2Ugd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJyB8fCBzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogJ3BhdXNlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgcGF1c2VkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkc1tpXSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kICYmICFzb3VuZC5fcGF1c2VkKSB7XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHNlZWsgcG9zaXRpb24uXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzZWxmLnNlZWsoaWRzW2ldKTtcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cbiAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VuZCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgICAgICAgICAgICBpZiAoIXNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uubm90ZU9mZigwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCgwKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAgICAgICAgICBzZWxmLl9jbGVhbkJ1ZmZlcihzb3VuZC5fbm9kZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihzb3VuZC5fbm9kZS5kdXJhdGlvbikgfHwgc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyZSB0aGUgcGF1c2UgZXZlbnQsIHVubGVzcyBgdHJ1ZWAgaXMgcGFzc2VkIGFzIHRoZSAybmQgYXJndW1lbnQuXG4gICAgICAgIGlmICghYXJndW1lbnRzWzFdKSB7XG4gICAgICAgICAgc2VsZi5fZW1pdCgncGF1c2UnLCBzb3VuZCA/IHNvdW5kLl9pZCA6IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdG9wIHBsYXliYWNrIGFuZCByZXNldCB0byBzdGFydC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRCAoZW1wdHkgdG8gc3RvcCBhbGwgaW4gZ3JvdXApLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGludGVybmFsIEludGVybmFsIFVzZTogdHJ1ZSBwcmV2ZW50cyBldmVudCBmaXJpbmcuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBzdG9wOiBmdW5jdGlvbihpZCwgaW50ZXJuYWwpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBzdG9wIHdoZW4gY2FwYWJsZS5cbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdzdG9wJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5zdG9wKGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBzdG9wcGVkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkc1tpXSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHNlZWsgcG9zaXRpb24uXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xuICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdW5kJ3MgQXVkaW9CdWZmZXJTb3VyY2VOb2RlIGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAgICAgICAgICAgIGlmIChzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLm5vdGVPZmYoMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5zdG9wKDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxuICAgICAgICAgICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oc291bmQuX25vZGUuZHVyYXRpb24pIHx8IHNvdW5kLl9ub2RlLmR1cmF0aW9uID09PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5wYXVzZSgpO1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBsaXZlIHN0cmVhbSwgc3RvcCBkb3dubG9hZCBvbmNlIHRoZSBhdWRpbyBpcyBzdG9wcGVkLlxuICAgICAgICAgICAgICBpZiAoc291bmQuX25vZGUuZHVyYXRpb24gPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fY2xlYXJTb3VuZChzb3VuZC5fbm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWludGVybmFsKSB7XG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdzdG9wJywgc291bmQuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11dGUvdW5tdXRlIGEgc2luZ2xlIHNvdW5kIG9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IG11dGVkIFNldCB0byB0cnVlIHRvIG11dGUgYW5kIGZhbHNlIHRvIHVubXV0ZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgIFRoZSBzb3VuZCBJRCB0byB1cGRhdGUgKG9taXQgdG8gbXV0ZS91bm11dGUgYWxsKS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIG11dGU6IGZ1bmN0aW9uKG11dGVkLCBpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIG11dGUgd2hlbiBjYXBhYmxlLlxuICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJ3x8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnbXV0ZScsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYubXV0ZShtdXRlZCwgaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGFwcGx5aW5nIG11dGUvdW5tdXRlIHRvIGFsbCBzb3VuZHMsIHVwZGF0ZSB0aGUgZ3JvdXAncyB2YWx1ZS5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbXV0ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgIHNlbGYuX211dGVkID0gbXV0ZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX211dGVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIG11dGVkLlxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcblxuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICBzb3VuZC5fbXV0ZWQgPSBtdXRlZDtcblxuICAgICAgICAgIC8vIENhbmNlbCBhY3RpdmUgZmFkZSBhbmQgc2V0IHRoZSB2b2x1bWUgdG8gdGhlIGVuZCB2YWx1ZS5cbiAgICAgICAgICBpZiAoc291bmQuX2ludGVydmFsKSB7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShzb3VuZC5faWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShtdXRlZCA/IDAgOiBzb3VuZC5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IEhvd2xlci5fbXV0ZWQgPyB0cnVlIDogbXV0ZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fZW1pdCgnbXV0ZScsIHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIHZvbHVtZSBvZiB0aGlzIHNvdW5kIG9yIG9mIHRoZSBIb3dsIGdyb3VwLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAgICogICB2b2x1bWUoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIHZvbHVtZSB2YWx1ZS5cbiAgICAgKiAgIHZvbHVtZShpZCkgLT4gUmV0dXJucyB0aGUgc291bmQgaWQncyBjdXJyZW50IHZvbHVtZS5cbiAgICAgKiAgIHZvbHVtZSh2b2wpIC0+IFNldHMgdGhlIHZvbHVtZSBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiAgIHZvbHVtZSh2b2wsIGlkKSAtPiBTZXRzIHRoZSB2b2x1bWUgb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCB2b2x1bWUuXG4gICAgICovXG4gICAgdm9sdW1lOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIHZvbCwgaWQ7XG5cbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBncm91cHMnIHZvbHVtZS5cbiAgICAgICAgcmV0dXJuIHNlbGYuX3ZvbHVtZTtcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEgfHwgYXJncy5sZW5ndGggPT09IDIgJiYgdHlwZW9mIGFyZ3NbMV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoaXMgaXMgYW4gSUQsIGFuZCBpZiBub3QsIGFzc3VtZSBpdCBpcyBhIG5ldyB2b2x1bWUuXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2b2wgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID49IDIpIHtcbiAgICAgICAgdm9sID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIG9yIHJldHVybiB0aGUgY3VycmVudCB2b2x1bWUuXG4gICAgICB2YXIgc291bmQ7XG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugdm9sdW1lIHdoZW4gY2FwYWJsZS5cbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJ3x8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgICBldmVudDogJ3ZvbHVtZScsXG4gICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLnZvbHVtZS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCB2b2x1bWUuXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2VsZi5fdm9sdW1lID0gdm9sO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIG9uZSBvciBhbGwgdm9sdW1lcy5cbiAgICAgICAgaWQgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRbaV0pO1xuXG4gICAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgICBzb3VuZC5fdm9sdW1lID0gdm9sO1xuXG4gICAgICAgICAgICAvLyBTdG9wIGN1cnJlbnRseSBydW5uaW5nIGZhZGVzLlxuICAgICAgICAgICAgaWYgKCFhcmdzWzJdKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbXV0ZWQpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnZvbHVtZSA9IHZvbCAqIEhvd2xlci52b2x1bWUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5fZW1pdCgndm9sdW1lJywgc291bmQuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kID0gaWQgPyBzZWxmLl9zb3VuZEJ5SWQoaWQpIDogc2VsZi5fc291bmRzWzBdO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fdm9sdW1lIDogMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZhZGUgYSBjdXJyZW50bHkgcGxheWluZyBzb3VuZCBiZXR3ZWVuIHR3byB2b2x1bWVzIChpZiBubyBpZCBpcyBwYXNzZWQsIGFsbCBzb3VuZHMgd2lsbCBmYWRlKS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGZyb20gVGhlIHZhbHVlIHRvIGZhZGUgZnJvbSAoMC4wIHRvIDEuMCkuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSB0byAgIFRoZSB2b2x1bWUgdG8gZmFkZSB0byAoMC4wIHRvIDEuMCkuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBsZW4gIFRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIGZhZGUuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAgIFRoZSBzb3VuZCBpZCAob21pdCB0byBmYWRlIGFsbCBzb3VuZHMpLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgZmFkZTogZnVuY3Rpb24oZnJvbSwgdG8sIGxlbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBmYWRlIHdoZW4gY2FwYWJsZS5cbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6ICdmYWRlJyxcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5mYWRlKGZyb20sIHRvLCBsZW4sIGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIHRvL2Zyb20vbGVuIHZhbHVlcyBhcmUgbnVtYmVycy5cbiAgICAgIGZyb20gPSBwYXJzZUZsb2F0KGZyb20pO1xuICAgICAgdG8gPSBwYXJzZUZsb2F0KHRvKTtcbiAgICAgIGxlbiA9IHBhcnNlRmxvYXQobGVuKTtcblxuICAgICAgLy8gU2V0IHRoZSB2b2x1bWUgdG8gdGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAgc2VsZi52b2x1bWUoZnJvbSwgaWQpO1xuXG4gICAgICAvLyBGYWRlIHRoZSB2b2x1bWUgb2Ygb25lIG9yIGFsbCBzb3VuZHMuXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBsaW5lYXIgZmFkZSBvciBmYWxsIGJhY2sgdG8gdGltZW91dHMgd2l0aCBIVE1MNSBBdWRpby5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgLy8gU3RvcCB0aGUgcHJldmlvdXMgZmFkZSBpZiBubyBzcHJpdGUgaXMgYmVpbmcgdXNlZCAob3RoZXJ3aXNlLCB2b2x1bWUgaGFuZGxlcyB0aGlzKS5cbiAgICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8sIGxldCB0aGUgbmF0aXZlIG1ldGhvZHMgZG8gdGhlIGFjdHVhbCBmYWRlLlxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhc291bmQuX211dGVkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGN1cnJlbnRUaW1lICsgKGxlbiAvIDEwMDApO1xuICAgICAgICAgICAgc291bmQuX3ZvbHVtZSA9IGZyb207XG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGZyb20sIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUodG8sIGVuZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fc3RhcnRGYWRlSW50ZXJ2YWwoc291bmQsIGZyb20sIHRvLCBsZW4sIGlkc1tpXSwgdHlwZW9mIGlkID09PSAndW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgaW50ZXJuYWwgaW50ZXJ2YWwgdG8gZmFkZSBhIHNvdW5kLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc291bmQgUmVmZXJlbmNlIHRvIHNvdW5kIHRvIGZhZGUuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbGVuICBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byBmYWRlLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgdG8gZmFkZS5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpc0dyb3VwICAgSWYgdHJ1ZSwgc2V0IHRoZSB2b2x1bWUgb24gdGhlIGdyb3VwLlxuICAgICAqL1xuICAgIF9zdGFydEZhZGVJbnRlcnZhbDogZnVuY3Rpb24oc291bmQsIGZyb20sIHRvLCBsZW4sIGlkLCBpc0dyb3VwKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgdm9sID0gZnJvbTtcbiAgICAgIHZhciBkaWZmID0gdG8gLSBmcm9tO1xuICAgICAgdmFyIHN0ZXBzID0gTWF0aC5hYnMoZGlmZiAvIDAuMDEpO1xuICAgICAgdmFyIHN0ZXBMZW4gPSBNYXRoLm1heCg0LCAoc3RlcHMgPiAwKSA/IGxlbiAvIHN0ZXBzIDogbGVuKTtcbiAgICAgIHZhciBsYXN0VGljayA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSB2YWx1ZSBiZWluZyBmYWRlZCB0by5cbiAgICAgIHNvdW5kLl9mYWRlVG8gPSB0bztcblxuICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgdmFsdWUgb24gZWFjaCBpbnRlcnZhbCB0aWNrLlxuICAgICAgc291bmQuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIGJhc2VkIG9uIHRoZSB0aW1lIHNpbmNlIHRoZSBsYXN0IHRpY2suXG4gICAgICAgIHZhciB0aWNrID0gKERhdGUubm93KCkgLSBsYXN0VGljaykgLyBsZW47XG4gICAgICAgIGxhc3RUaWNrID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdm9sICs9IGRpZmYgKiB0aWNrO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdm9sdW1lIGlzIGluIHRoZSByaWdodCBib3VuZHMuXG4gICAgICAgIHZvbCA9IE1hdGgubWF4KDAsIHZvbCk7XG4gICAgICAgIHZvbCA9IE1hdGgubWluKDEsIHZvbCk7XG5cbiAgICAgICAgLy8gUm91bmQgdG8gd2l0aGluIDIgZGVjaW1hbCBwb2ludHMuXG4gICAgICAgIHZvbCA9IE1hdGgucm91bmQodm9sICogMTAwKSAvIDEwMDtcblxuICAgICAgICAvLyBDaGFuZ2UgdGhlIHZvbHVtZS5cbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgc291bmQuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnZvbHVtZSh2b2wsIHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwJ3Mgdm9sdW1lLlxuICAgICAgICBpZiAoaXNHcm91cCkge1xuICAgICAgICAgIHNlbGYuX3ZvbHVtZSA9IHZvbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdGhlIGZhZGUgaXMgY29tcGxldGUsIHN0b3AgaXQgYW5kIGZpcmUgZXZlbnQuXG4gICAgICAgIGlmICgodG8gPCBmcm9tICYmIHZvbCA8PSB0bykgfHwgKHRvID4gZnJvbSAmJiB2b2wgPj0gdG8pKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChzb3VuZC5faW50ZXJ2YWwpO1xuICAgICAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgc291bmQuX2ZhZGVUbyA9IG51bGw7XG4gICAgICAgICAgc2VsZi52b2x1bWUodG8sIHNvdW5kLl9pZCk7XG4gICAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIHNvdW5kLl9pZCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHN0ZXBMZW4pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBzdG9wcyB0aGUgY3VycmVudGx5IHBsYXlpbmcgZmFkZSB3aGVuXG4gICAgICogYSBuZXcgZmFkZSBzdGFydHMsIHZvbHVtZSBpcyBjaGFuZ2VkIG9yIHRoZSBzb3VuZCBpcyBzdG9wcGVkLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX3N0b3BGYWRlOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9pbnRlcnZhbCkge1xuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLmNhbmNlbFNjaGVkdWxlZFZhbHVlcyhIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcbiAgICAgICAgc291bmQuX2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgc2VsZi52b2x1bWUoc291bmQuX2ZhZGVUbywgaWQpO1xuICAgICAgICBzb3VuZC5fZmFkZVRvID0gbnVsbDtcbiAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIGlkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIGxvb3AgcGFyYW1ldGVyIG9uIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cbiAgICAgKiAgIGxvb3AoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGxvb3AgdmFsdWUuXG4gICAgICogICBsb29wKGxvb3ApIC0+IFNldHMgdGhlIGxvb3AgdmFsdWUgZm9yIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxuICAgICAqICAgbG9vcChsb29wLCBpZCkgLT4gU2V0cyB0aGUgbG9vcCB2YWx1ZSBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9Cb29sZWFufSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCBsb29wIHZhbHVlLlxuICAgICAqL1xuICAgIGxvb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgbG9vcCwgaWQsIHNvdW5kO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBmb3IgbG9vcCBhbmQgaWQuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBncm91J3MgbG9vcCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIHNlbGYuX2xvb3A7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgbG9vcCA9IGFyZ3NbMF07XG4gICAgICAgICAgc2VsZi5fbG9vcCA9IGxvb3A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRoaXMgc291bmQncyBsb29wIHZhbHVlLlxuICAgICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX2xvb3AgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBsb29wID0gYXJnc1swXTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG5vIGlkIGlzIHBhc3NlZCwgZ2V0IGFsbCBJRCdzIHRvIGJlIGxvb3BlZC5cbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgICAgc291bmQuX2xvb3AgPSBsb29wO1xuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gbG9vcDtcbiAgICAgICAgICAgIGlmIChsb29wKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wU3RhcnQgPSBzb3VuZC5fc3RhcnQgfHwgMDtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldC9zZXQgdGhlIHBsYXliYWNrIHJhdGUgb2YgYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgICAqICAgcmF0ZSgpIC0+IFJldHVybnMgdGhlIGZpcnN0IHNvdW5kIG5vZGUncyBjdXJyZW50IHBsYXliYWNrIHJhdGUuXG4gICAgICogICByYXRlKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cbiAgICAgKiAgIHJhdGUocmF0ZSkgLT4gU2V0cyB0aGUgcGxheWJhY2sgcmF0ZSBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cbiAgICAgKiAgIHJhdGUocmF0ZSwgaWQpIC0+IFNldHMgdGhlIHBsYXliYWNrIHJhdGUgb2YgcGFzc2VkIHNvdW5kIGlkLlxuICAgICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgcGxheWJhY2sgcmF0ZS5cbiAgICAgKi9cbiAgICByYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdmFyIHJhdGUsIGlkO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gV2Ugd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IHJhdGUgb2YgdGhlIGZpcnN0IG5vZGUuXG4gICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHJhdGUgdmFsdWUuXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByYXRlID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICByYXRlID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgcGxheWJhY2sgcmF0ZSBvciByZXR1cm4gdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAgICB2YXIgc291bmQ7XG4gICAgICBpZiAodHlwZW9mIHJhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIHBsYXliYWNrIHJhdGUgd2hlbiBjYXBhYmxlLlxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgICAgICBldmVudDogJ3JhdGUnLFxuICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2VsZi5yYXRlLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3VwIHJhdGUuXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgc2VsZi5fcmF0ZSA9IHJhdGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgb25lIG9yIGFsbCB2b2x1bWVzLlxuICAgICAgICBpZCA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGlkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZFtpXSk7XG5cbiAgICAgICAgICBpZiAoc291bmQpIHtcbiAgICAgICAgICAgIC8vIEtlZXAgdHJhY2sgb2Ygb3VyIHBvc2l0aW9uIHdoZW4gdGhlIHJhdGUgY2hhbmdlZCBhbmQgdXBkYXRlIHRoZSBwbGF5YmFja1xuICAgICAgICAgICAgLy8gc3RhcnQgcG9zaXRpb24gc28gd2UgY2FuIHByb3Blcmx5IGFkanVzdCB0aGUgc2VlayBwb3NpdGlvbiBmb3IgdGltZSBlbGFwc2VkLlxuICAgICAgICAgICAgaWYgKHNlbGYucGxheWluZyhpZFtpXSkpIHtcbiAgICAgICAgICAgICAgc291bmQuX3JhdGVTZWVrID0gc2VsZi5zZWVrKGlkW2ldKTtcbiAgICAgICAgICAgICAgc291bmQuX3BsYXlTdGFydCA9IHNlbGYuX3dlYkF1ZGlvID8gSG93bGVyLmN0eC5jdXJyZW50VGltZSA6IHNvdW5kLl9wbGF5U3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzb3VuZC5fcmF0ZSA9IHJhdGU7XG5cbiAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgcGxheWJhY2sgcmF0ZS5cbiAgICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShyYXRlLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgICAgc291bmQuX25vZGUucGxheWJhY2tSYXRlID0gcmF0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVzZXQgdGhlIHRpbWVycy5cbiAgICAgICAgICAgIHZhciBzZWVrID0gc2VsZi5zZWVrKGlkW2ldKTtcbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9ICgoc2VsZi5fc3ByaXRlW3NvdW5kLl9zcHJpdGVdWzBdICsgc2VsZi5fc3ByaXRlW3NvdW5kLl9zcHJpdGVdWzFdKSAvIDEwMDApIC0gc2VlaztcbiAgICAgICAgICAgIHZhciB0aW1lb3V0ID0gKGR1cmF0aW9uICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XG5cbiAgICAgICAgICAgIC8vIFN0YXJ0IGEgbmV3IGVuZCB0aW1lciBpZiBzb3VuZCBpcyBhbHJlYWR5IHBsYXlpbmcuXG4gICAgICAgICAgICBpZiAoc2VsZi5fZW5kVGltZXJzW2lkW2ldXSB8fCAhc291bmQuX3BhdXNlZCkge1xuICAgICAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkW2ldKTtcbiAgICAgICAgICAgICAgc2VsZi5fZW5kVGltZXJzW2lkW2ldXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCdyYXRlJywgc291bmQuX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX3JhdGUgOiBzZWxmLl9yYXRlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB0aGUgc2VlayBwb3NpdGlvbiBvZiBhIHNvdW5kLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXG4gICAgICogICBzZWVrKCkgLT4gUmV0dXJucyB0aGUgZmlyc3Qgc291bmQgbm9kZSdzIGN1cnJlbnQgc2VlayBwb3NpdGlvbi5cbiAgICAgKiAgIHNlZWsoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxuICAgICAqICAgc2VlayhzZWVrKSAtPiBTZXRzIHRoZSBzZWVrIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBzb3VuZCBub2RlLlxuICAgICAqICAgc2VlayhzZWVrLCBpZCkgLT4gU2V0cyB0aGUgc2VlayBwb3NpdGlvbiBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIHNlZWs6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB2YXIgc2VlaywgaWQ7XG5cbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBXZSB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG5vZGUuXG4gICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhpcyBpcyBhbiBJRCwgYW5kIGlmIG5vdCwgYXNzdW1lIGl0IGlzIGEgbmV3IHNlZWsgcG9zaXRpb24uXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoKSB7XG4gICAgICAgICAgaWQgPSBzZWxmLl9zb3VuZHNbMF0uX2lkO1xuICAgICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHNlZWsgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gSUQsIGJhaWwgb3V0LlxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gc2VlayB3aGVuIGNhcGFibGUuXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiAnc2VlaycsXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuc2Vlay5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VlayA9PT0gJ251bWJlcicgJiYgc2VlayA+PSAwKSB7XG4gICAgICAgICAgLy8gUGF1c2UgdGhlIHNvdW5kIGFuZCB1cGRhdGUgcG9zaXRpb24gZm9yIHJlc3RhcnRpbmcgcGxheWJhY2suXG4gICAgICAgICAgdmFyIHBsYXlpbmcgPSBzZWxmLnBsYXlpbmcoaWQpO1xuICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICBzZWxmLnBhdXNlKGlkLCB0cnVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBNb3ZlIHRoZSBwb3NpdGlvbiBvZiB0aGUgdHJhY2sgYW5kIGNhbmNlbCB0aW1lci5cbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlZWs7XG4gICAgICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihpZCk7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNlZWsgcG9zaXRpb24gZm9yIEhUTUw1IEF1ZGlvLlxuICAgICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUuY3VycmVudFRpbWUgPSBzZWVrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNlZWsgYW5kIGVtaXQgd2hlbiByZWFkeS5cbiAgICAgICAgICB2YXIgc2Vla0FuZEVtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3NlZWsnLCBpZCk7XG5cbiAgICAgICAgICAgIC8vIFJlc3RhcnQgdGhlIHBsYXliYWNrIGlmIHRoZSBzb3VuZCB3YXMgcGxheWluZy5cbiAgICAgICAgICAgIGlmIChwbGF5aW5nKSB7XG4gICAgICAgICAgICAgIHNlbGYucGxheShpZCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBwbGF5IGxvY2sgdG8gYmUgdW5zZXQgYmVmb3JlIGVtaXR0aW5nIChIVE1MNSBBdWRpbykuXG4gICAgICAgICAgaWYgKHBsYXlpbmcgJiYgIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgZW1pdFNlZWsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFzZWxmLl9wbGF5TG9jaykge1xuICAgICAgICAgICAgICAgIHNlZWtBbmRFbWl0KCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChlbWl0U2VlaywgMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGVtaXRTZWVrLCAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Vla0FuZEVtaXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICAgICAgICB2YXIgcmVhbFRpbWUgPSBzZWxmLnBsYXlpbmcoaWQpID8gSG93bGVyLmN0eC5jdXJyZW50VGltZSAtIHNvdW5kLl9wbGF5U3RhcnQgOiAwO1xuICAgICAgICAgICAgdmFyIHJhdGVTZWVrID0gc291bmQuX3JhdGVTZWVrID8gc291bmQuX3JhdGVTZWVrIC0gc291bmQuX3NlZWsgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIHNvdW5kLl9zZWVrICsgKHJhdGVTZWVrICsgcmVhbFRpbWUgKiBNYXRoLmFicyhzb3VuZC5fcmF0ZSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc291bmQuX25vZGUuY3VycmVudFRpbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHNwZWNpZmljIHNvdW5kIGlzIGN1cnJlbnRseSBwbGF5aW5nIG9yIG5vdCAoaWYgaWQgaXMgcHJvdmlkZWQpLCBvciBjaGVjayBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIHNvdW5kcyBpbiB0aGUgZ3JvdXAgaXMgcGxheWluZyBvciBub3QuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgaWQgVGhlIHNvdW5kIGlkIHRvIGNoZWNrLiBJZiBub25lIGlzIHBhc3NlZCwgdGhlIHdob2xlIHNvdW5kIGdyb3VwIGlzIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nIGFuZCBmYWxzZSBpZiBub3QuXG4gICAgICovXG4gICAgcGxheWluZzogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gQ2hlY2sgdGhlIHBhc3NlZCBzb3VuZCBJRCAoaWYgYW55KS5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XG4gICAgICAgIHJldHVybiBzb3VuZCA/ICFzb3VuZC5fcGF1c2VkIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSwgbG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGNoZWNrIGlmIGFueSBhcmUgcGxheWluZy5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzZWxmLl9zb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkdXJhdGlvbiBvZiB0aGlzIHNvdW5kLiBQYXNzaW5nIGEgc291bmQgaWQgd2lsbCByZXR1cm4gdGhlIHNwcml0ZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHJldHVybiBmdWxsIHNvdXJjZSBkdXJhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEF1ZGlvIGR1cmF0aW9uIGluIHNlY29uZHMuXG4gICAgICovXG4gICAgZHVyYXRpb246IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgZHVyYXRpb24gPSBzZWxmLl9kdXJhdGlvbjtcblxuICAgICAgLy8gSWYgd2UgcGFzcyBhbiBJRCwgZ2V0IHRoZSBzb3VuZCBhbmQgcmV0dXJuIHRoZSBzcHJpdGUgbGVuZ3RoLlxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICBkdXJhdGlvbiA9IHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSAvIDEwMDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBsb2FkZWQgc3RhdGUgb2YgdGhpcyBIb3dsLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gJ3VubG9hZGVkJywgJ2xvYWRpbmcnLCAnbG9hZGVkJ1xuICAgICAqL1xuICAgIHN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IHRoZSBjdXJyZW50IEhvd2wgb2JqZWN0LlxuICAgICAqIFRoaXMgd2lsbCBpbW1lZGlhdGVseSBzdG9wIGFsbCBzb3VuZCBpbnN0YW5jZXMgYXR0YWNoZWQgdG8gdGhpcyBncm91cC5cbiAgICAgKi9cbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTdG9wIHBsYXlpbmcgYW55IGFjdGl2ZSBzb3VuZHMuXG4gICAgICB2YXIgc291bmRzID0gc2VsZi5fc291bmRzO1xuICAgICAgZm9yICh2YXIgaT0wOyBpPHNvdW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBTdG9wIHRoZSBzb3VuZCBpZiBpdCBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgaWYgKCFzb3VuZHNbaV0uX3BhdXNlZCkge1xuICAgICAgICAgIHNlbGYuc3RvcChzb3VuZHNbaV0uX2lkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgc291cmNlIG9yIGRpc2Nvbm5lY3QuXG4gICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICAvLyBTZXQgdGhlIHNvdXJjZSB0byAwLXNlY29uZCBzaWxlbmNlIHRvIHN0b3AgYW55IGRvd25sb2FkaW5nIChleGNlcHQgaW4gSUUpLlxuICAgICAgICAgIHNlbGYuX2NsZWFyU291bmQoc291bmRzW2ldLl9ub2RlKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSBhbnkgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNvdW5kc1tpXS5fZXJyb3JGbiwgZmFsc2UpO1xuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzb3VuZHNbaV0uX2xvYWRGbiwgZmFsc2UpO1xuXG4gICAgICAgICAgLy8gUmVsZWFzZSB0aGUgQXVkaW8gb2JqZWN0IGJhY2sgdG8gdGhlIHBvb2wuXG4gICAgICAgICAgSG93bGVyLl9yZWxlYXNlSHRtbDVBdWRpbyhzb3VuZHNbaV0uX25vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW1wdHkgb3V0IGFsbCBvZiB0aGUgbm9kZXMuXG4gICAgICAgIGRlbGV0ZSBzb3VuZHNbaV0uX25vZGU7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIGFsbCB0aW1lcnMgYXJlIGNsZWFyZWQgb3V0LlxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kc1tpXS5faWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgdGhlIHJlZmVyZW5jZXMgaW4gdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxuICAgICAgdmFyIGluZGV4ID0gSG93bGVyLl9ob3dscy5pbmRleE9mKHNlbGYpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgSG93bGVyLl9ob3dscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuXG4gICAgICAvLyBEZWxldGUgdGhpcyBzb3VuZCBmcm9tIHRoZSBjYWNoZSAoaWYgbm8gb3RoZXIgSG93bCBpcyB1c2luZyBpdCkuXG4gICAgICB2YXIgcmVtQ2FjaGUgPSB0cnVlO1xuICAgICAgZm9yIChpPTA7IGk8SG93bGVyLl9ob3dscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoSG93bGVyLl9ob3dsc1tpXS5fc3JjID09PSBzZWxmLl9zcmMgfHwgc2VsZi5fc3JjLmluZGV4T2YoSG93bGVyLl9ob3dsc1tpXS5fc3JjKSA+PSAwKSB7XG4gICAgICAgICAgcmVtQ2FjaGUgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2FjaGUgJiYgcmVtQ2FjaGUpIHtcbiAgICAgICAgZGVsZXRlIGNhY2hlW3NlbGYuX3NyY107XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIGdsb2JhbCBlcnJvcnMuXG4gICAgICBIb3dsZXIubm9BdWRpbyA9IGZhbHNlO1xuXG4gICAgICAvLyBDbGVhciBvdXQgYHNlbGZgLlxuICAgICAgc2VsZi5fc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgICAgc2VsZi5fc291bmRzID0gW107XG4gICAgICBzZWxmID0gbnVsbDtcblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExpc3RlbiB0byBhIGN1c3RvbSBldmVudC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgZXZlbnQgRXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gICAgTGlzdGVuZXIgdG8gY2FsbC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgaWQgICAgKG9wdGlvbmFsKSBPbmx5IGxpc3RlbiB0byBldmVudHMgZm9yIHRoaXMgc291bmQuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIG9uY2UgIChJTlRFUk5BTCkgTWFya3MgZXZlbnQgdG8gZmlyZSBvbmx5IG9uY2UuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBvbjogZnVuY3Rpb24oZXZlbnQsIGZuLCBpZCwgb25jZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGV2ZW50cyA9IHNlbGZbJ19vbicgKyBldmVudF07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZXZlbnRzLnB1c2gob25jZSA/IHtpZDogaWQsIGZuOiBmbiwgb25jZTogb25jZX0gOiB7aWQ6IGlkLCBmbjogZm59KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGN1c3RvbSBldmVudC4gQ2FsbCB3aXRob3V0IHBhcmFtZXRlcnMgdG8gcmVtb3ZlIGFsbCBldmVudHMuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIHJlbW92ZS4gTGVhdmUgZW1wdHkgdG8gcmVtb3ZlIGFsbC5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgaWQgICAgKG9wdGlvbmFsKSBPbmx5IHJlbW92ZSBldmVudHMgZm9yIHRoaXMgc291bmQuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAvLyBBbGxvdyBwYXNzaW5nIGp1c3QgYW4gZXZlbnQgYW5kIElELlxuICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWQgPSBmbjtcbiAgICAgICAgZm4gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoZm4gfHwgaWQpIHtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCByZW1vdmUgdGhlIHBhc3NlZCBmdW5jdGlvbi5cbiAgICAgICAgZm9yIChpPTA7IGk8ZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGlzSWQgPSAoaWQgPT09IGV2ZW50c1tpXS5pZCk7XG4gICAgICAgICAgaWYgKGZuID09PSBldmVudHNbaV0uZm4gJiYgaXNJZCB8fCAhZm4gJiYgaXNJZCkge1xuICAgICAgICAgICAgZXZlbnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChldmVudCkge1xuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiB0aGlzIHR5cGUuXG4gICAgICAgIHNlbGZbJ19vbicgKyBldmVudF0gPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENsZWFyIG91dCBhbGwgZXZlbnRzIG9mIGV2ZXJ5IHR5cGUuXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc2VsZik7XG4gICAgICAgIGZvciAoaT0wOyBpPGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoKGtleXNbaV0uaW5kZXhPZignX29uJykgPT09IDApICYmIEFycmF5LmlzQXJyYXkoc2VsZltrZXlzW2ldXSkpIHtcbiAgICAgICAgICAgIHNlbGZba2V5c1tpXV0gPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExpc3RlbiB0byBhIGN1c3RvbSBldmVudCBhbmQgcmVtb3ZlIGl0IG9uY2UgZmlyZWQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIGV2ZW50IEV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgb25jZTogZnVuY3Rpb24oZXZlbnQsIGZuLCBpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTZXR1cCB0aGUgZXZlbnQgbGlzdGVuZXIuXG4gICAgICBzZWxmLm9uKGV2ZW50LCBmbiwgaWQsIDEpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRW1pdCBhbGwgZXZlbnRzIG9mIGEgc3BlY2lmaWMgdHlwZSBhbmQgcGFzcyB0aGUgc291bmQgaWQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICAgU291bmQgSUQuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBtc2cgICBNZXNzYWdlIHRvIGdvIHdpdGggZXZlbnQuXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfZW1pdDogZnVuY3Rpb24oZXZlbnQsIGlkLCBtc2cpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xuXG4gICAgICAvLyBMb29wIHRocm91Z2ggZXZlbnQgc3RvcmUgYW5kIGZpcmUgYWxsIGZ1bmN0aW9ucy5cbiAgICAgIGZvciAodmFyIGk9ZXZlbnRzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcbiAgICAgICAgLy8gT25seSBmaXJlIHRoZSBsaXN0ZW5lciBpZiB0aGUgY29ycmVjdCBJRCBpcyB1c2VkLlxuICAgICAgICBpZiAoIWV2ZW50c1tpXS5pZCB8fCBldmVudHNbaV0uaWQgPT09IGlkIHx8IGV2ZW50ID09PSAnbG9hZCcpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGlkLCBtc2cpO1xuICAgICAgICAgIH0uYmluZChzZWxmLCBldmVudHNbaV0uZm4pLCAwKTtcblxuICAgICAgICAgIC8vIElmIHRoaXMgZXZlbnQgd2FzIHNldHVwIHdpdGggYG9uY2VgLCByZW1vdmUgaXQuXG4gICAgICAgICAgaWYgKGV2ZW50c1tpXS5vbmNlKSB7XG4gICAgICAgICAgICBzZWxmLm9mZihldmVudCwgZXZlbnRzW2ldLmZuLCBldmVudHNbaV0uaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQYXNzIHRoZSBldmVudCB0eXBlIGludG8gbG9hZCBxdWV1ZSBzbyB0aGF0IGl0IGNhbiBjb250aW51ZSBzdGVwcGluZy5cbiAgICAgIHNlbGYuX2xvYWRRdWV1ZShldmVudCk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBRdWV1ZSBvZiBhY3Rpb25zIGluaXRpYXRlZCBiZWZvcmUgdGhlIHNvdW5kIGhhcyBsb2FkZWQuXG4gICAgICogVGhlc2Ugd2lsbCBiZSBjYWxsZWQgaW4gc2VxdWVuY2UsIHdpdGggdGhlIG5leHQgb25seSBmaXJpbmdcbiAgICAgKiBhZnRlciB0aGUgcHJldmlvdXMgaGFzIGZpbmlzaGVkIGV4ZWN1dGluZyAoZXZlbiBpZiBhc3luYyBsaWtlIHBsYXkpLlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2xvYWRRdWV1ZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHNlbGYuX3F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHRhc2sgPSBzZWxmLl9xdWV1ZVswXTtcblxuICAgICAgICAvLyBSZW1vdmUgdGhpcyB0YXNrIGlmIGEgbWF0Y2hpbmcgZXZlbnQgd2FzIHBhc3NlZC5cbiAgICAgICAgaWYgKHRhc2suZXZlbnQgPT09IGV2ZW50KSB7XG4gICAgICAgICAgc2VsZi5fcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biB0aGUgdGFzayBpZiBubyBldmVudCB0eXBlIGlzIHBhc3NlZC5cbiAgICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICAgIHRhc2suYWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gcGxheWJhY2sgZW5kcyBhdCB0aGUgZW5kIG9mIHRoZSBkdXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgVGhlIHNvdW5kIG9iamVjdCB0byB3b3JrIHdpdGguXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfZW5kZWQ6IGZ1bmN0aW9uKHNvdW5kKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgc3ByaXRlID0gc291bmQuX3Nwcml0ZTtcblxuICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIElFIGFuZCB0aGVyZSB3YXMgbmV0d29yayBsYXRlbmN5IHdlIG1heSBiZSBjbGlwcGluZ1xuICAgICAgLy8gYXVkaW8gYmVmb3JlIGl0IGNvbXBsZXRlcyBwbGF5aW5nLiBMZXRzIGNoZWNrIHRoZSBub2RlIHRvIG1ha2Ugc3VyZSBpdFxuICAgICAgLy8gYmVsaWV2ZXMgaXQgaGFzIGNvbXBsZXRlZCwgYmVmb3JlIGVuZGluZyB0aGUgcGxheWJhY2suXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbm9kZS5wYXVzZWQgJiYgIXNvdW5kLl9ub2RlLmVuZGVkICYmIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lIDwgc291bmQuX3N0b3ApIHtcbiAgICAgICAgc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgMTAwKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3VsZCB0aGlzIHNvdW5kIGxvb3A/XG4gICAgICB2YXIgbG9vcCA9ICEhKHNvdW5kLl9sb29wIHx8IHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzJdKTtcblxuICAgICAgLy8gRmlyZSB0aGUgZW5kZWQgZXZlbnQuXG4gICAgICBzZWxmLl9lbWl0KCdlbmQnLCBzb3VuZC5faWQpO1xuXG4gICAgICAvLyBSZXN0YXJ0IHRoZSBwbGF5YmFjayBmb3IgSFRNTDUgQXVkaW8gbG9vcC5cbiAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgbG9vcCkge1xuICAgICAgICBzZWxmLnN0b3Aoc291bmQuX2lkLCB0cnVlKS5wbGF5KHNvdW5kLl9pZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlc3RhcnQgdGhpcyB0aW1lciBpZiBvbiBhIFdlYiBBdWRpbyBsb29wLlxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIGxvb3ApIHtcbiAgICAgICAgc2VsZi5fZW1pdCgncGxheScsIHNvdW5kLl9pZCk7XG4gICAgICAgIHNvdW5kLl9zZWVrID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xuXG4gICAgICAgIHZhciB0aW1lb3V0ID0gKChzb3VuZC5fc3RvcCAtIHNvdW5kLl9zdGFydCkgKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcbiAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcbiAgICAgIH1cblxuICAgICAgLy8gTWFyayB0aGUgbm9kZSBhcyBwYXVzZWQuXG4gICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgIWxvb3ApIHtcbiAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XG4gICAgICAgIHNvdW5kLl9zZWVrID0gc291bmQuX3N0YXJ0IHx8IDA7XG4gICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IDA7XG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcblxuICAgICAgICAvLyBDbGVhbiB1cCB0aGUgYnVmZmVyIHNvdXJjZS5cbiAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xuXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gYXV0by1zdXNwZW5kIEF1ZGlvQ29udGV4dCBpZiBubyBzb3VuZHMgYXJlIHN0aWxsIHBsYXlpbmcuXG4gICAgICAgIEhvd2xlci5fYXV0b1N1c3BlbmQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2hlbiB1c2luZyBhIHNwcml0ZSwgZW5kIHRoZSB0cmFjay5cbiAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgIWxvb3ApIHtcbiAgICAgICAgc2VsZi5zdG9wKHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgZW5kIHRpbWVyIGZvciBhIHNvdW5kIHBsYXliYWNrLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElELlxuICAgICAqIEByZXR1cm4ge0hvd2x9XG4gICAgICovXG4gICAgX2NsZWFyVGltZXI6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLl9lbmRUaW1lcnNbaWRdKSB7XG4gICAgICAgIC8vIENsZWFyIHRoZSB0aW1lb3V0IG9yIHJlbW92ZSB0aGUgZW5kZWQgbGlzdGVuZXIuXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5fZW5kVGltZXJzW2lkXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9lbmRUaW1lcnNbaWRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xuICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xuICAgICAgICAgICAgc291bmQuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRUaW1lcnNbaWRdLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHNlbGYuX2VuZFRpbWVyc1tpZF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHNvdW5kIGlkZW50aWZpZWQgYnkgdGhpcyBJRCwgb3IgcmV0dXJuIG51bGwuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBTb3VuZCBJRFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gICAgU291bmQgb2JqZWN0IG9yIG51bGwuXG4gICAgICovXG4gICAgX3NvdW5kQnlJZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIGZpbmQgdGhlIG9uZSB3aXRoIHRoaXMgSUQuXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpZCA9PT0gc2VsZi5fc291bmRzW2ldLl9pZCkge1xuICAgICAgICAgIHJldHVybiBzZWxmLl9zb3VuZHNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbiBpbmFjdGl2ZSBzb3VuZCBmcm9tIHRoZSBwb29sIG9yIGNyZWF0ZSBhIG5ldyBvbmUuXG4gICAgICogQHJldHVybiB7U291bmR9IFNvdW5kIHBsYXliYWNrIG9iamVjdC5cbiAgICAgKi9cbiAgICBfaW5hY3RpdmVTb3VuZDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHNlbGYuX2RyYWluKCk7XG5cbiAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IGluYWN0aXZlIG5vZGUgdG8gcmVjeWNsZS5cbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fc291bmRzW2ldLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgbm8gaW5hY3RpdmUgbm9kZSB3YXMgZm91bmQsIGNyZWF0ZSBhIG5ldyBvbmUuXG4gICAgICByZXR1cm4gbmV3IFNvdW5kKHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmFpbiBleGNlc3MgaW5hY3RpdmUgc291bmRzIGZyb20gdGhlIHBvb2wuXG4gICAgICovXG4gICAgX2RyYWluOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBsaW1pdCA9IHNlbGYuX3Bvb2w7XG4gICAgICB2YXIgY250ID0gMDtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgLy8gSWYgdGhlcmUgYXJlIGxlc3Mgc291bmRzIHRoYW4gdGhlIG1heCBwb29sIHNpemUsIHdlIGFyZSBkb25lLlxuICAgICAgaWYgKHNlbGYuX3NvdW5kcy5sZW5ndGggPCBsaW1pdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgaW5hY3RpdmUgc291bmRzLlxuICAgICAgZm9yIChpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XG4gICAgICAgICAgY250Kys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIGV4Y2VzcyBpbmFjdGl2ZSBzb3VuZHMsIGdvaW5nIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICBmb3IgKGk9c2VsZi5fc291bmRzLmxlbmd0aCAtIDE7IGk+PTA7IGktLSkge1xuICAgICAgICBpZiAoY250IDw9IGxpbWl0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kc1tpXS5fZW5kZWQpIHtcbiAgICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSBhdWRpbyBzb3VyY2Ugd2hlbiB1c2luZyBXZWIgQXVkaW8uXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNlbGYuX3NvdW5kc1tpXS5fbm9kZSkge1xuICAgICAgICAgICAgc2VsZi5fc291bmRzW2ldLl9ub2RlLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmVtb3ZlIHNvdW5kcyB1bnRpbCB3ZSBoYXZlIHRoZSBwb29sIHNpemUuXG4gICAgICAgICAgc2VsZi5fc291bmRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBjbnQtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIElEJ3MgZnJvbSB0aGUgc291bmRzIHBvb2wuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBPbmx5IHJldHVybiBvbmUgSUQgaWYgb25lIGlzIHBhc3NlZC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gICAgQXJyYXkgb2YgSURzLlxuICAgICAqL1xuICAgIF9nZXRTb3VuZElkczogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGlkcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWRzLnB1c2goc2VsZi5fc291bmRzW2ldLl9pZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaWRzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtpZF07XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIHNvdW5kIGJhY2sgaW50byB0aGUgYnVmZmVyIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgVGhlIHNvdW5kIG9iamVjdCB0byB3b3JrIHdpdGguXG4gICAgICogQHJldHVybiB7SG93bH1cbiAgICAgKi9cbiAgICBfcmVmcmVzaEJ1ZmZlcjogZnVuY3Rpb24oc291bmQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gU2V0dXAgdGhlIGJ1ZmZlciBzb3VyY2UgZm9yIHBsYXliYWNrLlxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlID0gSG93bGVyLmN0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5idWZmZXIgPSBjYWNoZVtzZWxmLl9zcmNdO1xuXG4gICAgICAvLyBDb25uZWN0IHRvIHRoZSBjb3JyZWN0IG5vZGUuXG4gICAgICBpZiAoc291bmQuX3Bhbm5lcikge1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UuY29ubmVjdChzb3VuZC5fcGFubmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5jb25uZWN0KHNvdW5kLl9ub2RlKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgbG9vcGluZyBhbmQgcGxheWJhY2sgcmF0ZS5cbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gc291bmQuX2xvb3A7XG4gICAgICBpZiAoc291bmQuX2xvb3ApIHtcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BTdGFydCA9IHNvdW5kLl9zdGFydCB8fCAwO1xuICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcEVuZCA9IHNvdW5kLl9zdG9wIHx8IDA7XG4gICAgICB9XG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9yYXRlLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnQgbWVtb3J5IGxlYWtzIGJ5IGNsZWFuaW5nIHVwIHRoZSBidWZmZXIgc291cmNlIGFmdGVyIHBsYXliYWNrLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbm9kZSBTb3VuZCdzIGF1ZGlvIG5vZGUgY29udGFpbmluZyB0aGUgYnVmZmVyIHNvdXJjZS5cbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgICAqL1xuICAgIF9jbGVhbkJ1ZmZlcjogZnVuY3Rpb24obm9kZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGlzSU9TID0gSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudmVuZG9yLmluZGV4T2YoJ0FwcGxlJykgPj0gMDtcblxuICAgICAgaWYgKEhvd2xlci5fc2NyYXRjaEJ1ZmZlciAmJiBub2RlLmJ1ZmZlclNvdXJjZSkge1xuICAgICAgICBub2RlLmJ1ZmZlclNvdXJjZS5vbmVuZGVkID0gbnVsbDtcbiAgICAgICAgbm9kZS5idWZmZXJTb3VyY2UuZGlzY29ubmVjdCgwKTtcbiAgICAgICAgaWYgKGlzSU9TKSB7XG4gICAgICAgICAgdHJ5IHsgbm9kZS5idWZmZXJTb3VyY2UuYnVmZmVyID0gSG93bGVyLl9zY3JhdGNoQnVmZmVyOyB9IGNhdGNoKGUpIHt9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUuYnVmZmVyU291cmNlID0gbnVsbDtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc291cmNlIHRvIGEgMC1zZWNvbmQgc2lsZW5jZSB0byBzdG9wIGFueSBkb3dubG9hZGluZyAoZXhjZXB0IGluIElFKS5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG5vZGUgQXVkaW8gbm9kZSB0byBjbGVhci5cbiAgICAgKi9cbiAgICBfY2xlYXJTb3VuZDogZnVuY3Rpb24obm9kZSkge1xuICAgICAgdmFyIGNoZWNrSUUgPSAvTVNJRSB8VHJpZGVudFxcLy8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgaWYgKCFjaGVja0lFKSB7XG4gICAgICAgIG5vZGUuc3JjID0gJ2RhdGE6YXVkaW8vd2F2O2Jhc2U2NCxVa2xHUmlnQUFBQlhRVlpGWm0xMElCSUFBQUFCQUFFQVJLd0FBSWhZQVFBQ0FCQUFBQUJrWVhSaEFnQUFBQUVBJztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqIFNpbmdsZSBTb3VuZCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBTZXR1cCB0aGUgc291bmQgb2JqZWN0LCB3aGljaCBlYWNoIG5vZGUgYXR0YWNoZWQgdG8gYSBIb3dsIGdyb3VwIGlzIGNvbnRhaW5lZCBpbi5cbiAgICogQHBhcmFtIHtPYmplY3R9IGhvd2wgVGhlIEhvd2wgcGFyZW50IGdyb3VwLlxuICAgKi9cbiAgdmFyIFNvdW5kID0gZnVuY3Rpb24oaG93bCkge1xuICAgIHRoaXMuX3BhcmVudCA9IGhvd2w7XG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG4gIFNvdW5kLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IFNvdW5kIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFNldHVwIHRoZSBkZWZhdWx0IHBhcmFtZXRlcnMuXG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XG4gICAgICBzZWxmLl9sb29wID0gcGFyZW50Ll9sb29wO1xuICAgICAgc2VsZi5fdm9sdW1lID0gcGFyZW50Ll92b2x1bWU7XG4gICAgICBzZWxmLl9yYXRlID0gcGFyZW50Ll9yYXRlO1xuICAgICAgc2VsZi5fc2VlayA9IDA7XG4gICAgICBzZWxmLl9wYXVzZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fZW5kZWQgPSB0cnVlO1xuICAgICAgc2VsZi5fc3ByaXRlID0gJ19fZGVmYXVsdCc7XG5cbiAgICAgIC8vIEdlbmVyYXRlIGEgdW5pcXVlIElEIGZvciB0aGlzIHNvdW5kLlxuICAgICAgc2VsZi5faWQgPSArK0hvd2xlci5fY291bnRlcjtcblxuICAgICAgLy8gQWRkIGl0c2VsZiB0byB0aGUgcGFyZW50J3MgcG9vbC5cbiAgICAgIHBhcmVudC5fc291bmRzLnB1c2goc2VsZik7XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgbmV3IG5vZGUuXG4gICAgICBzZWxmLmNyZWF0ZSgpO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuZCBzZXR1cCBhIG5ldyBzb3VuZCBvYmplY3QsIHdoZXRoZXIgSFRNTDUgQXVkaW8gb3IgV2ViIEF1ZGlvLlxuICAgICAqIEByZXR1cm4ge1NvdW5kfVxuICAgICAqL1xuICAgIGNyZWF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuICAgICAgdmFyIHZvbHVtZSA9IChIb3dsZXIuX211dGVkIHx8IHNlbGYuX211dGVkIHx8IHNlbGYuX3BhcmVudC5fbXV0ZWQpID8gMCA6IHNlbGYuX3ZvbHVtZTtcblxuICAgICAgaWYgKHBhcmVudC5fd2ViQXVkaW8pIHtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBnYWluIG5vZGUgZm9yIGNvbnRyb2xsaW5nIHZvbHVtZSAodGhlIHNvdXJjZSB3aWxsIGNvbm5lY3QgdG8gdGhpcykuXG4gICAgICAgIHNlbGYuX25vZGUgPSAodHlwZW9mIEhvd2xlci5jdHguY3JlYXRlR2FpbiA9PT0gJ3VuZGVmaW5lZCcpID8gSG93bGVyLmN0eC5jcmVhdGVHYWluTm9kZSgpIDogSG93bGVyLmN0eC5jcmVhdGVHYWluKCk7XG4gICAgICAgIHNlbGYuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzZWxmLl9ub2RlLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIHNlbGYuX25vZGUuY29ubmVjdChIb3dsZXIubWFzdGVyR2Fpbik7XG4gICAgICB9IGVsc2UgaWYgKCFIb3dsZXIubm9BdWRpbykge1xuICAgICAgICAvLyBHZXQgYW4gdW5sb2NrZWQgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuXG4gICAgICAgIHNlbGYuX25vZGUgPSBIb3dsZXIuX29idGFpbkh0bWw1QXVkaW8oKTtcblxuICAgICAgICAvLyBMaXN0ZW4gZm9yIGVycm9ycyAoaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy1hdXRob3Itdmlldy9zcGVjLmh0bWwjbWVkaWFlcnJvcikuXG4gICAgICAgIHNlbGYuX2Vycm9yRm4gPSBzZWxmLl9lcnJvckxpc3RlbmVyLmJpbmQoc2VsZik7XG4gICAgICAgIHNlbGYuX25vZGUuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZWxmLl9lcnJvckZuLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gTGlzdGVuIGZvciAnY2FucGxheXRocm91Z2gnIGV2ZW50IHRvIGxldCB1cyBrbm93IHRoZSBzb3VuZCBpcyByZWFkeS5cbiAgICAgICAgc2VsZi5fbG9hZEZuID0gc2VsZi5fbG9hZExpc3RlbmVyLmJpbmQoc2VsZik7XG4gICAgICAgIHNlbGYuX25vZGUuYWRkRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc2VsZi5fbG9hZEZuLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gU2V0dXAgdGhlIG5ldyBhdWRpbyBub2RlLlxuICAgICAgICBzZWxmLl9ub2RlLnNyYyA9IHBhcmVudC5fc3JjO1xuICAgICAgICBzZWxmLl9ub2RlLnByZWxvYWQgPSAnYXV0byc7XG4gICAgICAgIHNlbGYuX25vZGUudm9sdW1lID0gdm9sdW1lICogSG93bGVyLnZvbHVtZSgpO1xuXG4gICAgICAgIC8vIEJlZ2luIGxvYWRpbmcgdGhlIHNvdXJjZS5cbiAgICAgICAgc2VsZi5fbm9kZS5sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgcGFyYW1ldGVycyBvZiB0aGlzIHNvdW5kIHRvIHRoZSBvcmlnaW5hbCBzdGF0ZSAoZm9yIHJlY3ljbGUpLlxuICAgICAqIEByZXR1cm4ge1NvdW5kfVxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFJlc2V0IGFsbCBvZiB0aGUgcGFyYW1ldGVycyBvZiB0aGlzIHNvdW5kLlxuICAgICAgc2VsZi5fbXV0ZWQgPSBwYXJlbnQuX211dGVkO1xuICAgICAgc2VsZi5fbG9vcCA9IHBhcmVudC5fbG9vcDtcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IHBhcmVudC5fdm9sdW1lO1xuICAgICAgc2VsZi5fcmF0ZSA9IHBhcmVudC5fcmF0ZTtcbiAgICAgIHNlbGYuX3NlZWsgPSAwO1xuICAgICAgc2VsZi5fcmF0ZVNlZWsgPSAwO1xuICAgICAgc2VsZi5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2VuZGVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIG5ldyBJRCBzbyB0aGF0IGl0IGlzbid0IGNvbmZ1c2VkIHdpdGggdGhlIHByZXZpb3VzIHNvdW5kLlxuICAgICAgc2VsZi5faWQgPSArK0hvd2xlci5fY291bnRlcjtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhUTUw1IEF1ZGlvIGVycm9yIGxpc3RlbmVyIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIF9lcnJvckxpc3RlbmVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgLy8gRmlyZSBhbiBlcnJvciBldmVudCBhbmQgcGFzcyBiYWNrIHRoZSBjb2RlLlxuICAgICAgc2VsZi5fcGFyZW50Ll9lbWl0KCdsb2FkZXJyb3InLCBzZWxmLl9pZCwgc2VsZi5fbm9kZS5lcnJvciA/IHNlbGYuX25vZGUuZXJyb3IuY29kZSA6IDApO1xuXG4gICAgICAvLyBDbGVhciB0aGUgZXZlbnQgbGlzdGVuZXIuXG4gICAgICBzZWxmLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc2VsZi5fZXJyb3JGbiwgZmFsc2UpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIVE1MNSBBdWRpbyBjYW5wbGF5dGhyb3VnaCBsaXN0ZW5lciBjYWxsYmFjay5cbiAgICAgKi9cbiAgICBfbG9hZExpc3RlbmVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFJvdW5kIHVwIHRoZSBkdXJhdGlvbiB0byBhY2NvdW50IGZvciB0aGUgbG93ZXIgcHJlY2lzaW9uIGluIEhUTUw1IEF1ZGlvLlxuICAgICAgcGFyZW50Ll9kdXJhdGlvbiA9IE1hdGguY2VpbChzZWxmLl9ub2RlLmR1cmF0aW9uICogMTApIC8gMTA7XG5cbiAgICAgIC8vIFNldHVwIGEgc3ByaXRlIGlmIG5vbmUgaXMgZGVmaW5lZC5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhwYXJlbnQuX3Nwcml0ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHBhcmVudC5fc3ByaXRlID0ge19fZGVmYXVsdDogWzAsIHBhcmVudC5fZHVyYXRpb24gKiAxMDAwXX07XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnQuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICBwYXJlbnQuX3N0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgIHBhcmVudC5fZW1pdCgnbG9hZCcpO1xuICAgICAgICBwYXJlbnQuX2xvYWRRdWV1ZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciB0aGUgZXZlbnQgbGlzdGVuZXIuXG4gICAgICBzZWxmLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIHNlbGYuX2xvYWRGbiwgZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvKiogSGVscGVyIE1ldGhvZHMgKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgdmFyIGNhY2hlID0ge307XG5cbiAgLyoqXG4gICAqIEJ1ZmZlciBhIHNvdW5kIGZyb20gVVJMLCBEYXRhIFVSSSBvciBjYWNoZSBhbmQgZGVjb2RlIHRvIGF1ZGlvIHNvdXJjZSAoV2ViIEF1ZGlvIEFQSSkuXG4gICAqIEBwYXJhbSAge0hvd2x9IHNlbGZcbiAgICovXG4gIHZhciBsb2FkQnVmZmVyID0gZnVuY3Rpb24oc2VsZikge1xuICAgIHZhciB1cmwgPSBzZWxmLl9zcmM7XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgYnVmZmVyIGhhcyBhbHJlYWR5IGJlZW4gY2FjaGVkIGFuZCB1c2UgaXQgaW5zdGVhZC5cbiAgICBpZiAoY2FjaGVbdXJsXSkge1xuICAgICAgLy8gU2V0IHRoZSBkdXJhdGlvbiBmcm9tIHRoZSBjYWNoZS5cbiAgICAgIHNlbGYuX2R1cmF0aW9uID0gY2FjaGVbdXJsXS5kdXJhdGlvbjtcblxuICAgICAgLy8gTG9hZCB0aGUgc291bmQgaW50byB0aGlzIEhvd2wuXG4gICAgICBsb2FkU291bmQoc2VsZik7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoL15kYXRhOlteO10rO2Jhc2U2NCwvLnRlc3QodXJsKSkge1xuICAgICAgLy8gRGVjb2RlIHRoZSBiYXNlNjQgZGF0YSBVUkkgd2l0aG91dCBYSFIsIHNpbmNlIHNvbWUgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCBpdC5cbiAgICAgIHZhciBkYXRhID0gYXRvYih1cmwuc3BsaXQoJywnKVsxXSk7XG4gICAgICB2YXIgZGF0YVZpZXcgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8ZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICBkYXRhVmlld1tpXSA9IGRhdGEuY2hhckNvZGVBdChpKTtcbiAgICAgIH1cblxuICAgICAgZGVjb2RlQXVkaW9EYXRhKGRhdGFWaWV3LmJ1ZmZlciwgc2VsZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIExvYWQgdGhlIGJ1ZmZlciBmcm9tIHRoZSBVUkwuXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICB4aHIub3BlbignR0VUJywgdXJsLCB0cnVlKTtcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBzZWxmLl94aHJXaXRoQ3JlZGVudGlhbHM7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGdldCBhIHN1Y2Nlc3NmdWwgcmVzcG9uc2UgYmFjay5cbiAgICAgICAgdmFyIGNvZGUgPSAoeGhyLnN0YXR1cyArICcnKVswXTtcbiAgICAgICAgaWYgKGNvZGUgIT09ICcwJyAmJiBjb2RlICE9PSAnMicgJiYgY29kZSAhPT0gJzMnKSB7XG4gICAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ0ZhaWxlZCBsb2FkaW5nIGF1ZGlvIGZpbGUgd2l0aCBzdGF0dXM6ICcgKyB4aHIuc3RhdHVzICsgJy4nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWNvZGVBdWRpb0RhdGEoeGhyLnJlc3BvbnNlLCBzZWxmKTtcbiAgICAgIH07XG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBlcnJvciwgc3dpdGNoIHRvIEhUTUw1IEF1ZGlvLlxuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgICAgICBzZWxmLl9odG1sNSA9IHRydWU7XG4gICAgICAgICAgc2VsZi5fd2ViQXVkaW8gPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLl9zb3VuZHMgPSBbXTtcbiAgICAgICAgICBkZWxldGUgY2FjaGVbdXJsXTtcbiAgICAgICAgICBzZWxmLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHNhZmVYaHJTZW5kKHhocik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZW5kIHRoZSBYSFIgcmVxdWVzdCB3cmFwcGVkIGluIGEgdHJ5L2NhdGNoLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHhociBYSFIgdG8gc2VuZC5cbiAgICovXG4gIHZhciBzYWZlWGhyU2VuZCA9IGZ1bmN0aW9uKHhocikge1xuICAgIHRyeSB7XG4gICAgICB4aHIuc2VuZCgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHhoci5vbmVycm9yKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEZWNvZGUgYXVkaW8gZGF0YSBmcm9tIGFuIGFycmF5IGJ1ZmZlci5cbiAgICogQHBhcmFtICB7QXJyYXlCdWZmZXJ9IGFycmF5YnVmZmVyIFRoZSBhdWRpbyBkYXRhLlxuICAgKiBAcGFyYW0gIHtIb3dsfSAgICAgICAgc2VsZlxuICAgKi9cbiAgdmFyIGRlY29kZUF1ZGlvRGF0YSA9IGZ1bmN0aW9uKGFycmF5YnVmZmVyLCBzZWxmKSB7XG4gICAgLy8gRmlyZSBhIGxvYWQgZXJyb3IgaWYgc29tZXRoaW5nIGJyb2tlLlxuICAgIHZhciBlcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ0RlY29kaW5nIGF1ZGlvIGRhdGEgZmFpbGVkLicpO1xuICAgIH07XG5cbiAgICAvLyBMb2FkIHRoZSBzb3VuZCBvbiBzdWNjZXNzLlxuICAgIHZhciBzdWNjZXNzID0gZnVuY3Rpb24oYnVmZmVyKSB7XG4gICAgICBpZiAoYnVmZmVyICYmIHNlbGYuX3NvdW5kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNhY2hlW3NlbGYuX3NyY10gPSBidWZmZXI7XG4gICAgICAgIGxvYWRTb3VuZChzZWxmLCBidWZmZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3IoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRGVjb2RlIHRoZSBidWZmZXIgaW50byBhbiBhdWRpbyBzb3VyY2UuXG4gICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YS5sZW5ndGggPT09IDEpIHtcbiAgICAgIEhvd2xlci5jdHguZGVjb2RlQXVkaW9EYXRhKGFycmF5YnVmZmVyKS50aGVuKHN1Y2Nlc3MpLmNhdGNoKGVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgSG93bGVyLmN0eC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlidWZmZXIsIHN1Y2Nlc3MsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU291bmQgaXMgbm93IGxvYWRlZCwgc28gZmluaXNoIHNldHRpbmcgZXZlcnl0aGluZyB1cCBhbmQgZmlyZSB0aGUgbG9hZGVkIGV2ZW50LlxuICAgKiBAcGFyYW0gIHtIb3dsfSBzZWxmXG4gICAqIEBwYXJhbSAge09iamVjdH0gYnVmZmVyIFRoZSBkZWNvZGVkIGJ1ZmZlciBzb3VuZCBzb3VyY2UuXG4gICAqL1xuICB2YXIgbG9hZFNvdW5kID0gZnVuY3Rpb24oc2VsZiwgYnVmZmVyKSB7XG4gICAgLy8gU2V0IHRoZSBkdXJhdGlvbi5cbiAgICBpZiAoYnVmZmVyICYmICFzZWxmLl9kdXJhdGlvbikge1xuICAgICAgc2VsZi5fZHVyYXRpb24gPSBidWZmZXIuZHVyYXRpb247XG4gICAgfVxuXG4gICAgLy8gU2V0dXAgYSBzcHJpdGUgaWYgbm9uZSBpcyBkZWZpbmVkLlxuICAgIGlmIChPYmplY3Qua2V5cyhzZWxmLl9zcHJpdGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2VsZi5fc3ByaXRlID0ge19fZGVmYXVsdDogWzAsIHNlbGYuX2R1cmF0aW9uICogMTAwMF19O1xuICAgIH1cblxuICAgIC8vIEZpcmUgdGhlIGxvYWRlZCBldmVudC5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9zdGF0ZSA9ICdsb2FkZWQnO1xuICAgICAgc2VsZi5fZW1pdCgnbG9hZCcpO1xuICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXR1cCB0aGUgYXVkaW8gY29udGV4dCB3aGVuIGF2YWlsYWJsZSwgb3Igc3dpdGNoIHRvIEhUTUw1IEF1ZGlvIG1vZGUuXG4gICAqL1xuICB2YXIgc2V0dXBBdWRpb0NvbnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBJZiB3ZSBoYXZlIGFscmVhZHkgZGV0ZWN0ZWQgdGhhdCBXZWIgQXVkaW8gaXNuJ3Qgc3VwcG9ydGVkLCBkb24ndCBydW4gdGhpcyBzdGVwIGFnYWluLlxuICAgIGlmICghSG93bGVyLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB3ZSBhcmUgdXNpbmcgV2ViIEF1ZGlvIGFuZCBzZXR1cCB0aGUgQXVkaW9Db250ZXh0IGlmIHdlIGFyZS5cbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiBBdWRpb0NvbnRleHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIEhvd2xlci5jdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3ZWJraXRBdWRpb0NvbnRleHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIEhvd2xlci5jdHggPSBuZXcgd2Via2l0QXVkaW9Db250ZXh0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgYXVkaW8gY29udGV4dCBjcmVhdGlvbiBzdGlsbCBmYWlsZWQsIHNldCB1c2luZyB3ZWIgYXVkaW8gdG8gZmFsc2UuXG4gICAgaWYgKCFIb3dsZXIuY3R4KSB7XG4gICAgICBIb3dsZXIudXNpbmdXZWJBdWRpbyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGEgd2VidmlldyBpcyBiZWluZyB1c2VkIG9uIGlPUzggb3IgZWFybGllciAocmF0aGVyIHRoYW4gdGhlIGJyb3dzZXIpLlxuICAgIC8vIElmIGl0IGlzLCBkaXNhYmxlIFdlYiBBdWRpbyBhcyBpdCBjYXVzZXMgY3Jhc2hpbmcuXG4gICAgdmFyIGlPUyA9ICgvaVAoaG9uZXxvZHxhZCkvLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IucGxhdGZvcm0pKTtcbiAgICB2YXIgYXBwVmVyc2lvbiA9IEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09TIChcXGQrKV8oXFxkKylfPyhcXGQrKT8vKTtcbiAgICB2YXIgdmVyc2lvbiA9IGFwcFZlcnNpb24gPyBwYXJzZUludChhcHBWZXJzaW9uWzFdLCAxMCkgOiBudWxsO1xuICAgIGlmIChpT1MgJiYgdmVyc2lvbiAmJiB2ZXJzaW9uIDwgOSkge1xuICAgICAgdmFyIHNhZmFyaSA9IC9zYWZhcmkvLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKEhvd2xlci5fbmF2aWdhdG9yICYmIEhvd2xlci5fbmF2aWdhdG9yLnN0YW5kYWxvbmUgJiYgIXNhZmFyaSB8fCBIb3dsZXIuX25hdmlnYXRvciAmJiAhSG93bGVyLl9uYXZpZ2F0b3Iuc3RhbmRhbG9uZSAmJiAhc2FmYXJpKSB7XG4gICAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGFuZCBleHBvc2UgdGhlIG1hc3RlciBHYWluTm9kZSB3aGVuIHVzaW5nIFdlYiBBdWRpbyAodXNlZnVsIGZvciBwbHVnaW5zIG9yIGFkdmFuY2VkIHVzYWdlKS5cbiAgICBpZiAoSG93bGVyLnVzaW5nV2ViQXVkaW8pIHtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xuICAgICAgSG93bGVyLm1hc3RlckdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShIb3dsZXIuX211dGVkID8gMCA6IEhvd2xlci5fdm9sdW1lLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmNvbm5lY3QoSG93bGVyLmN0eC5kZXN0aW5hdGlvbik7XG4gICAgfVxuXG4gICAgLy8gUmUtcnVuIHRoZSBzZXR1cCBvbiBIb3dsZXIuXG4gICAgSG93bGVyLl9zZXR1cCgpO1xuICB9O1xuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBBTUQgKEFzeW5jaHJvbm91cyBNb2R1bGUgRGVmaW5pdGlvbikgbGlicmFyaWVzIHN1Y2ggYXMgcmVxdWlyZS5qcy5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBIb3dsZXI6IEhvd2xlcixcbiAgICAgICAgSG93bDogSG93bFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBDb21tb25KUyBsaWJyYXJpZXMgc3VjaCBhcyBicm93c2VyaWZ5LlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZXhwb3J0cy5Ib3dsZXIgPSBIb3dsZXI7XG4gICAgZXhwb3J0cy5Ib3dsID0gSG93bDtcbiAgfVxuXG4gIC8vIERlZmluZSBnbG9iYWxseSBpbiBjYXNlIEFNRCBpcyBub3QgYXZhaWxhYmxlIG9yIHVudXNlZC5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93Lkhvd2xlckdsb2JhbCA9IEhvd2xlckdsb2JhbDtcbiAgICB3aW5kb3cuSG93bGVyID0gSG93bGVyO1xuICAgIHdpbmRvdy5Ib3dsID0gSG93bDtcbiAgICB3aW5kb3cuU291bmQgPSBTb3VuZDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgeyAvLyBBZGQgdG8gZ2xvYmFsIGluIE5vZGUuanMgKGZvciB0ZXN0aW5nLCBldGMpLlxuICAgIGdsb2JhbC5Ib3dsZXJHbG9iYWwgPSBIb3dsZXJHbG9iYWw7XG4gICAgZ2xvYmFsLkhvd2xlciA9IEhvd2xlcjtcbiAgICBnbG9iYWwuSG93bCA9IEhvd2w7XG4gICAgZ2xvYmFsLlNvdW5kID0gU291bmQ7XG4gIH1cbn0pKCk7XG5cblxuLyohXG4gKiAgU3BhdGlhbCBQbHVnaW4gLSBBZGRzIHN1cHBvcnQgZm9yIHN0ZXJlbyBhbmQgM0QgYXVkaW8gd2hlcmUgV2ViIEF1ZGlvIGlzIHN1cHBvcnRlZC5cbiAqICBcbiAqICBob3dsZXIuanMgdjIuMS4zXG4gKiAgaG93bGVyanMuY29tXG4gKlxuICogIChjKSAyMDEzLTIwMTksIEphbWVzIFNpbXBzb24gb2YgR29sZEZpcmUgU3R1ZGlvc1xuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cbiAqXG4gKiAgTUlUIExpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFNldHVwIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5fcG9zID0gWzAsIDAsIDBdO1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLl9vcmllbnRhdGlvbiA9IFswLCAwLCAtMSwgMCwgMSwgMF07XG5cbiAgLyoqIEdsb2JhbCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgbWV0aG9kIHRvIHVwZGF0ZSB0aGUgc3RlcmVvIHBhbm5pbmcgcG9zaXRpb24gb2YgYWxsIGN1cnJlbnQgSG93bHMuXG4gICAqIEZ1dHVyZSBIb3dscyB3aWxsIG5vdCB1c2UgdGhpcyB2YWx1ZSB1bmxlc3MgZXhwbGljaXRseSBzZXQuXG4gICAqIEBwYXJhbSAge051bWJlcn0gcGFuIEEgdmFsdWUgb2YgLTEuMCBpcyBhbGwgdGhlIHdheSBsZWZ0IGFuZCAxLjAgaXMgYWxsIHRoZSB3YXkgcmlnaHQuXG4gICAqIEByZXR1cm4ge0hvd2xlci9OdW1iZXJ9ICAgICBTZWxmIG9yIGN1cnJlbnQgc3RlcmVvIHBhbm5pbmcgdmFsdWUuXG4gICAqL1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLnN0ZXJlbyA9IGZ1bmN0aW9uKHBhbikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIEhvd2xzIGFuZCB1cGRhdGUgdGhlaXIgc3RlcmVvIHBhbm5pbmcuXG4gICAgZm9yICh2YXIgaT1zZWxmLl9ob3dscy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICBzZWxmLl9ob3dsc1tpXS5zdGVyZW8ocGFuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyIGluIDNEIGNhcnRlc2lhbiBzcGFjZS4gU291bmRzIHVzaW5nXG4gICAqIDNEIHBvc2l0aW9uIHdpbGwgYmUgcmVsYXRpdmUgdG8gdGhlIGxpc3RlbmVyJ3MgcG9zaXRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0geCBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geSBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geiBUaGUgei1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEByZXR1cm4ge0hvd2xlci9BcnJheX0gICBTZWxmIG9yIGN1cnJlbnQgbGlzdGVuZXIgcG9zaXRpb24uXG4gICAqL1xuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLnBvcyA9IGZ1bmN0aW9uKHgsIHksIHopIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuY3R4IHx8ICFzZWxmLmN0eC5saXN0ZW5lcikge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IHNlbGYuX3Bvc1sxXSA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gc2VsZi5fcG9zWzJdIDogejtcblxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHNlbGYuX3BvcyA9IFt4LCB5LCB6XTtcblxuICAgICAgaWYgKHR5cGVvZiBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnBvc2l0aW9uWC5zZXRUYXJnZXRBdFRpbWUoc2VsZi5fcG9zWzBdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblkuc2V0VGFyZ2V0QXRUaW1lKHNlbGYuX3Bvc1sxXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25aLnNldFRhcmdldEF0VGltZShzZWxmLl9wb3NbMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5zZXRQb3NpdGlvbihzZWxmLl9wb3NbMF0sIHNlbGYuX3Bvc1sxXSwgc2VsZi5fcG9zWzJdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNlbGYuX3BvcztcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgZGlyZWN0aW9uIHRoZSBsaXN0ZW5lciBpcyBwb2ludGluZyBpbiB0aGUgM0QgY2FydGVzaWFuIHNwYWNlLlxuICAgKiBBIGZyb250IGFuZCB1cCB2ZWN0b3IgbXVzdCBiZSBwcm92aWRlZC4gVGhlIGZyb250IGlzIHRoZSBkaXJlY3Rpb24gdGhlXG4gICAqIGZhY2Ugb2YgdGhlIGxpc3RlbmVyIGlzIHBvaW50aW5nLCBhbmQgdXAgaXMgdGhlIGRpcmVjdGlvbiB0aGUgdG9wIG9mIHRoZVxuICAgKiBsaXN0ZW5lciBpcyBwb2ludGluZy4gVGh1cywgdGhlc2UgdmFsdWVzIGFyZSBleHBlY3RlZCB0byBiZSBhdCByaWdodCBhbmdsZXNcbiAgICogZnJvbSBlYWNoIG90aGVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHggICBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geSAgIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHhVcCBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgdG9wIG9mIHRoZSBsaXN0ZW5lci5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5VXAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0gelVwIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSB0b3Agb2YgdGhlIGxpc3RlbmVyLlxuICAgKiBAcmV0dXJuIHtIb3dsZXIvQXJyYXl9ICAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgb3JpZW50YXRpb24gdmVjdG9ycy5cbiAgICovXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbih4LCB5LCB6LCB4VXAsIHlVcCwgelVwKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cbiAgICB2YXIgb3IgPSBzZWxmLl9vcmllbnRhdGlvbjtcbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBvclsxXSA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gb3JbMl0gOiB6O1xuICAgIHhVcCA9ICh0eXBlb2YgeFVwICE9PSAnbnVtYmVyJykgPyBvclszXSA6IHhVcDtcbiAgICB5VXAgPSAodHlwZW9mIHlVcCAhPT0gJ251bWJlcicpID8gb3JbNF0gOiB5VXA7XG4gICAgelVwID0gKHR5cGVvZiB6VXAgIT09ICdudW1iZXInKSA/IG9yWzVdIDogelVwO1xuXG4gICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBbeCwgeSwgeiwgeFVwLCB5VXAsIHpVcF07XG5cbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRYLnNldFRhcmdldEF0VGltZSh4LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5mb3J3YXJkWS5zZXRUYXJnZXRBdFRpbWUoeSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuZm9yd2FyZFouc2V0VGFyZ2V0QXRUaW1lKHosIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnVwWC5zZXRUYXJnZXRBdFRpbWUoeFVwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci51cFkuc2V0VGFyZ2V0QXRUaW1lKHlVcCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSwgMC4xKTtcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIudXBaLnNldFRhcmdldEF0VGltZSh6VXAsIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmN0eC5saXN0ZW5lci5zZXRPcmllbnRhdGlvbih4LCB5LCB6LCB4VXAsIHlVcCwgelVwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9yO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKiBHcm91cCBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBBZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlIGNvcmUgaW5pdC5cbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBDb3JlIGluaXQgbWV0aG9kLlxuICAgKiBAcmV0dXJuIHtIb3dsfVxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUuaW5pdCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBvLm9yaWVudGF0aW9uIHx8IFsxLCAwLCAwXTtcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IG8uc3RlcmVvIHx8IG51bGw7XG4gICAgICBzZWxmLl9wb3MgPSBvLnBvcyB8fCBudWxsO1xuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHtcbiAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiAzNjAsXG4gICAgICAgIGNvbmVPdXRlckFuZ2xlOiB0eXBlb2Ygby5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckFuZ2xlIDogMzYwLFxuICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IDAsXG4gICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5kaXN0YW5jZU1vZGVsIDogJ2ludmVyc2UnLFxuICAgICAgICBtYXhEaXN0YW5jZTogdHlwZW9mIG8ubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5tYXhEaXN0YW5jZSA6IDEwMDAwLFxuICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5pbmdNb2RlbCA6ICdIUlRGJyxcbiAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucmVmRGlzdGFuY2UgOiAxLFxuICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucm9sbG9mZkZhY3RvciA6IDFcbiAgICAgIH07XG5cbiAgICAgIC8vIFNldHVwIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgIHNlbGYuX29uc3RlcmVvID0gby5vbnN0ZXJlbyA/IFt7Zm46IG8ub25zdGVyZW99XSA6IFtdO1xuICAgICAgc2VsZi5fb25wb3MgPSBvLm9ucG9zID8gW3tmbjogby5vbnBvc31dIDogW107XG4gICAgICBzZWxmLl9vbm9yaWVudGF0aW9uID0gby5vbm9yaWVudGF0aW9uID8gW3tmbjogby5vbm9yaWVudGF0aW9ufV0gOiBbXTtcblxuICAgICAgLy8gQ29tcGxldGUgaW5pdGlsaXphdGlvbiB3aXRoIGhvd2xlci5qcyBjb3JlJ3MgaW5pdCBmdW5jdGlvbi5cbiAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvKTtcbiAgICB9O1xuICB9KShIb3dsLnByb3RvdHlwZS5pbml0KTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgc3RlcmVvIHBhbm5pbmcgb2YgdGhlIGF1ZGlvIHNvdXJjZSBmb3IgdGhpcyBzb3VuZCBvciBhbGwgaW4gdGhlIGdyb3VwLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHBhbiAgQSB2YWx1ZSBvZiAtMS4wIGlzIGFsbCB0aGUgd2F5IGxlZnQgYW5kIDEuMCBpcyBhbGwgdGhlIHdheSByaWdodC5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXG4gICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgc3RlcmVvIHBhbm5pbmcgdmFsdWUuXG4gICAqL1xuICBIb3dsLnByb3RvdHlwZS5zdGVyZW8gPSBmdW5jdGlvbihwYW4sIGlkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugc3RlcmVvIHBhbiB3aGVuIGNhcGFibGUuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgIGV2ZW50OiAnc3RlcmVvJyxcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0ZXJlbyhwYW4sIGlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBQYW5uZXJTdGVyZW9Ob2RlIHN1cHBvcnQgYW5kIGZhbGxiYWNrIHRvIFBhbm5lck5vZGUgaWYgaXQgZG9lc24ndCBleGlzdC5cbiAgICB2YXIgcGFubmVyVHlwZSA9ICh0eXBlb2YgSG93bGVyLmN0eC5jcmVhdGVTdGVyZW9QYW5uZXIgPT09ICd1bmRlZmluZWQnKSA/ICdzcGF0aWFsJyA6ICdzdGVyZW8nO1xuXG4gICAgLy8gU2V0dXAgdGhlIGdyb3VwJ3Mgc3RlcmVvIHBhbm5pbmcgaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3RlcmVvIHBhbm5pbmcgaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxuICAgICAgaWYgKHR5cGVvZiBwYW4gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX3N0ZXJlbyA9IHBhbjtcbiAgICAgICAgc2VsZi5fcG9zID0gW3BhbiwgMCwgMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5fc3RlcmVvO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoYW5nZSB0aGUgc3RyZW8gcGFubmluZyBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFuID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHNvdW5kLl9zdGVyZW8gPSBwYW47XG4gICAgICAgICAgc291bmQuX3BvcyA9IFtwYW4sIDAsIDBdO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgZmFsbGluZyBiYWNrLCBtYWtlIHN1cmUgdGhlIHBhbm5pbmdNb2RlbCBpcyBlcXVhbHBvd2VyLlxuICAgICAgICAgICAgc291bmQuX3Bhbm5lckF0dHIucGFubmluZ01vZGVsID0gJ2VxdWFscG93ZXInO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIgfHwgIXNvdW5kLl9wYW5uZXIucGFuKSB7XG4gICAgICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCBwYW5uZXJUeXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhbm5lclR5cGUgPT09ICdzcGF0aWFsJykge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHBhbiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblkuc2V0VmFsdWVBdFRpbWUoMCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoMCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5zZXRQb3NpdGlvbihwYW4sIDAsIDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZShwYW4sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0ZXJlbycsIHNvdW5kLl9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9zdGVyZW87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgM0Qgc3BhdGlhbCBwb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlIGZvciB0aGlzIHNvdW5kIG9yIGdyb3VwIHJlbGF0aXZlIHRvIHRoZSBnbG9iYWwgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgVGhlIHgtcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogIFRoZSB6LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxuICAgKiBAcmV0dXJuIHtIb3dsL0FycmF5fSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgM0Qgc3BhdGlhbCBwb3NpdGlvbjogW3gsIHksIHpdLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeiwgaWQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBwb3NpdGlvbiB3aGVuIGNhcGFibGUuXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XG4gICAgICAgIGV2ZW50OiAncG9zJyxcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnBvcyh4LCB5LCB6LCBpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gMCA6IHk7XG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gLTAuNSA6IHo7XG5cbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzcGF0aWFsIHBvc2l0aW9uIGlmIG5vIElEIGlzIHBhc3NlZC5cbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHNwYXRpYWwgcG9zaXRpb24gaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZWxmLl9wb3MgPSBbeCwgeSwgel07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5fcG9zO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoYW5nZSB0aGUgc3BhdGlhbCBwb3NpdGlvbiBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzb3VuZC5fcG9zID0gW3gsIHksIHpdO1xuXG4gICAgICAgICAgaWYgKHNvdW5kLl9ub2RlKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIgfHwgc291bmQuX3Bhbm5lci5wYW4pIHtcbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHgsIHksIHopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3BvcycsIHNvdW5kLl9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNvdW5kLl9wb3M7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogR2V0L3NldCB0aGUgZGlyZWN0aW9uIHRoZSBhdWRpbyBzb3VyY2UgaXMgcG9pbnRpbmcgaW4gdGhlIDNEIGNhcnRlc2lhbiBjb29yZGluYXRlXG4gICAqIHNwYWNlLiBEZXBlbmRpbmcgb24gaG93IGRpcmVjdGlvbiB0aGUgc291bmQgaXMsIGJhc2VkIG9uIHRoZSBgY29uZWAgYXR0cmlidXRlcyxcbiAgICogYSBzb3VuZCBwb2ludGluZyBhd2F5IGZyb20gdGhlIGxpc3RlbmVyIGNhbiBiZSBxdWlldCBvciBzaWxlbnQuXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSB5ICBUaGUgeS1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxuICAgKiBAcmV0dXJuIHtIb3dsL0FycmF5fSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgM0Qgc3BhdGlhbCBvcmllbnRhdGlvbjogW3gsIHksIHpdLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUub3JpZW50YXRpb24gPSBmdW5jdGlvbih4LCB5LCB6LCBpZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIG9yaWVudGF0aW9uIHdoZW4gY2FwYWJsZS5cbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgZXZlbnQ6ICdvcmllbnRhdGlvbicsXG4gICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5vcmllbnRhdGlvbih4LCB5LCB6LCBpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gc2VsZi5fb3JpZW50YXRpb25bMV0gOiB5O1xuICAgIHogPSAodHlwZW9mIHogIT09ICdudW1iZXInKSA/IHNlbGYuX29yaWVudGF0aW9uWzJdIDogejtcblxuICAgIC8vIFNldHVwIHRoZSBncm91cCdzIHNwYXRpYWwgb3JpZW50YXRpb24gaWYgbm8gSUQgaXMgcGFzc2VkLlxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3BhdGlhbCBvcmllbnRhdGlvbiBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXG4gICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gW3gsIHksIHpdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX29yaWVudGF0aW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoYW5nZSB0aGUgc3BhdGlhbCBvcmllbnRhdGlvbiBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcblxuICAgICAgaWYgKHNvdW5kKSB7XG4gICAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBzb3VuZC5fb3JpZW50YXRpb24gPSBbeCwgeSwgel07XG5cbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgcGFubmVyIHNldHVwIGFuZCBjcmVhdGUgYSBuZXcgb25lIGlmIG5vdC5cbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lcikge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIHBvc2l0aW9uIHRvIHNldHVwIHRoZSBub2RlIHdpdGguXG4gICAgICAgICAgICAgIGlmICghc291bmQuX3Bvcykge1xuICAgICAgICAgICAgICAgIHNvdW5kLl9wb3MgPSBzZWxmLl9wb3MgfHwgWzAsIDAsIC0wLjVdO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YLnNldFZhbHVlQXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblouc2V0VmFsdWVBdFRpbWUoeiwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VuZC5fcGFubmVyLnNldE9yaWVudGF0aW9uKHgsIHksIHopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX2VtaXQoJ29yaWVudGF0aW9uJywgc291bmQuX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gc291bmQuX29yaWVudGF0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIHBhbm5lciBub2RlJ3MgYXR0cmlidXRlcyBmb3IgYSBzb3VuZCBvciBncm91cCBvZiBzb3VuZHMuXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGwgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxuICAgKiAgIHBhbm5lckF0dHIoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIHZhbHVlcy5cbiAgICogICBwYW5uZXJBdHRyKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIHZhbHVlcy5cbiAgICogICBwYW5uZXJBdHRyKG8pIC0+IFNldCdzIHRoZSB2YWx1ZXMgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXG4gICAqICAgcGFubmVyQXR0cihvLCBpZCkgLT4gU2V0J3MgdGhlIHZhbHVlcyBvZiBwYXNzZWQgc291bmQgaWQuXG4gICAqXG4gICAqICAgQXR0cmlidXRlczpcbiAgICogICAgIGNvbmVJbm5lckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyBhbiBhbmdsZSwgaW4gZGVncmVlcyxcbiAgICogICAgICAgICAgICAgICAgICAgICAgaW5zaWRlIG9mIHdoaWNoIHRoZXJlIHdpbGwgYmUgbm8gdm9sdW1lIHJlZHVjdGlvbi5cbiAgICogICAgIGNvbmVPdXRlckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyBhbiBhbmdsZSwgaW4gZGVncmVlcyxcbiAgICogICAgICAgICAgICAgICAgICAgICAgb3V0c2lkZSBvZiB3aGljaCB0aGUgdm9sdW1lIHdpbGwgYmUgcmVkdWNlZCB0byBhIGNvbnN0YW50IHZhbHVlIG9mIGBjb25lT3V0ZXJHYWluYC5cbiAgICogICAgIGNvbmVPdXRlckdhaW4gLSAoMCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyB0aGUgZ2FpbiBvdXRzaWRlIG9mIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgIGBjb25lT3V0ZXJBbmdsZWAuIEl0IGlzIGEgbGluZWFyIHZhbHVlIGluIHRoZSByYW5nZSBgWzAsIDFdYC5cbiAgICogICAgIGRpc3RhbmNlTW9kZWwgLSAoJ2ludmVyc2UnIGJ5IGRlZmF1bHQpIERldGVybWluZXMgYWxnb3JpdGhtIHVzZWQgdG8gcmVkdWNlIHZvbHVtZSBhcyBhdWRpbyBtb3ZlcyBhd2F5IGZyb21cbiAgICogICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci4gQ2FuIGJlIGBsaW5lYXJgLCBgaW52ZXJzZWAgb3IgYGV4cG9uZW50aWFsLlxuICAgKiAgICAgbWF4RGlzdGFuY2UgLSAoMTAwMDAgYnkgZGVmYXVsdCkgVGhlIG1heGltdW0gZGlzdGFuY2UgYmV0d2VlbiBzb3VyY2UgYW5kIGxpc3RlbmVyLCBhZnRlciB3aGljaCB0aGUgdm9sdW1lXG4gICAqICAgICAgICAgICAgICAgICAgIHdpbGwgbm90IGJlIHJlZHVjZWQgYW55IGZ1cnRoZXIuXG4gICAqICAgICByZWZEaXN0YW5jZSAtICgxIGJ5IGRlZmF1bHQpIEEgcmVmZXJlbmNlIGRpc3RhbmNlIGZvciByZWR1Y2luZyB2b2x1bWUgYXMgc291cmNlIG1vdmVzIGZ1cnRoZXIgZnJvbSB0aGUgbGlzdGVuZXIuXG4gICAqICAgICAgICAgICAgICAgICAgIFRoaXMgaXMgc2ltcGx5IGEgdmFyaWFibGUgb2YgdGhlIGRpc3RhbmNlIG1vZGVsIGFuZCBoYXMgYSBkaWZmZXJlbnQgZWZmZWN0IGRlcGVuZGluZyBvbiB3aGljaCBtb2RlbFxuICAgKiAgICAgICAgICAgICAgICAgICBpcyB1c2VkIGFuZCB0aGUgc2NhbGUgb2YgeW91ciBjb29yZGluYXRlcy4gR2VuZXJhbGx5LCB2b2x1bWUgd2lsbCBiZSBlcXVhbCB0byAxIGF0IHRoaXMgZGlzdGFuY2UuXG4gICAqICAgICByb2xsb2ZmRmFjdG9yIC0gKDEgYnkgZGVmYXVsdCkgSG93IHF1aWNrbHkgdGhlIHZvbHVtZSByZWR1Y2VzIGFzIHNvdXJjZSBtb3ZlcyBmcm9tIGxpc3RlbmVyLiBUaGlzIGlzIHNpbXBseSBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGUgb2YgdGhlIGRpc3RhbmNlIG1vZGVsIGFuZCBjYW4gYmUgaW4gdGhlIHJhbmdlIG9mIGBbMCwgMV1gIHdpdGggYGxpbmVhcmAgYW5kIGBbMCwg4oieXWBcbiAgICogICAgICAgICAgICAgICAgICAgICB3aXRoIGBpbnZlcnNlYCBhbmQgYGV4cG9uZW50aWFsYC5cbiAgICogICAgIHBhbm5pbmdNb2RlbCAtICgnSFJURicgYnkgZGVmYXVsdCkgRGV0ZXJtaW5lcyB3aGljaCBzcGF0aWFsaXphdGlvbiBhbGdvcml0aG0gaXMgdXNlZCB0byBwb3NpdGlvbiBhdWRpby5cbiAgICogICAgICAgICAgICAgICAgICAgICBDYW4gYmUgYEhSVEZgIG9yIGBlcXVhbHBvd2VyYC5cbiAgICpcbiAgICogQHJldHVybiB7SG93bC9PYmplY3R9IFJldHVybnMgc2VsZiBvciBjdXJyZW50IHBhbm5lciBhdHRyaWJ1dGVzLlxuICAgKi9cbiAgSG93bC5wcm90b3R5cGUucGFubmVyQXR0ciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgbywgaWQsIHNvdW5kO1xuXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgcmV0dXJuIHNlbGYuX3Bhbm5lckF0dHI7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvID0gYXJnc1swXTtcblxuICAgICAgICAvLyBTZXQgdGhlIGdyb3UncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpZiAoIW8ucGFubmVyQXR0cikge1xuICAgICAgICAgICAgby5wYW5uZXJBdHRyID0ge1xuICAgICAgICAgICAgICBjb25lSW5uZXJBbmdsZTogby5jb25lSW5uZXJBbmdsZSxcbiAgICAgICAgICAgICAgY29uZU91dGVyQW5nbGU6IG8uY29uZU91dGVyQW5nbGUsXG4gICAgICAgICAgICAgIGNvbmVPdXRlckdhaW46IG8uY29uZU91dGVyR2FpbixcbiAgICAgICAgICAgICAgZGlzdGFuY2VNb2RlbDogby5kaXN0YW5jZU1vZGVsLFxuICAgICAgICAgICAgICBtYXhEaXN0YW5jZTogby5tYXhEaXN0YW5jZSxcbiAgICAgICAgICAgICAgcmVmRGlzdGFuY2U6IG8ucmVmRGlzdGFuY2UsXG4gICAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IG8ucm9sbG9mZkZhY3RvcixcbiAgICAgICAgICAgICAgcGFubmluZ01vZGVsOiBvLnBhbm5pbmdNb2RlbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9wYW5uZXJBdHRyID0ge1xuICAgICAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlIDogc2VsZi5fY29uZUlubmVyQW5nbGUsXG4gICAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZU91dGVyQW5nbGUgOiBzZWxmLl9jb25lT3V0ZXJBbmdsZSxcbiAgICAgICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLnBhbm5lckF0dHIuY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZU91dGVyR2FpbiA6IHNlbGYuX2NvbmVPdXRlckdhaW4sXG4gICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiB0eXBlb2Ygby5wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWwgOiBzZWxmLl9kaXN0YW5jZU1vZGVsLFxuICAgICAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLnBhbm5lckF0dHIubWF4RGlzdGFuY2UgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLm1heERpc3RhbmNlIDogc2VsZi5fbWF4RGlzdGFuY2UsXG4gICAgICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucGFubmVyQXR0ci5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIucmVmRGlzdGFuY2UgOiBzZWxmLl9yZWZEaXN0YW5jZSxcbiAgICAgICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnBhbm5lckF0dHIucm9sbG9mZkZhY3RvciAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIucm9sbG9mZkZhY3RvciA6IHNlbGYuX3JvbGxvZmZGYWN0b3IsXG4gICAgICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5lckF0dHIucGFubmluZ01vZGVsICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgOiBzZWxmLl9wYW5uaW5nTW9kZWxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXR1cm4gdGhpcyBzb3VuZCdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChwYXJzZUludChhcmdzWzBdLCAxMCkpO1xuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fcGFubmVyQXR0ciA6IHNlbGYuX3Bhbm5lckF0dHI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgbyA9IGFyZ3NbMF07XG4gICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIHZhbHVlcyBvZiB0aGUgc3BlY2lmaWVkIHNvdW5kcy5cbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XG5cbiAgICAgIGlmIChzb3VuZCkge1xuICAgICAgICAvLyBNZXJnZSB0aGUgbmV3IHZhbHVlcyBpbnRvIHRoZSBzb3VuZC5cbiAgICAgICAgdmFyIHBhID0gc291bmQuX3Bhbm5lckF0dHI7XG4gICAgICAgIHBhID0ge1xuICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiB0eXBlb2Ygby5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVJbm5lckFuZ2xlIDogcGEuY29uZUlubmVyQW5nbGUsXG4gICAgICAgICAgY29uZU91dGVyQW5nbGU6IHR5cGVvZiBvLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyQW5nbGUgOiBwYS5jb25lT3V0ZXJBbmdsZSxcbiAgICAgICAgICBjb25lT3V0ZXJHYWluOiB0eXBlb2Ygby5jb25lT3V0ZXJHYWluICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyR2FpbiA6IHBhLmNvbmVPdXRlckdhaW4sXG4gICAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8uZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLmRpc3RhbmNlTW9kZWwgOiBwYS5kaXN0YW5jZU1vZGVsLFxuICAgICAgICAgIG1heERpc3RhbmNlOiB0eXBlb2Ygby5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLm1heERpc3RhbmNlIDogcGEubWF4RGlzdGFuY2UsXG4gICAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucmVmRGlzdGFuY2UgOiBwYS5yZWZEaXN0YW5jZSxcbiAgICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucm9sbG9mZkZhY3RvciA6IHBhLnJvbGxvZmZGYWN0b3IsXG4gICAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uaW5nTW9kZWwgOiBwYS5wYW5uaW5nTW9kZWxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIHBhbm5lciB2YWx1ZXMgb3IgY3JlYXRlIGEgbmV3IHBhbm5lciBpZiBub25lIGV4aXN0cy5cbiAgICAgICAgdmFyIHBhbm5lciA9IHNvdW5kLl9wYW5uZXI7XG4gICAgICAgIGlmIChwYW5uZXIpIHtcbiAgICAgICAgICBwYW5uZXIuY29uZUlubmVyQW5nbGUgPSBwYS5jb25lSW5uZXJBbmdsZTtcbiAgICAgICAgICBwYW5uZXIuY29uZU91dGVyQW5nbGUgPSBwYS5jb25lT3V0ZXJBbmdsZTtcbiAgICAgICAgICBwYW5uZXIuY29uZU91dGVyR2FpbiA9IHBhLmNvbmVPdXRlckdhaW47XG4gICAgICAgICAgcGFubmVyLmRpc3RhbmNlTW9kZWwgPSBwYS5kaXN0YW5jZU1vZGVsO1xuICAgICAgICAgIHBhbm5lci5tYXhEaXN0YW5jZSA9IHBhLm1heERpc3RhbmNlO1xuICAgICAgICAgIHBhbm5lci5yZWZEaXN0YW5jZSA9IHBhLnJlZkRpc3RhbmNlO1xuICAgICAgICAgIHBhbm5lci5yb2xsb2ZmRmFjdG9yID0gcGEucm9sbG9mZkZhY3RvcjtcbiAgICAgICAgICBwYW5uZXIucGFubmluZ01vZGVsID0gcGEucGFubmluZ01vZGVsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcG9zaXRpb24gdG8gc2V0dXAgdGhlIG5vZGUgd2l0aC5cbiAgICAgICAgICBpZiAoIXNvdW5kLl9wb3MpIHtcbiAgICAgICAgICAgIHNvdW5kLl9wb3MgPSBzZWxmLl9wb3MgfHwgWzAsIDAsIC0wLjVdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYW5uZXIgbm9kZS5cbiAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgJ3NwYXRpYWwnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKiBTaW5nbGUgU291bmQgTWV0aG9kcyAqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKipcbiAgICogQWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZSBjb3JlIFNvdW5kIGluaXQuXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgQ29yZSBTb3VuZCBpbml0IG1ldGhvZC5cbiAgICogQHJldHVybiB7U291bmR9XG4gICAqL1xuICBTb3VuZC5wcm90b3R5cGUuaW5pdCA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xuXG4gICAgICAvLyBTZXR1cCB1c2VyLWRlZmluZWQgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBwYXJlbnQuX29yaWVudGF0aW9uO1xuICAgICAgc2VsZi5fc3RlcmVvID0gcGFyZW50Ll9zdGVyZW87XG4gICAgICBzZWxmLl9wb3MgPSBwYXJlbnQuX3BvcztcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSBwYXJlbnQuX3Bhbm5lckF0dHI7XG5cbiAgICAgIC8vIENvbXBsZXRlIGluaXRpbGl6YXRpb24gd2l0aCBob3dsZXIuanMgY29yZSBTb3VuZCdzIGluaXQgZnVuY3Rpb24uXG4gICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcblxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxuICAgICAgaWYgKHNlbGYuX3N0ZXJlbykge1xuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xuICAgICAgICBwYXJlbnQucG9zKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0sIHNlbGYuX2lkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KShTb3VuZC5wcm90b3R5cGUuaW5pdCk7XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBTb3VuZC5yZXNldCBtZXRob2QgdG8gY2xlYW4gdXAgcHJvcGVydGllcyBmcm9tIHRoZSBzcGF0aWFsIHBsdWdpbi5cbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBTb3VuZCByZXNldCBtZXRob2QuXG4gICAqIEByZXR1cm4ge1NvdW5kfVxuICAgKi9cbiAgU291bmQucHJvdG90eXBlLnJlc2V0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XG5cbiAgICAgIC8vIFJlc2V0IGFsbCBzcGF0aWFsIHBsdWdpbiBwcm9wZXJ0aWVzIG9uIHRoaXMgc291bmQuXG4gICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IHBhcmVudC5fb3JpZW50YXRpb247XG4gICAgICBzZWxmLl9zdGVyZW8gPSBwYXJlbnQuX3N0ZXJlbztcbiAgICAgIHNlbGYuX3BvcyA9IHBhcmVudC5fcG9zO1xuICAgICAgc2VsZi5fcGFubmVyQXR0ciA9IHBhcmVudC5fcGFubmVyQXR0cjtcblxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxuICAgICAgaWYgKHNlbGYuX3N0ZXJlbykge1xuICAgICAgICBwYXJlbnQuc3RlcmVvKHNlbGYuX3N0ZXJlbyk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xuICAgICAgICBwYXJlbnQucG9zKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0sIHNlbGYuX2lkKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5fcGFubmVyKSB7XG4gICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIHBhbm5lci5cbiAgICAgICAgc2VsZi5fcGFubmVyLmRpc2Nvbm5lY3QoMCk7XG4gICAgICAgIHNlbGYuX3Bhbm5lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgcGFyZW50Ll9yZWZyZXNoQnVmZmVyKHNlbGYpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb21wbGV0ZSByZXNldHRpbmcgb2YgdGhlIHNvdW5kLlxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIH07XG4gIH0pKFNvdW5kLnByb3RvdHlwZS5yZXNldCk7XG5cbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUgYW5kIHNhdmUgaXQgb24gdGhlIHNvdW5kLlxuICAgKiBAcGFyYW0gIHtTb3VuZH0gc291bmQgU3BlY2lmaWMgc291bmQgdG8gc2V0dXAgcGFubmluZyBvbi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBvZiBwYW5uZXIgdG8gY3JlYXRlOiAnc3RlcmVvJyBvciAnc3BhdGlhbCcuXG4gICAqL1xuICB2YXIgc2V0dXBQYW5uZXIgPSBmdW5jdGlvbihzb3VuZCwgdHlwZSkge1xuICAgIHR5cGUgPSB0eXBlIHx8ICdzcGF0aWFsJztcblxuICAgIC8vIENyZWF0ZSB0aGUgbmV3IHBhbm5lciBub2RlLlxuICAgIGlmICh0eXBlID09PSAnc3BhdGlhbCcpIHtcbiAgICAgIHNvdW5kLl9wYW5uZXIgPSBIb3dsZXIuY3R4LmNyZWF0ZVBhbm5lcigpO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lSW5uZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVJbm5lckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJBbmdsZSA9IHNvdW5kLl9wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlO1xuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJHYWluID0gc291bmQuX3Bhbm5lckF0dHIuY29uZU91dGVyR2FpbjtcbiAgICAgIHNvdW5kLl9wYW5uZXIuZGlzdGFuY2VNb2RlbCA9IHNvdW5kLl9wYW5uZXJBdHRyLmRpc3RhbmNlTW9kZWw7XG4gICAgICBzb3VuZC5fcGFubmVyLm1heERpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIubWF4RGlzdGFuY2U7XG4gICAgICBzb3VuZC5fcGFubmVyLnJlZkRpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIucmVmRGlzdGFuY2U7XG4gICAgICBzb3VuZC5fcGFubmVyLnJvbGxvZmZGYWN0b3IgPSBzb3VuZC5fcGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yO1xuICAgICAgc291bmQuX3Bhbm5lci5wYW5uaW5nTW9kZWwgPSBzb3VuZC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWw7XG5cbiAgICAgIGlmICh0eXBlb2Ygc291bmQuX3Bhbm5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9wb3NbMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcG9zWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoc291bmQuX3Bvc1syXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHNvdW5kLl9wb3NbMF0sIHNvdW5kLl9wb3NbMV0sIHNvdW5kLl9wb3NbMl0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWC5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmQuX3Bhbm5lci5zZXRPcmllbnRhdGlvbihzb3VuZC5fb3JpZW50YXRpb25bMF0sIHNvdW5kLl9vcmllbnRhdGlvblsxXSwgc291bmQuX29yaWVudGF0aW9uWzJdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc291bmQuX3Bhbm5lciA9IEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyKCk7XG4gICAgICBzb3VuZC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fc3RlcmVvLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcbiAgICB9XG5cbiAgICBzb3VuZC5fcGFubmVyLmNvbm5lY3Qoc291bmQuX25vZGUpO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBjb25uZWN0aW9ucy5cbiAgICBpZiAoIXNvdW5kLl9wYXVzZWQpIHtcbiAgICAgIHNvdW5kLl9wYXJlbnQucGF1c2Uoc291bmQuX2lkLCB0cnVlKS5wbGF5KHNvdW5kLl9pZCwgdHJ1ZSk7XG4gICAgfVxuICB9O1xufSkoKTtcbiIsImltcG9ydCB7TXVsdGlUZXh0dXJlQWN0b3J9IGZyb20gXCIuL2FjdG9yL211bHRpLXRleHR1cmUtYWN0b3JcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDbG91ZCBleHRlbmRzIE11bHRpVGV4dHVyZUFjdG9yIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldCBzaGFwZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudGV4dHVyZXNVcmxzKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgdGV4dHVyZXNVcmxzID0ge1xyXG4gICAgICAgIHNoYXBlMTogJ2Fzc2V0cy9pbWFnZXMvY2xvdWQxLnBuZycsXHJcbiAgICAgICAgc2hhcGUyOiAnYXNzZXRzL2ltYWdlcy9jbG91ZDIucG5nJyxcclxuICAgICAgICBzaGFwZTM6ICdhc3NldHMvaW1hZ2VzL2Nsb3VkMy5wbmcnLFxyXG4gICAgICAgIHNoYXBlNDogJ2Fzc2V0cy9pbWFnZXMvY2xvdWQ0LnBuZycsXHJcbiAgICAgICAgc2hhcGU1OiAnYXNzZXRzL2ltYWdlcy9jbG91ZDUucG5nJyxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2hhcGU6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHNoYXBlKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnXHJcbmltcG9ydCB7SUFjdG9yT3B0aW9ucywgSUxvYWRSZXNvdXJjZXN9IGZyb20gXCIuL2FjdG9yLmludGVyZmFjZVwiO1xyXG5pbXBvcnQge0FjdG9yfSBmcm9tIFwiLi9BY3RvclwiO1xyXG5pbXBvcnQgU3ByaXRlID0gUElYSS5TcHJpdGU7XHJcbmltcG9ydCBUZXh0dXJlID0gUElYSS5UZXh0dXJlO1xyXG5pbXBvcnQgTG9hZGVyID0gUElYSS5Mb2FkZXI7XHJcblxyXG5leHBvcnQgY2xhc3MgTXVsdGlUZXh0dXJlQWN0b3IgZXh0ZW5kcyBBY3RvciB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3ByaXRlOiBTcHJpdGU7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgdGV4dHVyZUtleTogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHRleHR1cmVLZXk6IHN0cmluZywgb3B0aW9ucz86IElBY3Rvck9wdGlvbnMpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMudGV4dHVyZUtleSA9IHRleHR1cmVLZXk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBuZXcgU3ByaXRlKHRoaXMuY29uc3RydWN0b3JbJ3RleHR1cmVzJ11bdGhpcy50ZXh0dXJlS2V5XSk7XHJcbiAgICAgICAgdGhpcy5jb25maWd1cmUob3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHN0YXRpYyB0ZXh0dXJlczogUmVjb3JkPHN0cmluZywgVGV4dHVyZT47XHJcbiAgICBwcm90ZWN0ZWQgc3RhdGljIHRleHR1cmVzVXJsczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzeW5jIGxvYWRSZXNvdXJjZXMoKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlc1VybHMgfHwgIU9iamVjdC5rZXlzKHRoaXMudGV4dHVyZXNVcmxzKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB0ZXh0dXJlc1VybHMgZG9lcyBub3Qgc2V0IG9uIGNsYXNzICR7dGhpcy5uYW1lfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgQWN0b3IubG9hZFJlc291cmNlcy5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLnRleHR1cmVzID0ge307XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMudGV4dHVyZXNVcmxzKSB7XHJcbiAgICAgICAgICAgICAgICBsb2FkZXIuYWRkKGtleSwgdGhpcy50ZXh0dXJlc1VybHNba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxvYWRlci5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlc291cmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXNba2V5XS50ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZXNba2V5XSA9IHJlc291cmNlc1trZXldLnRleHR1cmU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsb2FkZXIub24oJ2Vycm9yJywgZXJyb3IgPT4gcmVqZWN0KGVycm9yKSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7R2FtZVN0YXRlfSBmcm9tIFwiLi9HYW1lLXN0YXRlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVWlMYXllciB7XHJcblxyXG4gICAgcHJpdmF0ZSBnYW1lU3RhdGU6IEdhbWVTdGF0ZTtcclxuICAgIHByaXZhdGUgcGF1c2VCdG46IEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBzY29yZUluZGljYXRvcjogSFRNTFNwYW5FbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gR2FtZVN0YXRlLmluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMucGF1c2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICB0aGlzLnNjb3JlSW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdG4uY2xhc3NOYW1lID0gJ3BhdXNlQnRuJztcclxuICAgICAgICB0aGlzLnBhdXNlQnRuLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IGZpeGVkOyB0b3A6IDIwcHg7IHJpZ2h0OiAyMHB4JztcclxuICAgICAgICB0aGlzLnBhdXNlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB0aGlzLnRvZ2dsZVBhdXNlKCkpO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlSW5kaWNhdG9yLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IGZpeGVkOyB0b3A6IDIwcHg7IGxlZnQ6IDIwcHgnO1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZS5wYXVzZWQkLnN1YnNjcmliZSgocGF1c2VkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGF1c2VCdG4uaW5uZXJUZXh0ID0gJ3Jlc3VtZSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhdXNlQnRuLmlubmVyVGV4dCA9ICdwYXVzZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUuc2NvcmUkLnN1YnNjcmliZSgoc2NvcmUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY29yZUluZGljYXRvci5pbm5lclRleHQgPSBzY29yZS50b1N0cmluZygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnBhdXNlQnRuKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNjb3JlSW5kaWNhdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVQYXVzZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5nYW1lU3RhdGUucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdW1lKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhdXNlZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwYXVzZWQoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUucGF1c2VkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU3RhdGUucGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbn1cclxuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzID0gZmFsc2U7XG5leHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSAvKkBfX1BVUkVfXyovIG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQhIFJ4SlMgd2FzIHNldCB0byB1c2UgZGVwcmVjYXRlZCBzeW5jaHJvbm91cyBlcnJvciBoYW5kbGluZyBiZWhhdmlvciBieSBjb2RlIGF0OiBcXG4nICsgZXJyb3Iuc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncykge1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLmxvZygnUnhKUzogQmFjayB0byBhIGJldHRlciBlcnJvciBiZWhhdmlvci4gVGhhbmsgeW91LiA8MycpO1xuICAgICAgICB9XG4gICAgICAgIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IHZhbHVlO1xuICAgIH0sXG4gICAgZ2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcoKSB7XG4gICAgICAgIHJldHVybiBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3M7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdFJlcG9ydEVycm9yKGVycikge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aHJvdyBlcnI7IH0sIDApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9zdFJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfY29uZmlnLF91dGlsX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbmV4cG9ydCB2YXIgZW1wdHkgPSB7XG4gICAgY2xvc2VkOiB0cnVlLFxuICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkgfHwgKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcic7IH0pOyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh4KSB7XG4gICAgcmV0dXJuIHggIT09IG51bGwgJiYgdHlwZW9mIHggPT09ICdvYmplY3QnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNPYmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgVW5zdWJzY3JpcHRpb25FcnJvckltcGwgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9ycyA/XG4gICAgICAgICAgICBlcnJvcnMubGVuZ3RoICsgXCIgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcXG5cIiArIGVycm9ycy5tYXAoZnVuY3Rpb24gKGVyciwgaSkgeyByZXR1cm4gaSArIDEgKyBcIikgXCIgKyBlcnIudG9TdHJpbmcoKTsgfSkuam9pbignXFxuICAnKSA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgVW5zdWJzY3JpcHRpb25FcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsO1xufSkoKTtcbmV4cG9ydCB2YXIgVW5zdWJzY3JpcHRpb25FcnJvciA9IFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5zdWJzY3JpcHRpb25FcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfaXNBcnJheSxfdXRpbF9pc09iamVjdCxfdXRpbF9pc0Z1bmN0aW9uLF91dGlsX1Vuc3Vic2NyaXB0aW9uRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi91dGlsL2lzT2JqZWN0JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xudmFyIFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24odW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmICh1bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUgPSB1bnN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXJyb3JzO1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfcGFyZW50T3JQYXJlbnRzID0gX2EuX3BhcmVudE9yUGFyZW50cywgX3Vuc3Vic2NyaWJlID0gX2EuX3Vuc3Vic2NyaWJlLCBfc3Vic2NyaXB0aW9ucyA9IF9hLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICBpZiAoX3BhcmVudE9yUGFyZW50cyBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgX3BhcmVudE9yUGFyZW50cy5yZW1vdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IF9wYXJlbnRPclBhcmVudHMubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gX3BhcmVudE9yUGFyZW50c1tpbmRleF07XG4gICAgICAgICAgICAgICAgcGFyZW50XzEucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKF91bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX3Vuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yID8gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSA6IFtlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheShfc3Vic2NyaXB0aW9ucykpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICAgICAgdmFyIGxlbiA9IF9zdWJzY3JpcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YiA9IF9zdWJzY3JpcHRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3Qoc3ViKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGVhcmRvd247XG4gICAgICAgIGlmICghdGVhcmRvd24pIHtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdGVhcmRvd24pIHtcbiAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKHRlYXJkb3duKTtcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdGhpcyB8fCBzdWJzY3JpcHRpb24uY2xvc2VkIHx8IHR5cGVvZiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCEoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fc3Vic2NyaXB0aW9ucyA9IFt0bXBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VucmVjb2duaXplZCB0ZWFyZG93biAnICsgdGVhcmRvd24gKyAnIGFkZGVkIHRvIFN1YnNjcmlwdGlvbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgX3BhcmVudE9yUGFyZW50cyA9IHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICBpZiAoX3BhcmVudE9yUGFyZW50cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzID0gW19wYXJlbnRPclBhcmVudHMsIHRoaXNdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMuaW5kZXhPZih0aGlzKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIF9wYXJlbnRPclBhcmVudHMucHVzaCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IFtzdWJzY3JpcHRpb25dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uSW5kZXggPSBzdWJzY3JpcHRpb25zLmluZGV4T2Yoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25JbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zLnNwbGljZShzdWJzY3JpcHRpb25JbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5FTVBUWSA9IChmdW5jdGlvbiAoZW1wdHkpIHtcbiAgICAgICAgZW1wdHkuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH0obmV3IFN1YnNjcmlwdGlvbigpKSk7XG4gICAgcmV0dXJuIFN1YnNjcmlwdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBTdWJzY3JpcHRpb24gfTtcbmZ1bmN0aW9uIGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlcnJvcnMpIHtcbiAgICByZXR1cm4gZXJyb3JzLnJlZHVjZShmdW5jdGlvbiAoZXJycywgZXJyKSB7IHJldHVybiBlcnJzLmNvbmNhdCgoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikgPyBlcnIuZXJyb3JzIDogZXJyKTsgfSwgW10pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaXB0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciByeFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyAvKkBfX1BVUkVfXyovIFN5bWJvbCgncnhTdWJzY3JpYmVyJylcbiAgICAgICAgOiAnQEByeFN1YnNjcmliZXJfJyArIC8qQF9fUFVSRV9fKi8gTWF0aC5yYW5kb20oKTtcbn0pKCk7XG5leHBvcnQgdmFyICQkcnhTdWJzY3JpYmVyID0gcnhTdWJzY3JpYmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnhTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9pc0Z1bmN0aW9uLF9PYnNlcnZlcixfU3Vic2NyaXB0aW9uLF9pbnRlcm5hbF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9jb25maWcsX3V0aWxfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4vT2JzZXJ2ZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG52YXIgU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZXIoZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JWYWx1ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93biA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uT3JOZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzdGluYXRpb25Pck5leHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yTmV4dCBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGRlc3RpbmF0aW9uT3JOZXh0LnN5bmNFcnJvclRocm93YWJsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb25Pck5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbk9yTmV4dC5hZGQoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YnNjcmliZXIucHJvdG90eXBlW3J4U3Vic2NyaWJlclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgIFN1YnNjcmliZXIuY3JlYXRlID0gZnVuY3Rpb24gKG5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKG5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIHN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudE9yUGFyZW50cyA9IHRoaXMuX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBfcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YnNjcmliZXIgfTtcbnZhciBTYWZlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihfcGFyZW50U3Vic2NyaWJlciwgb2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IF9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB2YXIgbmV4dDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBfdGhpcztcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpKSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dC5uZXh0O1xuICAgICAgICAgICAgZXJyb3IgPSBvYnNlcnZlck9yTmV4dC5lcnJvcjtcbiAgICAgICAgICAgIGNvbXBsZXRlID0gb2JzZXJ2ZXJPck5leHQuY29tcGxldGU7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJPck5leHQgIT09IGVtcHR5T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dC51bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkKGNvbnRleHQudW5zdWJzY3JpYmUuYmluZChjb250ZXh0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQudW5zdWJzY3JpYmUgPSBfdGhpcy51bnN1YnNjcmliZS5iaW5kKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIF90aGlzLl9uZXh0ID0gbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgIF90aGlzLl9jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQgJiYgdGhpcy5fbmV4dCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX25leHQsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9uZXh0LCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIHZhciB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nID0gY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZENvbXBsZXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2NvbXBsZXRlLmNhbGwoX3RoaXMuX2NvbnRleHQpOyB9O1xuICAgICAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgd3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JVbnN1YiA9IGZ1bmN0aW9uIChmbiwgdmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclNldEVycm9yID0gZnVuY3Rpb24gKHBhcmVudCwgZm4sIHZhbHVlKSB7XG4gICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGNhbGwnKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICBfcGFyZW50U3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNhZmVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTYWZlU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGNhblJlcG9ydEVycm9yKG9ic2VydmVyKSB7XG4gICAgd2hpbGUgKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfYSA9IG9ic2VydmVyLCBjbG9zZWRfMSA9IF9hLmNsb3NlZCwgZGVzdGluYXRpb24gPSBfYS5kZXN0aW5hdGlvbiwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkO1xuICAgICAgICBpZiAoY2xvc2VkXzEgfHwgaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24gaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBvYnNlcnZlciA9IGRlc3RpbmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuUmVwb3J0RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIG9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlIHx8ICdAQG9ic2VydmFibGUnOyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbm9vcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi9ub29wJztcbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCkge1xuICAgIHZhciBmbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmICghZm5zKSB7XG4gICAgICAgIHJldHVybiBub29wO1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9jYW5SZXBvcnRFcnJvcixfdXRpbF90b1N1YnNjcmliZXIsX3N5bWJvbF9vYnNlcnZhYmxlLF91dGlsX3BpcGUsX2NvbmZpZyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9jYW5SZXBvcnRFcnJvcic7XG5pbXBvcnQgeyB0b1N1YnNjcmliZXIgfSBmcm9tICcuL3V0aWwvdG9TdWJzY3JpYmVyJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG52YXIgT2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLl9pc1NjYWxhciA9IGZhbHNlO1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBvcGVyYXRvciA9IHRoaXMub3BlcmF0b3I7XG4gICAgICAgIHZhciBzaW5rID0gdG9TdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBpZiAob3BlcmF0b3IpIHtcbiAgICAgICAgICAgIHNpbmsuYWRkKG9wZXJhdG9yLmNhbGwoc2luaywgdGhpcy5zb3VyY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNpbmsuYWRkKHRoaXMuc291cmNlIHx8IChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiAhc2luay5zeW5jRXJyb3JUaHJvd2FibGUpID9cbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUoc2luaykgOlxuICAgICAgICAgICAgICAgIHRoaXMuX3RyeVN1YnNjcmliZShzaW5rKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBzaW5rLnN5bmNFcnJvclZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2luaztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc2luaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5SZXBvcnRFcnJvcihzaW5rKSkge1xuICAgICAgICAgICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKG5leHQsIHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVqZWN0LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICByZXR1cm4gc291cmNlICYmIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtTeW1ib2xfb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3BlcmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gdmFsdWUgPSB4OyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHN1YnNjcmliZSkge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZhYmxlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKSB7XG4gICAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgICAgICBwcm9taXNlQ3RvciA9IGNvbmZpZy5Qcm9taXNlIHx8IFByb21pc2U7XG4gICAgfVxuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBQcm9taXNlIGltcGwgZm91bmQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2VDdG9yO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIsX3N5bWJvbF9yeFN1YnNjcmliZXIsX09ic2VydmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbmltcG9ydCB7IGVtcHR5IGFzIGVtcHR5T2JzZXJ2ZXIgfSBmcm9tICcuLi9PYnNlcnZlcic7XG5leHBvcnQgZnVuY3Rpb24gdG9TdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICBpZiAobmV4dE9yT2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbmV4dE9yT2JzZXJ2ZXIgJiYgIWVycm9yICYmICFjb21wbGV0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIoZW1wdHlPYnNlcnZlcik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvU3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbnZhciBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsKCkge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnb2JqZWN0IHVuc3Vic2NyaWJlZCc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdPYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yID0gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbnZhciBTdWJqZWN0U3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3RTdWJzY3JpcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdFN1YnNjcmlwdGlvbihzdWJqZWN0LCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN1YmplY3QgPSBzdWJqZWN0O1xuICAgICAgICBfdGhpcy5zdWJzY3JpYmVyID0gc3Vic2NyaWJlcjtcbiAgICAgICAgX3RoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3ViamVjdFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHN1YmplY3QgPSB0aGlzLnN1YmplY3Q7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSBzdWJqZWN0Lm9ic2VydmVycztcbiAgICAgICAgdGhpcy5zdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFvYnNlcnZlcnMgfHwgb2JzZXJ2ZXJzLmxlbmd0aCA9PT0gMCB8fCBzdWJqZWN0LmlzU3RvcHBlZCB8fCBzdWJqZWN0LmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdWJzY3JpYmVySW5kZXggPSBvYnNlcnZlcnMuaW5kZXhPZih0aGlzLnN1YnNjcmliZXIpO1xuICAgICAgICBpZiAoc3Vic2NyaWJlckluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXJzLnNwbGljZShzdWJzY3JpYmVySW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3ViamVjdFN1YnNjcmlwdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBTdWJqZWN0U3Vic2NyaXB0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0U3Vic2NyaXB0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfT2JzZXJ2YWJsZSxfU3Vic2NyaWJlcixfU3Vic2NyaXB0aW9uLF91dGlsX09iamVjdFVuc3Vic2NyaWJlZEVycm9yLF9TdWJqZWN0U3Vic2NyaXB0aW9uLF9pbnRlcm5hbF9zeW1ib2xfcnhTdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgU3ViamVjdFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3ViamVjdFN1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG52YXIgU3ViamVjdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3ViamVjdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdFN1YnNjcmliZXIoZGVzdGluYXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFN1YmplY3RTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTdWJqZWN0U3Vic2NyaWJlciB9O1xudmFyIFN1YmplY3QgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgX3RoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50aHJvd25FcnJvciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3ViamVjdC5wcm90b3R5cGVbcnhTdWJzY3JpYmVyU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJqZWN0U3Vic2NyaWJlcih0aGlzKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQW5vbnltb3VzU3ViamVjdCh0aGlzLCB0aGlzKTtcbiAgICAgICAgc3ViamVjdC5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gc3ViamVjdDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgICAgICB2YXIgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29weVtpXS5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgIHRoaXMudGhyb3duRXJyb3IgPSBlcnI7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIGNvcHkgPSBvYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29weVtpXS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvcHlbaV0uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IG51bGw7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl90cnlTdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aGlzLnRocm93bkVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVycy5wdXNoKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdWJqZWN0U3Vic2NyaXB0aW9uKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5hc09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIFN1YmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3Q7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IFN1YmplY3QgfTtcbnZhciBBbm9ueW1vdXNTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFub255bW91c1N1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQW5vbnltb3VzU3ViamVjdChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5uZXh0KSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQW5vbnltb3VzU3ViamVjdDtcbn0oU3ViamVjdCkpO1xuZXhwb3J0IHsgQW5vbnltb3VzU3ViamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ViamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiByZWZDb3VudCgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVmQ291bnRPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IFJlZkNvdW50T3BlcmF0b3Ioc291cmNlKSk7XG4gICAgfTtcbn1cbnZhciBSZWZDb3VudE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZkNvdW50T3BlcmF0b3IoY29ubmVjdGFibGUpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlO1xuICAgIH1cbiAgICBSZWZDb3VudE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBjb25uZWN0YWJsZS5fcmVmQ291bnQrKztcbiAgICAgICAgdmFyIHJlZkNvdW50ZXIgPSBuZXcgUmVmQ291bnRTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGNvbm5lY3RhYmxlKTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHNvdXJjZS5zdWJzY3JpYmUocmVmQ291bnRlcik7XG4gICAgICAgIGlmICghcmVmQ291bnRlci5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJlZkNvdW50ZXIuY29ubmVjdGlvbiA9IGNvbm5lY3RhYmxlLmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZkNvdW50T3BlcmF0b3I7XG59KCkpO1xudmFyIFJlZkNvdW50U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZWZDb3VudFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVmQ291bnRTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjb25uZWN0YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZWZDb3VudFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbm5lY3RhYmxlID0gdGhpcy5jb25uZWN0YWJsZTtcbiAgICAgICAgaWYgKCFjb25uZWN0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gbnVsbDtcbiAgICAgICAgdmFyIHJlZkNvdW50ID0gY29ubmVjdGFibGUuX3JlZkNvdW50O1xuICAgICAgICBpZiAocmVmQ291bnQgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0YWJsZS5fcmVmQ291bnQgPSByZWZDb3VudCAtIDE7XG4gICAgICAgIGlmIChyZWZDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb247XG4gICAgICAgIHZhciBzaGFyZWRDb25uZWN0aW9uID0gY29ubmVjdGFibGUuX2Nvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIGlmIChzaGFyZWRDb25uZWN0aW9uICYmICghY29ubmVjdGlvbiB8fCBzaGFyZWRDb25uZWN0aW9uID09PSBjb25uZWN0aW9uKSkge1xuICAgICAgICAgICAgc2hhcmVkQ29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWZDb3VudC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX09ic2VydmFibGUsX1N1YnNjcmliZXIsX1N1YnNjcmlwdGlvbixfb3BlcmF0b3JzX3JlZkNvdW50IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0U3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IHJlZkNvdW50IGFzIGhpZ2hlck9yZGVyUmVmQ291bnQgfSBmcm9tICcuLi9vcGVyYXRvcnMvcmVmQ291bnQnO1xudmFyIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb25uZWN0YWJsZU9ic2VydmFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29ubmVjdGFibGVPYnNlcnZhYmxlKHNvdXJjZSwgc3ViamVjdEZhY3RvcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICBfdGhpcy5zdWJqZWN0RmFjdG9yeSA9IHN1YmplY3RGYWN0b3J5O1xuICAgICAgICBfdGhpcy5fcmVmQ291bnQgPSAwO1xuICAgICAgICBfdGhpcy5faXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN1YmplY3QoKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLmdldFN1YmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gdGhpcy5fc3ViamVjdDtcbiAgICAgICAgaWYgKCFzdWJqZWN0IHx8IHN1YmplY3QuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJqZWN0ID0gdGhpcy5zdWJqZWN0RmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJqZWN0O1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb247XG4gICAgICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5faXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmFkZCh0aGlzLnNvdXJjZVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUobmV3IENvbm5lY3RhYmxlU3Vic2NyaWJlcih0aGlzLmdldFN1YmplY3QoKSwgdGhpcykpKTtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLnJlZkNvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaGlnaGVyT3JkZXJSZWZDb3VudCgpKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbm5lY3RhYmxlT2JzZXJ2YWJsZTtcbn0oT2JzZXJ2YWJsZSkpO1xuZXhwb3J0IHsgQ29ubmVjdGFibGVPYnNlcnZhYmxlIH07XG5leHBvcnQgdmFyIGNvbm5lY3RhYmxlT2JzZXJ2YWJsZURlc2NyaXB0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbm5lY3RhYmxlUHJvdG8gPSBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlO1xuICAgIHJldHVybiB7XG4gICAgICAgIG9wZXJhdG9yOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgICAgIF9yZWZDb3VudDogeyB2YWx1ZTogMCwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgICAgX3N1YmplY3Q6IHsgdmFsdWU6IG51bGwsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgIF9jb25uZWN0aW9uOiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgICAgICBfc3Vic2NyaWJlOiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLl9zdWJzY3JpYmUgfSxcbiAgICAgICAgX2lzQ29tcGxldGU6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uX2lzQ29tcGxldGUsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgIGdldFN1YmplY3Q6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uZ2V0U3ViamVjdCB9LFxuICAgICAgICBjb25uZWN0OiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLmNvbm5lY3QgfSxcbiAgICAgICAgcmVmQ291bnQ6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8ucmVmQ291bnQgfVxuICAgIH07XG59KSgpO1xudmFyIENvbm5lY3RhYmxlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb25uZWN0YWJsZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29ubmVjdGFibGVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjb25uZWN0YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb25uZWN0YWJsZVN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fZXJyb3IuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUuX2lzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl91bnN1YnNjcmliZSgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGlmIChjb25uZWN0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0YWJsZSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgY29ubmVjdGlvbiA9IGNvbm5lY3RhYmxlLl9jb25uZWN0aW9uO1xuICAgICAgICAgICAgY29ubmVjdGFibGUuX3JlZkNvdW50ID0gMDtcbiAgICAgICAgICAgIGNvbm5lY3RhYmxlLl9zdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIGNvbm5lY3RhYmxlLl9jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29ubmVjdGFibGVTdWJzY3JpYmVyO1xufShTdWJqZWN0U3Vic2NyaWJlcikpO1xudmFyIFJlZkNvdW50T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmQ291bnRPcGVyYXRvcihjb25uZWN0YWJsZSkge1xuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgfVxuICAgIFJlZkNvdW50T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCsrO1xuICAgICAgICB2YXIgcmVmQ291bnRlciA9IG5ldyBSZWZDb3VudFN1YnNjcmliZXIoc3Vic2NyaWJlciwgY29ubmVjdGFibGUpO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZShyZWZDb3VudGVyKTtcbiAgICAgICAgaWYgKCFyZWZDb3VudGVyLmNsb3NlZCkge1xuICAgICAgICAgICAgcmVmQ291bnRlci5jb25uZWN0aW9uID0gY29ubmVjdGFibGUuY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRPcGVyYXRvcjtcbn0oKSk7XG52YXIgUmVmQ291bnRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlZkNvdW50U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZWZDb3VudFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNvbm5lY3RhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlZkNvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBpZiAoIWNvbm5lY3RhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBudWxsO1xuICAgICAgICB2YXIgcmVmQ291bnQgPSBjb25uZWN0YWJsZS5fcmVmQ291bnQ7XG4gICAgICAgIGlmIChyZWZDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCA9IHJlZkNvdW50IC0gMTtcbiAgICAgICAgaWYgKHJlZkNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbjtcbiAgICAgICAgdmFyIHNoYXJlZENvbm5lY3Rpb24gPSBjb25uZWN0YWJsZS5fY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgaWYgKHNoYXJlZENvbm5lY3Rpb24gJiYgKCFjb25uZWN0aW9uIHx8IHNoYXJlZENvbm5lY3Rpb24gPT09IGNvbm5lY3Rpb24pKSB7XG4gICAgICAgICAgICBzaGFyZWRDb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSZWZDb3VudFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbm5lY3RhYmxlT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX1N1YnNjcmlwdGlvbixfT2JzZXJ2YWJsZSxfU3ViamVjdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuLi9TdWJqZWN0JztcbmV4cG9ydCBmdW5jdGlvbiBncm91cEJ5KGtleVNlbGVjdG9yLCBlbGVtZW50U2VsZWN0b3IsIGR1cmF0aW9uU2VsZWN0b3IsIHN1YmplY3RTZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgR3JvdXBCeU9wZXJhdG9yKGtleVNlbGVjdG9yLCBlbGVtZW50U2VsZWN0b3IsIGR1cmF0aW9uU2VsZWN0b3IsIHN1YmplY3RTZWxlY3RvcikpO1xuICAgIH07XG59XG52YXIgR3JvdXBCeU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdyb3VwQnlPcGVyYXRvcihrZXlTZWxlY3RvciwgZWxlbWVudFNlbGVjdG9yLCBkdXJhdGlvblNlbGVjdG9yLCBzdWJqZWN0U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5rZXlTZWxlY3RvciA9IGtleVNlbGVjdG9yO1xuICAgICAgICB0aGlzLmVsZW1lbnRTZWxlY3RvciA9IGVsZW1lbnRTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5kdXJhdGlvblNlbGVjdG9yID0gZHVyYXRpb25TZWxlY3RvcjtcbiAgICAgICAgdGhpcy5zdWJqZWN0U2VsZWN0b3IgPSBzdWJqZWN0U2VsZWN0b3I7XG4gICAgfVxuICAgIEdyb3VwQnlPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEdyb3VwQnlTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMua2V5U2VsZWN0b3IsIHRoaXMuZWxlbWVudFNlbGVjdG9yLCB0aGlzLmR1cmF0aW9uU2VsZWN0b3IsIHRoaXMuc3ViamVjdFNlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gR3JvdXBCeU9wZXJhdG9yO1xufSgpKTtcbnZhciBHcm91cEJ5U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhHcm91cEJ5U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBHcm91cEJ5U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwga2V5U2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciwgZHVyYXRpb25TZWxlY3Rvciwgc3ViamVjdFNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5rZXlTZWxlY3RvciA9IGtleVNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5lbGVtZW50U2VsZWN0b3IgPSBlbGVtZW50U2VsZWN0b3I7XG4gICAgICAgIF90aGlzLmR1cmF0aW9uU2VsZWN0b3IgPSBkdXJhdGlvblNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5zdWJqZWN0U2VsZWN0b3IgPSBzdWJqZWN0U2VsZWN0b3I7XG4gICAgICAgIF90aGlzLmdyb3VwcyA9IG51bGw7XG4gICAgICAgIF90aGlzLmF0dGVtcHRlZFRvVW5zdWJzY3JpYmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEdyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAga2V5ID0gdGhpcy5rZXlTZWxlY3Rvcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2dyb3VwKHZhbHVlLCBrZXkpO1xuICAgIH07XG4gICAgR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLl9ncm91cCA9IGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3VwcztcbiAgICAgICAgaWYgKCFncm91cHMpIHtcbiAgICAgICAgICAgIGdyb3VwcyA9IHRoaXMuZ3JvdXBzID0gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBncm91cCA9IGdyb3Vwcy5nZXQoa2V5KTtcbiAgICAgICAgdmFyIGVsZW1lbnQ7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRTZWxlY3Rvcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcy5lbGVtZW50U2VsZWN0b3IodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdyb3VwKSB7XG4gICAgICAgICAgICBncm91cCA9ICh0aGlzLnN1YmplY3RTZWxlY3RvciA/IHRoaXMuc3ViamVjdFNlbGVjdG9yKCkgOiBuZXcgU3ViamVjdCgpKTtcbiAgICAgICAgICAgIGdyb3Vwcy5zZXQoa2V5LCBncm91cCk7XG4gICAgICAgICAgICB2YXIgZ3JvdXBlZE9ic2VydmFibGUgPSBuZXcgR3JvdXBlZE9ic2VydmFibGUoa2V5LCBncm91cCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoZ3JvdXBlZE9ic2VydmFibGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZHVyYXRpb25TZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHRoaXMuZHVyYXRpb25TZWxlY3RvcihuZXcgR3JvdXBlZE9ic2VydmFibGUoa2V5LCBncm91cCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFkZChkdXJhdGlvbi5zdWJzY3JpYmUobmV3IEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyKGtleSwgZ3JvdXAsIHRoaXMpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFncm91cC5jbG9zZWQpIHtcbiAgICAgICAgICAgIGdyb3VwLm5leHQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEdyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3VwcztcbiAgICAgICAgaWYgKGdyb3Vwcykge1xuICAgICAgICAgICAgZ3JvdXBzLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBncm91cC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBncm91cHMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgfTtcbiAgICBHcm91cEJ5U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ3JvdXBzID0gdGhpcy5ncm91cHM7XG4gICAgICAgIGlmIChncm91cHMpIHtcbiAgICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uIChncm91cCwga2V5KSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ3JvdXBzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLnJlbW92ZUdyb3VwID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLmdyb3Vwcy5kZWxldGUoa2V5KTtcbiAgICB9O1xuICAgIEdyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5hdHRlbXB0ZWRUb1Vuc3Vic2NyaWJlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gR3JvdXBCeVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbnZhciBHcm91cER1cmF0aW9uU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhHcm91cER1cmF0aW9uU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBHcm91cER1cmF0aW9uU3Vic2NyaWJlcihrZXksIGdyb3VwLCBwYXJlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZ3JvdXApIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmtleSA9IGtleTtcbiAgICAgICAgX3RoaXMuZ3JvdXAgPSBncm91cDtcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBHcm91cER1cmF0aW9uU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBwYXJlbnQgPSBfYS5wYXJlbnQsIGtleSA9IF9hLmtleTtcbiAgICAgICAgdGhpcy5rZXkgPSB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVHcm91cChrZXkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gR3JvdXBEdXJhdGlvblN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbnZhciBHcm91cGVkT2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhHcm91cGVkT2JzZXJ2YWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBHcm91cGVkT2JzZXJ2YWJsZShrZXksIGdyb3VwU3ViamVjdCwgcmVmQ291bnRTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMua2V5ID0ga2V5O1xuICAgICAgICBfdGhpcy5ncm91cFN1YmplY3QgPSBncm91cFN1YmplY3Q7XG4gICAgICAgIF90aGlzLnJlZkNvdW50U3Vic2NyaXB0aW9uID0gcmVmQ291bnRTdWJzY3JpcHRpb247XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgR3JvdXBlZE9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCByZWZDb3VudFN1YnNjcmlwdGlvbiA9IF9hLnJlZkNvdW50U3Vic2NyaXB0aW9uLCBncm91cFN1YmplY3QgPSBfYS5ncm91cFN1YmplY3Q7XG4gICAgICAgIGlmIChyZWZDb3VudFN1YnNjcmlwdGlvbiAmJiAhcmVmQ291bnRTdWJzY3JpcHRpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uYWRkKG5ldyBJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uKHJlZkNvdW50U3Vic2NyaXB0aW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaXB0aW9uLmFkZChncm91cFN1YmplY3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBHcm91cGVkT2JzZXJ2YWJsZTtcbn0oT2JzZXJ2YWJsZSkpO1xuZXhwb3J0IHsgR3JvdXBlZE9ic2VydmFibGUgfTtcbnZhciBJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKElubmVyUmVmQ291bnRTdWJzY3JpcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbihwYXJlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBwYXJlbnQuY291bnQrKztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgICAgICBpZiAoIXBhcmVudC5jbG9zZWQgJiYgIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICBwYXJlbnQuY291bnQgLT0gMTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQuY291bnQgPT09IDAgJiYgcGFyZW50LmF0dGVtcHRlZFRvVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIElubmVyUmVmQ291bnRTdWJzY3JpcHRpb247XG59KFN1YnNjcmlwdGlvbikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JvdXBCeS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX3V0aWxfT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xudmFyIEJlaGF2aW9yU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhCZWhhdmlvclN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmVoYXZpb3JTdWJqZWN0KF92YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdmFsdWUgPSBfdmFsdWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBfc3VwZXIucHJvdG90eXBlLl9zdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiAmJiAhc3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMudGhyb3duRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdGhpcy5fdmFsdWUgPSB2YWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmVoYXZpb3JTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBCZWhhdmlvclN1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJlaGF2aW9yU3ViamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FjdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9BY3Rpb24nO1xudmFyIEFzeW5jQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIF90aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmlkIHx8IHRoaXMucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCB0aGlzLmlkLCBkZWxheSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSAhPT0gbnVsbCAmJiB0aGlzLmRlbGF5ID09PSBkZWxheSAmJiB0aGlzLnBlbmRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvciA9IHRoaXMuX2V4ZWN1dGUoc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nID09PSBmYWxzZSAmJiB0aGlzLmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLCB0aGlzLmlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICB2YXIgZXJyb3JlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3JWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMud29yayhzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgZXJyb3JWYWx1ZSA9ICEhZSAmJiBlIHx8IG5ldyBFcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgdmFyIGluZGV4ID0gYWN0aW9ucy5pbmRleE9mKHRoaXMpO1xuICAgICAgICB0aGlzLndvcmsgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gbnVsbDtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgYWN0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBc3luY0FjdGlvbjtcbn0oQWN0aW9uKSk7XG5leHBvcnQgeyBBc3luY0FjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNBY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG52YXIgQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIEFjdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jQWN0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xudmFyIFF1ZXVlQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFF1ZXVlQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFF1ZXVlQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUXVldWVBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcywgc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIuZmx1c2godGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUXVldWVBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIHJldHVybiAoZGVsYXkgPiAwIHx8IHRoaXMuY2xvc2VkKSA/XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmV4ZWN1dGUuY2FsbCh0aGlzLCBzdGF0ZSwgZGVsYXkpIDpcbiAgICAgICAgICAgIHRoaXMuX2V4ZWN1dGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9O1xuICAgIFF1ZXVlQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB8fCAoZGVsYXkgPT09IG51bGwgJiYgdGhpcy5kZWxheSA+IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZC5jYWxsKHRoaXMsIHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLmZsdXNoKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFF1ZXVlQWN0aW9uO1xufShBc3luY0FjdGlvbikpO1xuZXhwb3J0IHsgUXVldWVBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1ZXVlQWN0aW9uLmpzLm1hcFxuIiwidmFyIFNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBub3cgPSBTY2hlZHVsZXIubm93O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuU2NoZWR1bGVyQWN0aW9uID0gU2NoZWR1bGVyQWN0aW9uO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IHRoaXMuU2NoZWR1bGVyQWN0aW9uKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKTsgfTtcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTY2hlZHVsZXIgfSBmcm9tICcuLi9TY2hlZHVsZXInO1xudmFyIEFzeW5jU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbm93ID0gU2NoZWR1bGVyLm5vdztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBTY2hlZHVsZXJBY3Rpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAmJiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAhPT0gX3RoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUubm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAod29yaywgZGVsYXksIHN0YXRlKSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICYmIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICE9PSB0aGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUuc2NoZWR1bGUod29yaywgZGVsYXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcywgd29yaywgZGVsYXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY1NjaGVkdWxlcjtcbn0oU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc3luY1NjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9RdWV1ZUFjdGlvbixfUXVldWVTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgUXVldWVBY3Rpb24gfSBmcm9tICcuL1F1ZXVlQWN0aW9uJztcbmltcG9ydCB7IFF1ZXVlU2NoZWR1bGVyIH0gZnJvbSAnLi9RdWV1ZVNjaGVkdWxlcic7XG5leHBvcnQgdmFyIHF1ZXVlID0gLypAX19QVVJFX18qLyBuZXcgUXVldWVTY2hlZHVsZXIoUXVldWVBY3Rpb24pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVldWUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9Bc3luY1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbnZhciBRdWV1ZVNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhRdWV1ZVNjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBRdWV1ZVNjaGVkdWxlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUXVldWVTY2hlZHVsZXI7XG59KEFzeW5jU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBRdWV1ZVNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UXVldWVTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCB2YXIgRU1QVFkgPSAvKkBfX1BVUkVfXyovIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pO1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KHNjaGVkdWxlcikge1xuICAgIHJldHVybiBzY2hlZHVsZXIgPyBlbXB0eVNjaGVkdWxlZChzY2hlZHVsZXIpIDogRU1QVFk7XG59XG5mdW5jdGlvbiBlbXB0eVNjaGVkdWxlZChzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtcHR5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2NoZWR1bGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zY2hlZHVsZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb0FycmF5ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW4gJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChhcnJheVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9BcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX29ic2VydmFibGVfZW1wdHksX29ic2VydmFibGVfb2YsX29ic2VydmFibGVfdGhyb3dFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBlbXB0eSB9IGZyb20gJy4vb2JzZXJ2YWJsZS9lbXB0eSc7XG5pbXBvcnQgeyBvZiB9IGZyb20gJy4vb2JzZXJ2YWJsZS9vZic7XG5pbXBvcnQgeyB0aHJvd0Vycm9yIH0gZnJvbSAnLi9vYnNlcnZhYmxlL3Rocm93RXJyb3InO1xuZXhwb3J0IHZhciBOb3RpZmljYXRpb25LaW5kO1xuLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKE5vdGlmaWNhdGlvbktpbmQpIHtcbiAgICBOb3RpZmljYXRpb25LaW5kW1wiTkVYVFwiXSA9IFwiTlwiO1xuICAgIE5vdGlmaWNhdGlvbktpbmRbXCJFUlJPUlwiXSA9IFwiRVwiO1xuICAgIE5vdGlmaWNhdGlvbktpbmRbXCJDT01QTEVURVwiXSA9IFwiQ1wiO1xufSkoTm90aWZpY2F0aW9uS2luZCB8fCAoTm90aWZpY2F0aW9uS2luZCA9IHt9KSk7XG52YXIgTm90aWZpY2F0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICAgICAgdGhpcy5raW5kID0ga2luZDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgICAgIHRoaXMuaGFzVmFsdWUgPSBraW5kID09PSAnTic7XG4gICAgfVxuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICBzd2l0Y2ggKHRoaXMua2luZCkge1xuICAgICAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLm5leHQgJiYgb2JzZXJ2ZXIubmV4dCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5lcnJvciAmJiBvYnNlcnZlci5lcnJvcih0aGlzLmVycm9yKTtcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5jb21wbGV0ZSAmJiBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLmRvID0gZnVuY3Rpb24gKG5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIga2luZCA9IHRoaXMua2luZDtcbiAgICAgICAgc3dpdGNoIChraW5kKSB7XG4gICAgICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCAmJiBuZXh0KHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yICYmIGVycm9yKHRoaXMuZXJyb3IpO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBsZXRlICYmIGNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUuYWNjZXB0ID0gZnVuY3Rpb24gKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyICYmIHR5cGVvZiBuZXh0T3JPYnNlcnZlci5uZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vYnNlcnZlKG5leHRPck9ic2VydmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLnRvT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGtpbmQgPSB0aGlzLmtpbmQ7XG4gICAgICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mKHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IodGhpcy5lcnJvcik7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHkoKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuZXhwZWN0ZWQgbm90aWZpY2F0aW9uIGtpbmQgdmFsdWUnKTtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGVOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vdGlmaWNhdGlvbignTicsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uLnVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9uO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNyZWF0ZUVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICByZXR1cm4gbmV3IE5vdGlmaWNhdGlvbignRScsIHVuZGVmaW5lZCwgZXJyKTtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGVDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbi5jb21wbGV0ZU5vdGlmaWNhdGlvbjtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jb21wbGV0ZU5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24oJ0MnKTtcbiAgICBOb3RpZmljYXRpb24udW5kZWZpbmVkVmFsdWVOb3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKCdOJywgdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gTm90aWZpY2F0aW9uO1xufSgpKTtcbmV4cG9ydCB7IE5vdGlmaWNhdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpY2F0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5wdXRbaSsrXSk7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3ViLmFkZCh0aGlzLnNjaGVkdWxlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUFycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9zdWJzY3JpYmVUb0FycmF5LF9zY2hlZHVsZWRfc2NoZWR1bGVBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0FycmF5IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb0FycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlQXJyYXkgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFycmF5KGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG9BcnJheShpbnB1dCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUFycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc1NjaGVkdWxlcixfZnJvbUFycmF5LF9zY2hlZHVsZWRfc2NoZWR1bGVBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBvZigpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBpZiAoaXNTY2hlZHVsZXIoc2NoZWR1bGVyKSkge1xuICAgICAgICBhcmdzLnBvcCgpO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShhcmdzLCBzY2hlZHVsZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZyb21BcnJheShhcmdzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vZi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93RXJyb3IoZXJyb3IsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnJvcik7IH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHsgZXJyb3I6IGVycm9yLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyIH0pOyB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBkaXNwYXRjaChfYSkge1xuICAgIHZhciBlcnJvciA9IF9hLmVycm9yLCBzdWJzY3JpYmVyID0gX2Euc3Vic2NyaWJlcjtcbiAgICBzdWJzY3JpYmVyLmVycm9yKGVycm9yKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF9Ob3RpZmljYXRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL05vdGlmaWNhdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gb2JzZXJ2ZU9uKHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICBkZWxheSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBvYnNlcnZlT25PcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IE9ic2VydmVPbk9wZXJhdG9yKHNjaGVkdWxlciwgZGVsYXkpKTtcbiAgICB9O1xufVxudmFyIE9ic2VydmVPbk9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmVPbk9wZXJhdG9yKHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgIH1cbiAgICBPYnNlcnZlT25PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IE9ic2VydmVPblN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5zY2hlZHVsZXIsIHRoaXMuZGVsYXkpKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZlT25PcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZlT25PcGVyYXRvciB9O1xudmFyIE9ic2VydmVPblN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoT2JzZXJ2ZU9uU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPYnNlcnZlT25TdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBzY2hlZHVsZXIsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYnNlcnZlT25TdWJzY3JpYmVyLmRpc3BhdGNoID0gZnVuY3Rpb24gKGFyZykge1xuICAgICAgICB2YXIgbm90aWZpY2F0aW9uID0gYXJnLm5vdGlmaWNhdGlvbiwgZGVzdGluYXRpb24gPSBhcmcuZGVzdGluYXRpb247XG4gICAgICAgIG5vdGlmaWNhdGlvbi5vYnNlcnZlKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgT2JzZXJ2ZU9uU3Vic2NyaWJlci5wcm90b3R5cGUuc2NoZWR1bGVNZXNzYWdlID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGQodGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoT2JzZXJ2ZU9uU3Vic2NyaWJlci5kaXNwYXRjaCwgdGhpcy5kZWxheSwgbmV3IE9ic2VydmVPbk1lc3NhZ2Uobm90aWZpY2F0aW9uLCB0aGlzLmRlc3RpbmF0aW9uKSkpO1xuICAgIH07XG4gICAgT2JzZXJ2ZU9uU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU1lc3NhZ2UoTm90aWZpY2F0aW9uLmNyZWF0ZU5leHQodmFsdWUpKTtcbiAgICB9O1xuICAgIE9ic2VydmVPblN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU1lc3NhZ2UoTm90aWZpY2F0aW9uLmNyZWF0ZUVycm9yKGVycikpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBPYnNlcnZlT25TdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVNZXNzYWdlKE5vdGlmaWNhdGlvbi5jcmVhdGVDb21wbGV0ZSgpKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmVPblN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IE9ic2VydmVPblN1YnNjcmliZXIgfTtcbnZhciBPYnNlcnZlT25NZXNzYWdlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmVPbk1lc3NhZ2Uobm90aWZpY2F0aW9uLCBkZXN0aW5hdGlvbikge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbiA9IG5vdGlmaWNhdGlvbjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gT2JzZXJ2ZU9uTWVzc2FnZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZlT25NZXNzYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZlT24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJqZWN0LF9zY2hlZHVsZXJfcXVldWUsX1N1YnNjcmlwdGlvbixfb3BlcmF0b3JzX29ic2VydmVPbixfdXRpbF9PYmplY3RVbnN1YnNjcmliZWRFcnJvcixfU3ViamVjdFN1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4vU3ViamVjdCc7XG5pbXBvcnQgeyBxdWV1ZSB9IGZyb20gJy4vc2NoZWR1bGVyL3F1ZXVlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9ic2VydmVPblN1YnNjcmliZXIgfSBmcm9tICcuL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgU3ViamVjdFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3ViamVjdFN1YnNjcmlwdGlvbic7XG52YXIgUmVwbGF5U3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZXBsYXlTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcGxheVN1YmplY3QoYnVmZmVyU2l6ZSwgd2luZG93VGltZSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIGlmIChidWZmZXJTaXplID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGJ1ZmZlclNpemUgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpbmRvd1RpbWUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgd2luZG93VGltZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLl9ldmVudHMgPSBbXTtcbiAgICAgICAgX3RoaXMuX2luZmluaXRlVGltZVdpbmRvdyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fYnVmZmVyU2l6ZSA9IGJ1ZmZlclNpemUgPCAxID8gMSA6IGJ1ZmZlclNpemU7XG4gICAgICAgIF90aGlzLl93aW5kb3dUaW1lID0gd2luZG93VGltZSA8IDEgPyAxIDogd2luZG93VGltZTtcbiAgICAgICAgaWYgKHdpbmRvd1RpbWUgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgICAgX3RoaXMuX2luZmluaXRlVGltZVdpbmRvdyA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5uZXh0ID0gX3RoaXMubmV4dEluZmluaXRlVGltZVdpbmRvdztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLm5leHQgPSBfdGhpcy5uZXh0VGltZVdpbmRvdztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLm5leHRJbmZpbml0ZVRpbWVXaW5kb3cgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF9ldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICAgIF9ldmVudHMucHVzaCh2YWx1ZSk7XG4gICAgICAgIGlmIChfZXZlbnRzLmxlbmd0aCA+IHRoaXMuX2J1ZmZlclNpemUpIHtcbiAgICAgICAgICAgIF9ldmVudHMuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBSZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5uZXh0VGltZVdpbmRvdyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9ldmVudHMucHVzaChuZXcgUmVwbGF5RXZlbnQodGhpcy5fZ2V0Tm93KCksIHZhbHVlKSk7XG4gICAgICAgIHRoaXMuX3RyaW1CdWZmZXJUaGVuR2V0RXZlbnRzKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICB9O1xuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2luZmluaXRlVGltZVdpbmRvdyA9IHRoaXMuX2luZmluaXRlVGltZVdpbmRvdztcbiAgICAgICAgdmFyIF9ldmVudHMgPSBfaW5maW5pdGVUaW1lV2luZG93ID8gdGhpcy5fZXZlbnRzIDogdGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKTtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICB2YXIgbGVuID0gX2V2ZW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc1N0b3BwZWQgfHwgdGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJqZWN0U3Vic2NyaXB0aW9uKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKHN1YnNjcmliZXIgPSBuZXcgT2JzZXJ2ZU9uU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBzY2hlZHVsZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2luZmluaXRlVGltZVdpbmRvdykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW4gJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoX2V2ZW50c1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbiAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChfZXZlbnRzW2ldLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aGlzLnRocm93bkVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBSZXBsYXlTdWJqZWN0LnByb3RvdHlwZS5fZ2V0Tm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuc2NoZWR1bGVyIHx8IHF1ZXVlKS5ub3coKTtcbiAgICB9O1xuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLl90cmltQnVmZmVyVGhlbkdldEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vdyA9IHRoaXMuX2dldE5vdygpO1xuICAgICAgICB2YXIgX2J1ZmZlclNpemUgPSB0aGlzLl9idWZmZXJTaXplO1xuICAgICAgICB2YXIgX3dpbmRvd1RpbWUgPSB0aGlzLl93aW5kb3dUaW1lO1xuICAgICAgICB2YXIgX2V2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgICAgdmFyIGV2ZW50c0NvdW50ID0gX2V2ZW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBzcGxpY2VDb3VudCA9IDA7XG4gICAgICAgIHdoaWxlIChzcGxpY2VDb3VudCA8IGV2ZW50c0NvdW50KSB7XG4gICAgICAgICAgICBpZiAoKG5vdyAtIF9ldmVudHNbc3BsaWNlQ291bnRdLnRpbWUpIDwgX3dpbmRvd1RpbWUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNwbGljZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50c0NvdW50ID4gX2J1ZmZlclNpemUpIHtcbiAgICAgICAgICAgIHNwbGljZUNvdW50ID0gTWF0aC5tYXgoc3BsaWNlQ291bnQsIGV2ZW50c0NvdW50IC0gX2J1ZmZlclNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGxpY2VDb3VudCA+IDApIHtcbiAgICAgICAgICAgIF9ldmVudHMuc3BsaWNlKDAsIHNwbGljZUNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2V2ZW50cztcbiAgICB9O1xuICAgIHJldHVybiBSZXBsYXlTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBSZXBsYXlTdWJqZWN0IH07XG52YXIgUmVwbGF5RXZlbnQgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVwbGF5RXZlbnQodGltZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy50aW1lID0gdGltZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gUmVwbGF5RXZlbnQ7XG59KCkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVwbGF5U3ViamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4vU3ViamVjdCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG52YXIgQXN5bmNTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY1N1YmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLmhhc05leHQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhpcy50aHJvd25FcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaGFzQ29tcGxldGVkICYmIHRoaXMuaGFzTmV4dCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5fc3Vic2NyaWJlLmNhbGwodGhpcywgc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBBc3luY1N1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5oYXNOZXh0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNTdWJqZWN0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAoIXRoaXMuaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmVycm9yLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY1N1YmplY3QucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhhc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmhhc05leHQpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHRoaXMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBBc3luY1N1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IEFzeW5jU3ViamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTdWJqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIG5leHRIYW5kbGUgPSAxO1xudmFyIFJFU09MVkVEID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gLypAX19QVVJFX18qLyBQcm9taXNlLnJlc29sdmUoKTsgfSkoKTtcbnZhciBhY3RpdmVIYW5kbGVzID0ge307XG5mdW5jdGlvbiBmaW5kQW5kQ2xlYXJIYW5kbGUoaGFuZGxlKSB7XG4gICAgaWYgKGhhbmRsZSBpbiBhY3RpdmVIYW5kbGVzKSB7XG4gICAgICAgIGRlbGV0ZSBhY3RpdmVIYW5kbGVzW2hhbmRsZV07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgdmFyIEltbWVkaWF0ZSA9IHtcbiAgICBzZXRJbW1lZGlhdGU6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICB2YXIgaGFuZGxlID0gbmV4dEhhbmRsZSsrO1xuICAgICAgICBhY3RpdmVIYW5kbGVzW2hhbmRsZV0gPSB0cnVlO1xuICAgICAgICBSRVNPTFZFRC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZpbmRBbmRDbGVhckhhbmRsZShoYW5kbGUpICYmIGNiKCk7IH0pO1xuICAgICAgICByZXR1cm4gaGFuZGxlO1xuICAgIH0sXG4gICAgY2xlYXJJbW1lZGlhdGU6IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgICAgICAgZmluZEFuZENsZWFySGFuZGxlKGhhbmRsZSk7XG4gICAgfSxcbn07XG5leHBvcnQgdmFyIFRlc3RUb29scyA9IHtcbiAgICBwZW5kaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhY3RpdmVIYW5kbGVzKS5sZW5ndGg7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUltbWVkaWF0ZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfSW1tZWRpYXRlLF9Bc3luY0FjdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgSW1tZWRpYXRlIH0gZnJvbSAnLi4vdXRpbC9JbW1lZGlhdGUnO1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbnZhciBBc2FwQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzYXBBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXNhcEFjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzYXBBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGF5ICE9PSBudWxsICYmIGRlbGF5ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVyLmFjdGlvbnMucHVzaCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZWQgfHwgKHNjaGVkdWxlci5zY2hlZHVsZWQgPSBJbW1lZGlhdGUuc2V0SW1tZWRpYXRlKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgbnVsbCkpKTtcbiAgICB9O1xuICAgIEFzYXBBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChkZWxheSAhPT0gbnVsbCAmJiBkZWxheSA+IDApIHx8IChkZWxheSA9PT0gbnVsbCAmJiB0aGlzLmRlbGF5ID4gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkLmNhbGwodGhpcywgc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlZHVsZXIuYWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIEltbWVkaWF0ZS5jbGVhckltbWVkaWF0ZShpZCk7XG4gICAgICAgICAgICBzY2hlZHVsZXIuc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICByZXR1cm4gQXNhcEFjdGlvbjtcbn0oQXN5bmNBY3Rpb24pKTtcbmV4cG9ydCB7IEFzYXBBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzYXBBY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9Bc2FwQWN0aW9uLF9Bc2FwU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFzYXBBY3Rpb24gfSBmcm9tICcuL0FzYXBBY3Rpb24nO1xuaW1wb3J0IHsgQXNhcFNjaGVkdWxlciB9IGZyb20gJy4vQXNhcFNjaGVkdWxlcic7XG5leHBvcnQgdmFyIGFzYXAgPSAvKkBfX1BVUkVfXyovIG5ldyBBc2FwU2NoZWR1bGVyKEFzYXBBY3Rpb24pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNhcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xudmFyIEFzYXBTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXNhcFNjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc2FwU2NoZWR1bGVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFzYXBTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIGNvdW50ID0gYWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIGFjdGlvbiA9IGFjdGlvbiB8fCBhY3Rpb25zLnNoaWZ0KCk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgrK2luZGV4IDwgY291bnQgJiYgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgY291bnQgJiYgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXNhcFNjaGVkdWxlcjtcbn0oQXN5bmNTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IEFzYXBTY2hlZHVsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzYXBTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9Bc3luY0FjdGlvbixfQXN5bmNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG5leHBvcnQgdmFyIGFzeW5jID0gLypAX19QVVJFX18qLyBuZXcgQXN5bmNTY2hlZHVsZXIoQXN5bmNBY3Rpb24pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9Bc3luY0FjdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbnZhciBBbmltYXRpb25GcmFtZUFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBbmltYXRpb25GcmFtZUFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbmltYXRpb25GcmFtZUFjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFuaW1hdGlvbkZyYW1lQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSAhPT0gbnVsbCAmJiBkZWxheSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkLmNhbGwodGhpcywgc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlci5hY3Rpb25zLnB1c2godGhpcyk7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGVkIHx8IChzY2hlZHVsZXIuc2NoZWR1bGVkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNjaGVkdWxlci5mbHVzaChudWxsKTsgfSkpO1xuICAgIH07XG4gICAgQW5pbWF0aW9uRnJhbWVBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChkZWxheSAhPT0gbnVsbCAmJiBkZWxheSA+IDApIHx8IChkZWxheSA9PT0gbnVsbCAmJiB0aGlzLmRlbGF5ID4gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkLmNhbGwodGhpcywgc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlZHVsZXIuYWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcbiAgICAgICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHJldHVybiBBbmltYXRpb25GcmFtZUFjdGlvbjtcbn0oQXN5bmNBY3Rpb24pKTtcbmV4cG9ydCB7IEFuaW1hdGlvbkZyYW1lQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbmltYXRpb25GcmFtZUFjdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX0FuaW1hdGlvbkZyYW1lQWN0aW9uLF9BbmltYXRpb25GcmFtZVNjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBBbmltYXRpb25GcmFtZUFjdGlvbiB9IGZyb20gJy4vQW5pbWF0aW9uRnJhbWVBY3Rpb24nO1xuaW1wb3J0IHsgQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgfSBmcm9tICcuL0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVyJztcbmV4cG9ydCB2YXIgYW5pbWF0aW9uRnJhbWUgPSAvKkBfX1BVUkVfXyovIG5ldyBBbmltYXRpb25GcmFtZVNjaGVkdWxlcihBbmltYXRpb25GcmFtZUFjdGlvbik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmltYXRpb25GcmFtZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xudmFyIEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBjb3VudCA9IGFjdGlvbnMubGVuZ3RoO1xuICAgICAgICBhY3Rpb24gPSBhY3Rpb24gfHwgYWN0aW9ucy5zaGlmdCgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoKytpbmRleCA8IGNvdW50ICYmIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGNvdW50ICYmIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyO1xufShBc3luY1NjaGVkdWxlcikpO1xuZXhwb3J0IHsgQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQXN5bmNBY3Rpb24sX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbnZhciBWaXJ0dWFsVGltZVNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhWaXJ0dWFsVGltZVNjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBWaXJ0dWFsVGltZVNjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG1heEZyYW1lcykge1xuICAgICAgICBpZiAoU2NoZWR1bGVyQWN0aW9uID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIFNjaGVkdWxlckFjdGlvbiA9IFZpcnR1YWxBY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heEZyYW1lcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBtYXhGcmFtZXMgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgU2NoZWR1bGVyQWN0aW9uLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5mcmFtZTsgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubWF4RnJhbWVzID0gbWF4RnJhbWVzO1xuICAgICAgICBfdGhpcy5mcmFtZSA9IDA7XG4gICAgICAgIF90aGlzLmluZGV4ID0gLTE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVmlydHVhbFRpbWVTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBhY3Rpb25zID0gX2EuYWN0aW9ucywgbWF4RnJhbWVzID0gX2EubWF4RnJhbWVzO1xuICAgICAgICB2YXIgZXJyb3IsIGFjdGlvbjtcbiAgICAgICAgd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zWzBdKSAmJiBhY3Rpb24uZGVsYXkgPD0gbWF4RnJhbWVzKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gYWN0aW9uLmRlbGF5O1xuICAgICAgICAgICAgaWYgKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB3aGlsZSAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlydHVhbFRpbWVTY2hlZHVsZXIuZnJhbWVUaW1lRmFjdG9yID0gMTA7XG4gICAgcmV0dXJuIFZpcnR1YWxUaW1lU2NoZWR1bGVyO1xufShBc3luY1NjaGVkdWxlcikpO1xuZXhwb3J0IHsgVmlydHVhbFRpbWVTY2hlZHVsZXIgfTtcbnZhciBWaXJ0dWFsQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFZpcnR1YWxBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmlydHVhbEFjdGlvbihzY2hlZHVsZXIsIHdvcmssIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpbmRleCA9IHNjaGVkdWxlci5pbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgX3RoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuaW5kZXggPSBzY2hlZHVsZXIuaW5kZXggPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBWaXJ0dWFsQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcywgc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgYWN0aW9uID0gbmV3IFZpcnR1YWxBY3Rpb24odGhpcy5zY2hlZHVsZXIsIHRoaXMud29yayk7XG4gICAgICAgIHRoaXMuYWRkKGFjdGlvbik7XG4gICAgICAgIHJldHVybiBhY3Rpb24uc2NoZWR1bGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9O1xuICAgIFZpcnR1YWxBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxheSA9IHNjaGVkdWxlci5mcmFtZSArIGRlbGF5O1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHNjaGVkdWxlci5hY3Rpb25zO1xuICAgICAgICBhY3Rpb25zLnB1c2godGhpcyk7XG4gICAgICAgIGFjdGlvbnMuc29ydChWaXJ0dWFsQWN0aW9uLnNvcnRBY3Rpb25zKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBWaXJ0dWFsQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBWaXJ0dWFsQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5fZXhlY3V0ZS5jYWxsKHRoaXMsIHN0YXRlLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpcnR1YWxBY3Rpb24uc29ydEFjdGlvbnMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYS5kZWxheSA9PT0gYi5kZWxheSkge1xuICAgICAgICAgICAgaWYgKGEuaW5kZXggPT09IGIuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGEuaW5kZXggPiBiLmluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYS5kZWxheSA+IGIuZGVsYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVmlydHVhbEFjdGlvbjtcbn0oQXN5bmNBY3Rpb24pKTtcbmV4cG9ydCB7IFZpcnR1YWxBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpcnR1YWxUaW1lU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNPYnNlcnZhYmxlKG9iaikge1xuICAgIHJldHVybiAhIW9iaiAmJiAob2JqIGluc3RhbmNlb2YgT2JzZXJ2YWJsZSB8fCAodHlwZW9mIG9iai5saWZ0ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouc3Vic2NyaWJlID09PSAnZnVuY3Rpb24nKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc09ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCgpIHtcbiAgICAgICAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ2FyZ3VtZW50IG91dCBvZiByYW5nZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBBcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yID0gQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJndW1lbnRPdXRPZlJhbmdlRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgRW1wdHlFcnJvckltcGwgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRW1wdHlFcnJvckltcGwoKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdubyBlbGVtZW50cyBpbiBzZXF1ZW5jZSc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdFbXB0eUVycm9yJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIEVtcHR5RXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIHJldHVybiBFbXB0eUVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIEVtcHR5RXJyb3IgPSBFbXB0eUVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVtcHR5RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgVGltZW91dEVycm9ySW1wbCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaW1lb3V0RXJyb3JJbXBsKCkge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnVGltZW91dCBoYXMgb2NjdXJyZWQnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFRpbWVvdXRFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIFRpbWVvdXRFcnJvckltcGw7XG59KSgpO1xuZXhwb3J0IHZhciBUaW1lb3V0RXJyb3IgPSBUaW1lb3V0RXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZW91dEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1hcChwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1hcE9wZXJhdGlvbihzb3VyY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9qZWN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbi4gQXJlIHlvdSBsb29raW5nIGZvciBgbWFwVG8oKWA/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBNYXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIE1hcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWFwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByb2plY3QsIHRoaXMudGhpc0FyZykpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IE1hcE9wZXJhdG9yIH07XG52YXIgTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIF90aGlzLnRoaXNBcmcgPSB0aGlzQXJnIHx8IF90aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9Bc3luY1N1YmplY3QsX29wZXJhdG9yc19tYXAsX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfaXNBcnJheSxfdXRpbF9pc1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBBc3luY1N1YmplY3QgfSBmcm9tICcuLi9Bc3luY1N1YmplY3QnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4uL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRDYWxsYmFjayhjYWxsYmFja0Z1bmMsIHJlc3VsdFNlbGVjdG9yLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKGlzU2NoZWR1bGVyKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgICAgICAgICAgc2NoZWR1bGVyID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYmluZENhbGxiYWNrKGNhbGxiYWNrRnVuYywgc2NoZWR1bGVyKS5hcHBseSh2b2lkIDAsIGFyZ3MpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBpc0FycmF5KGFyZ3MpID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJlc3VsdFNlbGVjdG9yKGFyZ3MpOyB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgICB2YXIgc3ViamVjdDtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBzdWJqZWN0OiBzdWJqZWN0LFxuICAgICAgICAgICAgY2FsbGJhY2tGdW5jOiBjYWxsYmFja0Z1bmMsXG4gICAgICAgICAgICBzY2hlZHVsZXI6IHNjaGVkdWxlcixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgIGlmICghc3ViamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbm5lckFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0Lm5leHQoaW5uZXJBcmdzLmxlbmd0aCA8PSAxID8gaW5uZXJBcmdzWzBdIDogaW5uZXJBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrRnVuYy5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdChbaGFuZGxlcl0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc3ViamVjdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3ViamVjdC5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IGFyZ3MsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIHBhcmFtczogcGFyYW1zLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gZGlzcGF0Y2goc3RhdGUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXJncyA9IHN0YXRlLmFyZ3MsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBwYXJhbXMgPSBzdGF0ZS5wYXJhbXM7XG4gICAgdmFyIGNhbGxiYWNrRnVuYyA9IHBhcmFtcy5jYWxsYmFja0Z1bmMsIGNvbnRleHQgPSBwYXJhbXMuY29udGV4dCwgc2NoZWR1bGVyID0gcGFyYW1zLnNjaGVkdWxlcjtcbiAgICB2YXIgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0O1xuICAgIGlmICghc3ViamVjdCkge1xuICAgICAgICBzdWJqZWN0ID0gcGFyYW1zLnN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0KCk7XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlubmVyQXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBpbm5lckFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlubmVyQXJncy5sZW5ndGggPD0gMSA/IGlubmVyQXJnc1swXSA6IGlubmVyQXJncztcbiAgICAgICAgICAgIF90aGlzLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hOZXh0LCAwLCB7IHZhbHVlOiB2YWx1ZSwgc3ViamVjdDogc3ViamVjdCB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYWxsYmFja0Z1bmMuYXBwbHkoY29udGV4dCwgYXJncy5jb25jYXQoW2hhbmRsZXJdKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuYWRkKHN1YmplY3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoTmV4dChzdGF0ZSkge1xuICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlLCBzdWJqZWN0ID0gc3RhdGUuc3ViamVjdDtcbiAgICBzdWJqZWN0Lm5leHQodmFsdWUpO1xuICAgIHN1YmplY3QuY29tcGxldGUoKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoRXJyb3Ioc3RhdGUpIHtcbiAgICB2YXIgZXJyID0gc3RhdGUuZXJyLCBzdWJqZWN0ID0gc3RhdGUuc3ViamVjdDtcbiAgICBzdWJqZWN0LmVycm9yKGVycik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaW5kQ2FsbGJhY2suanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9Bc3luY1N1YmplY3QsX29wZXJhdG9yc19tYXAsX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfaXNTY2hlZHVsZXIsX3V0aWxfaXNBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBBc3luY1N1YmplY3QgfSBmcm9tICcuLi9Bc3luY1N1YmplY3QnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4uL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmROb2RlQ2FsbGJhY2soY2FsbGJhY2tGdW5jLCByZXN1bHRTZWxlY3Rvciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIGlmIChpc1NjaGVkdWxlcihyZXN1bHRTZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHNjaGVkdWxlciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpbmROb2RlQ2FsbGJhY2soY2FsbGJhY2tGdW5jLCBzY2hlZHVsZXIpLmFwcGx5KHZvaWQgMCwgYXJncykucGlwZShtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGlzQXJyYXkoYXJncykgPyByZXN1bHRTZWxlY3Rvci5hcHBseSh2b2lkIDAsIGFyZ3MpIDogcmVzdWx0U2VsZWN0b3IoYXJncyk7IH0pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgICAgc3ViamVjdDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJnczogYXJncyxcbiAgICAgICAgICAgIGNhbGxiYWNrRnVuYzogY2FsbGJhY2tGdW5jLFxuICAgICAgICAgICAgc2NoZWR1bGVyOiBzY2hlZHVsZXIsXG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gcGFyYW1zLmNvbnRleHQ7XG4gICAgICAgICAgICB2YXIgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0O1xuICAgICAgICAgICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbm5lckFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyID0gaW5uZXJBcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QubmV4dChpbm5lckFyZ3MubGVuZ3RoIDw9IDEgPyBpbm5lckFyZ3NbMF0gOiBpbm5lckFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KFtoYW5kbGVyXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5SZXBvcnRFcnJvcihzdWJqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHsgcGFyYW1zOiBwYXJhbXMsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIGNvbnRleHQ6IGNvbnRleHQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHBhcmFtcyA9IHN0YXRlLnBhcmFtcywgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXIsIGNvbnRleHQgPSBzdGF0ZS5jb250ZXh0O1xuICAgIHZhciBjYWxsYmFja0Z1bmMgPSBwYXJhbXMuY2FsbGJhY2tGdW5jLCBhcmdzID0gcGFyYW1zLmFyZ3MsIHNjaGVkdWxlciA9IHBhcmFtcy5zY2hlZHVsZXI7XG4gICAgdmFyIHN1YmplY3QgPSBwYXJhbXMuc3ViamVjdDtcbiAgICBpZiAoIXN1YmplY3QpIHtcbiAgICAgICAgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0ID0gbmV3IEFzeW5jU3ViamVjdCgpO1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbm5lckFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZXJyID0gaW5uZXJBcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaEVycm9yLCAwLCB7IGVycjogZXJyLCBzdWJqZWN0OiBzdWJqZWN0IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlubmVyQXJncy5sZW5ndGggPD0gMSA/IGlubmVyQXJnc1swXSA6IGlubmVyQXJncztcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoTmV4dCwgMCwgeyB2YWx1ZTogdmFsdWUsIHN1YmplY3Q6IHN1YmplY3QgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2tGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KFtoYW5kbGVyXSkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaEVycm9yLCAwLCB7IGVycjogZXJyLCBzdWJqZWN0OiBzdWJqZWN0IH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFkZChzdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaE5leHQoYXJnKSB7XG4gICAgdmFyIHZhbHVlID0gYXJnLnZhbHVlLCBzdWJqZWN0ID0gYXJnLnN1YmplY3Q7XG4gICAgc3ViamVjdC5uZXh0KHZhbHVlKTtcbiAgICBzdWJqZWN0LmNvbXBsZXRlKCk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaEVycm9yKGFyZykge1xuICAgIHZhciBlcnIgPSBhcmcuZXJyLCBzdWJqZWN0ID0gYXJnLnN1YmplY3Q7XG4gICAgc3ViamVjdC5lcnJvcihlcnIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmluZE5vZGVDYWxsYmFjay5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xudmFyIE91dGVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhPdXRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3V0ZXJTdWJzY3JpYmVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycm9yLCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycm9yKTtcbiAgICB9O1xuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PdXRlclN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbnZhciBJbm5lclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoSW5uZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElubmVyU3Vic2NyaWJlcihwYXJlbnQsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBfdGhpcy5vdXRlclZhbHVlID0gb3V0ZXJWYWx1ZTtcbiAgICAgICAgX3RoaXMub3V0ZXJJbmRleCA9IG91dGVySW5kZXg7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodGhpcy5vdXRlclZhbHVlLCB2YWx1ZSwgdGhpcy5vdXRlckluZGV4LCB0aGlzLmluZGV4KyssIHRoaXMpO1xuICAgIH07XG4gICAgSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5RXJyb3IoZXJyb3IsIHRoaXMpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBJbm5lclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IElubmVyU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW5uZXJTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8ICFTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcbiAgICB9XG4gICAgcmV0dXJuIFN5bWJvbC5pdGVyYXRvcjtcbn1cbmV4cG9ydCB2YXIgaXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIGdldFN5bWJvbEl0ZXJhdG9yKCk7XG5leHBvcnQgdmFyICQkaXRlcmF0b3IgPSBpdGVyYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBpc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1Byb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zdWJzY3JpYmVUb0FycmF5LF9zdWJzY3JpYmVUb1Byb21pc2UsX3N1YnNjcmliZVRvSXRlcmFibGUsX3N1YnNjcmliZVRvT2JzZXJ2YWJsZSxfaXNBcnJheUxpa2UsX2lzUHJvbWlzZSxfaXNPYmplY3QsX3N5bWJvbF9pdGVyYXRvcixfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9BcnJheSB9IGZyb20gJy4vc3Vic2NyaWJlVG9BcnJheSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Byb21pc2UgfSBmcm9tICcuL3N1YnNjcmliZVRvUHJvbWlzZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0l0ZXJhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb0l0ZXJhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvT2JzZXJ2YWJsZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vaXNPYmplY3QnO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9PYnNlcnZhYmxlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvQXJyYXkocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvUHJvbWlzZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvSXRlcmFibGUocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGlzT2JqZWN0KHJlc3VsdCkgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyByZXN1bHQgKyBcIidcIjtcbiAgICAgICAgdmFyIG1zZyA9IFwiWW91IHByb3ZpZGVkIFwiICsgdmFsdWUgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuXCJcbiAgICAgICAgICAgICsgJyBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgQXJyYXksIG9yIEl0ZXJhYmxlLic7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG8uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb09ic2VydmFibGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBvYnMgPSBvYmpbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb09ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi9ob3N0UmVwb3J0RXJyb3InO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIGhvc3RSZXBvcnRFcnJvcik7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9Qcm9taXNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvSXRlcmFibGUgPSBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sX2l0ZXJhdG9yXSgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChpdGVtLmRvbmUpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaXRlbS52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3IucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICBpdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvSXRlcmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9Jbm5lclN1YnNjcmliZXIsX3N1YnNjcmliZVRvLF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IElubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL0lubmVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4vc3Vic2NyaWJlVG8nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZVRvUmVzdWx0KG91dGVyU3Vic2NyaWJlciwgcmVzdWx0LCBvdXRlclZhbHVlLCBvdXRlckluZGV4LCBpbm5lclN1YnNjcmliZXIpIHtcbiAgICBpZiAoaW5uZXJTdWJzY3JpYmVyID09PSB2b2lkIDApIHtcbiAgICAgICAgaW5uZXJTdWJzY3JpYmVyID0gbmV3IElubmVyU3Vic2NyaWJlcihvdXRlclN1YnNjcmliZXIsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpO1xuICAgIH1cbiAgICBpZiAoaW5uZXJTdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0LnN1YnNjcmliZShpbm5lclN1YnNjcmliZXIpO1xuICAgIH1cbiAgICByZXR1cm4gc3Vic2NyaWJlVG8ocmVzdWx0KShpbm5lclN1YnNjcmliZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9SZXN1bHQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX2lzU2NoZWR1bGVyLF91dGlsX2lzQXJyYXksX091dGVyU3Vic2NyaWJlcixfdXRpbF9zdWJzY3JpYmVUb1Jlc3VsdCxfZnJvbUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBPdXRlclN1YnNjcmliZXIgfSBmcm9tICcuLi9PdXRlclN1YnNjcmliZXInO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9SZXN1bHQgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUmVzdWx0JztcbmltcG9ydCB7IGZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbnZhciBOT05FID0ge307XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdCgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0U2VsZWN0b3IgPSBudWxsO1xuICAgIHZhciBzY2hlZHVsZXIgPSBudWxsO1xuICAgIGlmIChpc1NjaGVkdWxlcihvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXSkpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JzZXJ2YWJsZXNbb2JzZXJ2YWJsZXMubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgaWYgKG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KG9ic2VydmFibGVzWzBdKSkge1xuICAgICAgICBvYnNlcnZhYmxlcyA9IG9ic2VydmFibGVzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5KG9ic2VydmFibGVzLCBzY2hlZHVsZXIpLmxpZnQobmV3IENvbWJpbmVMYXRlc3RPcGVyYXRvcihyZXN1bHRTZWxlY3RvcikpO1xufVxudmFyIENvbWJpbmVMYXRlc3RPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21iaW5lTGF0ZXN0T3BlcmF0b3IocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRTZWxlY3RvciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICBDb21iaW5lTGF0ZXN0T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnJlc3VsdFNlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tYmluZUxhdGVzdE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IENvbWJpbmVMYXRlc3RPcGVyYXRvciB9O1xudmFyIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCByZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gMDtcbiAgICAgICAgX3RoaXMudmFsdWVzID0gW107XG4gICAgICAgIF90aGlzLm9ic2VydmFibGVzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKG9ic2VydmFibGUpIHtcbiAgICAgICAgdGhpcy52YWx1ZXMucHVzaChOT05FKTtcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlcy5wdXNoKG9ic2VydmFibGUpO1xuICAgIH07XG4gICAgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGVzID0gdGhpcy5vYnNlcnZhYmxlcztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmFibGVzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBsZW47XG4gICAgICAgICAgICB0aGlzLnRvUmVzcG9uZCA9IGxlbjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG9ic2VydmFibGVzW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKHN1YnNjcmliZVRvUmVzdWx0KHRoaXMsIG9ic2VydmFibGUsIG9ic2VydmFibGUsIGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKHVudXNlZCkge1xuICAgICAgICBpZiAoKHRoaXMuYWN0aXZlIC09IDEpID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKG91dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgsIGlubmVyU3ViKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgdmFyIG9sZFZhbCA9IHZhbHVlc1tvdXRlckluZGV4XTtcbiAgICAgICAgdmFyIHRvUmVzcG9uZCA9ICF0aGlzLnRvUmVzcG9uZFxuICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICA6IG9sZFZhbCA9PT0gTk9ORSA/IC0tdGhpcy50b1Jlc3BvbmQgOiB0aGlzLnRvUmVzcG9uZDtcbiAgICAgICAgdmFsdWVzW291dGVySW5kZXhdID0gaW5uZXJWYWx1ZTtcbiAgICAgICAgaWYgKHRvUmVzcG9uZCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cnlSZXN1bHRTZWxlY3Rvcih2YWx1ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlcy5zbGljZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIucHJvdG90eXBlLl90cnlSZXN1bHRTZWxlY3RvciA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucmVzdWx0U2VsZWN0b3IuYXBwbHkodGhpcywgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHJlc3VsdCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tYmluZUxhdGVzdFN1YnNjcmliZXI7XG59KE91dGVyU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbWJpbmVMYXRlc3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zY2hlZHVsZU9ic2VydmFibGUsX3NjaGVkdWxlUHJvbWlzZSxfc2NoZWR1bGVBcnJheSxfc2NoZWR1bGVJdGVyYWJsZSxfdXRpbF9pc0ludGVyb3BPYnNlcnZhYmxlLF91dGlsX2lzUHJvbWlzZSxfdXRpbF9pc0FycmF5TGlrZSxfdXRpbF9pc0l0ZXJhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IHNjaGVkdWxlT2JzZXJ2YWJsZSB9IGZyb20gJy4vc2NoZWR1bGVPYnNlcnZhYmxlJztcbmltcG9ydCB7IHNjaGVkdWxlUHJvbWlzZSB9IGZyb20gJy4vc2NoZWR1bGVQcm9taXNlJztcbmltcG9ydCB7IHNjaGVkdWxlQXJyYXkgfSBmcm9tICcuL3NjaGVkdWxlQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVJdGVyYWJsZSc7XG5pbXBvcnQgeyBpc0ludGVyb3BPYnNlcnZhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvaXNQcm9taXNlJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0l0ZXJhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1Byb21pc2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVQcm9taXNlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNJdGVyYWJsZShpbnB1dCkgfHwgdHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigoaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0IHx8IGlucHV0KSArICcgaXMgbm90IG9ic2VydmFibGUnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlZC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCAmJiB0eXBlb2YgaW5wdXRbU3ltYm9sX29ic2VydmFibGVdID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJbnRlcm9wT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbixfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVPYnNlcnZhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBpbnB1dFtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgICAgIHN1Yi5hZGQob2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9KSk7IH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KSk7IH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KSk7IH0sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dC50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlUHJvbWlzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9pdGVyYXRvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlcmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgJiYgdHlwZW9mIGlucHV0W1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0l0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uLF9zeW1ib2xfaXRlcmF0b3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICB2YXIgaXRlcmF0b3I7XG4gICAgICAgIHN1Yi5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGl0ZXJhdG9yICYmIHR5cGVvZiBpdGVyYXRvci5yZXR1cm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gaW5wdXRbU3ltYm9sX2l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgZG9uZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHJlc3VsdC5kb25lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUl0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9zdWJzY3JpYmVUbyxfc2NoZWR1bGVkX3NjaGVkdWxlZCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG8nO1xuaW1wb3J0IHsgc2NoZWR1bGVkIH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlZCc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUbyhpbnB1dCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlZChpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9zdWJzY3JpYmVUb1Jlc3VsdCxfT3V0ZXJTdWJzY3JpYmVyLF9Jbm5lclN1YnNjcmliZXIsX21hcCxfb2JzZXJ2YWJsZV9mcm9tIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuaW1wb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vT3V0ZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IElubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL0lubmVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLnBpcGUobWVyZ2VNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIGZyb20ocHJvamVjdChhLCBpKSkucGlwZShtYXAoZnVuY3Rpb24gKGIsIGlpKSB7IHJldHVybiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSk7IH0pKTsgfSwgY29uY3VycmVudCkpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNZXJnZU1hcE9wZXJhdG9yKHByb2plY3QsIGNvbmN1cnJlbnQpKTsgfTtcbn1cbnZhciBNZXJnZU1hcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lcmdlTWFwT3BlcmF0b3IocHJvamVjdCwgY29uY3VycmVudCkge1xuICAgICAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMuY29uY3VycmVudCA9IGNvbmN1cnJlbnQ7XG4gICAgfVxuICAgIE1lcmdlTWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAob2JzZXJ2ZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWVyZ2VNYXBTdWJzY3JpYmVyKG9ic2VydmVyLCB0aGlzLnByb2plY3QsIHRoaXMuY29uY3VycmVudCkpO1xuICAgIH07XG4gICAgcmV0dXJuIE1lcmdlTWFwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgTWVyZ2VNYXBPcGVyYXRvciB9O1xudmFyIE1lcmdlTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNZXJnZU1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWVyZ2VNYXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcm9qZWN0LCBjb25jdXJyZW50KSB7XG4gICAgICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5jb25jdXJyZW50ID0gY29uY3VycmVudDtcbiAgICAgICAgX3RoaXMuaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSAwO1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPCB0aGlzLmNvbmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeU5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeU5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9qZWN0KHZhbHVlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlKys7XG4gICAgICAgIHRoaXMuX2lubmVyU3ViKHJlc3VsdCwgdmFsdWUsIGluZGV4KTtcbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2lubmVyU3ViID0gZnVuY3Rpb24gKGlzaCwgdmFsdWUsIGluZGV4KSB7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBuZXcgSW5uZXJTdWJzY3JpYmVyKHRoaXMsIHZhbHVlLCBpbmRleCk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpcHRpb24gPSBzdWJzY3JpYmVUb1Jlc3VsdCh0aGlzLCBpc2gsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICBpZiAoaW5uZXJTdWJzY3JpcHRpb24gIT09IGlubmVyU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKGlubmVyU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGFzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlID09PSAwICYmIHRoaXMuYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKGlubmVyU3ViKSB7XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgdGhpcy5yZW1vdmUoaW5uZXJTdWIpO1xuICAgICAgICB0aGlzLmFjdGl2ZS0tO1xuICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQoYnVmZmVyLnNoaWZ0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlID09PSAwICYmIHRoaXMuaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNZXJnZU1hcFN1YnNjcmliZXI7XG59KE91dGVyU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgTWVyZ2VNYXBTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZU1hcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX21lcmdlTWFwLF91dGlsX2lkZW50aXR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG1lcmdlTWFwIH0gZnJvbSAnLi9tZXJnZU1hcCc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQWxsKGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZU1hcChpZGVudGl0eSwgY29uY3VycmVudCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZUFsbC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX21lcmdlQWxsIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG1lcmdlQWxsIH0gZnJvbSAnLi9tZXJnZUFsbCc7XG5leHBvcnQgZnVuY3Rpb24gY29uY2F0QWxsKCkge1xuICAgIHJldHVybiBtZXJnZUFsbCgxKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdEFsbC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX29mLF9vcGVyYXRvcnNfY29uY2F0QWxsIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG9mIH0gZnJvbSAnLi9vZic7XG5pbXBvcnQgeyBjb25jYXRBbGwgfSBmcm9tICcuLi9vcGVyYXRvcnMvY29uY2F0QWxsJztcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmNhdEFsbCgpKG9mLmFwcGx5KHZvaWQgMCwgb2JzZXJ2YWJsZXMpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmNhdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX2Zyb20sX2VtcHR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuL2Zyb20nO1xuaW1wb3J0IHsgZW1wdHkgfSBmcm9tICcuL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiBkZWZlcihvYnNlcnZhYmxlRmFjdG9yeSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5wdXQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnB1dCA9IG9ic2VydmFibGVGYWN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gaW5wdXQgPyBmcm9tKGlucHV0KSA6IGVtcHR5KCk7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lzQXJyYXksX29wZXJhdG9yc19tYXAsX3V0aWxfaXNPYmplY3QsX2Zyb20gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9pc09iamVjdCc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBmb3JrSm9pbigpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBmaXJzdF8xID0gc291cmNlc1swXTtcbiAgICAgICAgaWYgKGlzQXJyYXkoZmlyc3RfMSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JrSm9pbkludGVybmFsKGZpcnN0XzEsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc09iamVjdChmaXJzdF8xKSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZmlyc3RfMSkgPT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZmlyc3RfMSk7XG4gICAgICAgICAgICByZXR1cm4gZm9ya0pvaW5JbnRlcm5hbChrZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBmaXJzdF8xW2tleV07IH0pLCBrZXlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHNvdXJjZXNbc291cmNlcy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgcmVzdWx0U2VsZWN0b3JfMSA9IHNvdXJjZXMucG9wKCk7XG4gICAgICAgIHNvdXJjZXMgPSAoc291cmNlcy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShzb3VyY2VzWzBdKSkgPyBzb3VyY2VzWzBdIDogc291cmNlcztcbiAgICAgICAgcmV0dXJuIGZvcmtKb2luSW50ZXJuYWwoc291cmNlcywgbnVsbCkucGlwZShtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yXzEuYXBwbHkodm9pZCAwLCBhcmdzKTsgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gZm9ya0pvaW5JbnRlcm5hbChzb3VyY2VzLCBudWxsKTtcbn1cbmZ1bmN0aW9uIGZvcmtKb2luSW50ZXJuYWwoc291cmNlcywga2V5cykge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgbGVuID0gc291cmNlcy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIHZhciBjb21wbGV0ZWQgPSAwO1xuICAgICAgICB2YXIgZW1pdHRlZCA9IDA7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBmcm9tKHNvdXJjZXNbaV0pO1xuICAgICAgICAgICAgdmFyIGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChzb3VyY2Uuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlZCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCA9PT0gbGVuIHx8ICFoYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtaXR0ZWQgPT09IGxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChrZXlzID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5LCBpKSB7IHJldHVybiAocmVzdWx0W2tleV0gPSB2YWx1ZXNbaV0sIHJlc3VsdCk7IH0sIHt9KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIF9sb29wXzEoaSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvcmtKb2luLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9pc0FycmF5LF91dGlsX2lzRnVuY3Rpb24sX29wZXJhdG9yc19tYXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uL29wZXJhdG9ycy9tYXAnO1xudmFyIHRvU3RyaW5nID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzsgfSkoKTtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucykucGlwZShtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGlzQXJyYXkoYXJncykgPyByZXN1bHRTZWxlY3Rvci5hcHBseSh2b2lkIDAsIGFyZ3MpIDogcmVzdWx0U2VsZWN0b3IoYXJncyk7IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoZSkge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNldHVwU3Vic2NyaXB0aW9uKHNvdXJjZU9iaiwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKSB7XG4gICAgdmFyIHVuc3Vic2NyaWJlO1xuICAgIGlmIChpc0V2ZW50VGFyZ2V0KHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8xID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmouYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8xLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMiA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzIub2ZmKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8zID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmouYWRkTGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChzb3VyY2VPYmogJiYgc291cmNlT2JqLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc291cmNlT2JqLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBzZXR1cFN1YnNjcmlwdGlvbihzb3VyY2VPYmpbaV0sIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgZXZlbnQgdGFyZ2V0Jyk7XG4gICAgfVxuICAgIHN1YnNjcmliZXIuYWRkKHVuc3Vic2NyaWJlKTtcbn1cbmZ1bmN0aW9uIGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5hZGRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLnJlbW92ZUxpc3RlbmVyID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmoub24gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5vZmYgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc0V2ZW50VGFyZ2V0KHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoucmVtb3ZlRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21FdmVudC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNBcnJheSxfdXRpbF9pc0Z1bmN0aW9uLF9vcGVyYXRvcnNfbWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnRQYXR0ZXJuKGFkZEhhbmRsZXIsIHJlbW92ZUhhbmRsZXIsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnRQYXR0ZXJuKGFkZEhhbmRsZXIsIHJlbW92ZUhhbmRsZXIpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBpc0FycmF5KGFyZ3MpID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJlc3VsdFNlbGVjdG9yKGFyZ3MpOyB9KSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGVbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpYmVyLm5leHQoZS5sZW5ndGggPT09IDEgPyBlWzBdIDogZSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciByZXRWYWx1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldFZhbHVlID0gYWRkSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNGdW5jdGlvbihyZW1vdmVIYW5kbGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtb3ZlSGFuZGxlcihoYW5kbGVyLCByZXRWYWx1ZSk7IH07XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tRXZlbnRQYXR0ZXJuLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9pZGVudGl0eSxfdXRpbF9pc1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZShpbml0aWFsU3RhdGVPck9wdGlvbnMsIGNvbmRpdGlvbiwgaXRlcmF0ZSwgcmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGUsIHNjaGVkdWxlcikge1xuICAgIHZhciByZXN1bHRTZWxlY3RvcjtcbiAgICB2YXIgaW5pdGlhbFN0YXRlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBpbml0aWFsU3RhdGVPck9wdGlvbnM7XG4gICAgICAgIGluaXRpYWxTdGF0ZSA9IG9wdGlvbnMuaW5pdGlhbFN0YXRlO1xuICAgICAgICBjb25kaXRpb24gPSBvcHRpb25zLmNvbmRpdGlvbjtcbiAgICAgICAgaXRlcmF0ZSA9IG9wdGlvbnMuaXRlcmF0ZTtcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBvcHRpb25zLnJlc3VsdFNlbGVjdG9yIHx8IGlkZW50aXR5O1xuICAgICAgICBzY2hlZHVsZXIgPSBvcHRpb25zLnNjaGVkdWxlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzdWx0U2VsZWN0b3JPck9ic2VydmFibGUgPT09IHVuZGVmaW5lZCB8fCBpc1NjaGVkdWxlcihyZXN1bHRTZWxlY3Rvck9yT2JzZXJ2YWJsZSkpIHtcbiAgICAgICAgaW5pdGlhbFN0YXRlID0gaW5pdGlhbFN0YXRlT3JPcHRpb25zO1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IGlkZW50aXR5O1xuICAgICAgICBzY2hlZHVsZXIgPSByZXN1bHRTZWxlY3Rvck9yT2JzZXJ2YWJsZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGluaXRpYWxTdGF0ZSA9IGluaXRpYWxTdGF0ZU9yT3B0aW9ucztcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3Rvck9yT2JzZXJ2YWJsZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICAgICAgaWYgKHNjaGVkdWxlcikge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXI6IHN1YnNjcmliZXIsXG4gICAgICAgICAgICAgICAgaXRlcmF0ZTogaXRlcmF0ZSxcbiAgICAgICAgICAgICAgICBjb25kaXRpb246IGNvbmRpdGlvbixcbiAgICAgICAgICAgICAgICByZXN1bHRTZWxlY3RvcjogcmVzdWx0U2VsZWN0b3IsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbmRpdGlvblJlc3VsdCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25SZXN1bHQgPSBjb25kaXRpb24oc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFjb25kaXRpb25SZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcmVzdWx0U2VsZWN0b3Ioc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGl0ZXJhdGUoc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBjb25kaXRpb24gPSBzdGF0ZS5jb25kaXRpb247XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5uZWVkSXRlcmF0ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3RhdGUuc3RhdGUgPSBzdGF0ZS5pdGVyYXRlKHN0YXRlLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZS5uZWVkSXRlcmF0ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgICAgdmFyIGNvbmRpdGlvblJlc3VsdCA9IHZvaWQgMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbmRpdGlvblJlc3VsdCA9IGNvbmRpdGlvbihzdGF0ZS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbmRpdGlvblJlc3VsdCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHZhbHVlO1xuICAgIHRyeSB7XG4gICAgICAgIHZhbHVlID0gc3RhdGUucmVzdWx0U2VsZWN0b3Ioc3RhdGUuc3RhdGUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNjaGVkdWxlKHN0YXRlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfZGVmZXIsX2VtcHR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGRlZmVyIH0gZnJvbSAnLi9kZWZlcic7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4vZW1wdHknO1xuZXhwb3J0IGZ1bmN0aW9uIGlpZihjb25kaXRpb24sIHRydWVSZXN1bHQsIGZhbHNlUmVzdWx0KSB7XG4gICAgaWYgKHRydWVSZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgICB0cnVlUmVzdWx0ID0gRU1QVFk7XG4gICAgfVxuICAgIGlmIChmYWxzZVJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGZhbHNlUmVzdWx0ID0gRU1QVFk7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcihmdW5jdGlvbiAoKSB7IHJldHVybiBjb25kaXRpb24oKSA/IHRydWVSZXN1bHQgOiBmYWxzZVJlc3VsdDsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1paWYuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9pc0FycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL2lzQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtZXJpYyh2YWwpIHtcbiAgICByZXR1cm4gIWlzQXJyYXkodmFsKSAmJiAodmFsIC0gcGFyc2VGbG9hdCh2YWwpICsgMSkgPj0gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzTnVtZXJpYy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3NjaGVkdWxlcl9hc3luYyxfdXRpbF9pc051bWVyaWMgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgaXNOdW1lcmljIH0gZnJvbSAnLi4vdXRpbC9pc051bWVyaWMnO1xuZXhwb3J0IGZ1bmN0aW9uIGludGVydmFsKHBlcmlvZCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHBlcmlvZCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHBlcmlvZCA9IDA7XG4gICAgfVxuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgaWYgKCFpc051bWVyaWMocGVyaW9kKSB8fCBwZXJpb2QgPCAwKSB7XG4gICAgICAgIHBlcmlvZCA9IDA7XG4gICAgfVxuICAgIGlmICghc2NoZWR1bGVyIHx8IHR5cGVvZiBzY2hlZHVsZXIuc2NoZWR1bGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBzdWJzY3JpYmVyLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIHBlcmlvZCwgeyBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyLCBjb3VudGVyOiAwLCBwZXJpb2Q6IHBlcmlvZCB9KSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2goc3RhdGUpIHtcbiAgICB2YXIgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXIsIGNvdW50ZXIgPSBzdGF0ZS5jb3VudGVyLCBwZXJpb2QgPSBzdGF0ZS5wZXJpb2Q7XG4gICAgc3Vic2NyaWJlci5uZXh0KGNvdW50ZXIpO1xuICAgIHRoaXMuc2NoZWR1bGUoeyBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyLCBjb3VudGVyOiBjb3VudGVyICsgMSwgcGVyaW9kOiBwZXJpb2QgfSwgcGVyaW9kKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVydmFsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9pc1NjaGVkdWxlcixfb3BlcmF0b3JzX21lcmdlQWxsLF9mcm9tQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IG1lcmdlQWxsIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21lcmdlQWxsJztcbmltcG9ydCB7IGZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZSgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB2YXIgc2NoZWR1bGVyID0gbnVsbDtcbiAgICB2YXIgbGFzdCA9IG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChpc1NjaGVkdWxlcihsYXN0KSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICAgICAgaWYgKG9ic2VydmFibGVzLmxlbmd0aCA+IDEgJiYgdHlwZW9mIG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29uY3VycmVudCA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBsYXN0ID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25jdXJyZW50ID0gb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgfVxuICAgIGlmIChzY2hlZHVsZXIgPT09IG51bGwgJiYgb2JzZXJ2YWJsZXMubGVuZ3RoID09PSAxICYmIG9ic2VydmFibGVzWzBdIGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZXNbMF07XG4gICAgfVxuICAgIHJldHVybiBtZXJnZUFsbChjb25jdXJyZW50KShmcm9tQXJyYXkob2JzZXJ2YWJsZXMsIHNjaGVkdWxlcikpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX25vb3AgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWwvbm9vcCc7XG5leHBvcnQgdmFyIE5FVkVSID0gLypAX19QVVJFX18qLyBuZXcgT2JzZXJ2YWJsZShub29wKTtcbmV4cG9ydCBmdW5jdGlvbiBuZXZlcigpIHtcbiAgICByZXR1cm4gTkVWRVI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZXZlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX2Zyb20sX3V0aWxfaXNBcnJheSxfZW1wdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi9lbXB0eSc7XG5leHBvcnQgZnVuY3Rpb24gb25FcnJvclJlc3VtZU5leHQoKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3VyY2VzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChzb3VyY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gRU1QVFk7XG4gICAgfVxuICAgIHZhciBmaXJzdCA9IHNvdXJjZXNbMF0sIHJlbWFpbmRlciA9IHNvdXJjZXMuc2xpY2UoMSk7XG4gICAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkoZmlyc3QpKSB7XG4gICAgICAgIHJldHVybiBvbkVycm9yUmVzdW1lTmV4dC5hcHBseSh2b2lkIDAsIGZpcnN0KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJOZXh0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5hZGQob25FcnJvclJlc3VtZU5leHQuYXBwbHkodm9pZCAwLCByZW1haW5kZXIpLnN1YnNjcmliZShzdWJzY3JpYmVyKSk7IH07XG4gICAgICAgIHJldHVybiBmcm9tKGZpcnN0KS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0sXG4gICAgICAgICAgICBlcnJvcjogc3ViTmV4dCxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBzdWJOZXh0LFxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9uRXJyb3JSZXN1bWVOZXh0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gcGFpcnMob2JqLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGggJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KFtrZXksIG9ialtrZXldXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCAwLCB7IGtleXM6IGtleXMsIGluZGV4OiAwLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyLCBzdWJzY3JpcHRpb246IHN1YnNjcmlwdGlvbiwgb2JqOiBvYmogfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIGtleXMgPSBzdGF0ZS5rZXlzLCBpbmRleCA9IHN0YXRlLmluZGV4LCBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgc3Vic2NyaXB0aW9uID0gc3RhdGUuc3Vic2NyaXB0aW9uLCBvYmogPSBzdGF0ZS5vYmo7XG4gICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICBpZiAoaW5kZXggPCBrZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KFtrZXksIG9ialtrZXldXSk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uYWRkKHRoaXMuc2NoZWR1bGUoeyBrZXlzOiBrZXlzLCBpbmRleDogaW5kZXggKyAxLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyLCBzdWJzY3JpcHRpb246IHN1YnNjcmlwdGlvbiwgb2JqOiBvYmogfSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFpcnMuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gbm90KHByZWQsIHRoaXNBcmcpIHtcbiAgICBmdW5jdGlvbiBub3RQcmVkKCkge1xuICAgICAgICByZXR1cm4gIShub3RQcmVkLnByZWQuYXBwbHkobm90UHJlZC50aGlzQXJnLCBhcmd1bWVudHMpKTtcbiAgICB9XG4gICAgbm90UHJlZC5wcmVkID0gcHJlZDtcbiAgICBub3RQcmVkLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgIHJldHVybiBub3RQcmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm90LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZmlsdGVyT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBGaWx0ZXJPcGVyYXRvcihwcmVkaWNhdGUsIHRoaXNBcmcpKTtcbiAgICB9O1xufVxudmFyIEZpbHRlck9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbHRlck9wZXJhdG9yKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgICAgICB0aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICB9XG4gICAgRmlsdGVyT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBGaWx0ZXJTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJlZGljYXRlLCB0aGlzLnRoaXNBcmcpKTtcbiAgICB9O1xuICAgIHJldHVybiBGaWx0ZXJPcGVyYXRvcjtcbn0oKSk7XG52YXIgRmlsdGVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhGaWx0ZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEZpbHRlclN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICBfdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEZpbHRlclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByZWRpY2F0ZS5jYWxsKHRoaXMudGhpc0FyZywgdmFsdWUsIHRoaXMuY291bnQrKyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBGaWx0ZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX25vdCxfdXRpbF9zdWJzY3JpYmVUbyxfb3BlcmF0b3JzX2ZpbHRlcixfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBub3QgfSBmcm9tICcuLi91dGlsL25vdCc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG8nO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi4vb3BlcmF0b3JzL2ZpbHRlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gcGFydGl0aW9uKHNvdXJjZSwgcHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgZmlsdGVyKHByZWRpY2F0ZSwgdGhpc0FyZykobmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG8oc291cmNlKSkpLFxuICAgICAgICBmaWx0ZXIobm90KHByZWRpY2F0ZSwgdGhpc0FyZykpKG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZVRvKHNvdXJjZSkpKVxuICAgIF07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0aXRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX2lzQXJyYXksX2Zyb21BcnJheSxfT3V0ZXJTdWJzY3JpYmVyLF91dGlsX3N1YnNjcmliZVRvUmVzdWx0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuZXhwb3J0IGZ1bmN0aW9uIHJhY2UoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZiAoaXNBcnJheShvYnNlcnZhYmxlc1swXSkpIHtcbiAgICAgICAgICAgIG9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZXNbMF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZyb21BcnJheShvYnNlcnZhYmxlcywgdW5kZWZpbmVkKS5saWZ0KG5ldyBSYWNlT3BlcmF0b3IoKSk7XG59XG52YXIgUmFjZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJhY2VPcGVyYXRvcigpIHtcbiAgICB9XG4gICAgUmFjZU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgUmFjZVN1YnNjcmliZXIoc3Vic2NyaWJlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIFJhY2VPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBSYWNlT3BlcmF0b3IgfTtcbnZhciBSYWNlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSYWNlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSYWNlU3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaGFzRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMub2JzZXJ2YWJsZXMgPSBbXTtcbiAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJhY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uIChvYnNlcnZhYmxlKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZXMucHVzaChvYnNlcnZhYmxlKTtcbiAgICB9O1xuICAgIFJhY2VTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlcyA9IHRoaXMub2JzZXJ2YWJsZXM7XG4gICAgICAgIHZhciBsZW4gPSBvYnNlcnZhYmxlcy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuICYmICF0aGlzLmhhc0ZpcnN0OyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG9ic2VydmFibGVzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBzdWJzY3JpYmVUb1Jlc3VsdCh0aGlzLCBvYnNlcnZhYmxlLCBvYnNlcnZhYmxlLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9ic2VydmFibGVzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmFjZVN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAob3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCwgaW5uZXJTdWIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0ZpcnN0KSB7XG4gICAgICAgICAgICB0aGlzLmhhc0ZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IG91dGVySW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuc3Vic2NyaXB0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmFjZVN1YnNjcmliZXI7XG59KE91dGVyU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgUmFjZVN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhY2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiByYW5nZShzdGFydCwgY291bnQsIHNjaGVkdWxlcikge1xuICAgIGlmIChzdGFydCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmIChjb3VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb3VudCA9IHN0YXJ0O1xuICAgICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50ID0gc3RhcnQ7XG4gICAgICAgIGlmIChzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHtcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsIGNvdW50OiBjb3VudCwgc3RhcnQ6IHN0YXJ0LCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXgrKyA+PSBjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoY3VycmVudCsrKTtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBzdGFydCA9IHN0YXRlLnN0YXJ0LCBpbmRleCA9IHN0YXRlLmluZGV4LCBjb3VudCA9IHN0YXRlLmNvdW50LCBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlcjtcbiAgICBpZiAoaW5kZXggPj0gY291bnQpIHtcbiAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHN1YnNjcmliZXIubmV4dChzdGFydCk7XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RhdGUuaW5kZXggPSBpbmRleCArIDE7XG4gICAgc3RhdGUuc3RhcnQgPSBzdGFydCArIDE7XG4gICAgdGhpcy5zY2hlZHVsZShzdGF0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYW5nZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3NjaGVkdWxlcl9hc3luYyxfdXRpbF9pc051bWVyaWMsX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgaXNOdW1lcmljIH0gZnJvbSAnLi4vdXRpbC9pc051bWVyaWMnO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihkdWVUaW1lLCBwZXJpb2RPclNjaGVkdWxlciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGR1ZVRpbWUgPT09IHZvaWQgMCkge1xuICAgICAgICBkdWVUaW1lID0gMDtcbiAgICB9XG4gICAgdmFyIHBlcmlvZCA9IC0xO1xuICAgIGlmIChpc051bWVyaWMocGVyaW9kT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgIHBlcmlvZCA9IE51bWJlcihwZXJpb2RPclNjaGVkdWxlcikgPCAxICYmIDEgfHwgTnVtYmVyKHBlcmlvZE9yU2NoZWR1bGVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTY2hlZHVsZXIocGVyaW9kT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IHBlcmlvZE9yU2NoZWR1bGVyO1xuICAgIH1cbiAgICBpZiAoIWlzU2NoZWR1bGVyKHNjaGVkdWxlcikpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZHVlID0gaXNOdW1lcmljKGR1ZVRpbWUpXG4gICAgICAgICAgICA/IGR1ZVRpbWVcbiAgICAgICAgICAgIDogKCtkdWVUaW1lIC0gc2NoZWR1bGVyLm5vdygpKTtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgZHVlLCB7XG4gICAgICAgICAgICBpbmRleDogMCwgcGVyaW9kOiBwZXJpb2QsIHN1YnNjcmliZXI6IHN1YnNjcmliZXJcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBpbmRleCA9IHN0YXRlLmluZGV4LCBwZXJpb2QgPSBzdGF0ZS5wZXJpb2QsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyO1xuICAgIHN1YnNjcmliZXIubmV4dChpbmRleCk7XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiAocGVyaW9kID09PSAtMSkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICBzdGF0ZS5pbmRleCA9IGluZGV4ICsgMTtcbiAgICB0aGlzLnNjaGVkdWxlKHN0YXRlLCBwZXJpb2QpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9mcm9tLF9lbXB0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi9lbXB0eSc7XG5leHBvcnQgZnVuY3Rpb24gdXNpbmcocmVzb3VyY2VGYWN0b3J5LCBvYnNlcnZhYmxlRmFjdG9yeSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgcmVzb3VyY2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXNvdXJjZSA9IHJlc291cmNlRmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG9ic2VydmFibGVGYWN0b3J5KHJlc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2UgPSByZXN1bHQgPyBmcm9tKHJlc3VsdCkgOiBFTVBUWTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2luZy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX2Zyb21BcnJheSxfdXRpbF9pc0FycmF5LF9TdWJzY3JpYmVyLF9PdXRlclN1YnNjcmliZXIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQsXy4uX2ludGVybmFsX3N5bWJvbF9pdGVyYXRvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPdXRlclN1YnNjcmliZXIgfSBmcm9tICcuLi9PdXRlclN1YnNjcmliZXInO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9SZXN1bHQgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvUmVzdWx0JztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uLy4uL2ludGVybmFsL3N5bWJvbC9pdGVyYXRvcic7XG5leHBvcnQgZnVuY3Rpb24gemlwKCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHRTZWxlY3RvciA9IG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXkob2JzZXJ2YWJsZXMsIHVuZGVmaW5lZCkubGlmdChuZXcgWmlwT3BlcmF0b3IocmVzdWx0U2VsZWN0b3IpKTtcbn1cbnZhciBaaXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBaaXBPcGVyYXRvcihyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLnJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIFppcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgWmlwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnJlc3VsdFNlbGVjdG9yKSk7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgWmlwT3BlcmF0b3IgfTtcbnZhciBaaXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFppcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gWmlwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcmVzdWx0U2VsZWN0b3IsIHZhbHVlcykge1xuICAgICAgICBpZiAodmFsdWVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLml0ZXJhdG9ycyA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSAwO1xuICAgICAgICBfdGhpcy5yZXN1bHRTZWxlY3RvciA9ICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdmdW5jdGlvbicpID8gcmVzdWx0U2VsZWN0b3IgOiBudWxsO1xuICAgICAgICBfdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9ycyA9IHRoaXMuaXRlcmF0b3JzO1xuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9ycy5wdXNoKG5ldyBTdGF0aWNBcnJheUl0ZXJhdG9yKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlW1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9ycy5wdXNoKG5ldyBTdGF0aWNJdGVyYXRvcih2YWx1ZVtTeW1ib2xfaXRlcmF0b3JdKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGl0ZXJhdG9ycy5wdXNoKG5ldyBaaXBCdWZmZXJJdGVyYXRvcih0aGlzLmRlc3RpbmF0aW9uLCB0aGlzLCB2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpdGVyYXRvcnMgPSB0aGlzLml0ZXJhdG9ycztcbiAgICAgICAgdmFyIGxlbiA9IGl0ZXJhdG9ycy5sZW5ndGg7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlID0gbGVuO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvcnNbaV07XG4gICAgICAgICAgICBpZiAoaXRlcmF0b3Iuc3RpbGxVbnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChpdGVyYXRvci5zdWJzY3JpYmUoaXRlcmF0b3IsIGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUluYWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZS0tO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuY2hlY2tJdGVyYXRvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpdGVyYXRvcnMgPSB0aGlzLml0ZXJhdG9ycztcbiAgICAgICAgdmFyIGxlbiA9IGl0ZXJhdG9ycy5sZW5ndGg7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3IuaGFzVmFsdWUgPT09ICdmdW5jdGlvbicgJiYgIWl0ZXJhdG9yLmhhc1ZhbHVlKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNob3VsZENvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yc1tpXTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICBpZiAoaXRlcmF0b3IuaGFzQ29tcGxldGVkKCkpIHtcbiAgICAgICAgICAgICAgICBzaG91bGRDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZ3MucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlyZXN1bHRTZWxlY3RvcihhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZENvbXBsZXRlKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5cmVzdWx0U2VsZWN0b3IgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5yZXN1bHRTZWxlY3Rvci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHJlc3VsdCk7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgWmlwU3Vic2NyaWJlciB9O1xudmFyIFN0YXRpY0l0ZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRpY0l0ZXJhdG9yKGl0ZXJhdG9yKSB7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICAgICAgdGhpcy5uZXh0UmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgIH1cbiAgICBTdGF0aWNJdGVyYXRvci5wcm90b3R5cGUuaGFzVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgU3RhdGljSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLm5leHRSZXN1bHQ7XG4gICAgICAgIHRoaXMubmV4dFJlc3VsdCA9IHRoaXMuaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgU3RhdGljSXRlcmF0b3IucHJvdG90eXBlLmhhc0NvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5leHRSZXN1bHQgPSB0aGlzLm5leHRSZXN1bHQ7XG4gICAgICAgIHJldHVybiBuZXh0UmVzdWx0ICYmIG5leHRSZXN1bHQuZG9uZTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0aWNJdGVyYXRvcjtcbn0oKSk7XG52YXIgU3RhdGljQXJyYXlJdGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0aWNBcnJheUl0ZXJhdG9yKGFycmF5KSB7XG4gICAgICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgfVxuICAgIFN0YXRpY0FycmF5SXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbF9pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgdmFyIGFycmF5ID0gdGhpcy5hcnJheTtcbiAgICAgICAgcmV0dXJuIGkgPCB0aGlzLmxlbmd0aCA/IHsgdmFsdWU6IGFycmF5W2ldLCBkb25lOiBmYWxzZSB9IDogeyB2YWx1ZTogbnVsbCwgZG9uZTogdHJ1ZSB9O1xuICAgIH07XG4gICAgU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGUuaGFzVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5Lmxlbmd0aCA+IHRoaXMuaW5kZXg7XG4gICAgfTtcbiAgICBTdGF0aWNBcnJheUl0ZXJhdG9yLnByb3RvdHlwZS5oYXNDb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5Lmxlbmd0aCA9PT0gdGhpcy5pbmRleDtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0aWNBcnJheUl0ZXJhdG9yO1xufSgpKTtcbnZhciBaaXBCdWZmZXJJdGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhaaXBCdWZmZXJJdGVyYXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBaaXBCdWZmZXJJdGVyYXRvcihkZXN0aW5hdGlvbiwgcGFyZW50LCBvYnNlcnZhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIF90aGlzLm9ic2VydmFibGUgPSBvYnNlcnZhYmxlO1xuICAgICAgICBfdGhpcy5zdGlsbFVuc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICAgIF90aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICBfdGhpcy5pc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbF9pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDAgJiYgdGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbnVsbCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGJ1ZmZlci5zaGlmdCgpLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUuaGFzVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLmhhc0NvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmlzQ29tcGxldGU7XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5SW5hY3RpdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAob3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCwgaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5idWZmZXIucHVzaChpbm5lclZhbHVlKTtcbiAgICAgICAgdGhpcy5wYXJlbnQuY2hlY2tJdGVyYXRvcnMoKTtcbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb1Jlc3VsdCh0aGlzLCB0aGlzLm9ic2VydmFibGUsIHRoaXMsIGluZGV4KTtcbiAgICB9O1xuICAgIHJldHVybiBaaXBCdWZmZXJJdGVyYXRvcjtcbn0oT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD16aXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC9PYnNlcnZhYmxlJztcbmV4cG9ydCB7IENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9Db25uZWN0YWJsZU9ic2VydmFibGUnO1xuZXhwb3J0IHsgR3JvdXBlZE9ic2VydmFibGUgfSBmcm9tICcuL2ludGVybmFsL29wZXJhdG9ycy9ncm91cEJ5JztcbmV4cG9ydCB7IG9ic2VydmFibGUgfSBmcm9tICcuL2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL2ludGVybmFsL1N1YmplY3QnO1xuZXhwb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAnLi9pbnRlcm5hbC9CZWhhdmlvclN1YmplY3QnO1xuZXhwb3J0IHsgUmVwbGF5U3ViamVjdCB9IGZyb20gJy4vaW50ZXJuYWwvUmVwbGF5U3ViamVjdCc7XG5leHBvcnQgeyBBc3luY1N1YmplY3QgfSBmcm9tICcuL2ludGVybmFsL0FzeW5jU3ViamVjdCc7XG5leHBvcnQgeyBhc2FwIGFzIGFzYXBTY2hlZHVsZXIgfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlci9hc2FwJztcbmV4cG9ydCB7IGFzeW5jIGFzIGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9pbnRlcm5hbC9zY2hlZHVsZXIvYXN5bmMnO1xuZXhwb3J0IHsgcXVldWUgYXMgcXVldWVTY2hlZHVsZXIgfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlci9xdWV1ZSc7XG5leHBvcnQgeyBhbmltYXRpb25GcmFtZSBhcyBhbmltYXRpb25GcmFtZVNjaGVkdWxlciB9IGZyb20gJy4vaW50ZXJuYWwvc2NoZWR1bGVyL2FuaW1hdGlvbkZyYW1lJztcbmV4cG9ydCB7IFZpcnR1YWxUaW1lU2NoZWR1bGVyLCBWaXJ0dWFsQWN0aW9uIH0gZnJvbSAnLi9pbnRlcm5hbC9zY2hlZHVsZXIvVmlydHVhbFRpbWVTY2hlZHVsZXInO1xuZXhwb3J0IHsgU2NoZWR1bGVyIH0gZnJvbSAnLi9pbnRlcm5hbC9TY2hlZHVsZXInO1xuZXhwb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9pbnRlcm5hbC9TdWJzY3JpcHRpb24nO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vaW50ZXJuYWwvU3Vic2NyaWJlcic7XG5leHBvcnQgeyBOb3RpZmljYXRpb24sIE5vdGlmaWNhdGlvbktpbmQgfSBmcm9tICcuL2ludGVybmFsL05vdGlmaWNhdGlvbic7XG5leHBvcnQgeyBwaXBlIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL3BpcGUnO1xuZXhwb3J0IHsgbm9vcCB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9ub29wJztcbmV4cG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL2lkZW50aXR5JztcbmV4cG9ydCB7IGlzT2JzZXJ2YWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9pc09ic2VydmFibGUnO1xuZXhwb3J0IHsgQXJndW1lbnRPdXRPZlJhbmdlRXJyb3IgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvQXJndW1lbnRPdXRPZlJhbmdlRXJyb3InO1xuZXhwb3J0IHsgRW1wdHlFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9FbXB0eUVycm9yJztcbmV4cG9ydCB7IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbmV4cG9ydCB7IFVuc3Vic2NyaXB0aW9uRXJyb3IgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvcic7XG5leHBvcnQgeyBUaW1lb3V0RXJyb3IgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvVGltZW91dEVycm9yJztcbmV4cG9ydCB7IGJpbmRDYWxsYmFjayB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9iaW5kQ2FsbGJhY2snO1xuZXhwb3J0IHsgYmluZE5vZGVDYWxsYmFjayB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9iaW5kTm9kZUNhbGxiYWNrJztcbmV4cG9ydCB7IGNvbWJpbmVMYXRlc3QgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvY29tYmluZUxhdGVzdCc7XG5leHBvcnQgeyBjb25jYXQgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvY29uY2F0JztcbmV4cG9ydCB7IGRlZmVyIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2RlZmVyJztcbmV4cG9ydCB7IGVtcHR5IH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2VtcHR5JztcbmV4cG9ydCB7IGZvcmtKb2luIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2ZvcmtKb2luJztcbmV4cG9ydCB7IGZyb20gfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZnJvbSc7XG5leHBvcnQgeyBmcm9tRXZlbnQgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50JztcbmV4cG9ydCB7IGZyb21FdmVudFBhdHRlcm4gfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50UGF0dGVybic7XG5leHBvcnQgeyBnZW5lcmF0ZSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9nZW5lcmF0ZSc7XG5leHBvcnQgeyBpaWYgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvaWlmJztcbmV4cG9ydCB7IGludGVydmFsIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2ludGVydmFsJztcbmV4cG9ydCB7IG1lcmdlIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL21lcmdlJztcbmV4cG9ydCB7IG5ldmVyIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL25ldmVyJztcbmV4cG9ydCB7IG9mIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL29mJztcbmV4cG9ydCB7IG9uRXJyb3JSZXN1bWVOZXh0IH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL29uRXJyb3JSZXN1bWVOZXh0JztcbmV4cG9ydCB7IHBhaXJzIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3BhaXJzJztcbmV4cG9ydCB7IHBhcnRpdGlvbiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9wYXJ0aXRpb24nO1xuZXhwb3J0IHsgcmFjZSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9yYWNlJztcbmV4cG9ydCB7IHJhbmdlIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhbmdlJztcbmV4cG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvdGhyb3dFcnJvcic7XG5leHBvcnQgeyB0aW1lciB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS90aW1lcic7XG5leHBvcnQgeyB1c2luZyB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS91c2luZyc7XG5leHBvcnQgeyB6aXAgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvemlwJztcbmV4cG9ydCB7IHNjaGVkdWxlZCB9IGZyb20gJy4vaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlZCc7XG5leHBvcnQgeyBFTVBUWSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9lbXB0eSc7XG5leHBvcnQgeyBORVZFUiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9uZXZlcic7XG5leHBvcnQgeyBjb25maWcgfSBmcm9tICcuL2ludGVybmFsL2NvbmZpZyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=